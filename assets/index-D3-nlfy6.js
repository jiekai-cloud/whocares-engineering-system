var Xae=Object.defineProperty;var Jae=(e,t,n)=>t in e?Xae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xi=(e,t,n)=>Jae(e,typeof t!="symbol"?t+"":t,n);function NW(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var DA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P4={exports:{}},Mx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL;function Zae(){if(CL)return Mx;CL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Mx.Fragment=t,Mx.jsx=n,Mx.jsxs=n,Mx}var SL;function eoe(){return SL||(SL=1,P4.exports=Zae()),P4.exports}var u=eoe(),M4={exports:{}},Wr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EL;function toe(){if(EL)return Wr;EL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function m(ce){return ce===null||typeof ce!="object"?null:(ce=p&&ce[p]||ce["@@iterator"],typeof ce=="function"?ce:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,C={};function T(ce,Q,Y){this.props=ce,this.context=Q,this.refs=C,this.updater=Y||w}T.prototype.isReactComponent={},T.prototype.setState=function(ce,Q){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,Q,"setState")},T.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function k(){}k.prototype=T.prototype;function R(ce,Q,Y){this.props=ce,this.context=Q,this.refs=C,this.updater=Y||w}var P=R.prototype=new k;P.constructor=R,y(P,T.prototype),P.isPureReactComponent=!0;var U=Array.isArray;function O(){}var L={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function j(ce,Q,Y){var X=Y.ref;return{$$typeof:e,type:ce,key:Q,ref:X!==void 0?X:null,props:Y}}function te(ce,Q){return j(ce.type,Q,ce.props)}function G(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===e}function V(ce){var Q={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(Y){return Q[Y]})}var re=/\/+/g;function ee(ce,Q){return typeof ce=="object"&&ce!==null&&ce.key!=null?V(""+ce.key):Q.toString(36)}function ie(ce){switch(ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason;default:switch(typeof ce.status=="string"?ce.then(O,O):(ce.status="pending",ce.then(function(Q){ce.status==="pending"&&(ce.status="fulfilled",ce.value=Q)},function(Q){ce.status==="pending"&&(ce.status="rejected",ce.reason=Q)})),ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason}}throw ce}function ue(ce,Q,Y,X,ne){var oe=typeof ce;(oe==="undefined"||oe==="boolean")&&(ce=null);var Ce=!1;if(ce===null)Ce=!0;else switch(oe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(ce.$$typeof){case e:case t:Ce=!0;break;case d:return Ce=ce._init,ue(Ce(ce._payload),Q,Y,X,ne)}}if(Ce)return ne=ne(ce),Ce=X===""?"."+ee(ce,0):X,U(ne)?(Y="",Ce!=null&&(Y=Ce.replace(re,"$&/")+"/"),ue(ne,Q,Y,"",function(Ue){return Ue})):ne!=null&&(G(ne)&&(ne=te(ne,Y+(ne.key==null||ce&&ce.key===ne.key?"":(""+ne.key).replace(re,"$&/")+"/")+Ce)),Q.push(ne)),1;Ce=0;var ke=X===""?".":X+":";if(U(ce))for(var Ne=0;Ne<ce.length;Ne++)X=ce[Ne],oe=ke+ee(X,Ne),Ce+=ue(X,Q,Y,oe,ne);else if(Ne=m(ce),typeof Ne=="function")for(ce=Ne.call(ce),Ne=0;!(X=ce.next()).done;)X=X.value,oe=ke+ee(X,Ne++),Ce+=ue(X,Q,Y,oe,ne);else if(oe==="object"){if(typeof ce.then=="function")return ue(ie(ce),Q,Y,X,ne);throw Q=String(ce),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function le(ce,Q,Y){if(ce==null)return ce;var X=[],ne=0;return ue(ce,X,"","",function(oe){return Q.call(Y,oe,ne++)}),X}function xe(ce){if(ce._status===-1){var Q=ce._result;Q=Q(),Q.then(function(Y){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=Y)},function(Y){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=Y)}),ce._status===-1&&(ce._status=0,ce._result=Q)}if(ce._status===1)return ce._result.default;throw ce._result}var ge=typeof reportError=="function"?reportError:function(ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ce=="object"&&ce!==null&&typeof ce.message=="string"?String(ce.message):String(ce),error:ce});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ce);return}console.error(ce)},fe={map:le,forEach:function(ce,Q,Y){le(ce,function(){Q.apply(this,arguments)},Y)},count:function(ce){var Q=0;return le(ce,function(){Q++}),Q},toArray:function(ce){return le(ce,function(Q){return Q})||[]},only:function(ce){if(!G(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}};return Wr.Activity=f,Wr.Children=fe,Wr.Component=T,Wr.Fragment=n,Wr.Profiler=i,Wr.PureComponent=R,Wr.StrictMode=r,Wr.Suspense=l,Wr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Wr.__COMPILER_RUNTIME={__proto__:null,c:function(ce){return L.H.useMemoCache(ce)}},Wr.cache=function(ce){return function(){return ce.apply(null,arguments)}},Wr.cacheSignal=function(){return null},Wr.cloneElement=function(ce,Q,Y){if(ce==null)throw Error("The argument must be a React element, but you passed "+ce+".");var X=y({},ce.props),ne=ce.key;if(Q!=null)for(oe in Q.key!==void 0&&(ne=""+Q.key),Q)!K.call(Q,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&Q.ref===void 0||(X[oe]=Q[oe]);var oe=arguments.length-2;if(oe===1)X.children=Y;else if(1<oe){for(var Ce=Array(oe),ke=0;ke<oe;ke++)Ce[ke]=arguments[ke+2];X.children=Ce}return j(ce.type,ne,X)},Wr.createContext=function(ce){return ce={$$typeof:a,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null},ce.Provider=ce,ce.Consumer={$$typeof:s,_context:ce},ce},Wr.createElement=function(ce,Q,Y){var X,ne={},oe=null;if(Q!=null)for(X in Q.key!==void 0&&(oe=""+Q.key),Q)K.call(Q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ne[X]=Q[X]);var Ce=arguments.length-2;if(Ce===1)ne.children=Y;else if(1<Ce){for(var ke=Array(Ce),Ne=0;Ne<Ce;Ne++)ke[Ne]=arguments[Ne+2];ne.children=ke}if(ce&&ce.defaultProps)for(X in Ce=ce.defaultProps,Ce)ne[X]===void 0&&(ne[X]=Ce[X]);return j(ce,oe,ne)},Wr.createRef=function(){return{current:null}},Wr.forwardRef=function(ce){return{$$typeof:o,render:ce}},Wr.isValidElement=G,Wr.lazy=function(ce){return{$$typeof:d,_payload:{_status:-1,_result:ce},_init:xe}},Wr.memo=function(ce,Q){return{$$typeof:c,type:ce,compare:Q===void 0?null:Q}},Wr.startTransition=function(ce){var Q=L.T,Y={};L.T=Y;try{var X=ce(),ne=L.S;ne!==null&&ne(Y,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(O,ge)}catch(oe){ge(oe)}finally{Q!==null&&Y.types!==null&&(Q.types=Y.types),L.T=Q}},Wr.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Wr.use=function(ce){return L.H.use(ce)},Wr.useActionState=function(ce,Q,Y){return L.H.useActionState(ce,Q,Y)},Wr.useCallback=function(ce,Q){return L.H.useCallback(ce,Q)},Wr.useContext=function(ce){return L.H.useContext(ce)},Wr.useDebugValue=function(){},Wr.useDeferredValue=function(ce,Q){return L.H.useDeferredValue(ce,Q)},Wr.useEffect=function(ce,Q){return L.H.useEffect(ce,Q)},Wr.useEffectEvent=function(ce){return L.H.useEffectEvent(ce)},Wr.useId=function(){return L.H.useId()},Wr.useImperativeHandle=function(ce,Q,Y){return L.H.useImperativeHandle(ce,Q,Y)},Wr.useInsertionEffect=function(ce,Q){return L.H.useInsertionEffect(ce,Q)},Wr.useLayoutEffect=function(ce,Q){return L.H.useLayoutEffect(ce,Q)},Wr.useMemo=function(ce,Q){return L.H.useMemo(ce,Q)},Wr.useOptimistic=function(ce,Q){return L.H.useOptimistic(ce,Q)},Wr.useReducer=function(ce,Q,Y){return L.H.useReducer(ce,Q,Y)},Wr.useRef=function(ce){return L.H.useRef(ce)},Wr.useState=function(ce){return L.H.useState(ce)},Wr.useSyncExternalStore=function(ce,Q,Y){return L.H.useSyncExternalStore(ce,Q,Y)},Wr.useTransition=function(){return L.H.useTransition()},Wr.version="19.2.3",Wr}var NL;function _1(){return NL||(NL=1,M4.exports=toe()),M4.exports}var B=_1();const mn=iu(B),noe=NW({__proto__:null,default:mn},[B]);var L4={exports:{}},Lx={},O4={exports:{}},j4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL;function roe(){return TL||(TL=1,(function(e){function t(ue,le){var xe=ue.length;ue.push(le);e:for(;0<xe;){var ge=xe-1>>>1,fe=ue[ge];if(0<i(fe,le))ue[ge]=le,ue[xe]=fe,xe=ge;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var le=ue[0],xe=ue.pop();if(xe!==le){ue[0]=xe;e:for(var ge=0,fe=ue.length,ce=fe>>>1;ge<ce;){var Q=2*(ge+1)-1,Y=ue[Q],X=Q+1,ne=ue[X];if(0>i(Y,xe))X<fe&&0>i(ne,Y)?(ue[ge]=ne,ue[X]=xe,ge=X):(ue[ge]=Y,ue[Q]=xe,ge=Q);else if(X<fe&&0>i(ne,xe))ue[ge]=ne,ue[X]=xe,ge=X;else break e}}return le}function i(ue,le){var xe=ue.sortIndex-le.sortIndex;return xe!==0?xe:ue.id-le.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,p=3,m=!1,w=!1,y=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(ue){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=ue)r(c),le.sortIndex=le.expirationTime,t(l,le);else break;le=n(c)}}function U(ue){if(y=!1,P(ue),!w)if(n(l)!==null)w=!0,O||(O=!0,V());else{var le=n(c);le!==null&&ie(U,le.startTime-ue)}}var O=!1,L=-1,K=5,j=-1;function te(){return C?!0:!(e.unstable_now()-j<K)}function G(){if(C=!1,O){var ue=e.unstable_now();j=ue;var le=!0;try{e:{w=!1,y&&(y=!1,k(L),L=-1),m=!0;var xe=p;try{t:{for(P(ue),f=n(l);f!==null&&!(f.expirationTime>ue&&te());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,p=f.priorityLevel;var fe=ge(f.expirationTime<=ue);if(ue=e.unstable_now(),typeof fe=="function"){f.callback=fe,P(ue),le=!0;break t}f===n(l)&&r(l),P(ue)}else r(l);f=n(l)}if(f!==null)le=!0;else{var ce=n(c);ce!==null&&ie(U,ce.startTime-ue),le=!1}}break e}finally{f=null,p=xe,m=!1}le=void 0}}finally{le?V():O=!1}}}var V;if(typeof R=="function")V=function(){R(G)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ee=re.port2;re.port1.onmessage=G,V=function(){ee.postMessage(null)}}else V=function(){T(G,0)};function ie(ue,le){L=T(function(){ue(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(ue){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var xe=p;p=le;try{return ue()}finally{p=xe}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(ue,le){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var xe=p;p=ue;try{return le()}finally{p=xe}},e.unstable_scheduleCallback=function(ue,le,xe){var ge=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?ge+xe:ge):xe=ge,ue){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=xe+fe,ue={id:d++,callback:le,priorityLevel:ue,startTime:xe,expirationTime:fe,sortIndex:-1},xe>ge?(ue.sortIndex=xe,t(c,ue),n(l)===null&&ue===n(c)&&(y?(k(L),L=-1):y=!0,ie(U,xe-ge))):(ue.sortIndex=fe,t(l,ue),w||m||(w=!0,O||(O=!0,V()))),ue},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(ue){var le=p;return function(){var xe=p;p=le;try{return ue.apply(this,arguments)}finally{p=xe}}}})(j4)),j4}var IL;function ioe(){return IL||(IL=1,O4.exports=roe()),O4.exports}var U4={exports:{}},hl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL;function soe(){if(FL)return hl;FL=1;var e=_1();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return hl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hl.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,d)},hl.flushSync=function(l){var c=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=c,r.p=d,r.d.f()}},hl.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},hl.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},hl.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=o(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},hl.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=o(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},hl.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=o(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},hl.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=o(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},hl.requestFormReset=function(l){r.d.r(l)},hl.unstable_batchedUpdates=function(l,c){return l(c)},hl.useFormState=function(l,c,d){return a.H.useFormState(l,c,d)},hl.useFormStatus=function(){return a.H.useHostTransitionStatus()},hl.version="19.2.3",hl}var kL;function TW(){if(kL)return U4.exports;kL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),U4.exports=soe(),U4.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BL;function aoe(){if(BL)return Lx;BL=1;var e=ioe(),t=_1(),n=TW();function r(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function s(h){var g=h,b=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(b=g.return),h=g.return;while(h)}return g.tag===3?b:null}function a(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function o(h){if(h.tag===31){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function l(h){if(s(h)!==h)throw Error(r(188))}function c(h){var g=h.alternate;if(!g){if(g=s(h),g===null)throw Error(r(188));return g!==h?null:h}for(var b=h,N=g;;){var H=b.return;if(H===null)break;var q=H.alternate;if(q===null){if(N=H.return,N!==null){b=N;continue}break}if(H.child===q.child){for(q=H.child;q;){if(q===b)return l(H),h;if(q===N)return l(H),g;q=q.sibling}throw Error(r(188))}if(b.return!==N.return)b=H,N=q;else{for(var Ae=!1,De=H.child;De;){if(De===b){Ae=!0,b=H,N=q;break}if(De===N){Ae=!0,N=H,b=q;break}De=De.sibling}if(!Ae){for(De=q.child;De;){if(De===b){Ae=!0,b=q,N=H;break}if(De===N){Ae=!0,N=q,b=H;break}De=De.sibling}if(!Ae)throw Error(r(189))}}if(b.alternate!==N)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:g}function d(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h;for(h=h.child;h!==null;){if(g=d(h),g!==null)return g;h=h.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function V(h){return h===null||typeof h!="object"?null:(h=G&&h[G]||h["@@iterator"],typeof h=="function"?h:null)}var re=Symbol.for("react.client.reference");function ee(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===re?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case y:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case U:return"Suspense";case O:return"SuspenseList";case j:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case w:return"Portal";case R:return h.displayName||"Context";case k:return(h._context.displayName||"Context")+".Consumer";case P:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case L:return g=h.displayName||null,g!==null?g:ee(h.type)||"Memo";case K:g=h._payload,h=h._init;try{return ee(h(g))}catch{}}return null}var ie=Array.isArray,ue=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},ge=[],fe=-1;function ce(h){return{current:h}}function Q(h){0>fe||(h.current=ge[fe],ge[fe]=null,fe--)}function Y(h,g){fe++,ge[fe]=h.current,h.current=g}var X=ce(null),ne=ce(null),oe=ce(null),Ce=ce(null);function ke(h,g){switch(Y(oe,g),Y(ne,h),Y(X,null),g.nodeType){case 9:case 11:h=(h=g.documentElement)&&(h=h.namespaceURI)?W6(h):0;break;default:if(h=g.tagName,g=g.namespaceURI)g=W6(g),h=K6(g,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}Q(X),Y(X,h)}function Ne(){Q(X),Q(ne),Q(oe)}function Ue(h){h.memoizedState!==null&&Y(Ce,h);var g=X.current,b=K6(g,h.type);g!==b&&(Y(ne,h),Y(X,b))}function Ye(h){ne.current===h&&(Q(X),Q(ne)),Ce.current===h&&(Q(Ce),Rx._currentValue=xe)}var ve,gt;function yt(h){if(ve===void 0)try{throw Error()}catch(b){var g=b.stack.trim().match(/\n( *(at )?)/);ve=g&&g[1]||"",gt=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+h+gt}var Fe=!1;function Nt(h,g){if(!h||Fe)return"";Fe=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(g){var ln=function(){throw Error()};if(Object.defineProperty(ln.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ln,[])}catch(Ut){var Dt=Ut}Reflect.construct(h,[],ln)}else{try{ln.call()}catch(Ut){Dt=Ut}h.call(ln.prototype)}}else{try{throw Error()}catch(Ut){Dt=Ut}(ln=h())&&typeof ln.catch=="function"&&ln.catch(function(){})}}catch(Ut){if(Ut&&Dt&&typeof Ut.stack=="string")return[Ut.stack,Dt.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var H=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");H&&H.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=N.DetermineComponentFrameRoot(),Ae=q[0],De=q[1];if(Ae&&De){var Ze=Ae.split(`
`),Ft=De.split(`
`);for(H=N=0;N<Ze.length&&!Ze[N].includes("DetermineComponentFrameRoot");)N++;for(;H<Ft.length&&!Ft[H].includes("DetermineComponentFrameRoot");)H++;if(N===Ze.length||H===Ft.length)for(N=Ze.length-1,H=Ft.length-1;1<=N&&0<=H&&Ze[N]!==Ft[H];)H--;for(;1<=N&&0<=H;N--,H--)if(Ze[N]!==Ft[H]){if(N!==1||H!==1)do if(N--,H--,0>H||Ze[N]!==Ft[H]){var Yt=`
`+Ze[N].replace(" at new "," at ");return h.displayName&&Yt.includes("<anonymous>")&&(Yt=Yt.replace("<anonymous>",h.displayName)),Yt}while(1<=N&&0<=H);break}}}finally{Fe=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?yt(b):""}function nt(h,g){switch(h.tag){case 26:case 27:case 5:return yt(h.type);case 16:return yt("Lazy");case 13:return h.child!==g&&g!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return Nt(h.type,!1);case 11:return Nt(h.type.render,!1);case 1:return Nt(h.type,!0);case 31:return yt("Activity");default:return""}}function Ct(h){try{var g="",b=null;do g+=nt(h,b),b=h,h=h.return;while(h);return g}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}var lt=Object.prototype.hasOwnProperty,Qt=e.unstable_scheduleCallback,ot=e.unstable_cancelCallback,An=e.unstable_shouldYield,bn=e.unstable_requestPaint,Cn=e.unstable_now,Vn=e.unstable_getCurrentPriorityLevel,Sn=e.unstable_ImmediatePriority,tr=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,Ht=e.unstable_LowPriority,hn=e.unstable_IdlePriority,rn=e.log,br=e.unstable_setDisableYieldValue,Tn=null,ut=null;function yn(h){if(typeof rn=="function"&&br(h),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Tn,h)}catch{}}var un=Math.clz32?Math.clz32:zn,cn=Math.log,or=Math.LN2;function zn(h){return h>>>=0,h===0?32:31-(cn(h)/or|0)|0}var Kn=256,Qn=262144,Hn=4194304;function kn(h){var g=h&42;if(g!==0)return g;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function kr(h,g,b){var N=h.pendingLanes;if(N===0)return 0;var H=0,q=h.suspendedLanes,Ae=h.pingedLanes;h=h.warmLanes;var De=N&134217727;return De!==0?(N=De&~q,N!==0?H=kn(N):(Ae&=De,Ae!==0?H=kn(Ae):b||(b=De&~h,b!==0&&(H=kn(b))))):(De=N&~q,De!==0?H=kn(De):Ae!==0?H=kn(Ae):b||(b=N&~h,b!==0&&(H=kn(b)))),H===0?0:g!==0&&g!==H&&(g&q)===0&&(q=H&-H,b=g&-g,q>=b||q===32&&(b&4194048)!==0)?g:H}function ei(h,g){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&g)===0}function mi(h,g){switch(h){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(){var h=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),h}function Ki(h){for(var g=[],b=0;31>b;b++)g.push(h);return g}function qn(h,g){h.pendingLanes|=g,g!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Di(h,g,b,N,H,q){var Ae=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var De=h.entanglements,Ze=h.expirationTimes,Ft=h.hiddenUpdates;for(b=Ae&~b;0<b;){var Yt=31-un(b),ln=1<<Yt;De[Yt]=0,Ze[Yt]=-1;var Dt=Ft[Yt];if(Dt!==null)for(Ft[Yt]=null,Yt=0;Yt<Dt.length;Yt++){var Ut=Dt[Yt];Ut!==null&&(Ut.lane&=-536870913)}b&=~ln}N!==0&&ea(h,N,0),q!==0&&H===0&&h.tag!==0&&(h.suspendedLanes|=q&~(Ae&~g))}function ea(h,g,b){h.pendingLanes|=g,h.suspendedLanes&=~g;var N=31-un(g);h.entangledLanes|=g,h.entanglements[N]=h.entanglements[N]|1073741824|b&261930}function xi(h,g){var b=h.entangledLanes|=g;for(h=h.entanglements;b;){var N=31-un(b),H=1<<N;H&g|h[N]&g&&(h[N]|=g),b&=~H}}function Si(h,g){var b=g&-g;return b=(b&42)!==0?1:Rr(b),(b&(h.suspendedLanes|g))!==0?0:b}function Rr(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Yr(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Ee(){var h=le.p;return h!==0?h:(h=window.event,h===void 0?32:gL(h.type))}function _e(h,g){var b=le.p;try{return le.p=h,g()}finally{le.p=b}}var Le=Math.random().toString(36).slice(2),Me="__reactFiber$"+Le,He="__reactProps$"+Le,Ve="__reactContainer$"+Le,At="__reactEvents$"+Le,Tt="__reactListeners$"+Le,ft="__reactHandles$"+Le,vt="__reactResources$"+Le,bt="__reactMarker$"+Le;function Xt(h){delete h[Me],delete h[He],delete h[At],delete h[Tt],delete h[ft]}function an(h){var g=h[Me];if(g)return g;for(var b=h.parentNode;b;){if(g=b[Ve]||b[Me]){if(b=g.alternate,g.child!==null||b!==null&&b.child!==null)for(h=eL(h);h!==null;){if(b=h[Me])return b;h=eL(h)}return g}h=b,b=h.parentNode}return null}function on(h){if(h=h[Me]||h[Ve]){var g=h.tag;if(g===5||g===6||g===13||g===31||g===26||g===27||g===3)return h}return null}function fn(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h.stateNode;throw Error(r(33))}function vn(h){var g=h[vt];return g||(g=h[vt]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function On(h){h[bt]=!0}var Pt=new Set,Un={};function ir(h,g){vi(h,g),vi(h+"Capture",g)}function vi(h,g){for(Un[h]=g,h=0;h<g.length;h++)Pt.add(g[h])}var ca=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dr={},yr={};function Br(h){return lt.call(yr,h)?!0:lt.call(Dr,h)?!1:ca.test(h)?yr[h]=!0:(Dr[h]=!0,!1)}function wi(h,g,b){if(Br(g))if(b===null)h.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":h.removeAttribute(g);return;case"boolean":var N=g.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){h.removeAttribute(g);return}}h.setAttribute(g,""+b)}}function Pe(h,g,b){if(b===null)h.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttribute(g,""+b)}}function $e(h,g,b,N){if(N===null)h.removeAttribute(b);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(b);return}h.setAttributeNS(g,b,""+N)}}function Oe(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function st(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function rt(h,g,b){var N=Object.getOwnPropertyDescriptor(h.constructor.prototype,g);if(!h.hasOwnProperty(g)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var H=N.get,q=N.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return H.call(this)},set:function(Ae){b=""+Ae,q.call(this,Ae)}}),Object.defineProperty(h,g,{enumerable:N.enumerable}),{getValue:function(){return b},setValue:function(Ae){b=""+Ae},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function Xe(h){if(!h._valueTracker){var g=st(h)?"checked":"value";h._valueTracker=rt(h,g,""+h[g])}}function jt(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var b=g.getValue(),N="";return h&&(N=st(h)?h.checked?"true":"false":h.value),h=N,h!==b?(g.setValue(h),!0):!1}function Zt(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var en=/[\n"\\]/g;function dt(h){return h.replace(en,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function pe(h,g,b,N,H,q,Ae,De){h.name="",Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"?h.type=Ae:h.removeAttribute("type"),g!=null?Ae==="number"?(g===0&&h.value===""||h.value!=g)&&(h.value=""+Oe(g)):h.value!==""+Oe(g)&&(h.value=""+Oe(g)):Ae!=="submit"&&Ae!=="reset"||h.removeAttribute("value"),g!=null?ae(h,Ae,Oe(g)):b!=null?ae(h,Ae,Oe(b)):N!=null&&h.removeAttribute("value"),H==null&&q!=null&&(h.defaultChecked=!!q),H!=null&&(h.checked=H&&typeof H!="function"&&typeof H!="symbol"),De!=null&&typeof De!="function"&&typeof De!="symbol"&&typeof De!="boolean"?h.name=""+Oe(De):h.removeAttribute("name")}function me(h,g,b,N,H,q,Ae,De){if(q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(h.type=q),g!=null||b!=null){if(!(q!=="submit"&&q!=="reset"||g!=null)){Xe(h);return}b=b!=null?""+Oe(b):"",g=g!=null?""+Oe(g):b,De||g===h.value||(h.value=g),h.defaultValue=g}N=N??H,N=typeof N!="function"&&typeof N!="symbol"&&!!N,h.checked=De?h.checked:!!N,h.defaultChecked=!!N,Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"&&(h.name=Ae),Xe(h)}function ae(h,g,b){g==="number"&&Zt(h.ownerDocument)===h||h.defaultValue===""+b||(h.defaultValue=""+b)}function Qe(h,g,b,N){if(h=h.options,g){g={};for(var H=0;H<b.length;H++)g["$"+b[H]]=!0;for(b=0;b<h.length;b++)H=g.hasOwnProperty("$"+h[b].value),h[b].selected!==H&&(h[b].selected=H),H&&N&&(h[b].defaultSelected=!0)}else{for(b=""+Oe(b),g=null,H=0;H<h.length;H++){if(h[H].value===b){h[H].selected=!0,N&&(h[H].defaultSelected=!0);return}g!==null||h[H].disabled||(g=h[H])}g!==null&&(g.selected=!0)}}function Mt(h,g,b){if(g!=null&&(g=""+Oe(g),g!==h.value&&(h.value=g),b==null)){h.defaultValue!==g&&(h.defaultValue=g);return}h.defaultValue=b!=null?""+Oe(b):""}function Gt(h,g,b,N){if(g==null){if(N!=null){if(b!=null)throw Error(r(92));if(ie(N)){if(1<N.length)throw Error(r(93));N=N[0]}b=N}b==null&&(b=""),g=b}b=Oe(g),h.defaultValue=b,N=h.textContent,N===b&&N!==""&&N!==null&&(h.value=N),Xe(h)}function En(h,g){if(g){var b=h.firstChild;if(b&&b===h.lastChild&&b.nodeType===3){b.nodeValue=g;return}}h.textContent=g}var Gn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wn(h,g,b){var N=g.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?N?h.setProperty(g,""):g==="float"?h.cssFloat="":h[g]="":N?h.setProperty(g,b):typeof b!="number"||b===0||Gn.has(g)?g==="float"?h.cssFloat=b:h[g]=(""+b).trim():h[g]=b+"px"}function wn(h,g,b){if(g!=null&&typeof g!="object")throw Error(r(62));if(h=h.style,b!=null){for(var N in b)!b.hasOwnProperty(N)||g!=null&&g.hasOwnProperty(N)||(N.indexOf("--")===0?h.setProperty(N,""):N==="float"?h.cssFloat="":h[N]="");for(var H in g)N=g[H],g.hasOwnProperty(H)&&b[H]!==N&&Wn(h,H,N)}else for(var q in g)g.hasOwnProperty(q)&&Wn(h,q,g[q])}function Mn(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(h){return Pi.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function Lr(){}var di=null;function xo(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var li=null,ur=null;function Ji(h){var g=on(h);if(g&&(h=g.stateNode)){var b=h[He]||null;e:switch(h=g.stateNode,g.type){case"input":if(pe(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),g=b.name,b.type==="radio"&&g!=null){for(b=h;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+dt(""+g)+'"][type="radio"]'),g=0;g<b.length;g++){var N=b[g];if(N!==h&&N.form===h.form){var H=N[He]||null;if(!H)throw Error(r(90));pe(N,H.value,H.defaultValue,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name)}}for(g=0;g<b.length;g++)N=b[g],N.form===h.form&&jt(N)}break e;case"textarea":Mt(h,b.value,b.defaultValue);break e;case"select":g=b.value,g!=null&&Qe(h,!!b.multiple,g,!1)}}}var gr=!1;function Mc(h,g,b){if(gr)return h(g,b);gr=!0;try{var N=h(g);return N}finally{if(gr=!1,(li!==null||ur!==null)&&(ry(),li&&(g=li,h=ur,ur=li=null,Ji(g),h)))for(g=0;g<h.length;g++)Ji(h[g])}}function mr(h,g){var b=h.stateNode;if(b===null)return null;var N=b[He]||null;if(N===null)return null;b=N[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(h=h.type,N=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!N;break e;default:h=!1}if(h)return null;if(b&&typeof b!="function")throw Error(r(231,g,typeof b));return b}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Te=!1;if(Bn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Te=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Te=!1}var Lt=null,sn=null,Fn=null;function Rn(){if(Fn)return Fn;var h,g=sn,b=g.length,N,H="value"in Lt?Lt.value:Lt.textContent,q=H.length;for(h=0;h<b&&g[h]===H[h];h++);var Ae=b-h;for(N=1;N<=Ae&&g[b-N]===H[q-N];N++);return Fn=H.slice(h,1<N?1-N:void 0)}function In(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function si(){return!0}function gs(){return!1}function ci(h){function g(b,N,H,q,Ae){this._reactName=b,this._targetInst=H,this.type=N,this.nativeEvent=q,this.target=Ae,this.currentTarget=null;for(var De in h)h.hasOwnProperty(De)&&(b=h[De],this[De]=b?b(q):q[De]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?si:gs,this.isPropagationStopped=gs,this}return f(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),g}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ci(Bs),Na=f({},Bs,{view:0,detail:0}),tc=ci(Na),nc,il,Dl,Lc=f({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Dl&&(Dl&&h.type==="mousemove"?(nc=h.screenX-Dl.screenX,il=h.screenY-Dl.screenY):il=nc=0,Dl=h),nc)},movementY:function(h){return"movementY"in h?h.movementY:il}}),ai=ci(Lc),Vo=f({},Lc,{dataTransfer:0}),vo=ci(Vo),Qo=f({},Na,{relatedTarget:0}),sl=ci(Qo),_t=f({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),J=ci(_t),ye=f({},Bs,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),We=ci(ye),et=f({},Bs,{data:0}),mt=ci(et),Jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ln(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=nr[h])?!!g[h]:!1}function Ir(){return Ln}var sr=f({},Na,{key:function(h){if(h.key){var g=Jt[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=In(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?pn[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(h){return h.type==="keypress"?In(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?In(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),ti=ci(sr),Mi=f({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=ci(Mi),jn=f({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),ta=ci(jn),jr=f({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ms=ci(jr),wo=f({},Lc,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Pl=ci(wo),ua=f({},Bs,{newState:0,oldState:0}),Ku=ci(ua),qu=[9,13,27,32],al=Bn&&"CompositionEvent"in window,ol=null;Bn&&"documentMode"in document&&(ol=document.documentMode);var su=Bn&&"TextEvent"in window&&!ol,Oc=Bn&&(!al||ol&&8<ol&&11>=ol),xs=" ",rc=!1;function au(h,g){switch(h){case"keyup":return qu.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var sc=!1;function Es(h,g){switch(h){case"compositionend":return ic(g);case"keypress":return g.which!==32?null:(rc=!0,xs);case"textInput":return h=g.data,h===xs&&rc?null:h;default:return null}}function ll(h,g){if(sc)return h==="compositionend"||!al&&au(h,g)?(h=Rn(),Fn=sn=Lt=null,sc=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Oc&&g.locale!=="ko"?null:g.data;default:return null}}var Ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!Ta[h.type]:g==="textarea"}function Ns(h,g,b,N){li?ur?ur.push(N):ur=[N]:li=N,g=uy(g,"onChange"),0<g.length&&(b=new hi("onChange","change",null,b,N),h.push({event:b,listeners:g}))}var Ml=null,Ll=null;function Dh(h){U6(h,0)}function cl(h){var g=fn(h);if(jt(g))return h}function Ia(h,g){if(h==="change")return g}var bo=!1;if(Bn){var Fa;if(Bn){var yo="oninput"in document;if(!yo){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),yo=typeof Vr.oninput=="function"}Fa=yo}else Fa=!1;bo=Fa&&(!document.documentMode||9<document.documentMode)}function ul(){Ml&&(Ml.detachEvent("onpropertychange",we),Ll=Ml=null)}function we(h){if(h.propertyName==="value"&&cl(Ll)){var g=[];Ns(g,Ll,h,xo(h)),Mc(Dh,g)}}function A(h,g,b){h==="focusin"?(ul(),Ml=g,Ll=b,Ml.attachEvent("onpropertychange",we)):h==="focusout"&&ul()}function x(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return cl(Ll)}function v(h,g){if(h==="click")return cl(g)}function S(h,g){if(h==="input"||h==="change")return cl(g)}function E(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var I=typeof Object.is=="function"?Object.is:E;function D(h,g){if(I(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var b=Object.keys(h),N=Object.keys(g);if(b.length!==N.length)return!1;for(N=0;N<b.length;N++){var H=b[N];if(!lt.call(g,H)||!I(h[H],g[H]))return!1}return!0}function W(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Z(h,g){var b=W(h);h=0;for(var N;b;){if(b.nodeType===3){if(N=h+b.textContent.length,h<=g&&N>=g)return{node:b,offset:g-h};h=N}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=W(b)}}function de(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?de(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function be(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var g=Zt(h.document);g instanceof h.HTMLIFrameElement;){try{var b=typeof g.contentWindow.location.href=="string"}catch{b=!1}if(b)h=g.contentWindow;else break;g=Zt(h.document)}return g}function Ie(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}var ze=Bn&&"documentMode"in document&&11>=document.documentMode,Je=null,tt=null,pt=null,Bt=!1;function qt(h,g,b){var N=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Bt||Je==null||Je!==Zt(N)||(N=Je,"selectionStart"in N&&Ie(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),pt&&D(pt,N)||(pt=N,N=uy(tt,"onSelect"),0<N.length&&(g=new hi("onSelect","select",null,g,b),h.push({event:g,listeners:N}),g.target=Je)))}function $t(h,g){var b={};return b[h.toLowerCase()]=g.toLowerCase(),b["Webkit"+h]="webkit"+g,b["Moz"+h]="moz"+g,b}var Wt={animationend:$t("Animation","AnimationEnd"),animationiteration:$t("Animation","AnimationIteration"),animationstart:$t("Animation","AnimationStart"),transitionrun:$t("Transition","TransitionRun"),transitionstart:$t("Transition","TransitionStart"),transitioncancel:$t("Transition","TransitionCancel"),transitionend:$t("Transition","TransitionEnd")},vr={},Er={};Bn&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Wt.animationend.animation,delete Wt.animationiteration.animation,delete Wt.animationstart.animation),"TransitionEvent"in window||delete Wt.transitionend.transition);function as(h){if(vr[h])return vr[h];if(!Wt[h])return h;var g=Wt[h],b;for(b in g)if(g.hasOwnProperty(b)&&b in Er)return vr[h]=g[b];return h}var ka=as("animationend"),da=as("animationiteration"),Li=as("animationstart"),ha=as("transitionrun"),Co=as("transitionstart"),$u=as("transitioncancel"),ou=as("transitionend"),b0=new Map,Yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yu.push("scrollEnd");function ac(h,g){b0.set(h,g),ir(g,[h])}var y0=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Ol=[],Ph=0,pg=0;function C0(){for(var h=Ph,g=pg=Ph=0;g<h;){var b=Ol[g];Ol[g++]=null;var N=Ol[g];Ol[g++]=null;var H=Ol[g];Ol[g++]=null;var q=Ol[g];if(Ol[g++]=null,N!==null&&H!==null){var Ae=N.pending;Ae===null?H.next=H:(H.next=Ae.next,Ae.next=H),N.pending=H}q!==0&&E0(b,H,q)}}function S0(h,g,b,N){Ol[Ph++]=h,Ol[Ph++]=g,Ol[Ph++]=b,Ol[Ph++]=N,pg|=N,h.lanes|=N,h=h.alternate,h!==null&&(h.lanes|=N)}function gg(h,g,b,N){return S0(h,g,b,N),So(h)}function Xu(h,g){return S0(h,null,null,g),So(h)}function E0(h,g,b){h.lanes|=b;var N=h.alternate;N!==null&&(N.lanes|=b);for(var H=!1,q=h.return;q!==null;)q.childLanes|=b,N=q.alternate,N!==null&&(N.childLanes|=b),q.tag===22&&(h=q.stateNode,h===null||h._visibility&1||(H=!0)),h=q,q=q.return;return h.tag===3?(q=h.stateNode,H&&g!==null&&(H=31-un(b),h=q.hiddenUpdates,N=h[H],N===null?h[H]=[g]:N.push(g),g.lane=b|536870912),q):null}function So(h){if(50<Ex)throw Ex=0,s4=null,Error(r(185));for(var g=h.return;g!==null;)h=g,g=h.return;return h.tag===3?h.stateNode:null}var to={};function mg(h,g,b,N){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(h,g,b,N){return new mg(h,g,b,N)}function xg(h){return h=h.prototype,!(!h||!h.isReactComponent)}function oc(h,g){var b=h.alternate;return b===null?(b=Eo(h.tag,g,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=g,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&65011712,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,g=h.dependencies,b.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function N0(h,g){h.flags&=65011714;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=g,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,g=b.dependencies,h.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),h}function Yf(h,g,b,N,H,q){var Ae=0;if(N=h,typeof h=="function")xg(h)&&(Ae=1);else if(typeof h=="string")Ae=jae(h,b,X.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case j:return h=Eo(31,b,g,H),h.elementType=j,h.lanes=q,h;case y:return Dd(b.children,H,q,g);case C:Ae=8,H|=24;break;case T:return h=Eo(12,b,g,H|2),h.elementType=T,h.lanes=q,h;case U:return h=Eo(13,b,g,H),h.elementType=U,h.lanes=q,h;case O:return h=Eo(19,b,g,H),h.elementType=O,h.lanes=q,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case R:Ae=10;break e;case k:Ae=9;break e;case P:Ae=11;break e;case L:Ae=14;break e;case K:Ae=16,N=null;break e}Ae=29,b=Error(r(130,h===null?"null":typeof h,"")),N=null}return g=Eo(Ae,b,g,H),g.elementType=h,g.type=N,g.lanes=q,g}function Dd(h,g,b,N){return h=Eo(7,h,N,g),h.lanes=b,h}function T0(h,g,b){return h=Eo(6,h,null,g),h.lanes=b,h}function vg(h){var g=Eo(18,null,null,0);return g.stateNode=h,g}function Xf(h,g,b){return g=Eo(4,h.children!==null?h.children:[],h.key,g),g.lanes=b,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}var wg=new WeakMap;function lc(h,g){if(typeof h=="object"&&h!==null){var b=wg.get(h);return b!==void 0?b:(g={value:h,source:g,stack:Ct(g)},wg.set(h,g),g)}return{value:h,source:g,stack:Ct(g)}}var Jf=[],Mh=0,bg=null,I0=0,cc=[],uc=0,Pd=null,dc=1,hc="";function jl(h,g){Jf[Mh++]=I0,Jf[Mh++]=bg,bg=h,I0=g}function Mb(h,g,b){cc[uc++]=dc,cc[uc++]=hc,cc[uc++]=Pd,Pd=h;var N=dc;h=hc;var H=32-un(N)-1;N&=~(1<<H),b+=1;var q=32-un(g)+H;if(30<q){var Ae=H-H%5;q=(N&(1<<Ae)-1).toString(32),N>>=Ae,H-=Ae,dc=1<<32-un(g)+H|b<<H|N,hc=q+h}else dc=1<<q|b<<H|N,hc=h}function ix(h){h.return!==null&&(jl(h,1),Mb(h,1,0))}function yg(h){for(;h===bg;)bg=Jf[--Mh],Jf[Mh]=null,I0=Jf[--Mh],Jf[Mh]=null;for(;h===Pd;)Pd=cc[--uc],cc[uc]=null,hc=cc[--uc],cc[uc]=null,dc=cc[--uc],cc[uc]=null}function Lb(h,g){cc[uc++]=dc,cc[uc++]=hc,cc[uc++]=Pd,dc=g.id,hc=g.overflow,Pd=h}var no=null,vs=null,fi=!1,zo=null,Hs=!1,jc=Error(r(519));function Md(h){var g=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zf(lc(g,h)),jc}function sx(h){var g=h.stateNode,b=h.type,N=h.memoizedProps;switch(g[Me]=h,g[He]=N,b){case"dialog":pi("cancel",g),pi("close",g);break;case"iframe":case"object":case"embed":pi("load",g);break;case"video":case"audio":for(b=0;b<Tx.length;b++)pi(Tx[b],g);break;case"source":pi("error",g);break;case"img":case"image":case"link":pi("error",g),pi("load",g);break;case"details":pi("toggle",g);break;case"input":pi("invalid",g),me(g,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0);break;case"select":pi("invalid",g);break;case"textarea":pi("invalid",g),Gt(g,N.value,N.defaultValue,N.children)}b=N.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||g.textContent===""+b||N.suppressHydrationWarning===!0||Q6(g.textContent,b)?(N.popover!=null&&(pi("beforetoggle",g),pi("toggle",g)),N.onScroll!=null&&pi("scroll",g),N.onScrollEnd!=null&&pi("scrollend",g),N.onClick!=null&&(g.onclick=Lr),g=!0):g=!1,g||Md(h,!0)}function Ju(h){for(no=h.return;no;)switch(no.tag){case 5:case 31:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:no=no.return}}function ro(h){if(h!==no)return!1;if(!fi)return Ju(h),fi=!0,!1;var g=h.tag,b;if((b=g!==3&&g!==27)&&((b=g===5)&&(b=h.type,b=!(b!=="form"&&b!=="button")||w4(h.type,h.memoizedProps)),b=!b),b&&vs&&Md(h),Ju(h),g===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));vs=Z6(h)}else if(g===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));vs=Z6(h)}else g===27?(g=vs,fA(h.type)?(h=E4,E4=null,vs=h):vs=g):vs=no?du(h.stateNode.nextSibling):null;return!0}function Lh(){vs=no=null,fi=!1}function ax(){var h=zo;return h!==null&&(xc===null?xc=h:xc.push.apply(xc,h),zo=null),h}function Zf(h){zo===null?zo=[h]:zo.push(h)}var Cg=ce(null),Ld=null,lu=null;function Od(h,g,b){Y(Cg,g._currentValue),g._currentValue=b}function fc(h){h._currentValue=Cg.current,Q(Cg)}function eA(h,g,b){for(;h!==null;){var N=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,N!==null&&(N.childLanes|=g)):N!==null&&(N.childLanes&g)!==g&&(N.childLanes|=g),h===b)break;h=h.return}}function Oh(h,g,b,N){var H=h.child;for(H!==null&&(H.return=h);H!==null;){var q=H.dependencies;if(q!==null){var Ae=H.child;q=q.firstContext;e:for(;q!==null;){var De=q;q=H;for(var Ze=0;Ze<g.length;Ze++)if(De.context===g[Ze]){q.lanes|=b,De=q.alternate,De!==null&&(De.lanes|=b),eA(q.return,b,h),N||(Ae=null);break e}q=De.next}}else if(H.tag===18){if(Ae=H.return,Ae===null)throw Error(r(341));Ae.lanes|=b,q=Ae.alternate,q!==null&&(q.lanes|=b),eA(Ae,b,h),Ae=null}else Ae=H.child;if(Ae!==null)Ae.return=H;else for(Ae=H;Ae!==null;){if(Ae===h){Ae=null;break}if(H=Ae.sibling,H!==null){H.return=Ae.return,Ae=H;break}Ae=Ae.return}H=Ae}}function jd(h,g,b,N){h=null;for(var H=g,q=!1;H!==null;){if(!q){if((H.flags&524288)!==0)q=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var Ae=H.alternate;if(Ae===null)throw Error(r(387));if(Ae=Ae.memoizedProps,Ae!==null){var De=H.type;I(H.pendingProps.value,Ae.value)||(h!==null?h.push(De):h=[De])}}else if(H===Ce.current){if(Ae=H.alternate,Ae===null)throw Error(r(387));Ae.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(h!==null?h.push(Rx):h=[Rx])}H=H.return}h!==null&&Oh(g,h,b,N),g.flags|=262144}function Sg(h){for(h=h.firstContext;h!==null;){if(!I(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Ud(h){Ld=h,lu=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function io(h){return Ob(Ld,h)}function Eg(h,g){return Ld===null&&Ud(h),Ob(h,g)}function Ob(h,g){var b=g._currentValue;if(g={context:g,memoizedValue:b,next:null},lu===null){if(h===null)throw Error(r(308));lu=g,h.dependencies={lanes:0,firstContext:g},h.flags|=524288}else lu=lu.next=g;return b}var SN=typeof AbortController<"u"?AbortController:function(){var h=[],g=this.signal={aborted:!1,addEventListener:function(b,N){h.push(N)}};this.abort=function(){g.aborted=!0,h.forEach(function(b){return b()})}},EN=e.unstable_scheduleCallback,NN=e.unstable_NormalPriority,na={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tA(){return{controller:new SN,data:new Map,refCount:0}}function F0(h){h.refCount--,h.refCount===0&&EN(NN,function(){h.controller.abort()})}var k0=null,Ng=0,_=0,z=null;function se(h,g){if(k0===null){var b=k0=[];Ng=0,_=d4(),z={status:"pending",value:void 0,then:function(N){b.push(N)}}}return Ng++,g.then(he,he),g}function he(){if(--Ng===0&&k0!==null){z!==null&&(z.status="fulfilled");var h=k0;k0=null,_=0,z=null;for(var g=0;g<h.length;g++)(0,h[g])()}}function Se(h,g){var b=[],N={status:"pending",value:null,reason:null,then:function(H){b.push(H)}};return h.then(function(){N.status="fulfilled",N.value=g;for(var H=0;H<b.length;H++)(0,b[H])(g)},function(H){for(N.status="rejected",N.reason=H,H=0;H<b.length;H++)(0,b[H])(void 0)}),N}var Be=ue.S;ue.S=function(h,g){A6=Cn(),typeof g=="object"&&g!==null&&typeof g.then=="function"&&se(h,g),Be!==null&&Be(h,g)};var Re=ce(null);function je(){var h=Re.current;return h!==null?h:bs.pooledCache}function Ge(h,g){g===null?Y(Re,Re.current):Y(Re,g.pool)}function qe(){var h=je();return h===null?null:{parent:na._currentValue,pool:h}}var at=Error(r(460)),Et=Error(r(474)),Ke=Error(r(542)),ht={then:function(){}};function wt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function zt(h,g,b){switch(b=h[b],b===void 0?h.push(g):b!==g&&(g.then(Lr,Lr),g=b),g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Nn(h),h;default:if(typeof g.status=="string")g.then(Lr,Lr);else{if(h=bs,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=g,h.status="pending",h.then(function(N){if(g.status==="pending"){var H=g;H.status="fulfilled",H.value=N}},function(N){if(g.status==="pending"){var H=g;H.status="rejected",H.reason=N}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Nn(h),h}throw Vt=g,at}}function St(h){try{var g=h._init;return g(h._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(Vt=b,at):b}}var Vt=null;function tn(){if(Vt===null)throw Error(r(459));var h=Vt;return Vt=null,h}function Nn(h){if(h===at||h===Ke)throw Error(r(483))}var dn=null,fr=0;function Jn(h){var g=fr;return fr+=1,dn===null&&(dn=[]),zt(dn,h,g)}function Hr(h,g){g=g.props.ref,h.ref=g!==void 0?g:null}function lr(h,g){throw g.$$typeof===p?Error(r(525)):(h=Object.prototype.toString.call(g),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h)))}function ui(h){function g(xt,ct){if(h){var It=xt.deletions;It===null?(xt.deletions=[ct],xt.flags|=16):It.push(ct)}}function b(xt,ct){if(!h)return null;for(;ct!==null;)g(xt,ct),ct=ct.sibling;return null}function N(xt){for(var ct=new Map;xt!==null;)xt.key!==null?ct.set(xt.key,xt):ct.set(xt.index,xt),xt=xt.sibling;return ct}function H(xt,ct){return xt=oc(xt,ct),xt.index=0,xt.sibling=null,xt}function q(xt,ct,It){return xt.index=It,h?(It=xt.alternate,It!==null?(It=It.index,It<ct?(xt.flags|=67108866,ct):It):(xt.flags|=67108866,ct)):(xt.flags|=1048576,ct)}function Ae(xt){return h&&xt.alternate===null&&(xt.flags|=67108866),xt}function De(xt,ct,It,nn){return ct===null||ct.tag!==6?(ct=T0(It,xt.mode,nn),ct.return=xt,ct):(ct=H(ct,It),ct.return=xt,ct)}function Ze(xt,ct,It,nn){var Tr=It.type;return Tr===y?Yt(xt,ct,It.props.children,nn,It.key):ct!==null&&(ct.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===K&&St(Tr)===ct.type)?(ct=H(ct,It.props),Hr(ct,It),ct.return=xt,ct):(ct=Yf(It.type,It.key,It.props,null,xt.mode,nn),Hr(ct,It),ct.return=xt,ct)}function Ft(xt,ct,It,nn){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==It.containerInfo||ct.stateNode.implementation!==It.implementation?(ct=Xf(It,xt.mode,nn),ct.return=xt,ct):(ct=H(ct,It.children||[]),ct.return=xt,ct)}function Yt(xt,ct,It,nn,Tr){return ct===null||ct.tag!==7?(ct=Dd(It,xt.mode,nn,Tr),ct.return=xt,ct):(ct=H(ct,It),ct.return=xt,ct)}function ln(xt,ct,It){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=T0(""+ct,xt.mode,It),ct.return=xt,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case m:return It=Yf(ct.type,ct.key,ct.props,null,xt.mode,It),Hr(It,ct),It.return=xt,It;case w:return ct=Xf(ct,xt.mode,It),ct.return=xt,ct;case K:return ct=St(ct),ln(xt,ct,It)}if(ie(ct)||V(ct))return ct=Dd(ct,xt.mode,It,null),ct.return=xt,ct;if(typeof ct.then=="function")return ln(xt,Jn(ct),It);if(ct.$$typeof===R)return ln(xt,Eg(xt,ct),It);lr(xt,ct)}return null}function Dt(xt,ct,It,nn){var Tr=ct!==null?ct.key:null;if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return Tr!==null?null:De(xt,ct,""+It,nn);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case m:return It.key===Tr?Ze(xt,ct,It,nn):null;case w:return It.key===Tr?Ft(xt,ct,It,nn):null;case K:return It=St(It),Dt(xt,ct,It,nn)}if(ie(It)||V(It))return Tr!==null?null:Yt(xt,ct,It,nn,null);if(typeof It.then=="function")return Dt(xt,ct,Jn(It),nn);if(It.$$typeof===R)return Dt(xt,ct,Eg(xt,It),nn);lr(xt,It)}return null}function Ut(xt,ct,It,nn,Tr){if(typeof nn=="string"&&nn!==""||typeof nn=="number"||typeof nn=="bigint")return xt=xt.get(It)||null,De(ct,xt,""+nn,Tr);if(typeof nn=="object"&&nn!==null){switch(nn.$$typeof){case m:return xt=xt.get(nn.key===null?It:nn.key)||null,Ze(ct,xt,nn,Tr);case w:return xt=xt.get(nn.key===null?It:nn.key)||null,Ft(ct,xt,nn,Tr);case K:return nn=St(nn),Ut(xt,ct,It,nn,Tr)}if(ie(nn)||V(nn))return xt=xt.get(It)||null,Yt(ct,xt,nn,Tr,null);if(typeof nn.then=="function")return Ut(xt,ct,It,Jn(nn),Tr);if(nn.$$typeof===R)return Ut(xt,ct,It,Eg(ct,nn),Tr);lr(ct,nn)}return null}function dr(xt,ct,It,nn){for(var Tr=null,Gi=null,xr=ct,Zr=ct=0,yi=null;xr!==null&&Zr<It.length;Zr++){xr.index>Zr?(yi=xr,xr=null):yi=xr.sibling;var Vi=Dt(xt,xr,It[Zr],nn);if(Vi===null){xr===null&&(xr=yi);break}h&&xr&&Vi.alternate===null&&g(xt,xr),ct=q(Vi,ct,Zr),Gi===null?Tr=Vi:Gi.sibling=Vi,Gi=Vi,xr=yi}if(Zr===It.length)return b(xt,xr),fi&&jl(xt,Zr),Tr;if(xr===null){for(;Zr<It.length;Zr++)xr=ln(xt,It[Zr],nn),xr!==null&&(ct=q(xr,ct,Zr),Gi===null?Tr=xr:Gi.sibling=xr,Gi=xr);return fi&&jl(xt,Zr),Tr}for(xr=N(xr);Zr<It.length;Zr++)yi=Ut(xr,xt,Zr,It[Zr],nn),yi!==null&&(h&&yi.alternate!==null&&xr.delete(yi.key===null?Zr:yi.key),ct=q(yi,ct,Zr),Gi===null?Tr=yi:Gi.sibling=yi,Gi=yi);return h&&xr.forEach(function(xA){return g(xt,xA)}),fi&&jl(xt,Zr),Tr}function Mr(xt,ct,It,nn){if(It==null)throw Error(r(151));for(var Tr=null,Gi=null,xr=ct,Zr=ct=0,yi=null,Vi=It.next();xr!==null&&!Vi.done;Zr++,Vi=It.next()){xr.index>Zr?(yi=xr,xr=null):yi=xr.sibling;var xA=Dt(xt,xr,Vi.value,nn);if(xA===null){xr===null&&(xr=yi);break}h&&xr&&xA.alternate===null&&g(xt,xr),ct=q(xA,ct,Zr),Gi===null?Tr=xA:Gi.sibling=xA,Gi=xA,xr=yi}if(Vi.done)return b(xt,xr),fi&&jl(xt,Zr),Tr;if(xr===null){for(;!Vi.done;Zr++,Vi=It.next())Vi=ln(xt,Vi.value,nn),Vi!==null&&(ct=q(Vi,ct,Zr),Gi===null?Tr=Vi:Gi.sibling=Vi,Gi=Vi);return fi&&jl(xt,Zr),Tr}for(xr=N(xr);!Vi.done;Zr++,Vi=It.next())Vi=Ut(xr,xt,Zr,Vi.value,nn),Vi!==null&&(h&&Vi.alternate!==null&&xr.delete(Vi.key===null?Zr:Vi.key),ct=q(Vi,ct,Zr),Gi===null?Tr=Vi:Gi.sibling=Vi,Gi=Vi);return h&&xr.forEach(function(Yae){return g(xt,Yae)}),fi&&jl(xt,Zr),Tr}function us(xt,ct,It,nn){if(typeof It=="object"&&It!==null&&It.type===y&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case m:e:{for(var Tr=It.key;ct!==null;){if(ct.key===Tr){if(Tr=It.type,Tr===y){if(ct.tag===7){b(xt,ct.sibling),nn=H(ct,It.props.children),nn.return=xt,xt=nn;break e}}else if(ct.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===K&&St(Tr)===ct.type){b(xt,ct.sibling),nn=H(ct,It.props),Hr(nn,It),nn.return=xt,xt=nn;break e}b(xt,ct);break}else g(xt,ct);ct=ct.sibling}It.type===y?(nn=Dd(It.props.children,xt.mode,nn,It.key),nn.return=xt,xt=nn):(nn=Yf(It.type,It.key,It.props,null,xt.mode,nn),Hr(nn,It),nn.return=xt,xt=nn)}return Ae(xt);case w:e:{for(Tr=It.key;ct!==null;){if(ct.key===Tr)if(ct.tag===4&&ct.stateNode.containerInfo===It.containerInfo&&ct.stateNode.implementation===It.implementation){b(xt,ct.sibling),nn=H(ct,It.children||[]),nn.return=xt,xt=nn;break e}else{b(xt,ct);break}else g(xt,ct);ct=ct.sibling}nn=Xf(It,xt.mode,nn),nn.return=xt,xt=nn}return Ae(xt);case K:return It=St(It),us(xt,ct,It,nn)}if(ie(It))return dr(xt,ct,It,nn);if(V(It)){if(Tr=V(It),typeof Tr!="function")throw Error(r(150));return It=Tr.call(It),Mr(xt,ct,It,nn)}if(typeof It.then=="function")return us(xt,ct,Jn(It),nn);if(It.$$typeof===R)return us(xt,ct,Eg(xt,It),nn);lr(xt,It)}return typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint"?(It=""+It,ct!==null&&ct.tag===6?(b(xt,ct.sibling),nn=H(ct,It),nn.return=xt,xt=nn):(b(xt,ct),nn=T0(It,xt.mode,nn),nn.return=xt,xt=nn),Ae(xt)):b(xt,ct)}return function(xt,ct,It,nn){try{fr=0;var Tr=us(xt,ct,It,nn);return dn=null,Tr}catch(xr){if(xr===at||xr===Ke)throw xr;var Gi=Eo(29,xr,null,xt.mode);return Gi.lanes=nn,Gi.return=xt,Gi}finally{}}}var ws=ui(!0),zr=ui(!1),Zn=!1;function Pn(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rs(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function _r(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function $r(h,g,b){var N=h.updateQueue;if(N===null)return null;if(N=N.shared,(Yi&2)!==0){var H=N.pending;return H===null?g.next=g:(g.next=H.next,H.next=g),N.pending=g,g=So(h),E0(h,null,b),g}return S0(h,N,g,b),So(h)}function qi(h,g,b){if(g=g.updateQueue,g!==null&&(g=g.shared,(b&4194048)!==0)){var N=g.lanes;N&=h.pendingLanes,b|=N,g.lanes=b,xi(h,b)}}function Ba(h,g){var b=h.updateQueue,N=h.alternate;if(N!==null&&(N=N.updateQueue,b===N)){var H=null,q=null;if(b=b.firstBaseUpdate,b!==null){do{var Ae={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};q===null?H=q=Ae:q=q.next=Ae,b=b.next}while(b!==null);q===null?H=q=g:q=q.next=g}else H=q=g;b={baseState:N.baseState,firstBaseUpdate:H,lastBaseUpdate:q,shared:N.shared,callbacks:N.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=g:h.next=g,b.lastBaseUpdate=g}var so=!1;function os(){if(so){var h=z;if(h!==null)throw h}}function fa(h,g,b,N){so=!1;var H=h.updateQueue;Zn=!1;var q=H.firstBaseUpdate,Ae=H.lastBaseUpdate,De=H.shared.pending;if(De!==null){H.shared.pending=null;var Ze=De,Ft=Ze.next;Ze.next=null,Ae===null?q=Ft:Ae.next=Ft,Ae=Ze;var Yt=h.alternate;Yt!==null&&(Yt=Yt.updateQueue,De=Yt.lastBaseUpdate,De!==Ae&&(De===null?Yt.firstBaseUpdate=Ft:De.next=Ft,Yt.lastBaseUpdate=Ze))}if(q!==null){var ln=H.baseState;Ae=0,Yt=Ft=Ze=null,De=q;do{var Dt=De.lane&-536870913,Ut=Dt!==De.lane;if(Ut?(bi&Dt)===Dt:(N&Dt)===Dt){Dt!==0&&Dt===_&&(so=!0),Yt!==null&&(Yt=Yt.next={lane:0,tag:De.tag,payload:De.payload,callback:null,next:null});e:{var dr=h,Mr=De;Dt=g;var us=b;switch(Mr.tag){case 1:if(dr=Mr.payload,typeof dr=="function"){ln=dr.call(us,ln,Dt);break e}ln=dr;break e;case 3:dr.flags=dr.flags&-65537|128;case 0:if(dr=Mr.payload,Dt=typeof dr=="function"?dr.call(us,ln,Dt):dr,Dt==null)break e;ln=f({},ln,Dt);break e;case 2:Zn=!0}}Dt=De.callback,Dt!==null&&(h.flags|=64,Ut&&(h.flags|=8192),Ut=H.callbacks,Ut===null?H.callbacks=[Dt]:Ut.push(Dt))}else Ut={lane:Dt,tag:De.tag,payload:De.payload,callback:De.callback,next:null},Yt===null?(Ft=Yt=Ut,Ze=ln):Yt=Yt.next=Ut,Ae|=Dt;if(De=De.next,De===null){if(De=H.shared.pending,De===null)break;Ut=De,De=Ut.next,Ut.next=null,H.lastBaseUpdate=Ut,H.shared.pending=null}}while(!0);Yt===null&&(Ze=ln),H.baseState=Ze,H.firstBaseUpdate=Ft,H.lastBaseUpdate=Yt,q===null&&(H.shared.lanes=0),lA|=Ae,h.lanes=Ae,h.memoizedState=ln}}function No(h,g){if(typeof h!="function")throw Error(r(191,h));h.call(g)}function Aa(h,g){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)No(b[h],g)}var ni=ce(null),Fi=ce(0);function _s(h,g){h=qh,Y(Fi,h),Y(ni,g),qh=h|g.baseLanes}function Oi(){Y(Fi,qh),Y(ni,ni.current)}function Ra(){qh=Fi.current,Q(ni),Q(Fi)}var Ds=ce(null),ki=null;function ra(h){var g=h.alternate;Y(Ei,Ei.current&1),Y(Ds,h),ki===null&&(g===null||ni.current!==null||g.memoizedState!==null)&&(ki=h)}function $i(h){Y(Ei,Ei.current),Y(Ds,h),ki===null&&(ki=h)}function pa(h){h.tag===22?(Y(Ei,Ei.current),Y(Ds,h),ki===null&&(ki=h)):ga()}function ga(){Y(Ei,Ei.current),Y(Ds,Ds.current)}function ts(h){Q(Ds),ki===h&&(ki=null),Q(Ei)}var Ei=ce(0);function To(h){for(var g=h;g!==null;){if(g.tag===13){var b=g.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||C4(b)||S4(b)))return g}else if(g.tag===19&&(g.memoizedProps.revealOrder==="forwards"||g.memoizedProps.revealOrder==="backwards"||g.memoizedProps.revealOrder==="unstable_legacy-backwards"||g.memoizedProps.revealOrder==="together")){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Gs=0,Sr=null,Nr=null,Bi=null,dl=!1,Ac=!1,Wo=!1,ma=0,Hd=0,Gd=null,Tg=0;function ls(){throw Error(r(321))}function ox(h,g){if(g===null)return!1;for(var b=0;b<g.length&&b<h.length;b++)if(!I(h[b],g[b]))return!1;return!0}function lx(h,g,b,N,H,q){return Gs=q,Sr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ue.H=h===null||h.memoizedState===null?EM:DN,Wo=!1,q=b(N,H),Wo=!1,Ac&&(q=Zu(g,b,N,H)),Ig(h),q}function Ig(h){ue.H=gx;var g=Nr!==null&&Nr.next!==null;if(Gs=0,Bi=Nr=Sr=null,dl=!1,Hd=0,Gd=null,g)throw Error(r(300));h===null||Va||(h=h.dependencies,h!==null&&Sg(h)&&(Va=!0))}function Zu(h,g,b,N){Sr=h;var H=0;do{if(Ac&&(Gd=null),Hd=0,Ac=!1,25<=H)throw Error(r(301));if(H+=1,Bi=Nr=null,h.updateQueue!=null){var q=h.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}ue.H=NM,q=g(b,N)}while(Ac);return q}function TN(){var h=ue.H,g=h.useState()[0];return g=typeof g.then=="function"?Vd(g):g,h=h.useState()[0],(Nr!==null?Nr.memoizedState:null)!==h&&(Sr.flags|=1024),g}function cx(){var h=ma!==0;return ma=0,h}function ux(h,g,b){g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~b}function Fg(h){if(dl){for(h=h.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}dl=!1}Gs=0,Bi=Nr=Sr=null,Ac=!1,Hd=ma=0,Gd=null}function Ga(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Sr.memoizedState=Bi=h:Bi=Bi.next=h,Bi}function Vs(){if(Nr===null){var h=Sr.alternate;h=h!==null?h.memoizedState:null}else h=Nr.next;var g=Bi===null?Sr.memoizedState:Bi.next;if(g!==null)Bi=g,Nr=h;else{if(h===null)throw Sr.alternate===null?Error(r(467)):Error(r(310));Nr=h,h={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},Bi===null?Sr.memoizedState=Bi=h:Bi=Bi.next=h}return Bi}function B0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vd(h){var g=Hd;return Hd+=1,Gd===null&&(Gd=[]),h=zt(Gd,h,g),g=Sr,(Bi===null?g.memoizedState:Bi.next)===null&&(g=g.alternate,ue.H=g===null||g.memoizedState===null?EM:DN),h}function nA(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Vd(h);if(h.$$typeof===R)return io(h)}throw Error(r(438,String(h)))}function jh(h){var g=null,b=Sr.updateQueue;if(b!==null&&(g=b.memoCache),g==null){var N=Sr.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(g={data:N.data.map(function(H){return H.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),b===null&&(b=B0(),Sr.updateQueue=b),b.memoCache=g,b=g.data[g.index],b===void 0)for(b=g.data[g.index]=Array(h),N=0;N<h;N++)b[N]=te;return g.index++,b}function cu(h,g){return typeof g=="function"?g(h):g}function kg(h){var g=Vs();return rA(g,Nr,h)}function rA(h,g,b){var N=h.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=b;var H=h.baseQueue,q=N.pending;if(q!==null){if(H!==null){var Ae=H.next;H.next=q.next,q.next=Ae}g.baseQueue=H=q,N.pending=null}if(q=h.baseState,H===null)h.memoizedState=q;else{g=H.next;var De=Ae=null,Ze=null,Ft=g,Yt=!1;do{var ln=Ft.lane&-536870913;if(ln!==Ft.lane?(bi&ln)===ln:(Gs&ln)===ln){var Dt=Ft.revertLane;if(Dt===0)Ze!==null&&(Ze=Ze.next={lane:0,revertLane:0,gesture:null,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null}),ln===_&&(Yt=!0);else if((Gs&Dt)===Dt){Ft=Ft.next,Dt===_&&(Yt=!0);continue}else ln={lane:0,revertLane:Ft.revertLane,gesture:null,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null},Ze===null?(De=Ze=ln,Ae=q):Ze=Ze.next=ln,Sr.lanes|=Dt,lA|=Dt;ln=Ft.action,Wo&&b(q,ln),q=Ft.hasEagerState?Ft.eagerState:b(q,ln)}else Dt={lane:ln,revertLane:Ft.revertLane,gesture:Ft.gesture,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null},Ze===null?(De=Ze=Dt,Ae=q):Ze=Ze.next=Dt,Sr.lanes|=ln,lA|=ln;Ft=Ft.next}while(Ft!==null&&Ft!==g);if(Ze===null?Ae=q:Ze.next=De,!I(q,h.memoizedState)&&(Va=!0,Yt&&(b=z,b!==null)))throw b;h.memoizedState=q,h.baseState=Ae,h.baseQueue=Ze,N.lastRenderedState=q}return H===null&&(N.lanes=0),[h.memoizedState,N.dispatch]}function Bg(h){var g=Vs(),b=g.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var N=b.dispatch,H=b.pending,q=g.memoizedState;if(H!==null){b.pending=null;var Ae=H=H.next;do q=h(q,Ae.action),Ae=Ae.next;while(Ae!==H);I(q,g.memoizedState)||(Va=!0),g.memoizedState=q,g.baseQueue===null&&(g.baseState=q),b.lastRenderedState=q}return[q,N]}function Rg(h,g,b){var N=Sr,H=Vs(),q=fi;if(q){if(b===void 0)throw Error(r(407));b=b()}else b=g();var Ae=!I((Nr||H).memoizedState,b);if(Ae&&(H.memoizedState=b,Va=!0),H=H.queue,IN(hx.bind(null,N,H,h),[h]),H.getSnapshot!==g||Ae||Bi!==null&&Bi.memoizedState.tag&1){if(N.flags|=2048,Hh(9,{destroy:void 0},dx.bind(null,N,H,b,g),null),bs===null)throw Error(r(349));q||(Gs&127)!==0||ed(N,g,b)}return b}function ed(h,g,b){h.flags|=16384,h={getSnapshot:g,value:b},g=Sr.updateQueue,g===null?(g=B0(),Sr.updateQueue=g,g.stores=[h]):(b=g.stores,b===null?g.stores=[h]:b.push(h))}function dx(h,g,b,N){g.value=b,g.getSnapshot=N,jb(g)&&fx(h)}function hx(h,g,b){return b(function(){jb(g)&&fx(h)})}function jb(h){var g=h.getSnapshot;h=h.value;try{var b=g();return!I(h,b)}catch{return!0}}function fx(h){var g=Xu(h,2);g!==null&&vc(g,h,2)}function Qd(h){var g=Ga();if(typeof h=="function"){var b=h;if(h=b(),Wo){yn(!0);try{b()}finally{yn(!1)}}}return g.memoizedState=g.baseState=h,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:h},g}function Ub(h,g,b,N){return h.baseState=b,rA(h,Nr,typeof N=="function"?N:cu)}function Hb(h,g,b,N,H){if(zb(h))throw Error(r(485));if(h=g.action,h!==null){var q={payload:H,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ae){q.listeners.push(Ae)}};ue.T!==null?b(!0):q.isTransition=!1,N(q),b=g.pending,b===null?(q.next=g.pending=q,Gb(g,q)):(q.next=b.next,g.pending=b.next=q)}}function Gb(h,g){var b=g.action,N=g.payload,H=h.state;if(g.isTransition){var q=ue.T,Ae={};ue.T=Ae;try{var De=b(H,N),Ze=ue.S;Ze!==null&&Ze(Ae,De),Ax(h,g,De)}catch(Ft){Uh(h,g,Ft)}finally{q!==null&&Ae.types!==null&&(q.types=Ae.types),ue.T=q}}else try{q=b(H,N),Ax(h,g,q)}catch(Ft){Uh(h,g,Ft)}}function Ax(h,g,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(N){Vb(h,g,N)},function(N){return Uh(h,g,N)}):Vb(h,g,b)}function Vb(h,g,b){g.status="fulfilled",g.value=b,_g(g),h.state=b,g=h.pending,g!==null&&(b=g.next,b===g?h.pending=null:(b=b.next,g.next=b,Gb(h,b)))}function Uh(h,g,b){var N=h.pending;if(h.pending=null,N!==null){N=N.next;do g.status="rejected",g.reason=b,_g(g),g=g.next;while(g!==N)}h.action=null}function _g(h){h=h.listeners;for(var g=0;g<h.length;g++)(0,h[g])()}function R0(h,g){return g}function uu(h,g){if(fi){var b=bs.formState;if(b!==null){e:{var N=Sr;if(fi){if(vs){t:{for(var H=vs,q=Hs;H.nodeType!==8;){if(!q){H=null;break t}if(H=du(H.nextSibling),H===null){H=null;break t}}q=H.data,H=q==="F!"||q==="F"?H:null}if(H){vs=du(H.nextSibling),N=H.data==="F!";break e}}Md(N)}N=!1}N&&(g=b[0])}}return b=Ga(),b.memoizedState=b.baseState=g,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:g},b.queue=N,b=yM.bind(null,Sr,N),N.dispatch=b,N=Qd(!1),q=_N.bind(null,Sr,!1,N.queue),N=Ga(),H={state:g,dispatch:null,action:h,pending:null},N.queue=H,b=Hb.bind(null,Sr,H,q,b),H.dispatch=b,N.memoizedState=h,[g,b,!1]}function td(h){var g=Vs();return nd(g,Nr,h)}function nd(h,g,b){if(g=rA(h,g,R0)[0],h=kg(cu)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var N=Vd(g)}catch(Ae){throw Ae===at?Ke:Ae}else N=g;g=Vs();var H=g.queue,q=H.dispatch;return b!==g.memoizedState&&(Sr.flags|=2048,Hh(9,{destroy:void 0},Dg.bind(null,H,b),null)),[N,q,h]}function Dg(h,g){h.action=g}function Pg(h){var g=Vs(),b=Nr;if(b!==null)return nd(g,b,h);Vs(),g=g.memoizedState,b=Vs();var N=b.queue.dispatch;return b.memoizedState=h,[g,N,!1]}function Hh(h,g,b,N){return h={tag:h,create:b,deps:N,inst:g,next:null},g=Sr.updateQueue,g===null&&(g=B0(),Sr.updateQueue=g),b=g.lastEffect,b===null?g.lastEffect=h.next=h:(N=b.next,b.next=h,h.next=N,g.lastEffect=h),h}function Qb(){return Vs().memoizedState}function iA(h,g,b,N){var H=Ga();Sr.flags|=h,H.memoizedState=Hh(1|g,{destroy:void 0},b,N===void 0?null:N)}function sA(h,g,b,N){var H=Vs();N=N===void 0?null:N;var q=H.memoizedState.inst;Nr!==null&&N!==null&&ox(N,Nr.memoizedState.deps)?H.memoizedState=Hh(g,q,b,N):(Sr.flags|=h,H.memoizedState=Hh(1|g,q,b,N))}function lM(h,g){iA(8390656,8,h,g)}function IN(h,g){sA(2048,8,h,g)}function Qse(h){Sr.flags|=4;var g=Sr.updateQueue;if(g===null)g=B0(),Sr.updateQueue=g,g.events=[h];else{var b=g.events;b===null?g.events=[h]:b.push(h)}}function cM(h){var g=Vs().memoizedState;return Qse({ref:g,nextImpl:h}),function(){if((Yi&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}function uM(h,g){return sA(4,2,h,g)}function dM(h,g){return sA(4,4,h,g)}function hM(h,g){if(typeof g=="function"){h=h();var b=g(h);return function(){typeof b=="function"?b():g(null)}}if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function fM(h,g,b){b=b!=null?b.concat([h]):null,sA(4,4,hM.bind(null,g,h),b)}function FN(){}function AM(h,g){var b=Vs();g=g===void 0?null:g;var N=b.memoizedState;return g!==null&&ox(g,N[1])?N[0]:(b.memoizedState=[h,g],h)}function pM(h,g){var b=Vs();g=g===void 0?null:g;var N=b.memoizedState;if(g!==null&&ox(g,N[1]))return N[0];if(N=h(),Wo){yn(!0);try{h()}finally{yn(!1)}}return b.memoizedState=[N,g],N}function kN(h,g,b){return b===void 0||(Gs&1073741824)!==0&&(bi&261930)===0?h.memoizedState=g:(h.memoizedState=b,h=g6(),Sr.lanes|=h,lA|=h,b)}function gM(h,g,b,N){return I(b,g)?b:ni.current!==null?(h=kN(h,b,N),I(h,g)||(Va=!0),h):(Gs&42)===0||(Gs&1073741824)!==0&&(bi&261930)===0?(Va=!0,h.memoizedState=b):(h=g6(),Sr.lanes|=h,lA|=h,g)}function mM(h,g,b,N,H){var q=le.p;le.p=q!==0&&8>q?q:8;var Ae=ue.T,De={};ue.T=De,_N(h,!1,g,b);try{var Ze=H(),Ft=ue.S;if(Ft!==null&&Ft(De,Ze),Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var Yt=Se(Ze,N);px(h,g,Yt,Gc(h))}else px(h,g,N,Gc(h))}catch(ln){px(h,g,{then:function(){},status:"rejected",reason:ln},Gc())}finally{le.p=q,Ae!==null&&De.types!==null&&(Ae.types=De.types),ue.T=Ae}}function zse(){}function BN(h,g,b,N){if(h.tag!==5)throw Error(r(476));var H=xM(h).queue;mM(h,H,g,xe,b===null?zse:function(){return vM(h),b(N)})}function xM(h){var g=h.memoizedState;if(g!==null)return g;g={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:xe},next:null};var b={};return g.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:b},next:null},h.memoizedState=g,h=h.alternate,h!==null&&(h.memoizedState=g),g}function vM(h){var g=xM(h);g.next===null&&(g=h.alternate.memoizedState),px(h,g.next.queue,{},Gc())}function RN(){return io(Rx)}function wM(){return Vs().memoizedState}function bM(){return Vs().memoizedState}function Wse(h){for(var g=h.return;g!==null;){switch(g.tag){case 24:case 3:var b=Gc();h=_r(b);var N=$r(g,h,b);N!==null&&(vc(N,g,b),qi(N,g,b)),g={cache:tA()},h.payload=g;return}g=g.return}}function Kse(h,g,b){var N=Gc();b={lane:N,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},zb(h)?CM(g,b):(b=gg(h,g,b,N),b!==null&&(vc(b,h,N),SM(b,g,N)))}function yM(h,g,b){var N=Gc();px(h,g,b,N)}function px(h,g,b,N){var H={lane:N,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(zb(h))CM(g,H);else{var q=h.alternate;if(h.lanes===0&&(q===null||q.lanes===0)&&(q=g.lastRenderedReducer,q!==null))try{var Ae=g.lastRenderedState,De=q(Ae,b);if(H.hasEagerState=!0,H.eagerState=De,I(De,Ae))return S0(h,g,H,0),bs===null&&C0(),!1}catch{}finally{}if(b=gg(h,g,H,N),b!==null)return vc(b,h,N),SM(b,g,N),!0}return!1}function _N(h,g,b,N){if(N={lane:2,revertLane:d4(),gesture:null,action:N,hasEagerState:!1,eagerState:null,next:null},zb(h)){if(g)throw Error(r(479))}else g=gg(h,b,N,2),g!==null&&vc(g,h,2)}function zb(h){var g=h.alternate;return h===Sr||g!==null&&g===Sr}function CM(h,g){Ac=dl=!0;var b=h.pending;b===null?g.next=g:(g.next=b.next,b.next=g),h.pending=g}function SM(h,g,b){if((b&4194048)!==0){var N=g.lanes;N&=h.pendingLanes,b|=N,g.lanes=b,xi(h,b)}}var gx={readContext:io,use:nA,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useLayoutEffect:ls,useInsertionEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useSyncExternalStore:ls,useId:ls,useHostTransitionStatus:ls,useFormState:ls,useActionState:ls,useOptimistic:ls,useMemoCache:ls,useCacheRefresh:ls};gx.useEffectEvent=ls;var EM={readContext:io,use:nA,useCallback:function(h,g){return Ga().memoizedState=[h,g===void 0?null:g],h},useContext:io,useEffect:lM,useImperativeHandle:function(h,g,b){b=b!=null?b.concat([h]):null,iA(4194308,4,hM.bind(null,g,h),b)},useLayoutEffect:function(h,g){return iA(4194308,4,h,g)},useInsertionEffect:function(h,g){iA(4,2,h,g)},useMemo:function(h,g){var b=Ga();g=g===void 0?null:g;var N=h();if(Wo){yn(!0);try{h()}finally{yn(!1)}}return b.memoizedState=[N,g],N},useReducer:function(h,g,b){var N=Ga();if(b!==void 0){var H=b(g);if(Wo){yn(!0);try{b(g)}finally{yn(!1)}}}else H=g;return N.memoizedState=N.baseState=H,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:H},N.queue=h,h=h.dispatch=Kse.bind(null,Sr,h),[N.memoizedState,h]},useRef:function(h){var g=Ga();return h={current:h},g.memoizedState=h},useState:function(h){h=Qd(h);var g=h.queue,b=yM.bind(null,Sr,g);return g.dispatch=b,[h.memoizedState,b]},useDebugValue:FN,useDeferredValue:function(h,g){var b=Ga();return kN(b,h,g)},useTransition:function(){var h=Qd(!1);return h=mM.bind(null,Sr,h.queue,!0,!1),Ga().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,g,b){var N=Sr,H=Ga();if(fi){if(b===void 0)throw Error(r(407));b=b()}else{if(b=g(),bs===null)throw Error(r(349));(bi&127)!==0||ed(N,g,b)}H.memoizedState=b;var q={value:b,getSnapshot:g};return H.queue=q,lM(hx.bind(null,N,q,h),[h]),N.flags|=2048,Hh(9,{destroy:void 0},dx.bind(null,N,q,b,g),null),b},useId:function(){var h=Ga(),g=bs.identifierPrefix;if(fi){var b=hc,N=dc;b=(N&~(1<<32-un(N)-1)).toString(32)+b,g="_"+g+"R_"+b,b=ma++,0<b&&(g+="H"+b.toString(32)),g+="_"}else b=Tg++,g="_"+g+"r_"+b.toString(32)+"_";return h.memoizedState=g},useHostTransitionStatus:RN,useFormState:uu,useActionState:uu,useOptimistic:function(h){var g=Ga();g.memoizedState=g.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=b,g=_N.bind(null,Sr,!0,b),b.dispatch=g,[h,g]},useMemoCache:jh,useCacheRefresh:function(){return Ga().memoizedState=Wse.bind(null,Sr)},useEffectEvent:function(h){var g=Ga(),b={impl:h};return g.memoizedState=b,function(){if((Yi&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}},DN={readContext:io,use:nA,useCallback:AM,useContext:io,useEffect:IN,useImperativeHandle:fM,useInsertionEffect:uM,useLayoutEffect:dM,useMemo:pM,useReducer:kg,useRef:Qb,useState:function(){return kg(cu)},useDebugValue:FN,useDeferredValue:function(h,g){var b=Vs();return gM(b,Nr.memoizedState,h,g)},useTransition:function(){var h=kg(cu)[0],g=Vs().memoizedState;return[typeof h=="boolean"?h:Vd(h),g]},useSyncExternalStore:Rg,useId:wM,useHostTransitionStatus:RN,useFormState:td,useActionState:td,useOptimistic:function(h,g){var b=Vs();return Ub(b,Nr,h,g)},useMemoCache:jh,useCacheRefresh:bM};DN.useEffectEvent=cM;var NM={readContext:io,use:nA,useCallback:AM,useContext:io,useEffect:IN,useImperativeHandle:fM,useInsertionEffect:uM,useLayoutEffect:dM,useMemo:pM,useReducer:Bg,useRef:Qb,useState:function(){return Bg(cu)},useDebugValue:FN,useDeferredValue:function(h,g){var b=Vs();return Nr===null?kN(b,h,g):gM(b,Nr.memoizedState,h,g)},useTransition:function(){var h=Bg(cu)[0],g=Vs().memoizedState;return[typeof h=="boolean"?h:Vd(h),g]},useSyncExternalStore:Rg,useId:wM,useHostTransitionStatus:RN,useFormState:Pg,useActionState:Pg,useOptimistic:function(h,g){var b=Vs();return Nr!==null?Ub(b,Nr,h,g):(b.baseState=h,[h,b.queue.dispatch])},useMemoCache:jh,useCacheRefresh:bM};NM.useEffectEvent=cM;function PN(h,g,b,N){g=h.memoizedState,b=b(N,g),b=b==null?g:f({},g,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var MN={enqueueSetState:function(h,g,b){h=h._reactInternals;var N=Gc(),H=_r(N);H.payload=g,b!=null&&(H.callback=b),g=$r(h,H,N),g!==null&&(vc(g,h,N),qi(g,h,N))},enqueueReplaceState:function(h,g,b){h=h._reactInternals;var N=Gc(),H=_r(N);H.tag=1,H.payload=g,b!=null&&(H.callback=b),g=$r(h,H,N),g!==null&&(vc(g,h,N),qi(g,h,N))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var b=Gc(),N=_r(b);N.tag=2,g!=null&&(N.callback=g),g=$r(h,N,b),g!==null&&(vc(g,h,b),qi(g,h,b))}};function TM(h,g,b,N,H,q,Ae){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(N,q,Ae):g.prototype&&g.prototype.isPureReactComponent?!D(b,N)||!D(H,q):!0}function IM(h,g,b,N){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(b,N),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(b,N),g.state!==h&&MN.enqueueReplaceState(g,g.state,null)}function _0(h,g){var b=g;if("ref"in g){b={};for(var N in g)N!=="ref"&&(b[N]=g[N])}if(h=h.defaultProps){b===g&&(b=f({},b));for(var H in h)b[H]===void 0&&(b[H]=h[H])}return b}function FM(h){y0(h)}function kM(h){console.error(h)}function BM(h){y0(h)}function Wb(h,g){try{var b=h.onUncaughtError;b(g.value,{componentStack:g.stack})}catch(N){setTimeout(function(){throw N})}}function RM(h,g,b){try{var N=h.onCaughtError;N(b.value,{componentStack:b.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function LN(h,g,b){return b=_r(b),b.tag=3,b.payload={element:null},b.callback=function(){Wb(h,g)},b}function _M(h){return h=_r(h),h.tag=3,h}function DM(h,g,b,N){var H=b.type.getDerivedStateFromError;if(typeof H=="function"){var q=N.value;h.payload=function(){return H(q)},h.callback=function(){RM(g,b,N)}}var Ae=b.stateNode;Ae!==null&&typeof Ae.componentDidCatch=="function"&&(h.callback=function(){RM(g,b,N),typeof H!="function"&&(cA===null?cA=new Set([this]):cA.add(this));var De=N.stack;this.componentDidCatch(N.value,{componentStack:De!==null?De:""})})}function qse(h,g,b,N,H){if(b.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(g=b.alternate,g!==null&&jd(g,b,H,!0),b=Ds.current,b!==null){switch(b.tag){case 31:case 13:return ki===null?iy():b.alternate===null&&xa===0&&(xa=3),b.flags&=-257,b.flags|=65536,b.lanes=H,N===ht?b.flags|=16384:(g=b.updateQueue,g===null?b.updateQueue=new Set([N]):g.add(N),l4(h,N,H)),!1;case 22:return b.flags|=65536,N===ht?b.flags|=16384:(g=b.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([N])},b.updateQueue=g):(b=g.retryQueue,b===null?g.retryQueue=new Set([N]):b.add(N)),l4(h,N,H)),!1}throw Error(r(435,b.tag))}return l4(h,N,H),iy(),!1}if(fi)return g=Ds.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=H,N!==jc&&(h=Error(r(422),{cause:N}),Zf(lc(h,b)))):(N!==jc&&(g=Error(r(423),{cause:N}),Zf(lc(g,b))),h=h.current.alternate,h.flags|=65536,H&=-H,h.lanes|=H,N=lc(N,b),H=LN(h.stateNode,N,H),Ba(h,H),xa!==4&&(xa=2)),!1;var q=Error(r(520),{cause:N});if(q=lc(q,b),Sx===null?Sx=[q]:Sx.push(q),xa!==4&&(xa=2),g===null)return!0;N=lc(N,b),b=g;do{switch(b.tag){case 3:return b.flags|=65536,h=H&-H,b.lanes|=h,h=LN(b.stateNode,N,h),Ba(b,h),!1;case 1:if(g=b.type,q=b.stateNode,(b.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(cA===null||!cA.has(q))))return b.flags|=65536,H&=-H,b.lanes|=H,H=_M(H),DM(H,h,b,N),Ba(b,H),!1}b=b.return}while(b!==null);return!1}var ON=Error(r(461)),Va=!1;function Ko(h,g,b,N){g.child=h===null?zr(g,null,b,N):ws(g,h.child,b,N)}function PM(h,g,b,N,H){b=b.render;var q=g.ref;if("ref"in N){var Ae={};for(var De in N)De!=="ref"&&(Ae[De]=N[De])}else Ae=N;return Ud(g),N=lx(h,g,b,Ae,q,H),De=cx(),h!==null&&!Va?(ux(h,g,H),Gh(h,g,H)):(fi&&De&&ix(g),g.flags|=1,Ko(h,g,N,H),g.child)}function MM(h,g,b,N,H){if(h===null){var q=b.type;return typeof q=="function"&&!xg(q)&&q.defaultProps===void 0&&b.compare===null?(g.tag=15,g.type=q,LM(h,g,q,N,H)):(h=Yf(b.type,null,N,g,g.mode,H),h.ref=g.ref,h.return=g,g.child=h)}if(q=h.child,!WN(h,H)){var Ae=q.memoizedProps;if(b=b.compare,b=b!==null?b:D,b(Ae,N)&&h.ref===g.ref)return Gh(h,g,H)}return g.flags|=1,h=oc(q,N),h.ref=g.ref,h.return=g,g.child=h}function LM(h,g,b,N,H){if(h!==null){var q=h.memoizedProps;if(D(q,N)&&h.ref===g.ref)if(Va=!1,g.pendingProps=N=q,WN(h,H))(h.flags&131072)!==0&&(Va=!0);else return g.lanes=h.lanes,Gh(h,g,H)}return jN(h,g,b,N,H)}function OM(h,g,b,N){var H=N.children,q=h!==null?h.memoizedState:null;if(h===null&&g.stateNode===null&&(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),N.mode==="hidden"){if((g.flags&128)!==0){if(q=q!==null?q.baseLanes|b:b,h!==null){for(N=g.child=h.child,H=0;N!==null;)H=H|N.lanes|N.childLanes,N=N.sibling;N=H&~q}else N=0,g.child=null;return jM(h,g,q,b,N)}if((b&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},h!==null&&Ge(g,q!==null?q.cachePool:null),q!==null?_s(g,q):Oi(),pa(g);else return N=g.lanes=536870912,jM(h,g,q!==null?q.baseLanes|b:b,b,N)}else q!==null?(Ge(g,q.cachePool),_s(g,q),ga(),g.memoizedState=null):(h!==null&&Ge(g,null),Oi(),ga());return Ko(h,g,H,b),g.child}function mx(h,g){return h!==null&&h.tag===22||g.stateNode!==null||(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.sibling}function jM(h,g,b,N,H){var q=je();return q=q===null?null:{parent:na._currentValue,pool:q},g.memoizedState={baseLanes:b,cachePool:q},h!==null&&Ge(g,null),Oi(),pa(g),h!==null&&jd(h,g,N,!0),g.childLanes=H,null}function Kb(h,g){return g=$b({mode:g.mode,children:g.children},h.mode),g.ref=h.ref,h.child=g,g.return=h,g}function UM(h,g,b){return ws(g,h.child,null,b),h=Kb(g,g.pendingProps),h.flags|=2,ts(g),g.memoizedState=null,h}function $se(h,g,b){var N=g.pendingProps,H=(g.flags&128)!==0;if(g.flags&=-129,h===null){if(fi){if(N.mode==="hidden")return h=Kb(g,N),g.lanes=536870912,mx(null,h);if($i(g),(h=vs)?(h=J6(h,Hs),h=h!==null&&h.data==="&"?h:null,h!==null&&(g.memoizedState={dehydrated:h,treeContext:Pd!==null?{id:dc,overflow:hc}:null,retryLane:536870912,hydrationErrors:null},b=vg(h),b.return=g,g.child=b,no=g,vs=null)):h=null,h===null)throw Md(g);return g.lanes=536870912,null}return Kb(g,N)}var q=h.memoizedState;if(q!==null){var Ae=q.dehydrated;if($i(g),H)if(g.flags&256)g.flags&=-257,g=UM(h,g,b);else if(g.memoizedState!==null)g.child=h.child,g.flags|=128,g=null;else throw Error(r(558));else if(Va||jd(h,g,b,!1),H=(b&h.childLanes)!==0,Va||H){if(N=bs,N!==null&&(Ae=Si(N,b),Ae!==0&&Ae!==q.retryLane))throw q.retryLane=Ae,Xu(h,Ae),vc(N,h,Ae),ON;iy(),g=UM(h,g,b)}else h=q.treeContext,vs=du(Ae.nextSibling),no=g,fi=!0,zo=null,Hs=!1,h!==null&&Lb(g,h),g=Kb(g,N),g.flags|=4096;return g}return h=oc(h.child,{mode:N.mode,children:N.children}),h.ref=g.ref,g.child=h,h.return=g,h}function qb(h,g){var b=g.ref;if(b===null)h!==null&&h.ref!==null&&(g.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(h===null||h.ref!==b)&&(g.flags|=4194816)}}function jN(h,g,b,N,H){return Ud(g),b=lx(h,g,b,N,void 0,H),N=cx(),h!==null&&!Va?(ux(h,g,H),Gh(h,g,H)):(fi&&N&&ix(g),g.flags|=1,Ko(h,g,b,H),g.child)}function HM(h,g,b,N,H,q){return Ud(g),g.updateQueue=null,b=Zu(g,N,b,H),Ig(h),N=cx(),h!==null&&!Va?(ux(h,g,q),Gh(h,g,q)):(fi&&N&&ix(g),g.flags|=1,Ko(h,g,b,q),g.child)}function GM(h,g,b,N,H){if(Ud(g),g.stateNode===null){var q=to,Ae=b.contextType;typeof Ae=="object"&&Ae!==null&&(q=io(Ae)),q=new b(N,q),g.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=MN,g.stateNode=q,q._reactInternals=g,q=g.stateNode,q.props=N,q.state=g.memoizedState,q.refs={},Pn(g),Ae=b.contextType,q.context=typeof Ae=="object"&&Ae!==null?io(Ae):to,q.state=g.memoizedState,Ae=b.getDerivedStateFromProps,typeof Ae=="function"&&(PN(g,b,Ae,N),q.state=g.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(Ae=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),Ae!==q.state&&MN.enqueueReplaceState(q,q.state,null),fa(g,N,q,H),os(),q.state=g.memoizedState),typeof q.componentDidMount=="function"&&(g.flags|=4194308),N=!0}else if(h===null){q=g.stateNode;var De=g.memoizedProps,Ze=_0(b,De);q.props=Ze;var Ft=q.context,Yt=b.contextType;Ae=to,typeof Yt=="object"&&Yt!==null&&(Ae=io(Yt));var ln=b.getDerivedStateFromProps;Yt=typeof ln=="function"||typeof q.getSnapshotBeforeUpdate=="function",De=g.pendingProps!==De,Yt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(De||Ft!==Ae)&&IM(g,q,N,Ae),Zn=!1;var Dt=g.memoizedState;q.state=Dt,fa(g,N,q,H),os(),Ft=g.memoizedState,De||Dt!==Ft||Zn?(typeof ln=="function"&&(PN(g,b,ln,N),Ft=g.memoizedState),(Ze=Zn||TM(g,b,Ze,N,Dt,Ft,Ae))?(Yt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(g.flags|=4194308)):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=N,g.memoizedState=Ft),q.props=N,q.state=Ft,q.context=Ae,N=Ze):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),N=!1)}else{q=g.stateNode,Rs(h,g),Ae=g.memoizedProps,Yt=_0(b,Ae),q.props=Yt,ln=g.pendingProps,Dt=q.context,Ft=b.contextType,Ze=to,typeof Ft=="object"&&Ft!==null&&(Ze=io(Ft)),De=b.getDerivedStateFromProps,(Ft=typeof De=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Ae!==ln||Dt!==Ze)&&IM(g,q,N,Ze),Zn=!1,Dt=g.memoizedState,q.state=Dt,fa(g,N,q,H),os();var Ut=g.memoizedState;Ae!==ln||Dt!==Ut||Zn||h!==null&&h.dependencies!==null&&Sg(h.dependencies)?(typeof De=="function"&&(PN(g,b,De,N),Ut=g.memoizedState),(Yt=Zn||TM(g,b,Yt,N,Dt,Ut,Ze)||h!==null&&h.dependencies!==null&&Sg(h.dependencies))?(Ft||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(N,Ut,Ze),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(N,Ut,Ze)),typeof q.componentDidUpdate=="function"&&(g.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof q.componentDidUpdate!="function"||Ae===h.memoizedProps&&Dt===h.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Ae===h.memoizedProps&&Dt===h.memoizedState||(g.flags|=1024),g.memoizedProps=N,g.memoizedState=Ut),q.props=N,q.state=Ut,q.context=Ze,N=Yt):(typeof q.componentDidUpdate!="function"||Ae===h.memoizedProps&&Dt===h.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Ae===h.memoizedProps&&Dt===h.memoizedState||(g.flags|=1024),N=!1)}return q=N,qb(h,g),N=(g.flags&128)!==0,q||N?(q=g.stateNode,b=N&&typeof b.getDerivedStateFromError!="function"?null:q.render(),g.flags|=1,h!==null&&N?(g.child=ws(g,h.child,null,H),g.child=ws(g,null,b,H)):Ko(h,g,b,H),g.memoizedState=q.state,h=g.child):h=Gh(h,g,H),h}function VM(h,g,b,N){return Lh(),g.flags|=256,Ko(h,g,b,N),g.child}var UN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function HN(h){return{baseLanes:h,cachePool:qe()}}function GN(h,g,b){return h=h!==null?h.childLanes&~b:0,g&&(h|=Hc),h}function QM(h,g,b){var N=g.pendingProps,H=!1,q=(g.flags&128)!==0,Ae;if((Ae=q)||(Ae=h!==null&&h.memoizedState===null?!1:(Ei.current&2)!==0),Ae&&(H=!0,g.flags&=-129),Ae=(g.flags&32)!==0,g.flags&=-33,h===null){if(fi){if(H?ra(g):ga(),(h=vs)?(h=J6(h,Hs),h=h!==null&&h.data!=="&"?h:null,h!==null&&(g.memoizedState={dehydrated:h,treeContext:Pd!==null?{id:dc,overflow:hc}:null,retryLane:536870912,hydrationErrors:null},b=vg(h),b.return=g,g.child=b,no=g,vs=null)):h=null,h===null)throw Md(g);return S4(h)?g.lanes=32:g.lanes=536870912,null}var De=N.children;return N=N.fallback,H?(ga(),H=g.mode,De=$b({mode:"hidden",children:De},H),N=Dd(N,H,b,null),De.return=g,N.return=g,De.sibling=N,g.child=De,N=g.child,N.memoizedState=HN(b),N.childLanes=GN(h,Ae,b),g.memoizedState=UN,mx(null,N)):(ra(g),VN(g,De))}var Ze=h.memoizedState;if(Ze!==null&&(De=Ze.dehydrated,De!==null)){if(q)g.flags&256?(ra(g),g.flags&=-257,g=QN(h,g,b)):g.memoizedState!==null?(ga(),g.child=h.child,g.flags|=128,g=null):(ga(),De=N.fallback,H=g.mode,N=$b({mode:"visible",children:N.children},H),De=Dd(De,H,b,null),De.flags|=2,N.return=g,De.return=g,N.sibling=De,g.child=N,ws(g,h.child,null,b),N=g.child,N.memoizedState=HN(b),N.childLanes=GN(h,Ae,b),g.memoizedState=UN,g=mx(null,N));else if(ra(g),S4(De)){if(Ae=De.nextSibling&&De.nextSibling.dataset,Ae)var Ft=Ae.dgst;Ae=Ft,N=Error(r(419)),N.stack="",N.digest=Ae,Zf({value:N,source:null,stack:null}),g=QN(h,g,b)}else if(Va||jd(h,g,b,!1),Ae=(b&h.childLanes)!==0,Va||Ae){if(Ae=bs,Ae!==null&&(N=Si(Ae,b),N!==0&&N!==Ze.retryLane))throw Ze.retryLane=N,Xu(h,N),vc(Ae,h,N),ON;C4(De)||iy(),g=QN(h,g,b)}else C4(De)?(g.flags|=192,g.child=h.child,g=null):(h=Ze.treeContext,vs=du(De.nextSibling),no=g,fi=!0,zo=null,Hs=!1,h!==null&&Lb(g,h),g=VN(g,N.children),g.flags|=4096);return g}return H?(ga(),De=N.fallback,H=g.mode,Ze=h.child,Ft=Ze.sibling,N=oc(Ze,{mode:"hidden",children:N.children}),N.subtreeFlags=Ze.subtreeFlags&65011712,Ft!==null?De=oc(Ft,De):(De=Dd(De,H,b,null),De.flags|=2),De.return=g,N.return=g,N.sibling=De,g.child=N,mx(null,N),N=g.child,De=h.child.memoizedState,De===null?De=HN(b):(H=De.cachePool,H!==null?(Ze=na._currentValue,H=H.parent!==Ze?{parent:Ze,pool:Ze}:H):H=qe(),De={baseLanes:De.baseLanes|b,cachePool:H}),N.memoizedState=De,N.childLanes=GN(h,Ae,b),g.memoizedState=UN,mx(h.child,N)):(ra(g),b=h.child,h=b.sibling,b=oc(b,{mode:"visible",children:N.children}),b.return=g,b.sibling=null,h!==null&&(Ae=g.deletions,Ae===null?(g.deletions=[h],g.flags|=16):Ae.push(h)),g.child=b,g.memoizedState=null,b)}function VN(h,g){return g=$b({mode:"visible",children:g},h.mode),g.return=h,h.child=g}function $b(h,g){return h=Eo(22,h,null,g),h.lanes=0,h}function QN(h,g,b){return ws(g,h.child,null,b),h=VN(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function zM(h,g,b){h.lanes|=g;var N=h.alternate;N!==null&&(N.lanes|=g),eA(h.return,g,b)}function zN(h,g,b,N,H,q){var Ae=h.memoizedState;Ae===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:b,tailMode:H,treeForkCount:q}:(Ae.isBackwards=g,Ae.rendering=null,Ae.renderingStartTime=0,Ae.last=N,Ae.tail=b,Ae.tailMode=H,Ae.treeForkCount=q)}function WM(h,g,b){var N=g.pendingProps,H=N.revealOrder,q=N.tail;N=N.children;var Ae=Ei.current,De=(Ae&2)!==0;if(De?(Ae=Ae&1|2,g.flags|=128):Ae&=1,Y(Ei,Ae),Ko(h,g,N,b),N=fi?I0:0,!De&&h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&zM(h,b,g);else if(h.tag===19)zM(h,b,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(H){case"forwards":for(b=g.child,H=null;b!==null;)h=b.alternate,h!==null&&To(h)===null&&(H=b),b=b.sibling;b=H,b===null?(H=g.child,g.child=null):(H=b.sibling,b.sibling=null),zN(g,!1,H,b,q,N);break;case"backwards":case"unstable_legacy-backwards":for(b=null,H=g.child,g.child=null;H!==null;){if(h=H.alternate,h!==null&&To(h)===null){g.child=H;break}h=H.sibling,H.sibling=b,b=H,H=h}zN(g,!0,b,null,q,N);break;case"together":zN(g,!1,null,null,void 0,N);break;default:g.memoizedState=null}return g.child}function Gh(h,g,b){if(h!==null&&(g.dependencies=h.dependencies),lA|=g.lanes,(b&g.childLanes)===0)if(h!==null){if(jd(h,g,b,!1),(b&g.childLanes)===0)return null}else return null;if(h!==null&&g.child!==h.child)throw Error(r(153));if(g.child!==null){for(h=g.child,b=oc(h,h.pendingProps),g.child=b,b.return=g;h.sibling!==null;)h=h.sibling,b=b.sibling=oc(h,h.pendingProps),b.return=g;b.sibling=null}return g.child}function WN(h,g){return(h.lanes&g)!==0?!0:(h=h.dependencies,!!(h!==null&&Sg(h)))}function Yse(h,g,b){switch(g.tag){case 3:ke(g,g.stateNode.containerInfo),Od(g,na,h.memoizedState.cache),Lh();break;case 27:case 5:Ue(g);break;case 4:ke(g,g.stateNode.containerInfo);break;case 10:Od(g,g.type,g.memoizedProps.value);break;case 31:if(g.memoizedState!==null)return g.flags|=128,$i(g),null;break;case 13:var N=g.memoizedState;if(N!==null)return N.dehydrated!==null?(ra(g),g.flags|=128,null):(b&g.child.childLanes)!==0?QM(h,g,b):(ra(g),h=Gh(h,g,b),h!==null?h.sibling:null);ra(g);break;case 19:var H=(h.flags&128)!==0;if(N=(b&g.childLanes)!==0,N||(jd(h,g,b,!1),N=(b&g.childLanes)!==0),H){if(N)return WM(h,g,b);g.flags|=128}if(H=g.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),Y(Ei,Ei.current),N)break;return null;case 22:return g.lanes=0,OM(h,g,b,g.pendingProps);case 24:Od(g,na,h.memoizedState.cache)}return Gh(h,g,b)}function KM(h,g,b){if(h!==null)if(h.memoizedProps!==g.pendingProps)Va=!0;else{if(!WN(h,b)&&(g.flags&128)===0)return Va=!1,Yse(h,g,b);Va=(h.flags&131072)!==0}else Va=!1,fi&&(g.flags&1048576)!==0&&Mb(g,I0,g.index);switch(g.lanes=0,g.tag){case 16:e:{var N=g.pendingProps;if(h=St(g.elementType),g.type=h,typeof h=="function")xg(h)?(N=_0(h,N),g.tag=1,g=GM(null,g,h,N,b)):(g.tag=0,g=jN(null,g,h,N,b));else{if(h!=null){var H=h.$$typeof;if(H===P){g.tag=11,g=PM(null,g,h,N,b);break e}else if(H===L){g.tag=14,g=MM(null,g,h,N,b);break e}}throw g=ee(h)||h,Error(r(306,g,""))}}return g;case 0:return jN(h,g,g.type,g.pendingProps,b);case 1:return N=g.type,H=_0(N,g.pendingProps),GM(h,g,N,H,b);case 3:e:{if(ke(g,g.stateNode.containerInfo),h===null)throw Error(r(387));N=g.pendingProps;var q=g.memoizedState;H=q.element,Rs(h,g),fa(g,N,null,b);var Ae=g.memoizedState;if(N=Ae.cache,Od(g,na,N),N!==q.cache&&Oh(g,[na],b,!0),os(),N=Ae.element,q.isDehydrated)if(q={element:N,isDehydrated:!1,cache:Ae.cache},g.updateQueue.baseState=q,g.memoizedState=q,g.flags&256){g=VM(h,g,N,b);break e}else if(N!==H){H=lc(Error(r(424)),g),Zf(H),g=VM(h,g,N,b);break e}else{switch(h=g.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(vs=du(h.firstChild),no=g,fi=!0,zo=null,Hs=!0,b=zr(g,null,N,b),g.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(Lh(),N===H){g=Gh(h,g,b);break e}Ko(h,g,N,b)}g=g.child}return g;case 26:return qb(h,g),h===null?(b=iL(g.type,null,g.pendingProps,null))?g.memoizedState=b:fi||(b=g.type,h=g.pendingProps,N=dy(oe.current).createElement(b),N[Me]=g,N[He]=h,qo(N,b,h),On(N),g.stateNode=N):g.memoizedState=iL(g.type,h.memoizedProps,g.pendingProps,h.memoizedState),null;case 27:return Ue(g),h===null&&fi&&(N=g.stateNode=tL(g.type,g.pendingProps,oe.current),no=g,Hs=!0,H=vs,fA(g.type)?(E4=H,vs=du(N.firstChild)):vs=H),Ko(h,g,g.pendingProps.children,b),qb(h,g),h===null&&(g.flags|=4194304),g.child;case 5:return h===null&&fi&&((H=N=vs)&&(N=Nae(N,g.type,g.pendingProps,Hs),N!==null?(g.stateNode=N,no=g,vs=du(N.firstChild),Hs=!1,H=!0):H=!1),H||Md(g)),Ue(g),H=g.type,q=g.pendingProps,Ae=h!==null?h.memoizedProps:null,N=q.children,w4(H,q)?N=null:Ae!==null&&w4(H,Ae)&&(g.flags|=32),g.memoizedState!==null&&(H=lx(h,g,TN,null,null,b),Rx._currentValue=H),qb(h,g),Ko(h,g,N,b),g.child;case 6:return h===null&&fi&&((h=b=vs)&&(b=Tae(b,g.pendingProps,Hs),b!==null?(g.stateNode=b,no=g,vs=null,h=!0):h=!1),h||Md(g)),null;case 13:return QM(h,g,b);case 4:return ke(g,g.stateNode.containerInfo),N=g.pendingProps,h===null?g.child=ws(g,null,N,b):Ko(h,g,N,b),g.child;case 11:return PM(h,g,g.type,g.pendingProps,b);case 7:return Ko(h,g,g.pendingProps,b),g.child;case 8:return Ko(h,g,g.pendingProps.children,b),g.child;case 12:return Ko(h,g,g.pendingProps.children,b),g.child;case 10:return N=g.pendingProps,Od(g,g.type,N.value),Ko(h,g,N.children,b),g.child;case 9:return H=g.type._context,N=g.pendingProps.children,Ud(g),H=io(H),N=N(H),g.flags|=1,Ko(h,g,N,b),g.child;case 14:return MM(h,g,g.type,g.pendingProps,b);case 15:return LM(h,g,g.type,g.pendingProps,b);case 19:return WM(h,g,b);case 31:return $se(h,g,b);case 22:return OM(h,g,b,g.pendingProps);case 24:return Ud(g),N=io(na),h===null?(H=je(),H===null&&(H=bs,q=tA(),H.pooledCache=q,q.refCount++,q!==null&&(H.pooledCacheLanes|=b),H=q),g.memoizedState={parent:N,cache:H},Pn(g),Od(g,na,H)):((h.lanes&b)!==0&&(Rs(h,g),fa(g,null,null,b),os()),H=h.memoizedState,q=g.memoizedState,H.parent!==N?(H={parent:N,cache:N},g.memoizedState=H,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=H),Od(g,na,N)):(N=q.cache,Od(g,na,N),N!==H.cache&&Oh(g,[na],b,!0))),Ko(h,g,g.pendingProps.children,b),g.child;case 29:throw g.pendingProps}throw Error(r(156,g.tag))}function Vh(h){h.flags|=4}function KN(h,g,b,N,H){if((g=(h.mode&32)!==0)&&(g=!1),g){if(h.flags|=16777216,(H&335544128)===H)if(h.stateNode.complete)h.flags|=8192;else if(w6())h.flags|=8192;else throw Vt=ht,Et}else h.flags&=-16777217}function qM(h,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!cL(g))if(w6())h.flags|=8192;else throw Vt=ht,Et}function Yb(h,g){g!==null&&(h.flags|=4),h.flags&16384&&(g=h.tag!==22?ii():536870912,h.lanes|=g,jg|=g)}function xx(h,g){if(!fi)switch(h.tailMode){case"hidden":g=h.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var N=null;b!==null;)b.alternate!==null&&(N=b),b=b.sibling;N===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:N.sibling=null}}function Ps(h){var g=h.alternate!==null&&h.alternate.child===h.child,b=0,N=0;if(g)for(var H=h.child;H!==null;)b|=H.lanes|H.childLanes,N|=H.subtreeFlags&65011712,N|=H.flags&65011712,H.return=h,H=H.sibling;else for(H=h.child;H!==null;)b|=H.lanes|H.childLanes,N|=H.subtreeFlags,N|=H.flags,H.return=h,H=H.sibling;return h.subtreeFlags|=N,h.childLanes=b,g}function Xse(h,g,b){var N=g.pendingProps;switch(yg(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(g),null;case 1:return Ps(g),null;case 3:return b=g.stateNode,N=null,h!==null&&(N=h.memoizedState.cache),g.memoizedState.cache!==N&&(g.flags|=2048),fc(na),Ne(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(ro(g)?Vh(g):h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,ax())),Ps(g),null;case 26:var H=g.type,q=g.memoizedState;return h===null?(Vh(g),q!==null?(Ps(g),qM(g,q)):(Ps(g),KN(g,H,null,N,b))):q?q!==h.memoizedState?(Vh(g),Ps(g),qM(g,q)):(Ps(g),g.flags&=-16777217):(h=h.memoizedProps,h!==N&&Vh(g),Ps(g),KN(g,H,h,N,b)),null;case 27:if(Ye(g),b=oe.current,H=g.type,h!==null&&g.stateNode!=null)h.memoizedProps!==N&&Vh(g);else{if(!N){if(g.stateNode===null)throw Error(r(166));return Ps(g),null}h=X.current,ro(g)?sx(g):(h=tL(H,N,b),g.stateNode=h,Vh(g))}return Ps(g),null;case 5:if(Ye(g),H=g.type,h!==null&&g.stateNode!=null)h.memoizedProps!==N&&Vh(g);else{if(!N){if(g.stateNode===null)throw Error(r(166));return Ps(g),null}if(q=X.current,ro(g))sx(g);else{var Ae=dy(oe.current);switch(q){case 1:q=Ae.createElementNS("http://www.w3.org/2000/svg",H);break;case 2:q=Ae.createElementNS("http://www.w3.org/1998/Math/MathML",H);break;default:switch(H){case"svg":q=Ae.createElementNS("http://www.w3.org/2000/svg",H);break;case"math":q=Ae.createElementNS("http://www.w3.org/1998/Math/MathML",H);break;case"script":q=Ae.createElement("div"),q.innerHTML="<script><\/script>",q=q.removeChild(q.firstChild);break;case"select":q=typeof N.is=="string"?Ae.createElement("select",{is:N.is}):Ae.createElement("select"),N.multiple?q.multiple=!0:N.size&&(q.size=N.size);break;default:q=typeof N.is=="string"?Ae.createElement(H,{is:N.is}):Ae.createElement(H)}}q[Me]=g,q[He]=N;e:for(Ae=g.child;Ae!==null;){if(Ae.tag===5||Ae.tag===6)q.appendChild(Ae.stateNode);else if(Ae.tag!==4&&Ae.tag!==27&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===g)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===g)break e;Ae=Ae.return}Ae.sibling.return=Ae.return,Ae=Ae.sibling}g.stateNode=q;e:switch(qo(q,H,N),H){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}N&&Vh(g)}}return Ps(g),KN(g,g.type,h===null?null:h.memoizedProps,g.pendingProps,b),null;case 6:if(h&&g.stateNode!=null)h.memoizedProps!==N&&Vh(g);else{if(typeof N!="string"&&g.stateNode===null)throw Error(r(166));if(h=oe.current,ro(g)){if(h=g.stateNode,b=g.memoizedProps,N=null,H=no,H!==null)switch(H.tag){case 27:case 5:N=H.memoizedProps}h[Me]=g,h=!!(h.nodeValue===b||N!==null&&N.suppressHydrationWarning===!0||Q6(h.nodeValue,b)),h||Md(g,!0)}else h=dy(h).createTextNode(N),h[Me]=g,g.stateNode=h}return Ps(g),null;case 31:if(b=g.memoizedState,h===null||h.memoizedState!==null){if(N=ro(g),b!==null){if(h===null){if(!N)throw Error(r(318));if(h=g.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(557));h[Me]=g}else Lh(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ps(g),h=!1}else b=ax(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=b),h=!0;if(!h)return g.flags&256?(ts(g),g):(ts(g),null);if((g.flags&128)!==0)throw Error(r(558))}return Ps(g),null;case 13:if(N=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(H=ro(g),N!==null&&N.dehydrated!==null){if(h===null){if(!H)throw Error(r(318));if(H=g.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(r(317));H[Me]=g}else Lh(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ps(g),H=!1}else H=ax(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=H),H=!0;if(!H)return g.flags&256?(ts(g),g):(ts(g),null)}return ts(g),(g.flags&128)!==0?(g.lanes=b,g):(b=N!==null,h=h!==null&&h.memoizedState!==null,b&&(N=g.child,H=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(H=N.alternate.memoizedState.cachePool.pool),q=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(q=N.memoizedState.cachePool.pool),q!==H&&(N.flags|=2048)),b!==h&&b&&(g.child.flags|=8192),Yb(g,g.updateQueue),Ps(g),null);case 4:return Ne(),h===null&&p4(g.stateNode.containerInfo),Ps(g),null;case 10:return fc(g.type),Ps(g),null;case 19:if(Q(Ei),N=g.memoizedState,N===null)return Ps(g),null;if(H=(g.flags&128)!==0,q=N.rendering,q===null)if(H)xx(N,!1);else{if(xa!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(q=To(h),q!==null){for(g.flags|=128,xx(N,!1),h=q.updateQueue,g.updateQueue=h,Yb(g,h),g.subtreeFlags=0,h=b,b=g.child;b!==null;)N0(b,h),b=b.sibling;return Y(Ei,Ei.current&1|2),fi&&jl(g,N.treeForkCount),g.child}h=h.sibling}N.tail!==null&&Cn()>ty&&(g.flags|=128,H=!0,xx(N,!1),g.lanes=4194304)}else{if(!H)if(h=To(q),h!==null){if(g.flags|=128,H=!0,h=h.updateQueue,g.updateQueue=h,Yb(g,h),xx(N,!0),N.tail===null&&N.tailMode==="hidden"&&!q.alternate&&!fi)return Ps(g),null}else 2*Cn()-N.renderingStartTime>ty&&b!==536870912&&(g.flags|=128,H=!0,xx(N,!1),g.lanes=4194304);N.isBackwards?(q.sibling=g.child,g.child=q):(h=N.last,h!==null?h.sibling=q:g.child=q,N.last=q)}return N.tail!==null?(h=N.tail,N.rendering=h,N.tail=h.sibling,N.renderingStartTime=Cn(),h.sibling=null,b=Ei.current,Y(Ei,H?b&1|2:b&1),fi&&jl(g,N.treeForkCount),h):(Ps(g),null);case 22:case 23:return ts(g),Ra(),N=g.memoizedState!==null,h!==null?h.memoizedState!==null!==N&&(g.flags|=8192):N&&(g.flags|=8192),N?(b&536870912)!==0&&(g.flags&128)===0&&(Ps(g),g.subtreeFlags&6&&(g.flags|=8192)):Ps(g),b=g.updateQueue,b!==null&&Yb(g,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==b&&(g.flags|=2048),h!==null&&Q(Re),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),g.memoizedState.cache!==b&&(g.flags|=2048),fc(na),Ps(g),null;case 25:return null;case 30:return null}throw Error(r(156,g.tag))}function Jse(h,g){switch(yg(g),g.tag){case 1:return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return fc(na),Ne(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 26:case 27:case 5:return Ye(g),null;case 31:if(g.memoizedState!==null){if(ts(g),g.alternate===null)throw Error(r(340));Lh()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 13:if(ts(g),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(r(340));Lh()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return Q(Ei),null;case 4:return Ne(),null;case 10:return fc(g.type),null;case 22:case 23:return ts(g),Ra(),h!==null&&Q(Re),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 24:return fc(na),null;case 25:return null;default:return null}}function $M(h,g){switch(yg(g),g.tag){case 3:fc(na),Ne();break;case 26:case 27:case 5:Ye(g);break;case 4:Ne();break;case 31:g.memoizedState!==null&&ts(g);break;case 13:ts(g);break;case 19:Q(Ei);break;case 10:fc(g.type);break;case 22:case 23:ts(g),Ra(),h!==null&&Q(Re);break;case 24:fc(na)}}function vx(h,g){try{var b=g.updateQueue,N=b!==null?b.lastEffect:null;if(N!==null){var H=N.next;b=H;do{if((b.tag&h)===h){N=void 0;var q=b.create,Ae=b.inst;N=q(),Ae.destroy=N}b=b.next}while(b!==H)}}catch(De){rs(g,g.return,De)}}function aA(h,g,b){try{var N=g.updateQueue,H=N!==null?N.lastEffect:null;if(H!==null){var q=H.next;N=q;do{if((N.tag&h)===h){var Ae=N.inst,De=Ae.destroy;if(De!==void 0){Ae.destroy=void 0,H=g;var Ze=b,Ft=De;try{Ft()}catch(Yt){rs(H,Ze,Yt)}}}N=N.next}while(N!==q)}}catch(Yt){rs(g,g.return,Yt)}}function YM(h){var g=h.updateQueue;if(g!==null){var b=h.stateNode;try{Aa(g,b)}catch(N){rs(h,h.return,N)}}}function XM(h,g,b){b.props=_0(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(N){rs(h,g,N)}}function wx(h,g){try{var b=h.ref;if(b!==null){switch(h.tag){case 26:case 27:case 5:var N=h.stateNode;break;case 30:N=h.stateNode;break;default:N=h.stateNode}typeof b=="function"?h.refCleanup=b(N):b.current=N}}catch(H){rs(h,g,H)}}function zd(h,g){var b=h.ref,N=h.refCleanup;if(b!==null)if(typeof N=="function")try{N()}catch(H){rs(h,g,H)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(H){rs(h,g,H)}else b.current=null}function JM(h){var g=h.type,b=h.memoizedProps,N=h.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":b.autoFocus&&N.focus();break e;case"img":b.src?N.src=b.src:b.srcSet&&(N.srcset=b.srcSet)}}catch(H){rs(h,h.return,H)}}function qN(h,g,b){try{var N=h.stateNode;wae(N,h.type,b,g),N[He]=g}catch(H){rs(h,h.return,H)}}function ZM(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&fA(h.type)||h.tag===4}function $N(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||ZM(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&fA(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function YN(h,g,b){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(h,g):(g=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,g.appendChild(h),b=b._reactRootContainer,b!=null||g.onclick!==null||(g.onclick=Lr));else if(N!==4&&(N===27&&fA(h.type)&&(b=h.stateNode,g=null),h=h.child,h!==null))for(YN(h,g,b),h=h.sibling;h!==null;)YN(h,g,b),h=h.sibling}function Xb(h,g,b){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?b.insertBefore(h,g):b.appendChild(h);else if(N!==4&&(N===27&&fA(h.type)&&(b=h.stateNode),h=h.child,h!==null))for(Xb(h,g,b),h=h.sibling;h!==null;)Xb(h,g,b),h=h.sibling}function e6(h){var g=h.stateNode,b=h.memoizedProps;try{for(var N=h.type,H=g.attributes;H.length;)g.removeAttributeNode(H[0]);qo(g,N,b),g[Me]=h,g[He]=b}catch(q){rs(h,h.return,q)}}var Qh=!1,Qa=!1,XN=!1,t6=typeof WeakSet=="function"?WeakSet:Set,Io=null;function Zse(h,g){if(h=h.containerInfo,x4=xy,h=be(h),Ie(h)){if("selectionStart"in h)var b={start:h.selectionStart,end:h.selectionEnd};else e:{b=(b=h.ownerDocument)&&b.defaultView||window;var N=b.getSelection&&b.getSelection();if(N&&N.rangeCount!==0){b=N.anchorNode;var H=N.anchorOffset,q=N.focusNode;N=N.focusOffset;try{b.nodeType,q.nodeType}catch{b=null;break e}var Ae=0,De=-1,Ze=-1,Ft=0,Yt=0,ln=h,Dt=null;t:for(;;){for(var Ut;ln!==b||H!==0&&ln.nodeType!==3||(De=Ae+H),ln!==q||N!==0&&ln.nodeType!==3||(Ze=Ae+N),ln.nodeType===3&&(Ae+=ln.nodeValue.length),(Ut=ln.firstChild)!==null;)Dt=ln,ln=Ut;for(;;){if(ln===h)break t;if(Dt===b&&++Ft===H&&(De=Ae),Dt===q&&++Yt===N&&(Ze=Ae),(Ut=ln.nextSibling)!==null)break;ln=Dt,Dt=ln.parentNode}ln=Ut}b=De===-1||Ze===-1?null:{start:De,end:Ze}}else b=null}b=b||{start:0,end:0}}else b=null;for(v4={focusedElem:h,selectionRange:b},xy=!1,Io=g;Io!==null;)if(g=Io,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,Io=h;else for(;Io!==null;){switch(g=Io,q=g.alternate,h=g.flags,g.tag){case 0:if((h&4)!==0&&(h=g.updateQueue,h=h!==null?h.events:null,h!==null))for(b=0;b<h.length;b++)H=h[b],H.ref.impl=H.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&q!==null){h=void 0,b=g,H=q.memoizedProps,q=q.memoizedState,N=b.stateNode;try{var dr=_0(b.type,H);h=N.getSnapshotBeforeUpdate(dr,q),N.__reactInternalSnapshotBeforeUpdate=h}catch(Mr){rs(b,b.return,Mr)}}break;case 3:if((h&1024)!==0){if(h=g.stateNode.containerInfo,b=h.nodeType,b===9)y4(h);else if(b===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":y4(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=g.sibling,h!==null){h.return=g.return,Io=h;break}Io=g.return}}function n6(h,g,b){var N=b.flags;switch(b.tag){case 0:case 11:case 15:Wh(h,b),N&4&&vx(5,b);break;case 1:if(Wh(h,b),N&4)if(h=b.stateNode,g===null)try{h.componentDidMount()}catch(Ae){rs(b,b.return,Ae)}else{var H=_0(b.type,g.memoizedProps);g=g.memoizedState;try{h.componentDidUpdate(H,g,h.__reactInternalSnapshotBeforeUpdate)}catch(Ae){rs(b,b.return,Ae)}}N&64&&YM(b),N&512&&wx(b,b.return);break;case 3:if(Wh(h,b),N&64&&(h=b.updateQueue,h!==null)){if(g=null,b.child!==null)switch(b.child.tag){case 27:case 5:g=b.child.stateNode;break;case 1:g=b.child.stateNode}try{Aa(h,g)}catch(Ae){rs(b,b.return,Ae)}}break;case 27:g===null&&N&4&&e6(b);case 26:case 5:Wh(h,b),g===null&&N&4&&JM(b),N&512&&wx(b,b.return);break;case 12:Wh(h,b);break;case 31:Wh(h,b),N&4&&s6(h,b);break;case 13:Wh(h,b),N&4&&a6(h,b),N&64&&(h=b.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(b=lae.bind(null,b),Iae(h,b))));break;case 22:if(N=b.memoizedState!==null||Qh,!N){g=g!==null&&g.memoizedState!==null||Qa,H=Qh;var q=Qa;Qh=N,(Qa=g)&&!q?Kh(h,b,(b.subtreeFlags&8772)!==0):Wh(h,b),Qh=H,Qa=q}break;case 30:break;default:Wh(h,b)}}function r6(h){var g=h.alternate;g!==null&&(h.alternate=null,r6(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&Xt(g)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Qs=null,pc=!1;function zh(h,g,b){for(b=b.child;b!==null;)i6(h,g,b),b=b.sibling}function i6(h,g,b){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Tn,b)}catch{}switch(b.tag){case 26:Qa||zd(b,g),zh(h,g,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:Qa||zd(b,g);var N=Qs,H=pc;fA(b.type)&&(Qs=b.stateNode,pc=!1),zh(h,g,b),Fx(b.stateNode),Qs=N,pc=H;break;case 5:Qa||zd(b,g);case 6:if(N=Qs,H=pc,Qs=null,zh(h,g,b),Qs=N,pc=H,Qs!==null)if(pc)try{(Qs.nodeType===9?Qs.body:Qs.nodeName==="HTML"?Qs.ownerDocument.body:Qs).removeChild(b.stateNode)}catch(q){rs(b,g,q)}else try{Qs.removeChild(b.stateNode)}catch(q){rs(b,g,q)}break;case 18:Qs!==null&&(pc?(h=Qs,Y6(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,b.stateNode),Kg(h)):Y6(Qs,b.stateNode));break;case 4:N=Qs,H=pc,Qs=b.stateNode.containerInfo,pc=!0,zh(h,g,b),Qs=N,pc=H;break;case 0:case 11:case 14:case 15:aA(2,b,g),Qa||aA(4,b,g),zh(h,g,b);break;case 1:Qa||(zd(b,g),N=b.stateNode,typeof N.componentWillUnmount=="function"&&XM(b,g,N)),zh(h,g,b);break;case 21:zh(h,g,b);break;case 22:Qa=(N=Qa)||b.memoizedState!==null,zh(h,g,b),Qa=N;break;default:zh(h,g,b)}}function s6(h,g){if(g.memoizedState===null&&(h=g.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{Kg(h)}catch(b){rs(g,g.return,b)}}}function a6(h,g){if(g.memoizedState===null&&(h=g.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Kg(h)}catch(b){rs(g,g.return,b)}}function eae(h){switch(h.tag){case 31:case 13:case 19:var g=h.stateNode;return g===null&&(g=h.stateNode=new t6),g;case 22:return h=h.stateNode,g=h._retryCache,g===null&&(g=h._retryCache=new t6),g;default:throw Error(r(435,h.tag))}}function Jb(h,g){var b=eae(h);g.forEach(function(N){if(!b.has(N)){b.add(N);var H=cae.bind(null,h,N);N.then(H,H)}})}function gc(h,g){var b=g.deletions;if(b!==null)for(var N=0;N<b.length;N++){var H=b[N],q=h,Ae=g,De=Ae;e:for(;De!==null;){switch(De.tag){case 27:if(fA(De.type)){Qs=De.stateNode,pc=!1;break e}break;case 5:Qs=De.stateNode,pc=!1;break e;case 3:case 4:Qs=De.stateNode.containerInfo,pc=!0;break e}De=De.return}if(Qs===null)throw Error(r(160));i6(q,Ae,H),Qs=null,pc=!1,q=H.alternate,q!==null&&(q.return=null),H.return=null}if(g.subtreeFlags&13886)for(g=g.child;g!==null;)o6(g,h),g=g.sibling}var rd=null;function o6(h,g){var b=h.alternate,N=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:gc(g,h),mc(h),N&4&&(aA(3,h,h.return),vx(3,h),aA(5,h,h.return));break;case 1:gc(g,h),mc(h),N&512&&(Qa||b===null||zd(b,b.return)),N&64&&Qh&&(h=h.updateQueue,h!==null&&(N=h.callbacks,N!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?N:b.concat(N))));break;case 26:var H=rd;if(gc(g,h),mc(h),N&512&&(Qa||b===null||zd(b,b.return)),N&4){var q=b!==null?b.memoizedState:null;if(N=h.memoizedState,b===null)if(N===null)if(h.stateNode===null){e:{N=h.type,b=h.memoizedProps,H=H.ownerDocument||H;t:switch(N){case"title":q=H.getElementsByTagName("title")[0],(!q||q[bt]||q[Me]||q.namespaceURI==="http://www.w3.org/2000/svg"||q.hasAttribute("itemprop"))&&(q=H.createElement(N),H.head.insertBefore(q,H.querySelector("head > title"))),qo(q,N,b),q[Me]=h,On(q),N=q;break e;case"link":var Ae=oL("link","href",H).get(N+(b.href||""));if(Ae){for(var De=0;De<Ae.length;De++)if(q=Ae[De],q.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&q.getAttribute("rel")===(b.rel==null?null:b.rel)&&q.getAttribute("title")===(b.title==null?null:b.title)&&q.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){Ae.splice(De,1);break t}}q=H.createElement(N),qo(q,N,b),H.head.appendChild(q);break;case"meta":if(Ae=oL("meta","content",H).get(N+(b.content||""))){for(De=0;De<Ae.length;De++)if(q=Ae[De],q.getAttribute("content")===(b.content==null?null:""+b.content)&&q.getAttribute("name")===(b.name==null?null:b.name)&&q.getAttribute("property")===(b.property==null?null:b.property)&&q.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&q.getAttribute("charset")===(b.charSet==null?null:b.charSet)){Ae.splice(De,1);break t}}q=H.createElement(N),qo(q,N,b),H.head.appendChild(q);break;default:throw Error(r(468,N))}q[Me]=h,On(q),N=q}h.stateNode=N}else lL(H,h.type,h.stateNode);else h.stateNode=aL(H,N,h.memoizedProps);else q!==N?(q===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):q.count--,N===null?lL(H,h.type,h.stateNode):aL(H,N,h.memoizedProps)):N===null&&h.stateNode!==null&&qN(h,h.memoizedProps,b.memoizedProps)}break;case 27:gc(g,h),mc(h),N&512&&(Qa||b===null||zd(b,b.return)),b!==null&&N&4&&qN(h,h.memoizedProps,b.memoizedProps);break;case 5:if(gc(g,h),mc(h),N&512&&(Qa||b===null||zd(b,b.return)),h.flags&32){H=h.stateNode;try{En(H,"")}catch(dr){rs(h,h.return,dr)}}N&4&&h.stateNode!=null&&(H=h.memoizedProps,qN(h,H,b!==null?b.memoizedProps:H)),N&1024&&(XN=!0);break;case 6:if(gc(g,h),mc(h),N&4){if(h.stateNode===null)throw Error(r(162));N=h.memoizedProps,b=h.stateNode;try{b.nodeValue=N}catch(dr){rs(h,h.return,dr)}}break;case 3:if(Ay=null,H=rd,rd=hy(g.containerInfo),gc(g,h),rd=H,mc(h),N&4&&b!==null&&b.memoizedState.isDehydrated)try{Kg(g.containerInfo)}catch(dr){rs(h,h.return,dr)}XN&&(XN=!1,l6(h));break;case 4:N=rd,rd=hy(h.stateNode.containerInfo),gc(g,h),mc(h),rd=N;break;case 12:gc(g,h),mc(h);break;case 31:gc(g,h),mc(h),N&4&&(N=h.updateQueue,N!==null&&(h.updateQueue=null,Jb(h,N)));break;case 13:gc(g,h),mc(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(ey=Cn()),N&4&&(N=h.updateQueue,N!==null&&(h.updateQueue=null,Jb(h,N)));break;case 22:H=h.memoizedState!==null;var Ze=b!==null&&b.memoizedState!==null,Ft=Qh,Yt=Qa;if(Qh=Ft||H,Qa=Yt||Ze,gc(g,h),Qa=Yt,Qh=Ft,mc(h),N&8192)e:for(g=h.stateNode,g._visibility=H?g._visibility&-2:g._visibility|1,H&&(b===null||Ze||Qh||Qa||D0(h)),b=null,g=h;;){if(g.tag===5||g.tag===26){if(b===null){Ze=b=g;try{if(q=Ze.stateNode,H)Ae=q.style,typeof Ae.setProperty=="function"?Ae.setProperty("display","none","important"):Ae.display="none";else{De=Ze.stateNode;var ln=Ze.memoizedProps.style,Dt=ln!=null&&ln.hasOwnProperty("display")?ln.display:null;De.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(dr){rs(Ze,Ze.return,dr)}}}else if(g.tag===6){if(b===null){Ze=g;try{Ze.stateNode.nodeValue=H?"":Ze.memoizedProps}catch(dr){rs(Ze,Ze.return,dr)}}}else if(g.tag===18){if(b===null){Ze=g;try{var Ut=Ze.stateNode;H?X6(Ut,!0):X6(Ze.stateNode,!1)}catch(dr){rs(Ze,Ze.return,dr)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===h)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break e;for(;g.sibling===null;){if(g.return===null||g.return===h)break e;b===g&&(b=null),g=g.return}b===g&&(b=null),g.sibling.return=g.return,g=g.sibling}N&4&&(N=h.updateQueue,N!==null&&(b=N.retryQueue,b!==null&&(N.retryQueue=null,Jb(h,b))));break;case 19:gc(g,h),mc(h),N&4&&(N=h.updateQueue,N!==null&&(h.updateQueue=null,Jb(h,N)));break;case 30:break;case 21:break;default:gc(g,h),mc(h)}}function mc(h){var g=h.flags;if(g&2){try{for(var b,N=h.return;N!==null;){if(ZM(N)){b=N;break}N=N.return}if(b==null)throw Error(r(160));switch(b.tag){case 27:var H=b.stateNode,q=$N(h);Xb(h,q,H);break;case 5:var Ae=b.stateNode;b.flags&32&&(En(Ae,""),b.flags&=-33);var De=$N(h);Xb(h,De,Ae);break;case 3:case 4:var Ze=b.stateNode.containerInfo,Ft=$N(h);YN(h,Ft,Ze);break;default:throw Error(r(161))}}catch(Yt){rs(h,h.return,Yt)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function l6(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var g=h;l6(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),h=h.sibling}}function Wh(h,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)n6(h,g.alternate,g),g=g.sibling}function D0(h){for(h=h.child;h!==null;){var g=h;switch(g.tag){case 0:case 11:case 14:case 15:aA(4,g,g.return),D0(g);break;case 1:zd(g,g.return);var b=g.stateNode;typeof b.componentWillUnmount=="function"&&XM(g,g.return,b),D0(g);break;case 27:Fx(g.stateNode);case 26:case 5:zd(g,g.return),D0(g);break;case 22:g.memoizedState===null&&D0(g);break;case 30:D0(g);break;default:D0(g)}h=h.sibling}}function Kh(h,g,b){for(b=b&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var N=g.alternate,H=h,q=g,Ae=q.flags;switch(q.tag){case 0:case 11:case 15:Kh(H,q,b),vx(4,q);break;case 1:if(Kh(H,q,b),N=q,H=N.stateNode,typeof H.componentDidMount=="function")try{H.componentDidMount()}catch(Ft){rs(N,N.return,Ft)}if(N=q,H=N.updateQueue,H!==null){var De=N.stateNode;try{var Ze=H.shared.hiddenCallbacks;if(Ze!==null)for(H.shared.hiddenCallbacks=null,H=0;H<Ze.length;H++)No(Ze[H],De)}catch(Ft){rs(N,N.return,Ft)}}b&&Ae&64&&YM(q),wx(q,q.return);break;case 27:e6(q);case 26:case 5:Kh(H,q,b),b&&N===null&&Ae&4&&JM(q),wx(q,q.return);break;case 12:Kh(H,q,b);break;case 31:Kh(H,q,b),b&&Ae&4&&s6(H,q);break;case 13:Kh(H,q,b),b&&Ae&4&&a6(H,q);break;case 22:q.memoizedState===null&&Kh(H,q,b),wx(q,q.return);break;case 30:break;default:Kh(H,q,b)}g=g.sibling}}function JN(h,g){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(h=g.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&F0(b))}function ZN(h,g){h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&F0(h))}function id(h,g,b,N){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)c6(h,g,b,N),g=g.sibling}function c6(h,g,b,N){var H=g.flags;switch(g.tag){case 0:case 11:case 15:id(h,g,b,N),H&2048&&vx(9,g);break;case 1:id(h,g,b,N);break;case 3:id(h,g,b,N),H&2048&&(h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&F0(h)));break;case 12:if(H&2048){id(h,g,b,N),h=g.stateNode;try{var q=g.memoizedProps,Ae=q.id,De=q.onPostCommit;typeof De=="function"&&De(Ae,g.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ze){rs(g,g.return,Ze)}}else id(h,g,b,N);break;case 31:id(h,g,b,N);break;case 13:id(h,g,b,N);break;case 23:break;case 22:q=g.stateNode,Ae=g.alternate,g.memoizedState!==null?q._visibility&2?id(h,g,b,N):bx(h,g):q._visibility&2?id(h,g,b,N):(q._visibility|=2,Mg(h,g,b,N,(g.subtreeFlags&10256)!==0||!1)),H&2048&&JN(Ae,g);break;case 24:id(h,g,b,N),H&2048&&ZN(g.alternate,g);break;default:id(h,g,b,N)}}function Mg(h,g,b,N,H){for(H=H&&((g.subtreeFlags&10256)!==0||!1),g=g.child;g!==null;){var q=h,Ae=g,De=b,Ze=N,Ft=Ae.flags;switch(Ae.tag){case 0:case 11:case 15:Mg(q,Ae,De,Ze,H),vx(8,Ae);break;case 23:break;case 22:var Yt=Ae.stateNode;Ae.memoizedState!==null?Yt._visibility&2?Mg(q,Ae,De,Ze,H):bx(q,Ae):(Yt._visibility|=2,Mg(q,Ae,De,Ze,H)),H&&Ft&2048&&JN(Ae.alternate,Ae);break;case 24:Mg(q,Ae,De,Ze,H),H&&Ft&2048&&ZN(Ae.alternate,Ae);break;default:Mg(q,Ae,De,Ze,H)}g=g.sibling}}function bx(h,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var b=h,N=g,H=N.flags;switch(N.tag){case 22:bx(b,N),H&2048&&JN(N.alternate,N);break;case 24:bx(b,N),H&2048&&ZN(N.alternate,N);break;default:bx(b,N)}g=g.sibling}}var yx=8192;function Lg(h,g,b){if(h.subtreeFlags&yx)for(h=h.child;h!==null;)u6(h,g,b),h=h.sibling}function u6(h,g,b){switch(h.tag){case 26:Lg(h,g,b),h.flags&yx&&h.memoizedState!==null&&Uae(b,rd,h.memoizedState,h.memoizedProps);break;case 5:Lg(h,g,b);break;case 3:case 4:var N=rd;rd=hy(h.stateNode.containerInfo),Lg(h,g,b),rd=N;break;case 22:h.memoizedState===null&&(N=h.alternate,N!==null&&N.memoizedState!==null?(N=yx,yx=16777216,Lg(h,g,b),yx=N):Lg(h,g,b));break;default:Lg(h,g,b)}}function d6(h){var g=h.alternate;if(g!==null&&(h=g.child,h!==null)){g.child=null;do g=h.sibling,h.sibling=null,h=g;while(h!==null)}}function Cx(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var b=0;b<g.length;b++){var N=g[b];Io=N,f6(N,h)}d6(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)h6(h),h=h.sibling}function h6(h){switch(h.tag){case 0:case 11:case 15:Cx(h),h.flags&2048&&aA(9,h,h.return);break;case 3:Cx(h);break;case 12:Cx(h);break;case 22:var g=h.stateNode;h.memoizedState!==null&&g._visibility&2&&(h.return===null||h.return.tag!==13)?(g._visibility&=-3,Zb(h)):Cx(h);break;default:Cx(h)}}function Zb(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var b=0;b<g.length;b++){var N=g[b];Io=N,f6(N,h)}d6(h)}for(h=h.child;h!==null;){switch(g=h,g.tag){case 0:case 11:case 15:aA(8,g,g.return),Zb(g);break;case 22:b=g.stateNode,b._visibility&2&&(b._visibility&=-3,Zb(g));break;default:Zb(g)}h=h.sibling}}function f6(h,g){for(;Io!==null;){var b=Io;switch(b.tag){case 0:case 11:case 15:aA(8,b,g);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var N=b.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:F0(b.memoizedState.cache)}if(N=b.child,N!==null)N.return=b,Io=N;else e:for(b=h;Io!==null;){N=Io;var H=N.sibling,q=N.return;if(r6(N),N===b){Io=null;break e}if(H!==null){H.return=q,Io=H;break e}Io=q}}}var tae={getCacheForType:function(h){var g=io(na),b=g.data.get(h);return b===void 0&&(b=h(),g.data.set(h,b)),b},cacheSignal:function(){return io(na).controller.signal}},nae=typeof WeakMap=="function"?WeakMap:Map,Yi=0,bs=null,Ai=null,bi=0,ns=0,Uc=null,oA=!1,Og=!1,e4=!1,qh=0,xa=0,lA=0,P0=0,t4=0,Hc=0,jg=0,Sx=null,xc=null,n4=!1,ey=0,A6=0,ty=1/0,ny=null,cA=null,ao=0,uA=null,Ug=null,$h=0,r4=0,i4=null,p6=null,Ex=0,s4=null;function Gc(){return(Yi&2)!==0&&bi!==0?bi&-bi:ue.T!==null?d4():Ee()}function g6(){if(Hc===0)if((bi&536870912)===0||fi){var h=Qn;Qn<<=1,(Qn&3932160)===0&&(Qn=262144),Hc=h}else Hc=536870912;return h=Ds.current,h!==null&&(h.flags|=32),Hc}function vc(h,g,b){(h===bs&&(ns===2||ns===9)||h.cancelPendingCommit!==null)&&(Hg(h,0),dA(h,bi,Hc,!1)),qn(h,b),((Yi&2)===0||h!==bs)&&(h===bs&&((Yi&2)===0&&(P0|=b),xa===4&&dA(h,bi,Hc,!1)),Wd(h))}function m6(h,g,b){if((Yi&6)!==0)throw Error(r(327));var N=!b&&(g&127)===0&&(g&h.expiredLanes)===0||ei(h,g),H=N?sae(h,g):o4(h,g,!0),q=N;do{if(H===0){Og&&!N&&dA(h,g,0,!1);break}else{if(b=h.current.alternate,q&&!rae(b)){H=o4(h,g,!1),q=!1;continue}if(H===2){if(q=g,h.errorRecoveryDisabledLanes&q)var Ae=0;else Ae=h.pendingLanes&-536870913,Ae=Ae!==0?Ae:Ae&536870912?536870912:0;if(Ae!==0){g=Ae;e:{var De=h;H=Sx;var Ze=De.current.memoizedState.isDehydrated;if(Ze&&(Hg(De,Ae).flags|=256),Ae=o4(De,Ae,!1),Ae!==2){if(e4&&!Ze){De.errorRecoveryDisabledLanes|=q,P0|=q,H=4;break e}q=xc,xc=H,q!==null&&(xc===null?xc=q:xc.push.apply(xc,q))}H=Ae}if(q=!1,H!==2)continue}}if(H===1){Hg(h,0),dA(h,g,0,!0);break}e:{switch(N=h,q=H,q){case 0:case 1:throw Error(r(345));case 4:if((g&4194048)!==g)break;case 6:dA(N,g,Hc,!oA);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((g&62914560)===g&&(H=ey+300-Cn(),10<H)){if(dA(N,g,Hc,!oA),kr(N,0,!0)!==0)break e;$h=g,N.timeoutHandle=q6(x6.bind(null,N,b,xc,ny,n4,g,Hc,P0,jg,oA,q,"Throttled",-0,0),H);break e}x6(N,b,xc,ny,n4,g,Hc,P0,jg,oA,q,null,-0,0)}}break}while(!0);Wd(h)}function x6(h,g,b,N,H,q,Ae,De,Ze,Ft,Yt,ln,Dt,Ut){if(h.timeoutHandle=-1,ln=g.subtreeFlags,ln&8192||(ln&16785408)===16785408){ln={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lr},u6(g,q,ln);var dr=(q&62914560)===q?ey-Cn():(q&4194048)===q?A6-Cn():0;if(dr=Hae(ln,dr),dr!==null){$h=q,h.cancelPendingCommit=dr(N6.bind(null,h,g,q,b,N,H,Ae,De,Ze,Yt,ln,null,Dt,Ut)),dA(h,q,Ae,!Ft);return}}N6(h,g,q,b,N,H,Ae,De,Ze)}function rae(h){for(var g=h;;){var b=g.tag;if((b===0||b===11||b===15)&&g.flags&16384&&(b=g.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var N=0;N<b.length;N++){var H=b[N],q=H.getSnapshot;H=H.value;try{if(!I(q(),H))return!1}catch{return!1}}if(b=g.child,g.subtreeFlags&16384&&b!==null)b.return=g,g=b;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function dA(h,g,b,N){g&=~t4,g&=~P0,h.suspendedLanes|=g,h.pingedLanes&=~g,N&&(h.warmLanes|=g),N=h.expirationTimes;for(var H=g;0<H;){var q=31-un(H),Ae=1<<q;N[q]=-1,H&=~Ae}b!==0&&ea(h,b,g)}function ry(){return(Yi&6)===0?(Nx(0),!1):!0}function a4(){if(Ai!==null){if(ns===0)var h=Ai.return;else h=Ai,lu=Ld=null,Fg(h),dn=null,fr=0,h=Ai;for(;h!==null;)$M(h.alternate,h),h=h.return;Ai=null}}function Hg(h,g){var b=h.timeoutHandle;b!==-1&&(h.timeoutHandle=-1,Cae(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),$h=0,a4(),bs=h,Ai=b=oc(h.current,null),bi=g,ns=0,Uc=null,oA=!1,Og=ei(h,g),e4=!1,jg=Hc=t4=P0=lA=xa=0,xc=Sx=null,n4=!1,(g&8)!==0&&(g|=g&32);var N=h.entangledLanes;if(N!==0)for(h=h.entanglements,N&=g;0<N;){var H=31-un(N),q=1<<H;g|=h[H],N&=~q}return qh=g,C0(),b}function v6(h,g){Sr=null,ue.H=gx,g===at||g===Ke?(g=tn(),ns=3):g===Et?(g=tn(),ns=4):ns=g===ON?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Uc=g,Ai===null&&(xa=1,Wb(h,lc(g,h.current)))}function w6(){var h=Ds.current;return h===null?!0:(bi&4194048)===bi?ki===null:(bi&62914560)===bi||(bi&536870912)!==0?h===ki:!1}function b6(){var h=ue.H;return ue.H=gx,h===null?gx:h}function y6(){var h=ue.A;return ue.A=tae,h}function iy(){xa=4,oA||(bi&4194048)!==bi&&Ds.current!==null||(Og=!0),(lA&134217727)===0&&(P0&134217727)===0||bs===null||dA(bs,bi,Hc,!1)}function o4(h,g,b){var N=Yi;Yi|=2;var H=b6(),q=y6();(bs!==h||bi!==g)&&(ny=null,Hg(h,g)),g=!1;var Ae=xa;e:do try{if(ns!==0&&Ai!==null){var De=Ai,Ze=Uc;switch(ns){case 8:a4(),Ae=6;break e;case 3:case 2:case 9:case 6:Ds.current===null&&(g=!0);var Ft=ns;if(ns=0,Uc=null,Gg(h,De,Ze,Ft),b&&Og){Ae=0;break e}break;default:Ft=ns,ns=0,Uc=null,Gg(h,De,Ze,Ft)}}iae(),Ae=xa;break}catch(Yt){v6(h,Yt)}while(!0);return g&&h.shellSuspendCounter++,lu=Ld=null,Yi=N,ue.H=H,ue.A=q,Ai===null&&(bs=null,bi=0,C0()),Ae}function iae(){for(;Ai!==null;)C6(Ai)}function sae(h,g){var b=Yi;Yi|=2;var N=b6(),H=y6();bs!==h||bi!==g?(ny=null,ty=Cn()+500,Hg(h,g)):Og=ei(h,g);e:do try{if(ns!==0&&Ai!==null){g=Ai;var q=Uc;t:switch(ns){case 1:ns=0,Uc=null,Gg(h,g,q,1);break;case 2:case 9:if(wt(q)){ns=0,Uc=null,S6(g);break}g=function(){ns!==2&&ns!==9||bs!==h||(ns=7),Wd(h)},q.then(g,g);break e;case 3:ns=7;break e;case 4:ns=5;break e;case 7:wt(q)?(ns=0,Uc=null,S6(g)):(ns=0,Uc=null,Gg(h,g,q,7));break;case 5:var Ae=null;switch(Ai.tag){case 26:Ae=Ai.memoizedState;case 5:case 27:var De=Ai;if(Ae?cL(Ae):De.stateNode.complete){ns=0,Uc=null;var Ze=De.sibling;if(Ze!==null)Ai=Ze;else{var Ft=De.return;Ft!==null?(Ai=Ft,sy(Ft)):Ai=null}break t}}ns=0,Uc=null,Gg(h,g,q,5);break;case 6:ns=0,Uc=null,Gg(h,g,q,6);break;case 8:a4(),xa=6;break e;default:throw Error(r(462))}}aae();break}catch(Yt){v6(h,Yt)}while(!0);return lu=Ld=null,ue.H=N,ue.A=H,Yi=b,Ai!==null?0:(bs=null,bi=0,C0(),xa)}function aae(){for(;Ai!==null&&!An();)C6(Ai)}function C6(h){var g=KM(h.alternate,h,qh);h.memoizedProps=h.pendingProps,g===null?sy(h):Ai=g}function S6(h){var g=h,b=g.alternate;switch(g.tag){case 15:case 0:g=HM(b,g,g.pendingProps,g.type,void 0,bi);break;case 11:g=HM(b,g,g.pendingProps,g.type.render,g.ref,bi);break;case 5:Fg(g);default:$M(b,g),g=Ai=N0(g,qh),g=KM(b,g,qh)}h.memoizedProps=h.pendingProps,g===null?sy(h):Ai=g}function Gg(h,g,b,N){lu=Ld=null,Fg(g),dn=null,fr=0;var H=g.return;try{if(qse(h,H,g,b,bi)){xa=1,Wb(h,lc(b,h.current)),Ai=null;return}}catch(q){if(H!==null)throw Ai=H,q;xa=1,Wb(h,lc(b,h.current)),Ai=null;return}g.flags&32768?(fi||N===1?h=!0:Og||(bi&536870912)!==0?h=!1:(oA=h=!0,(N===2||N===9||N===3||N===6)&&(N=Ds.current,N!==null&&N.tag===13&&(N.flags|=16384))),E6(g,h)):sy(g)}function sy(h){var g=h;do{if((g.flags&32768)!==0){E6(g,oA);return}h=g.return;var b=Xse(g.alternate,g,qh);if(b!==null){Ai=b;return}if(g=g.sibling,g!==null){Ai=g;return}Ai=g=h}while(g!==null);xa===0&&(xa=5)}function E6(h,g){do{var b=Jse(h.alternate,h);if(b!==null){b.flags&=32767,Ai=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!g&&(h=h.sibling,h!==null)){Ai=h;return}Ai=h=b}while(h!==null);xa=6,Ai=null}function N6(h,g,b,N,H,q,Ae,De,Ze){h.cancelPendingCommit=null;do ay();while(ao!==0);if((Yi&6)!==0)throw Error(r(327));if(g!==null){if(g===h.current)throw Error(r(177));if(q=g.lanes|g.childLanes,q|=pg,Di(h,b,q,Ae,De,Ze),h===bs&&(Ai=bs=null,bi=0),Ug=g,uA=h,$h=b,r4=q,i4=H,p6=N,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,uae(xn,function(){return B6(),null})):(h.callbackNode=null,h.callbackPriority=0),N=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||N){N=ue.T,ue.T=null,H=le.p,le.p=2,Ae=Yi,Yi|=4;try{Zse(h,g,b)}finally{Yi=Ae,le.p=H,ue.T=N}}ao=1,T6(),I6(),F6()}}function T6(){if(ao===1){ao=0;var h=uA,g=Ug,b=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||b){b=ue.T,ue.T=null;var N=le.p;le.p=2;var H=Yi;Yi|=4;try{o6(g,h);var q=v4,Ae=be(h.containerInfo),De=q.focusedElem,Ze=q.selectionRange;if(Ae!==De&&De&&De.ownerDocument&&de(De.ownerDocument.documentElement,De)){if(Ze!==null&&Ie(De)){var Ft=Ze.start,Yt=Ze.end;if(Yt===void 0&&(Yt=Ft),"selectionStart"in De)De.selectionStart=Ft,De.selectionEnd=Math.min(Yt,De.value.length);else{var ln=De.ownerDocument||document,Dt=ln&&ln.defaultView||window;if(Dt.getSelection){var Ut=Dt.getSelection(),dr=De.textContent.length,Mr=Math.min(Ze.start,dr),us=Ze.end===void 0?Mr:Math.min(Ze.end,dr);!Ut.extend&&Mr>us&&(Ae=us,us=Mr,Mr=Ae);var xt=Z(De,Mr),ct=Z(De,us);if(xt&&ct&&(Ut.rangeCount!==1||Ut.anchorNode!==xt.node||Ut.anchorOffset!==xt.offset||Ut.focusNode!==ct.node||Ut.focusOffset!==ct.offset)){var It=ln.createRange();It.setStart(xt.node,xt.offset),Ut.removeAllRanges(),Mr>us?(Ut.addRange(It),Ut.extend(ct.node,ct.offset)):(It.setEnd(ct.node,ct.offset),Ut.addRange(It))}}}}for(ln=[],Ut=De;Ut=Ut.parentNode;)Ut.nodeType===1&&ln.push({element:Ut,left:Ut.scrollLeft,top:Ut.scrollTop});for(typeof De.focus=="function"&&De.focus(),De=0;De<ln.length;De++){var nn=ln[De];nn.element.scrollLeft=nn.left,nn.element.scrollTop=nn.top}}xy=!!x4,v4=x4=null}finally{Yi=H,le.p=N,ue.T=b}}h.current=g,ao=2}}function I6(){if(ao===2){ao=0;var h=uA,g=Ug,b=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||b){b=ue.T,ue.T=null;var N=le.p;le.p=2;var H=Yi;Yi|=4;try{n6(h,g.alternate,g)}finally{Yi=H,le.p=N,ue.T=b}}ao=3}}function F6(){if(ao===4||ao===3){ao=0,bn();var h=uA,g=Ug,b=$h,N=p6;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?ao=5:(ao=0,Ug=uA=null,k6(h,h.pendingLanes));var H=h.pendingLanes;if(H===0&&(cA=null),Yr(b),g=g.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Tn,g,void 0,(g.current.flags&128)===128)}catch{}if(N!==null){g=ue.T,H=le.p,le.p=2,ue.T=null;try{for(var q=h.onRecoverableError,Ae=0;Ae<N.length;Ae++){var De=N[Ae];q(De.value,{componentStack:De.stack})}}finally{ue.T=g,le.p=H}}($h&3)!==0&&ay(),Wd(h),H=h.pendingLanes,(b&261930)!==0&&(H&42)!==0?h===s4?Ex++:(Ex=0,s4=h):Ex=0,Nx(0)}}function k6(h,g){(h.pooledCacheLanes&=g)===0&&(g=h.pooledCache,g!=null&&(h.pooledCache=null,F0(g)))}function ay(){return T6(),I6(),F6(),B6()}function B6(){if(ao!==5)return!1;var h=uA,g=r4;r4=0;var b=Yr($h),N=ue.T,H=le.p;try{le.p=32>b?32:b,ue.T=null,b=i4,i4=null;var q=uA,Ae=$h;if(ao=0,Ug=uA=null,$h=0,(Yi&6)!==0)throw Error(r(331));var De=Yi;if(Yi|=4,h6(q.current),c6(q,q.current,Ae,b),Yi=De,Nx(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Tn,q)}catch{}return!0}finally{le.p=H,ue.T=N,k6(h,g)}}function R6(h,g,b){g=lc(b,g),g=LN(h.stateNode,g,2),h=$r(h,g,2),h!==null&&(qn(h,2),Wd(h))}function rs(h,g,b){if(h.tag===3)R6(h,h,b);else for(;g!==null;){if(g.tag===3){R6(g,h,b);break}else if(g.tag===1){var N=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(cA===null||!cA.has(N))){h=lc(b,h),b=_M(2),N=$r(g,b,2),N!==null&&(DM(b,N,g,h),qn(N,2),Wd(N));break}}g=g.return}}function l4(h,g,b){var N=h.pingCache;if(N===null){N=h.pingCache=new nae;var H=new Set;N.set(g,H)}else H=N.get(g),H===void 0&&(H=new Set,N.set(g,H));H.has(b)||(e4=!0,H.add(b),h=oae.bind(null,h,g,b),g.then(h,h))}function oae(h,g,b){var N=h.pingCache;N!==null&&N.delete(g),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,bs===h&&(bi&b)===b&&(xa===4||xa===3&&(bi&62914560)===bi&&300>Cn()-ey?(Yi&2)===0&&Hg(h,0):t4|=b,jg===bi&&(jg=0)),Wd(h)}function _6(h,g){g===0&&(g=ii()),h=Xu(h,g),h!==null&&(qn(h,g),Wd(h))}function lae(h){var g=h.memoizedState,b=0;g!==null&&(b=g.retryLane),_6(h,b)}function cae(h,g){var b=0;switch(h.tag){case 31:case 13:var N=h.stateNode,H=h.memoizedState;H!==null&&(b=H.retryLane);break;case 19:N=h.stateNode;break;case 22:N=h.stateNode._retryCache;break;default:throw Error(r(314))}N!==null&&N.delete(g),_6(h,b)}function uae(h,g){return Qt(h,g)}var oy=null,Vg=null,c4=!1,ly=!1,u4=!1,hA=0;function Wd(h){h!==Vg&&h.next===null&&(Vg===null?oy=Vg=h:Vg=Vg.next=h),ly=!0,c4||(c4=!0,hae())}function Nx(h,g){if(!u4&&ly){u4=!0;do for(var b=!1,N=oy;N!==null;){if(h!==0){var H=N.pendingLanes;if(H===0)var q=0;else{var Ae=N.suspendedLanes,De=N.pingedLanes;q=(1<<31-un(42|h)+1)-1,q&=H&~(Ae&~De),q=q&201326741?q&201326741|1:q?q|2:0}q!==0&&(b=!0,L6(N,q))}else q=bi,q=kr(N,N===bs?q:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(q&3)===0||ei(N,q)||(b=!0,L6(N,q));N=N.next}while(b);u4=!1}}function dae(){D6()}function D6(){ly=c4=!1;var h=0;hA!==0&&yae()&&(h=hA);for(var g=Cn(),b=null,N=oy;N!==null;){var H=N.next,q=P6(N,g);q===0?(N.next=null,b===null?oy=H:b.next=H,H===null&&(Vg=b)):(b=N,(h!==0||(q&3)!==0)&&(ly=!0)),N=H}ao!==0&&ao!==5||Nx(h),hA!==0&&(hA=0)}function P6(h,g){for(var b=h.suspendedLanes,N=h.pingedLanes,H=h.expirationTimes,q=h.pendingLanes&-62914561;0<q;){var Ae=31-un(q),De=1<<Ae,Ze=H[Ae];Ze===-1?((De&b)===0||(De&N)!==0)&&(H[Ae]=mi(De,g)):Ze<=g&&(h.expiredLanes|=De),q&=~De}if(g=bs,b=bi,b=kr(h,h===g?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),N=h.callbackNode,b===0||h===g&&(ns===2||ns===9)||h.cancelPendingCommit!==null)return N!==null&&N!==null&&ot(N),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||ei(h,b)){if(g=b&-b,g===h.callbackPriority)return g;switch(N!==null&&ot(N),Yr(b)){case 2:case 8:b=tr;break;case 32:b=xn;break;case 268435456:b=hn;break;default:b=xn}return N=M6.bind(null,h),b=Qt(b,N),h.callbackPriority=g,h.callbackNode=b,g}return N!==null&&N!==null&&ot(N),h.callbackPriority=2,h.callbackNode=null,2}function M6(h,g){if(ao!==0&&ao!==5)return h.callbackNode=null,h.callbackPriority=0,null;var b=h.callbackNode;if(ay()&&h.callbackNode!==b)return null;var N=bi;return N=kr(h,h===bs?N:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),N===0?null:(m6(h,N,g),P6(h,Cn()),h.callbackNode!=null&&h.callbackNode===b?M6.bind(null,h):null)}function L6(h,g){if(ay())return null;m6(h,g,!0)}function hae(){Sae(function(){(Yi&6)!==0?Qt(Sn,dae):D6()})}function d4(){if(hA===0){var h=_;h===0&&(h=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),hA=h}return hA}function O6(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:oi(""+h)}function j6(h,g){var b=g.ownerDocument.createElement("input");return b.name=g.name,b.value=g.value,h.id&&b.setAttribute("form",h.id),g.parentNode.insertBefore(b,g),h=new FormData(h),b.parentNode.removeChild(b),h}function fae(h,g,b,N,H){if(g==="submit"&&b&&b.stateNode===H){var q=O6((H[He]||null).action),Ae=N.submitter;Ae&&(g=(g=Ae[He]||null)?O6(g.formAction):Ae.getAttribute("formAction"),g!==null&&(q=g,Ae=null));var De=new hi("action","action",null,N,H);h.push({event:De,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(hA!==0){var Ze=Ae?j6(H,Ae):new FormData(H);BN(b,{pending:!0,data:Ze,method:H.method,action:q},null,Ze)}}else typeof q=="function"&&(De.preventDefault(),Ze=Ae?j6(H,Ae):new FormData(H),BN(b,{pending:!0,data:Ze,method:H.method,action:q},q,Ze))},currentTarget:H}]})}}for(var h4=0;h4<Yu.length;h4++){var f4=Yu[h4],Aae=f4.toLowerCase(),pae=f4[0].toUpperCase()+f4.slice(1);ac(Aae,"on"+pae)}ac(ka,"onAnimationEnd"),ac(da,"onAnimationIteration"),ac(Li,"onAnimationStart"),ac("dblclick","onDoubleClick"),ac("focusin","onFocus"),ac("focusout","onBlur"),ac(ha,"onTransitionRun"),ac(Co,"onTransitionStart"),ac($u,"onTransitionCancel"),ac(ou,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gae=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tx));function U6(h,g){g=(g&4)!==0;for(var b=0;b<h.length;b++){var N=h[b],H=N.event;N=N.listeners;e:{var q=void 0;if(g)for(var Ae=N.length-1;0<=Ae;Ae--){var De=N[Ae],Ze=De.instance,Ft=De.currentTarget;if(De=De.listener,Ze!==q&&H.isPropagationStopped())break e;q=De,H.currentTarget=Ft;try{q(H)}catch(Yt){y0(Yt)}H.currentTarget=null,q=Ze}else for(Ae=0;Ae<N.length;Ae++){if(De=N[Ae],Ze=De.instance,Ft=De.currentTarget,De=De.listener,Ze!==q&&H.isPropagationStopped())break e;q=De,H.currentTarget=Ft;try{q(H)}catch(Yt){y0(Yt)}H.currentTarget=null,q=Ze}}}}function pi(h,g){var b=g[At];b===void 0&&(b=g[At]=new Set);var N=h+"__bubble";b.has(N)||(H6(g,h,2,!1),b.add(N))}function A4(h,g,b){var N=0;g&&(N|=4),H6(b,h,N,g)}var cy="_reactListening"+Math.random().toString(36).slice(2);function p4(h){if(!h[cy]){h[cy]=!0,Pt.forEach(function(b){b!=="selectionchange"&&(gae.has(b)||A4(b,!1,h),A4(b,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[cy]||(g[cy]=!0,A4("selectionchange",!1,g))}}function H6(h,g,b,N){switch(gL(g)){case 2:var H=Qae;break;case 8:H=zae;break;default:H=k4}b=H.bind(null,g,b,h),H=void 0,!Te||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(H=!0),N?H!==void 0?h.addEventListener(g,b,{capture:!0,passive:H}):h.addEventListener(g,b,!0):H!==void 0?h.addEventListener(g,b,{passive:H}):h.addEventListener(g,b,!1)}function g4(h,g,b,N,H){var q=N;if((g&1)===0&&(g&2)===0&&N!==null)e:for(;;){if(N===null)return;var Ae=N.tag;if(Ae===3||Ae===4){var De=N.stateNode.containerInfo;if(De===H)break;if(Ae===4)for(Ae=N.return;Ae!==null;){var Ze=Ae.tag;if((Ze===3||Ze===4)&&Ae.stateNode.containerInfo===H)return;Ae=Ae.return}for(;De!==null;){if(Ae=an(De),Ae===null)return;if(Ze=Ae.tag,Ze===5||Ze===6||Ze===26||Ze===27){N=q=Ae;continue e}De=De.parentNode}}N=N.return}Mc(function(){var Ft=q,Yt=xo(b),ln=[];e:{var Dt=b0.get(h);if(Dt!==void 0){var Ut=hi,dr=h;switch(h){case"keypress":if(In(b)===0)break e;case"keydown":case"keyup":Ut=ti;break;case"focusin":dr="focus",Ut=sl;break;case"focusout":dr="blur",Ut=sl;break;case"beforeblur":case"afterblur":Ut=sl;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ut=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ut=vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ut=ta;break;case ka:case da:case Li:Ut=J;break;case ou:Ut=ms;break;case"scroll":case"scrollend":Ut=tc;break;case"wheel":Ut=Pl;break;case"copy":case"cut":case"paste":Ut=We;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ut=Pr;break;case"toggle":case"beforetoggle":Ut=Ku}var Mr=(g&4)!==0,us=!Mr&&(h==="scroll"||h==="scrollend"),xt=Mr?Dt!==null?Dt+"Capture":null:Dt;Mr=[];for(var ct=Ft,It;ct!==null;){var nn=ct;if(It=nn.stateNode,nn=nn.tag,nn!==5&&nn!==26&&nn!==27||It===null||xt===null||(nn=mr(ct,xt),nn!=null&&Mr.push(Ix(ct,nn,It))),us)break;ct=ct.return}0<Mr.length&&(Dt=new Ut(Dt,dr,null,b,Yt),ln.push({event:Dt,listeners:Mr}))}}if((g&7)===0){e:{if(Dt=h==="mouseover"||h==="pointerover",Ut=h==="mouseout"||h==="pointerout",Dt&&b!==di&&(dr=b.relatedTarget||b.fromElement)&&(an(dr)||dr[Ve]))break e;if((Ut||Dt)&&(Dt=Yt.window===Yt?Yt:(Dt=Yt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Ut?(dr=b.relatedTarget||b.toElement,Ut=Ft,dr=dr?an(dr):null,dr!==null&&(us=s(dr),Mr=dr.tag,dr!==us||Mr!==5&&Mr!==27&&Mr!==6)&&(dr=null)):(Ut=null,dr=Ft),Ut!==dr)){if(Mr=ai,nn="onMouseLeave",xt="onMouseEnter",ct="mouse",(h==="pointerout"||h==="pointerover")&&(Mr=Pr,nn="onPointerLeave",xt="onPointerEnter",ct="pointer"),us=Ut==null?Dt:fn(Ut),It=dr==null?Dt:fn(dr),Dt=new Mr(nn,ct+"leave",Ut,b,Yt),Dt.target=us,Dt.relatedTarget=It,nn=null,an(Yt)===Ft&&(Mr=new Mr(xt,ct+"enter",dr,b,Yt),Mr.target=It,Mr.relatedTarget=us,nn=Mr),us=nn,Ut&&dr)t:{for(Mr=mae,xt=Ut,ct=dr,It=0,nn=xt;nn;nn=Mr(nn))It++;nn=0;for(var Tr=ct;Tr;Tr=Mr(Tr))nn++;for(;0<It-nn;)xt=Mr(xt),It--;for(;0<nn-It;)ct=Mr(ct),nn--;for(;It--;){if(xt===ct||ct!==null&&xt===ct.alternate){Mr=xt;break t}xt=Mr(xt),ct=Mr(ct)}Mr=null}else Mr=null;Ut!==null&&G6(ln,Dt,Ut,Mr,!1),dr!==null&&us!==null&&G6(ln,us,dr,Mr,!0)}}e:{if(Dt=Ft?fn(Ft):window,Ut=Dt.nodeName&&Dt.nodeName.toLowerCase(),Ut==="select"||Ut==="input"&&Dt.type==="file")var Gi=Ia;else if(_d(Dt))if(bo)Gi=S;else{Gi=x;var xr=A}else Ut=Dt.nodeName,!Ut||Ut.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Ft&&Mn(Ft.elementType)&&(Gi=Ia):Gi=v;if(Gi&&(Gi=Gi(h,Ft))){Ns(ln,Gi,b,Yt);break e}xr&&xr(h,Dt,Ft),h==="focusout"&&Ft&&Dt.type==="number"&&Ft.memoizedProps.value!=null&&ae(Dt,"number",Dt.value)}switch(xr=Ft?fn(Ft):window,h){case"focusin":(_d(xr)||xr.contentEditable==="true")&&(Je=xr,tt=Ft,pt=null);break;case"focusout":pt=tt=Je=null;break;case"mousedown":Bt=!0;break;case"contextmenu":case"mouseup":case"dragend":Bt=!1,qt(ln,b,Yt);break;case"selectionchange":if(ze)break;case"keydown":case"keyup":qt(ln,b,Yt)}var Zr;if(al)e:{switch(h){case"compositionstart":var yi="onCompositionStart";break e;case"compositionend":yi="onCompositionEnd";break e;case"compositionupdate":yi="onCompositionUpdate";break e}yi=void 0}else sc?au(h,b)&&(yi="onCompositionEnd"):h==="keydown"&&b.keyCode===229&&(yi="onCompositionStart");yi&&(Oc&&b.locale!=="ko"&&(sc||yi!=="onCompositionStart"?yi==="onCompositionEnd"&&sc&&(Zr=Rn()):(Lt=Yt,sn="value"in Lt?Lt.value:Lt.textContent,sc=!0)),xr=uy(Ft,yi),0<xr.length&&(yi=new mt(yi,h,null,b,Yt),ln.push({event:yi,listeners:xr}),Zr?yi.data=Zr:(Zr=ic(b),Zr!==null&&(yi.data=Zr)))),(Zr=su?Es(h,b):ll(h,b))&&(yi=uy(Ft,"onBeforeInput"),0<yi.length&&(xr=new mt("onBeforeInput","beforeinput",null,b,Yt),ln.push({event:xr,listeners:yi}),xr.data=Zr)),fae(ln,h,Ft,b,Yt)}U6(ln,g)})}function Ix(h,g,b){return{instance:h,listener:g,currentTarget:b}}function uy(h,g){for(var b=g+"Capture",N=[];h!==null;){var H=h,q=H.stateNode;if(H=H.tag,H!==5&&H!==26&&H!==27||q===null||(H=mr(h,b),H!=null&&N.unshift(Ix(h,H,q)),H=mr(h,g),H!=null&&N.push(Ix(h,H,q))),h.tag===3)return N;h=h.return}return[]}function mae(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function G6(h,g,b,N,H){for(var q=g._reactName,Ae=[];b!==null&&b!==N;){var De=b,Ze=De.alternate,Ft=De.stateNode;if(De=De.tag,Ze!==null&&Ze===N)break;De!==5&&De!==26&&De!==27||Ft===null||(Ze=Ft,H?(Ft=mr(b,q),Ft!=null&&Ae.unshift(Ix(b,Ft,Ze))):H||(Ft=mr(b,q),Ft!=null&&Ae.push(Ix(b,Ft,Ze)))),b=b.return}Ae.length!==0&&h.push({event:g,listeners:Ae})}var xae=/\r\n?/g,vae=/\u0000|\uFFFD/g;function V6(h){return(typeof h=="string"?h:""+h).replace(xae,`
`).replace(vae,"")}function Q6(h,g){return g=V6(g),V6(h)===g}function cs(h,g,b,N,H,q){switch(b){case"children":typeof N=="string"?g==="body"||g==="textarea"&&N===""||En(h,N):(typeof N=="number"||typeof N=="bigint")&&g!=="body"&&En(h,""+N);break;case"className":Pe(h,"class",N);break;case"tabIndex":Pe(h,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":Pe(h,b,N);break;case"style":wn(h,N,q);break;case"data":if(g!=="object"){Pe(h,"data",N);break}case"src":case"href":if(N===""&&(g!=="a"||b!=="href")){h.removeAttribute(b);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){h.removeAttribute(b);break}N=oi(""+N),h.setAttribute(b,N);break;case"action":case"formAction":if(typeof N=="function"){h.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof q=="function"&&(b==="formAction"?(g!=="input"&&cs(h,g,"name",H.name,H,null),cs(h,g,"formEncType",H.formEncType,H,null),cs(h,g,"formMethod",H.formMethod,H,null),cs(h,g,"formTarget",H.formTarget,H,null)):(cs(h,g,"encType",H.encType,H,null),cs(h,g,"method",H.method,H,null),cs(h,g,"target",H.target,H,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){h.removeAttribute(b);break}N=oi(""+N),h.setAttribute(b,N);break;case"onClick":N!=null&&(h.onclick=Lr);break;case"onScroll":N!=null&&pi("scroll",h);break;case"onScrollEnd":N!=null&&pi("scrollend",h);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(b=N.__html,b!=null){if(H.children!=null)throw Error(r(60));h.innerHTML=b}}break;case"multiple":h.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":h.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){h.removeAttribute("xlink:href");break}b=oi(""+N),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?h.setAttribute(b,""+N):h.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?h.setAttribute(b,""):h.removeAttribute(b);break;case"capture":case"download":N===!0?h.setAttribute(b,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?h.setAttribute(b,N):h.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?h.setAttribute(b,N):h.removeAttribute(b);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?h.removeAttribute(b):h.setAttribute(b,N);break;case"popover":pi("beforetoggle",h),pi("toggle",h),wi(h,"popover",N);break;case"xlinkActuate":$e(h,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":$e(h,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":$e(h,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":$e(h,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":$e(h,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":$e(h,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":$e(h,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":$e(h,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":$e(h,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":wi(h,"is",N);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=Xr.get(b)||b,wi(h,b,N))}}function m4(h,g,b,N,H,q){switch(b){case"style":wn(h,N,q);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(b=N.__html,b!=null){if(H.children!=null)throw Error(r(60));h.innerHTML=b}}break;case"children":typeof N=="string"?En(h,N):(typeof N=="number"||typeof N=="bigint")&&En(h,""+N);break;case"onScroll":N!=null&&pi("scroll",h);break;case"onScrollEnd":N!=null&&pi("scrollend",h);break;case"onClick":N!=null&&(h.onclick=Lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Un.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(H=b.endsWith("Capture"),g=b.slice(2,H?b.length-7:void 0),q=h[He]||null,q=q!=null?q[b]:null,typeof q=="function"&&h.removeEventListener(g,q,H),typeof N=="function")){typeof q!="function"&&q!==null&&(b in h?h[b]=null:h.hasAttribute(b)&&h.removeAttribute(b)),h.addEventListener(g,N,H);break e}b in h?h[b]=N:N===!0?h.setAttribute(b,""):wi(h,b,N)}}}function qo(h,g,b){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pi("error",h),pi("load",h);var N=!1,H=!1,q;for(q in b)if(b.hasOwnProperty(q)){var Ae=b[q];if(Ae!=null)switch(q){case"src":N=!0;break;case"srcSet":H=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,g));default:cs(h,g,q,Ae,b,null)}}H&&cs(h,g,"srcSet",b.srcSet,b,null),N&&cs(h,g,"src",b.src,b,null);return;case"input":pi("invalid",h);var De=q=Ae=H=null,Ze=null,Ft=null;for(N in b)if(b.hasOwnProperty(N)){var Yt=b[N];if(Yt!=null)switch(N){case"name":H=Yt;break;case"type":Ae=Yt;break;case"checked":Ze=Yt;break;case"defaultChecked":Ft=Yt;break;case"value":q=Yt;break;case"defaultValue":De=Yt;break;case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(r(137,g));break;default:cs(h,g,N,Yt,b,null)}}me(h,q,De,Ze,Ft,Ae,H,!1);return;case"select":pi("invalid",h),N=Ae=q=null;for(H in b)if(b.hasOwnProperty(H)&&(De=b[H],De!=null))switch(H){case"value":q=De;break;case"defaultValue":Ae=De;break;case"multiple":N=De;default:cs(h,g,H,De,b,null)}g=q,b=Ae,h.multiple=!!N,g!=null?Qe(h,!!N,g,!1):b!=null&&Qe(h,!!N,b,!0);return;case"textarea":pi("invalid",h),q=H=N=null;for(Ae in b)if(b.hasOwnProperty(Ae)&&(De=b[Ae],De!=null))switch(Ae){case"value":N=De;break;case"defaultValue":H=De;break;case"children":q=De;break;case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(91));break;default:cs(h,g,Ae,De,b,null)}Gt(h,N,H,q);return;case"option":for(Ze in b)if(b.hasOwnProperty(Ze)&&(N=b[Ze],N!=null))switch(Ze){case"selected":h.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:cs(h,g,Ze,N,b,null)}return;case"dialog":pi("beforetoggle",h),pi("toggle",h),pi("cancel",h),pi("close",h);break;case"iframe":case"object":pi("load",h);break;case"video":case"audio":for(N=0;N<Tx.length;N++)pi(Tx[N],h);break;case"image":pi("error",h),pi("load",h);break;case"details":pi("toggle",h);break;case"embed":case"source":case"link":pi("error",h),pi("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ft in b)if(b.hasOwnProperty(Ft)&&(N=b[Ft],N!=null))switch(Ft){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,g));default:cs(h,g,Ft,N,b,null)}return;default:if(Mn(g)){for(Yt in b)b.hasOwnProperty(Yt)&&(N=b[Yt],N!==void 0&&m4(h,g,Yt,N,b,void 0));return}}for(De in b)b.hasOwnProperty(De)&&(N=b[De],N!=null&&cs(h,g,De,N,b,null))}function wae(h,g,b,N){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var H=null,q=null,Ae=null,De=null,Ze=null,Ft=null,Yt=null;for(Ut in b){var ln=b[Ut];if(b.hasOwnProperty(Ut)&&ln!=null)switch(Ut){case"checked":break;case"value":break;case"defaultValue":Ze=ln;default:N.hasOwnProperty(Ut)||cs(h,g,Ut,null,N,ln)}}for(var Dt in N){var Ut=N[Dt];if(ln=b[Dt],N.hasOwnProperty(Dt)&&(Ut!=null||ln!=null))switch(Dt){case"type":q=Ut;break;case"name":H=Ut;break;case"checked":Ft=Ut;break;case"defaultChecked":Yt=Ut;break;case"value":Ae=Ut;break;case"defaultValue":De=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(r(137,g));break;default:Ut!==ln&&cs(h,g,Dt,Ut,N,ln)}}pe(h,Ae,De,Ze,Ft,Yt,q,H);return;case"select":Ut=Ae=De=Dt=null;for(q in b)if(Ze=b[q],b.hasOwnProperty(q)&&Ze!=null)switch(q){case"value":break;case"multiple":Ut=Ze;default:N.hasOwnProperty(q)||cs(h,g,q,null,N,Ze)}for(H in N)if(q=N[H],Ze=b[H],N.hasOwnProperty(H)&&(q!=null||Ze!=null))switch(H){case"value":Dt=q;break;case"defaultValue":De=q;break;case"multiple":Ae=q;default:q!==Ze&&cs(h,g,H,q,N,Ze)}g=De,b=Ae,N=Ut,Dt!=null?Qe(h,!!b,Dt,!1):!!N!=!!b&&(g!=null?Qe(h,!!b,g,!0):Qe(h,!!b,b?[]:"",!1));return;case"textarea":Ut=Dt=null;for(De in b)if(H=b[De],b.hasOwnProperty(De)&&H!=null&&!N.hasOwnProperty(De))switch(De){case"value":break;case"children":break;default:cs(h,g,De,null,N,H)}for(Ae in N)if(H=N[Ae],q=b[Ae],N.hasOwnProperty(Ae)&&(H!=null||q!=null))switch(Ae){case"value":Dt=H;break;case"defaultValue":Ut=H;break;case"children":break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:H!==q&&cs(h,g,Ae,H,N,q)}Mt(h,Dt,Ut);return;case"option":for(var dr in b)if(Dt=b[dr],b.hasOwnProperty(dr)&&Dt!=null&&!N.hasOwnProperty(dr))switch(dr){case"selected":h.selected=!1;break;default:cs(h,g,dr,null,N,Dt)}for(Ze in N)if(Dt=N[Ze],Ut=b[Ze],N.hasOwnProperty(Ze)&&Dt!==Ut&&(Dt!=null||Ut!=null))switch(Ze){case"selected":h.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:cs(h,g,Ze,Dt,N,Ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mr in b)Dt=b[Mr],b.hasOwnProperty(Mr)&&Dt!=null&&!N.hasOwnProperty(Mr)&&cs(h,g,Mr,null,N,Dt);for(Ft in N)if(Dt=N[Ft],Ut=b[Ft],N.hasOwnProperty(Ft)&&Dt!==Ut&&(Dt!=null||Ut!=null))switch(Ft){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(r(137,g));break;default:cs(h,g,Ft,Dt,N,Ut)}return;default:if(Mn(g)){for(var us in b)Dt=b[us],b.hasOwnProperty(us)&&Dt!==void 0&&!N.hasOwnProperty(us)&&m4(h,g,us,void 0,N,Dt);for(Yt in N)Dt=N[Yt],Ut=b[Yt],!N.hasOwnProperty(Yt)||Dt===Ut||Dt===void 0&&Ut===void 0||m4(h,g,Yt,Dt,N,Ut);return}}for(var xt in b)Dt=b[xt],b.hasOwnProperty(xt)&&Dt!=null&&!N.hasOwnProperty(xt)&&cs(h,g,xt,null,N,Dt);for(ln in N)Dt=N[ln],Ut=b[ln],!N.hasOwnProperty(ln)||Dt===Ut||Dt==null&&Ut==null||cs(h,g,ln,Dt,N,Ut)}function z6(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bae(){if(typeof performance.getEntriesByType=="function"){for(var h=0,g=0,b=performance.getEntriesByType("resource"),N=0;N<b.length;N++){var H=b[N],q=H.transferSize,Ae=H.initiatorType,De=H.duration;if(q&&De&&z6(Ae)){for(Ae=0,De=H.responseEnd,N+=1;N<b.length;N++){var Ze=b[N],Ft=Ze.startTime;if(Ft>De)break;var Yt=Ze.transferSize,ln=Ze.initiatorType;Yt&&z6(ln)&&(Ze=Ze.responseEnd,Ae+=Yt*(Ze<De?1:(De-Ft)/(Ze-Ft)))}if(--N,g+=8*(q+Ae)/(H.duration/1e3),h++,10<h)break}}if(0<h)return g/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var x4=null,v4=null;function dy(h){return h.nodeType===9?h:h.ownerDocument}function W6(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K6(h,g){if(h===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&g==="foreignObject"?0:h}function w4(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var b4=null;function yae(){var h=window.event;return h&&h.type==="popstate"?h===b4?!1:(b4=h,!0):(b4=null,!1)}var q6=typeof setTimeout=="function"?setTimeout:void 0,Cae=typeof clearTimeout=="function"?clearTimeout:void 0,$6=typeof Promise=="function"?Promise:void 0,Sae=typeof queueMicrotask=="function"?queueMicrotask:typeof $6<"u"?function(h){return $6.resolve(null).then(h).catch(Eae)}:q6;function Eae(h){setTimeout(function(){throw h})}function fA(h){return h==="head"}function Y6(h,g){var b=g,N=0;do{var H=b.nextSibling;if(h.removeChild(b),H&&H.nodeType===8)if(b=H.data,b==="/$"||b==="/&"){if(N===0){h.removeChild(H),Kg(g);return}N--}else if(b==="$"||b==="$?"||b==="$~"||b==="$!"||b==="&")N++;else if(b==="html")Fx(h.ownerDocument.documentElement);else if(b==="head"){b=h.ownerDocument.head,Fx(b);for(var q=b.firstChild;q;){var Ae=q.nextSibling,De=q.nodeName;q[bt]||De==="SCRIPT"||De==="STYLE"||De==="LINK"&&q.rel.toLowerCase()==="stylesheet"||b.removeChild(q),q=Ae}}else b==="body"&&Fx(h.ownerDocument.body);b=H}while(b);Kg(g)}function X6(h,g){var b=h;h=0;do{var N=b.nextSibling;if(b.nodeType===1?g?(b._stashedDisplay=b.style.display,b.style.display="none"):(b.style.display=b._stashedDisplay||"",b.getAttribute("style")===""&&b.removeAttribute("style")):b.nodeType===3&&(g?(b._stashedText=b.nodeValue,b.nodeValue=""):b.nodeValue=b._stashedText||""),N&&N.nodeType===8)if(b=N.data,b==="/$"){if(h===0)break;h--}else b!=="$"&&b!=="$?"&&b!=="$~"&&b!=="$!"||h++;b=N}while(b)}function y4(h){var g=h.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var b=g;switch(g=g.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":y4(b),Xt(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}h.removeChild(b)}}function Nae(h,g,b,N){for(;h.nodeType===1;){var H=b;if(h.nodeName.toLowerCase()!==g.toLowerCase()){if(!N&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(N){if(!h[bt])switch(g){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(q=h.getAttribute("rel"),q==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(q!==H.rel||h.getAttribute("href")!==(H.href==null||H.href===""?null:H.href)||h.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin)||h.getAttribute("title")!==(H.title==null?null:H.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(q=h.getAttribute("src"),(q!==(H.src==null?null:H.src)||h.getAttribute("type")!==(H.type==null?null:H.type)||h.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin))&&q&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(g==="input"&&h.type==="hidden"){var q=H.name==null?null:""+H.name;if(H.type==="hidden"&&h.getAttribute("name")===q)return h}else return h;if(h=du(h.nextSibling),h===null)break}return null}function Tae(h,g,b){if(g==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!b||(h=du(h.nextSibling),h===null))return null;return h}function J6(h,g){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!g||(h=du(h.nextSibling),h===null))return null;return h}function C4(h){return h.data==="$?"||h.data==="$~"}function S4(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function Iae(h,g){var b=h.ownerDocument;if(h.data==="$~")h._reactRetry=g;else if(h.data!=="$?"||b.readyState!=="loading")g();else{var N=function(){g(),b.removeEventListener("DOMContentLoaded",N)};b.addEventListener("DOMContentLoaded",N),h._reactRetry=N}}function du(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"||g==="F!"||g==="F")break;if(g==="/$"||g==="/&")return null}}return h}var E4=null;function Z6(h){h=h.nextSibling;for(var g=0;h;){if(h.nodeType===8){var b=h.data;if(b==="/$"||b==="/&"){if(g===0)return du(h.nextSibling);g--}else b!=="$"&&b!=="$!"&&b!=="$?"&&b!=="$~"&&b!=="&"||g++}h=h.nextSibling}return null}function eL(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var b=h.data;if(b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"){if(g===0)return h;g--}else b!=="/$"&&b!=="/&"||g++}h=h.previousSibling}return null}function tL(h,g,b){switch(g=dy(b),h){case"html":if(h=g.documentElement,!h)throw Error(r(452));return h;case"head":if(h=g.head,!h)throw Error(r(453));return h;case"body":if(h=g.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}function Fx(h){for(var g=h.attributes;g.length;)h.removeAttributeNode(g[0]);Xt(h)}var hu=new Map,nL=new Set;function hy(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Yh=le.d;le.d={f:Fae,r:kae,D:Bae,C:Rae,L:_ae,m:Dae,X:Mae,S:Pae,M:Lae};function Fae(){var h=Yh.f(),g=ry();return h||g}function kae(h){var g=on(h);g!==null&&g.tag===5&&g.type==="form"?vM(g):Yh.r(h)}var Qg=typeof document>"u"?null:document;function rL(h,g,b){var N=Qg;if(N&&typeof g=="string"&&g){var H=dt(g);H='link[rel="'+h+'"][href="'+H+'"]',typeof b=="string"&&(H+='[crossorigin="'+b+'"]'),nL.has(H)||(nL.add(H),h={rel:h,crossOrigin:b,href:g},N.querySelector(H)===null&&(g=N.createElement("link"),qo(g,"link",h),On(g),N.head.appendChild(g)))}}function Bae(h){Yh.D(h),rL("dns-prefetch",h,null)}function Rae(h,g){Yh.C(h,g),rL("preconnect",h,g)}function _ae(h,g,b){Yh.L(h,g,b);var N=Qg;if(N&&h&&g){var H='link[rel="preload"][as="'+dt(g)+'"]';g==="image"&&b&&b.imageSrcSet?(H+='[imagesrcset="'+dt(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(H+='[imagesizes="'+dt(b.imageSizes)+'"]')):H+='[href="'+dt(h)+'"]';var q=H;switch(g){case"style":q=zg(h);break;case"script":q=Wg(h)}hu.has(q)||(h=f({rel:"preload",href:g==="image"&&b&&b.imageSrcSet?void 0:h,as:g},b),hu.set(q,h),N.querySelector(H)!==null||g==="style"&&N.querySelector(kx(q))||g==="script"&&N.querySelector(Bx(q))||(g=N.createElement("link"),qo(g,"link",h),On(g),N.head.appendChild(g)))}}function Dae(h,g){Yh.m(h,g);var b=Qg;if(b&&h){var N=g&&typeof g.as=="string"?g.as:"script",H='link[rel="modulepreload"][as="'+dt(N)+'"][href="'+dt(h)+'"]',q=H;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":q=Wg(h)}if(!hu.has(q)&&(h=f({rel:"modulepreload",href:h},g),hu.set(q,h),b.querySelector(H)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(Bx(q)))return}N=b.createElement("link"),qo(N,"link",h),On(N),b.head.appendChild(N)}}}function Pae(h,g,b){Yh.S(h,g,b);var N=Qg;if(N&&h){var H=vn(N).hoistableStyles,q=zg(h);g=g||"default";var Ae=H.get(q);if(!Ae){var De={loading:0,preload:null};if(Ae=N.querySelector(kx(q)))De.loading=5;else{h=f({rel:"stylesheet",href:h,"data-precedence":g},b),(b=hu.get(q))&&N4(h,b);var Ze=Ae=N.createElement("link");On(Ze),qo(Ze,"link",h),Ze._p=new Promise(function(Ft,Yt){Ze.onload=Ft,Ze.onerror=Yt}),Ze.addEventListener("load",function(){De.loading|=1}),Ze.addEventListener("error",function(){De.loading|=2}),De.loading|=4,fy(Ae,g,N)}Ae={type:"stylesheet",instance:Ae,count:1,state:De},H.set(q,Ae)}}}function Mae(h,g){Yh.X(h,g);var b=Qg;if(b&&h){var N=vn(b).hoistableScripts,H=Wg(h),q=N.get(H);q||(q=b.querySelector(Bx(H)),q||(h=f({src:h,async:!0},g),(g=hu.get(H))&&T4(h,g),q=b.createElement("script"),On(q),qo(q,"link",h),b.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},N.set(H,q))}}function Lae(h,g){Yh.M(h,g);var b=Qg;if(b&&h){var N=vn(b).hoistableScripts,H=Wg(h),q=N.get(H);q||(q=b.querySelector(Bx(H)),q||(h=f({src:h,async:!0,type:"module"},g),(g=hu.get(H))&&T4(h,g),q=b.createElement("script"),On(q),qo(q,"link",h),b.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},N.set(H,q))}}function iL(h,g,b,N){var H=(H=oe.current)?hy(H):null;if(!H)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(g=zg(b.href),b=vn(H).hoistableStyles,N=b.get(g),N||(N={type:"style",instance:null,count:0,state:null},b.set(g,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){h=zg(b.href);var q=vn(H).hoistableStyles,Ae=q.get(h);if(Ae||(H=H.ownerDocument||H,Ae={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},q.set(h,Ae),(q=H.querySelector(kx(h)))&&!q._p&&(Ae.instance=q,Ae.state.loading=5),hu.has(h)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},hu.set(h,b),q||Oae(H,h,b,Ae.state))),g&&N===null)throw Error(r(528,""));return Ae}if(g&&N!==null)throw Error(r(529,""));return null;case"script":return g=b.async,b=b.src,typeof b=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=Wg(b),b=vn(H).hoistableScripts,N=b.get(g),N||(N={type:"script",instance:null,count:0,state:null},b.set(g,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function zg(h){return'href="'+dt(h)+'"'}function kx(h){return'link[rel="stylesheet"]['+h+"]"}function sL(h){return f({},h,{"data-precedence":h.precedence,precedence:null})}function Oae(h,g,b,N){h.querySelector('link[rel="preload"][as="style"]['+g+"]")?N.loading=1:(g=h.createElement("link"),N.preload=g,g.addEventListener("load",function(){return N.loading|=1}),g.addEventListener("error",function(){return N.loading|=2}),qo(g,"link",b),On(g),h.head.appendChild(g))}function Wg(h){return'[src="'+dt(h)+'"]'}function Bx(h){return"script[async]"+h}function aL(h,g,b){if(g.count++,g.instance===null)switch(g.type){case"style":var N=h.querySelector('style[data-href~="'+dt(b.href)+'"]');if(N)return g.instance=N,On(N),N;var H=f({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return N=(h.ownerDocument||h).createElement("style"),On(N),qo(N,"style",H),fy(N,b.precedence,h),g.instance=N;case"stylesheet":H=zg(b.href);var q=h.querySelector(kx(H));if(q)return g.state.loading|=4,g.instance=q,On(q),q;N=sL(b),(H=hu.get(H))&&N4(N,H),q=(h.ownerDocument||h).createElement("link"),On(q);var Ae=q;return Ae._p=new Promise(function(De,Ze){Ae.onload=De,Ae.onerror=Ze}),qo(q,"link",N),g.state.loading|=4,fy(q,b.precedence,h),g.instance=q;case"script":return q=Wg(b.src),(H=h.querySelector(Bx(q)))?(g.instance=H,On(H),H):(N=b,(H=hu.get(q))&&(N=f({},b),T4(N,H)),h=h.ownerDocument||h,H=h.createElement("script"),On(H),qo(H,"link",N),h.head.appendChild(H),g.instance=H);case"void":return null;default:throw Error(r(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(N=g.instance,g.state.loading|=4,fy(N,b.precedence,h));return g.instance}function fy(h,g,b){for(var N=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),H=N.length?N[N.length-1]:null,q=H,Ae=0;Ae<N.length;Ae++){var De=N[Ae];if(De.dataset.precedence===g)q=De;else if(q!==H)break}q?q.parentNode.insertBefore(h,q.nextSibling):(g=b.nodeType===9?b.head:b,g.insertBefore(h,g.firstChild))}function N4(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.title==null&&(h.title=g.title)}function T4(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.integrity==null&&(h.integrity=g.integrity)}var Ay=null;function oL(h,g,b){if(Ay===null){var N=new Map,H=Ay=new Map;H.set(b,N)}else H=Ay,N=H.get(b),N||(N=new Map,H.set(b,N));if(N.has(h))return N;for(N.set(h,null),b=b.getElementsByTagName(h),H=0;H<b.length;H++){var q=b[H];if(!(q[bt]||q[Me]||h==="link"&&q.getAttribute("rel")==="stylesheet")&&q.namespaceURI!=="http://www.w3.org/2000/svg"){var Ae=q.getAttribute(g)||"";Ae=h+Ae;var De=N.get(Ae);De?De.push(q):N.set(Ae,[q])}}return N}function lL(h,g,b){h=h.ownerDocument||h,h.head.insertBefore(b,g==="title"?h.querySelector("head > title"):null)}function jae(h,g,b){if(b===1||g.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return h=g.disabled,typeof g.precedence=="string"&&h==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function cL(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function Uae(h,g,b,N){if(b.type==="stylesheet"&&(typeof N.media!="string"||matchMedia(N.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var H=zg(N.href),q=g.querySelector(kx(H));if(q){g=q._p,g!==null&&typeof g=="object"&&typeof g.then=="function"&&(h.count++,h=py.bind(h),g.then(h,h)),b.state.loading|=4,b.instance=q,On(q);return}q=g.ownerDocument||g,N=sL(N),(H=hu.get(H))&&N4(N,H),q=q.createElement("link"),On(q);var Ae=q;Ae._p=new Promise(function(De,Ze){Ae.onload=De,Ae.onerror=Ze}),qo(q,"link",N),b.instance=q}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(b,g),(g=b.state.preload)&&(b.state.loading&3)===0&&(h.count++,b=py.bind(h),g.addEventListener("load",b),g.addEventListener("error",b))}}var I4=0;function Hae(h,g){return h.stylesheets&&h.count===0&&my(h,h.stylesheets),0<h.count||0<h.imgCount?function(b){var N=setTimeout(function(){if(h.stylesheets&&my(h,h.stylesheets),h.unsuspend){var q=h.unsuspend;h.unsuspend=null,q()}},6e4+g);0<h.imgBytes&&I4===0&&(I4=62500*bae());var H=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&my(h,h.stylesheets),h.unsuspend)){var q=h.unsuspend;h.unsuspend=null,q()}},(h.imgBytes>I4?50:800)+g);return h.unsuspend=b,function(){h.unsuspend=null,clearTimeout(N),clearTimeout(H)}}:null}function py(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)my(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var gy=null;function my(h,g){h.stylesheets=null,h.unsuspend!==null&&(h.count++,gy=new Map,g.forEach(Gae,h),gy=null,py.call(h))}function Gae(h,g){if(!(g.state.loading&4)){var b=gy.get(h);if(b)var N=b.get(null);else{b=new Map,gy.set(h,b);for(var H=h.querySelectorAll("link[data-precedence],style[data-precedence]"),q=0;q<H.length;q++){var Ae=H[q];(Ae.nodeName==="LINK"||Ae.getAttribute("media")!=="not all")&&(b.set(Ae.dataset.precedence,Ae),N=Ae)}N&&b.set(null,N)}H=g.instance,Ae=H.getAttribute("data-precedence"),q=b.get(Ae)||N,q===N&&b.set(null,H),b.set(Ae,H),this.count++,N=py.bind(this),H.addEventListener("load",N),H.addEventListener("error",N),q?q.parentNode.insertBefore(H,q.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(H,h.firstChild)),g.state.loading|=4}}var Rx={$$typeof:R,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Vae(h,g,b,N,H,q,Ae,De,Ze){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=N,this.onUncaughtError=H,this.onCaughtError=q,this.onRecoverableError=Ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ze,this.incompleteTransitions=new Map}function uL(h,g,b,N,H,q,Ae,De,Ze,Ft,Yt,ln){return h=new Vae(h,g,b,Ae,Ze,Ft,Yt,ln,De),g=1,q===!0&&(g|=24),q=Eo(3,null,null,g),h.current=q,q.stateNode=h,g=tA(),g.refCount++,h.pooledCache=g,g.refCount++,q.memoizedState={element:N,isDehydrated:b,cache:g},Pn(q),h}function dL(h){return h?(h=to,h):to}function hL(h,g,b,N,H,q){H=dL(H),N.context===null?N.context=H:N.pendingContext=H,N=_r(g),N.payload={element:b},q=q===void 0?null:q,q!==null&&(N.callback=q),b=$r(h,N,g),b!==null&&(vc(b,h,g),qi(b,h,g))}function fL(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<g?b:g}}function F4(h,g){fL(h,g),(h=h.alternate)&&fL(h,g)}function AL(h){if(h.tag===13||h.tag===31){var g=Xu(h,67108864);g!==null&&vc(g,h,67108864),F4(h,67108864)}}function pL(h){if(h.tag===13||h.tag===31){var g=Gc();g=Rr(g);var b=Xu(h,g);b!==null&&vc(b,h,g),F4(h,g)}}var xy=!0;function Qae(h,g,b,N){var H=ue.T;ue.T=null;var q=le.p;try{le.p=2,k4(h,g,b,N)}finally{le.p=q,ue.T=H}}function zae(h,g,b,N){var H=ue.T;ue.T=null;var q=le.p;try{le.p=8,k4(h,g,b,N)}finally{le.p=q,ue.T=H}}function k4(h,g,b,N){if(xy){var H=B4(N);if(H===null)g4(h,g,N,vy,b),mL(h,N);else if(Kae(H,h,g,b,N))N.stopPropagation();else if(mL(h,N),g&4&&-1<Wae.indexOf(h)){for(;H!==null;){var q=on(H);if(q!==null)switch(q.tag){case 3:if(q=q.stateNode,q.current.memoizedState.isDehydrated){var Ae=kn(q.pendingLanes);if(Ae!==0){var De=q;for(De.pendingLanes|=2,De.entangledLanes|=2;Ae;){var Ze=1<<31-un(Ae);De.entanglements[1]|=Ze,Ae&=~Ze}Wd(q),(Yi&6)===0&&(ty=Cn()+500,Nx(0))}}break;case 31:case 13:De=Xu(q,2),De!==null&&vc(De,q,2),ry(),F4(q,2)}if(q=B4(N),q===null&&g4(h,g,N,vy,b),q===H)break;H=q}H!==null&&N.stopPropagation()}else g4(h,g,N,null,b)}}function B4(h){return h=xo(h),R4(h)}var vy=null;function R4(h){if(vy=null,h=an(h),h!==null){var g=s(h);if(g===null)h=null;else{var b=g.tag;if(b===13){if(h=a(g),h!==null)return h;h=null}else if(b===31){if(h=o(g),h!==null)return h;h=null}else if(b===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null)}}return vy=h,null}function gL(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vn()){case Sn:return 2;case tr:return 8;case xn:case Ht:return 32;case hn:return 268435456;default:return 32}default:return 32}}var _4=!1,AA=null,pA=null,gA=null,_x=new Map,Dx=new Map,mA=[],Wae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mL(h,g){switch(h){case"focusin":case"focusout":AA=null;break;case"dragenter":case"dragleave":pA=null;break;case"mouseover":case"mouseout":gA=null;break;case"pointerover":case"pointerout":_x.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dx.delete(g.pointerId)}}function Px(h,g,b,N,H,q){return h===null||h.nativeEvent!==q?(h={blockedOn:g,domEventName:b,eventSystemFlags:N,nativeEvent:q,targetContainers:[H]},g!==null&&(g=on(g),g!==null&&AL(g)),h):(h.eventSystemFlags|=N,g=h.targetContainers,H!==null&&g.indexOf(H)===-1&&g.push(H),h)}function Kae(h,g,b,N,H){switch(g){case"focusin":return AA=Px(AA,h,g,b,N,H),!0;case"dragenter":return pA=Px(pA,h,g,b,N,H),!0;case"mouseover":return gA=Px(gA,h,g,b,N,H),!0;case"pointerover":var q=H.pointerId;return _x.set(q,Px(_x.get(q)||null,h,g,b,N,H)),!0;case"gotpointercapture":return q=H.pointerId,Dx.set(q,Px(Dx.get(q)||null,h,g,b,N,H)),!0}return!1}function xL(h){var g=an(h.target);if(g!==null){var b=s(g);if(b!==null){if(g=b.tag,g===13){if(g=a(b),g!==null){h.blockedOn=g,_e(h.priority,function(){pL(b)});return}}else if(g===31){if(g=o(b),g!==null){h.blockedOn=g,_e(h.priority,function(){pL(b)});return}}else if(g===3&&b.stateNode.current.memoizedState.isDehydrated){h.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}h.blockedOn=null}function wy(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var b=B4(h.nativeEvent);if(b===null){b=h.nativeEvent;var N=new b.constructor(b.type,b);di=N,b.target.dispatchEvent(N),di=null}else return g=on(b),g!==null&&AL(g),h.blockedOn=b,!1;g.shift()}return!0}function vL(h,g,b){wy(h)&&b.delete(g)}function qae(){_4=!1,AA!==null&&wy(AA)&&(AA=null),pA!==null&&wy(pA)&&(pA=null),gA!==null&&wy(gA)&&(gA=null),_x.forEach(vL),Dx.forEach(vL)}function by(h,g){h.blockedOn===g&&(h.blockedOn=null,_4||(_4=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qae)))}var yy=null;function wL(h){yy!==h&&(yy=h,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){yy===h&&(yy=null);for(var g=0;g<h.length;g+=3){var b=h[g],N=h[g+1],H=h[g+2];if(typeof N!="function"){if(R4(N||b)===null)continue;break}var q=on(b);q!==null&&(h.splice(g,3),g-=3,BN(q,{pending:!0,data:H,method:b.method,action:N},N,H))}}))}function Kg(h){function g(Ze){return by(Ze,h)}AA!==null&&by(AA,h),pA!==null&&by(pA,h),gA!==null&&by(gA,h),_x.forEach(g),Dx.forEach(g);for(var b=0;b<mA.length;b++){var N=mA[b];N.blockedOn===h&&(N.blockedOn=null)}for(;0<mA.length&&(b=mA[0],b.blockedOn===null);)xL(b),b.blockedOn===null&&mA.shift();if(b=(h.ownerDocument||h).$$reactFormReplay,b!=null)for(N=0;N<b.length;N+=3){var H=b[N],q=b[N+1],Ae=H[He]||null;if(typeof q=="function")Ae||wL(b);else if(Ae){var De=null;if(q&&q.hasAttribute("formAction")){if(H=q,Ae=q[He]||null)De=Ae.formAction;else if(R4(H)!==null)continue}else De=Ae.action;typeof De=="function"?b[N+1]=De:(b.splice(N,3),N-=3),wL(b)}}}function bL(){function h(q){q.canIntercept&&q.info==="react-transition"&&q.intercept({handler:function(){return new Promise(function(Ae){return H=Ae})},focusReset:"manual",scroll:"manual"})}function g(){H!==null&&(H(),H=null),N||setTimeout(b,20)}function b(){if(!N&&!navigation.transition){var q=navigation.currentEntry;q&&q.url!=null&&navigation.navigate(q.url,{state:q.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var N=!1,H=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",g),navigation.addEventListener("navigateerror",g),setTimeout(b,100),function(){N=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",g),navigation.removeEventListener("navigateerror",g),H!==null&&(H(),H=null)}}}function D4(h){this._internalRoot=h}Cy.prototype.render=D4.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(r(409));var b=g.current,N=Gc();hL(b,N,h,g,null,null)},Cy.prototype.unmount=D4.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;hL(h.current,2,null,h,null,null),ry(),g[Ve]=null}};function Cy(h){this._internalRoot=h}Cy.prototype.unstable_scheduleHydration=function(h){if(h){var g=Ee();h={blockedOn:null,target:h,priority:g};for(var b=0;b<mA.length&&g!==0&&g<mA[b].priority;b++);mA.splice(b,0,h),b===0&&xL(h)}};var yL=t.version;if(yL!=="19.2.3")throw Error(r(527,yL,"19.2.3"));le.findDOMNode=function(h){var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=c(g),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var $ae={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sy.isDisabled&&Sy.supportsFiber)try{Tn=Sy.inject($ae),ut=Sy}catch{}}return Lx.createRoot=function(h,g){if(!i(h))throw Error(r(299));var b=!1,N="",H=FM,q=kM,Ae=BM;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onUncaughtError!==void 0&&(H=g.onUncaughtError),g.onCaughtError!==void 0&&(q=g.onCaughtError),g.onRecoverableError!==void 0&&(Ae=g.onRecoverableError)),g=uL(h,1,!1,null,null,b,N,null,H,q,Ae,bL),h[Ve]=g.current,p4(h),new D4(g)},Lx.hydrateRoot=function(h,g,b){if(!i(h))throw Error(r(299));var N=!1,H="",q=FM,Ae=kM,De=BM,Ze=null;return b!=null&&(b.unstable_strictMode===!0&&(N=!0),b.identifierPrefix!==void 0&&(H=b.identifierPrefix),b.onUncaughtError!==void 0&&(q=b.onUncaughtError),b.onCaughtError!==void 0&&(Ae=b.onCaughtError),b.onRecoverableError!==void 0&&(De=b.onRecoverableError),b.formState!==void 0&&(Ze=b.formState)),g=uL(h,1,!0,g,b??null,N,H,Ze,q,Ae,De,bL),g.context=dL(null),b=g.current,N=Gc(),N=Rr(N),H=_r(N),H.callback=null,$r(b,H,N),b=N,g.current.lanes=b,qn(g,b),Wd(g),h[Ve]=g.current,p4(h),new Cy(g)},Lx.version="19.2.3",Lx}var RL;function ooe(){if(RL)return L4.exports;RL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),L4.exports=aoe(),L4.exports}var loe=ooe();const coe=iu(loe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),doe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),_L=e=>{const t=doe(e);return t.charAt(0).toUpperCase()+t.slice(1)},IW=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),hoe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var foe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>B.createElement("svg",{ref:l,...foe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:IW("lucide",i),...!s&&!hoe(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,d])=>B.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(e,t)=>{const n=B.forwardRef(({className:r,...i},s)=>B.createElement(Aoe,{ref:s,iconNode:t,className:IW(`lucide-${uoe(_L(e))}`,`lucide-${e}`,r),...i}));return n.displayName=_L(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Eu=Ot("activity",poe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],moe=Ot("arrow-down-right",goe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],voe=Ot("arrow-left",xoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Jv=Ot("arrow-right-left",woe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Np=Ot("arrow-right",boe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],HE=Ot("arrow-up-right",yoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Soe=Ot("award",Coe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],FW=Ot("bell",Eoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Toe=Ot("book-open",Noe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],c3=Ot("bot",Ioe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Tp=Ot("box",Foe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Cf=Ot("briefcase",koe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Cd=Ot("building-2",Boe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_oe=Ot("calculator",Roe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Poe=Ot("calendar-clock",Doe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],O0=Ot("calendar-days",Moe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Du=Ot("calendar",Loe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],c1=Ot("camera",Ooe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kW=Ot("chart-column",joe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Hoe=Ot("chart-pie",Uoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Voe=Ot("check-check",Goe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ic=Ot("check",Qoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ch=Ot("chevron-down",zoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BW=Ot("chevron-left",Woe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uh=Ot("chevron-right",Koe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$oe=Ot("chevron-up",qoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xh=Ot("circle-alert",Yoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],u1=Ot("circle-check-big",Xoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gd=Ot("circle-check",Joe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ele=Ot("circle-play",Zoe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RW=Ot("circle-question-mark",tle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],DL=Ot("circle-user",nle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rp=Ot("circle-x",rle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],sle=Ot("clipboard-check",ile);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],_W=Ot("clipboard-list",ale);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.5",key:"1but9f"}],["path",{d:"M16 4h2a2 2 0 0 1 1.73 1",key:"1p8n7l"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}]],u3=Ot("clipboard-pen-line",ole);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ru=Ot("clock",lle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],H4=Ot("cloud-download",cle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],d3=Ot("cloud-off",ule);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],hle=Ot("cloud-upload",dle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],d1=Ot("cloud",fle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],PL=Ot("coins",Ale);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],ML=Ot("construction",ple);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M17.915 22a6 6 0 0 0-12 0",key:"suqz9p"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],mle=Ot("contact-round",gle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vle=Ot("copy",xle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],DW=Ot("credit-card",wle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],h3=Ot("database",ble);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Cc=Ot("dollar-sign",yle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ip=Ot("download",Cle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dm=Ot("external-link",Sle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],hR=Ot("file-check",Ele);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LL=Ot("file-exclamation-point",Nle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Ile=Ot("file-image",Tle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],f3=Ot("file-spreadsheet",Fle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ah=Ot("file-text",kle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Rle=Ot("fingerprint-pattern",Ble);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],PW=Ot("folder-kanban",_le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],Ple=Ot("funnel-x",Dle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fR=Ot("funnel",Mle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Ole=Ot("gavel",Lle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],OL=Ot("github",jle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hle=Ot("globe",Ule);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],MW=Ot("hammer",Gle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],GE=Ot("hard-hat",Vle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],VE=Ot("hash",Qle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],LW=Ot("heart",zle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],OW=Ot("history",Wle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xm=Ot("image",Kle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sv=Ot("info",qle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],jL=Ot("key",$le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Xle=Ot("keyboard",Yle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Zle=Ot("landmark",Jle);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Zv=Ot("layers",ece);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ew=Ot("layout-dashboard",tce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],rce=Ot("layout-grid",nce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],A3=Ot("layout-list",ice);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ace=Ot("link",sce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],lce=Ot("list-todo",oce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],uce=Ot("list",cce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ia=Ot("loader-circle",dce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],p3=Ot("lock",hce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ace=Ot("log-in",fce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],g3=Ot("log-out",pce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],QE=Ot("mail",gce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aa=Ot("map-pin",mce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vce=Ot("menu",xce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],zw=Ot("message-square",wce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],yce=Ot("mic-off",bce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Sce=Ot("mic",Cce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"M5 12h14",key:"1ays0h"}]],Nce=Ot("minus",Ece);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Ice=Ot("move-right",Tce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],zE=Ot("navigation",Fce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ip=Ot("package",kce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Rce=Ot("panels-top-left",Bce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],AR=Ot("pen",_ce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mo=Ot("pencil",Dce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Zc=Ot("phone",Pce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lce=Ot("play",Mce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zl=Ot("plus",Oce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],WE=Ot("printer",jce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],m3=Ot("qr-code",Uce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Gce=Ot("receipt",Hce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sp=Ot("refresh-cw",Vce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],x3=Ot("rotate-ccw",Qce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],jW=Ot("ruler",zce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xp=Ot("save",Wce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]],qce=Ot("scan-barcode",Kce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],_2=Ot("scan",$ce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vh=Ot("search",Yce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],D2=Ot("send",Xce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P2=Ot("settings",Jce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],UW=Ot("share-2",Zce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Fp=Ot("shield-alert",eue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ap=Ot("shield-check",tue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],M2=Ot("shield",nue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],h1=Ot("shopping-bag",rue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],v3=Ot("shopping-cart",iue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],L2=Ot("smartphone",sue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ui=Ot("sparkles",aue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UL=Ot("square-check-big",oue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],cue=Ot("square",lue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],due=Ot("star",uue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],fue=Ot("store",hue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tw=Ot("tag",Aue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vm=Ot("target",pue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ni=Ot("trash-2",gue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],O2=Ot("trending-up",mue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ho=Ot("triangle-alert",xue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],KE=Ot("truck",vue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nh=Ot("upload",wue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HW=Ot("user-check",bue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Cue=Ot("user-plus",yue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pu=Ot("user",Sue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jp=Ot("users",Eue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Tue=Ot("video",Nue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ww=Ot("wallet",Iue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],kue=Ot("warehouse",Fue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ev=Ot("wrench",Bue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ri=Ot("x",Rue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],md=Ot("zap",_ue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],G4=Ot("zoom-in",Due);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Mue=Ot("zoom-out",Pue);var ji=(e=>(e.AUTH="auth",e.DASHBOARD="dashboard",e.SETTINGS="settings",e.PROJECTS="projects",e.CUSTOMERS="customers",e.TEAM="team",e.VENDORS="vendors",e.DISPATCH="dispatch",e.ANALYTICS="analytics",e.AI_ASSISTANT="ai_assistant",e.CLOUD_SYNC="cloud_sync",e.LEADS="leads",e.INVENTORY="inventory",e.ATTENDANCE="attendance",e.PAYROLL="payroll",e.APPROVALS="approvals",e))(ji||{});const bu=[{id:"auth",name:"",description:"",icon:DL,isCore:!0,dependencies:[],enabled:!0,category:"core"},{id:"dashboard",name:"",description:"",icon:ew,isCore:!0,dependencies:[],enabled:!0,category:"core"},{id:"settings",name:"",description:"",icon:P2,isCore:!0,dependencies:[],enabled:!0,category:"core"},{id:"projects",name:"",description:"",icon:PW,isCore:!1,dependencies:[],enabled:!0,category:"management"},{id:"customers",name:"",description:"CRM ",icon:DL,isCore:!1,dependencies:[],enabled:!0,category:"management"},{id:"team",name:"",description:"",icon:Jp,isCore:!1,dependencies:[],enabled:!0,category:"management"},{id:"vendors",name:"",description:"",icon:Cd,isCore:!1,dependencies:[],enabled:!0,category:"management"},{id:"dispatch",name:"",description:"",icon:Poe,isCore:!1,dependencies:["projects","team"],enabled:!0,category:"management"},{id:"analytics",name:"",description:"",icon:kW,isCore:!1,dependencies:["projects"],enabled:!0,category:"analytics"},{id:"ai_assistant",name:"AI ",description:"",icon:Ui,isCore:!1,dependencies:[],enabled:!0,category:"automation"},{id:"cloud_sync",name:"",description:"Google Drive ",icon:d1,isCore:!1,dependencies:[],enabled:!0,category:"automation"},{id:"leads",name:"",description:"AI ",icon:_W,isCore:!1,dependencies:["ai_assistant"],enabled:!0,category:"automation"},{id:"inventory",name:"",description:"",icon:h1,isCore:!1,dependencies:[],enabled:!0,category:"management"},{id:"attendance",name:"",description:"",icon:Ru,isCore:!1,dependencies:["team"],enabled:!0,category:"management"},{id:"payroll",name:"",description:"",icon:Ww,isCore:!1,dependencies:["team","attendance"],enabled:!0,category:"management"},{id:"approvals",name:"",description:"",icon:hR,isCore:!1,dependencies:["team"],enabled:!0,category:"management"}],YC={FULL:{name:"",description:"",modules:bu.map(e=>e.id)},STANDARD:{name:"",description:"",modules:["auth","dashboard","settings","projects","customers","team","cloud_sync","inventory"]},LITE:{name:"",description:"",modules:["auth","dashboard","settings","projects"]},PROFESSIONAL:{name:"",description:"",modules:["auth","dashboard","settings","projects","customers","team","analytics","cloud_sync","inventory"]}},op=bu.map(e=>e.id),HL="bt_module_config";class Lue{constructor(){this.listeners=[],this.enabledModules=this.loadModuleConfig()}loadModuleConfig(){try{const t=localStorage.getItem(HL);if(t){const n=JSON.parse(t);return new Set(n)}}catch(t){console.warn("Failed to load module config, using defaults",t)}return new Set(op)}saveModuleConfig(){try{const t=Array.from(this.enabledModules);localStorage.setItem(HL,JSON.stringify(t)),this.notifyListeners()}catch(t){console.error("Failed to save module config",t)}}getAllModules(){return bu.map(t=>({...t,enabled:this.enabledModules.has(t.id)}))}getEnabledModules(){return Array.from(this.enabledModules)}isModuleEnabled(t){return this.enabledModules.has(t)}getDependentModules(t){return bu.filter(n=>n.dependencies.includes(t)&&this.enabledModules.has(n.id))}validateDisable(t){const n=bu.find(i=>i.id===t);if(n!=null&&n.isCore)return{canDisable:!1,dependents:[]};const r=this.getDependentModules(t);return{canDisable:r.length===0,dependents:r}}validateEnable(t){const n=bu.find(i=>i.id===t);if(!n)return{canEnable:!1,missingDependencies:[]};const r=n.dependencies.filter(i=>!this.enabledModules.has(i)).map(i=>bu.find(s=>s.id===i)).filter(Boolean);return{canEnable:r.length===0,missingDependencies:r}}enableModule(t,n=!0){const r=this.validateEnable(t);return!r.canEnable&&!n?{success:!1,message:` ${r.missingDependencies.map(s=>s.name).join("")}`}:(n&&r.missingDependencies.length>0&&r.missingDependencies.forEach(i=>{this.enabledModules.add(i.id)}),this.enabledModules.add(t),this.saveModuleConfig(),{success:!0,message:""})}disableModule(t,n=!1){const r=this.validateDisable(t);return!r.canDisable&&!n?{success:!1,message:`${r.dependents.map(s=>s.name).join("")} `}:(n&&r.dependents.length>0&&r.dependents.forEach(i=>{this.enabledModules.delete(i.id)}),this.enabledModules.delete(t),this.saveModuleConfig(),{success:!0,message:""})}toggleModule(t,n=!0){return this.enabledModules.has(t)?this.disableModule(t,n):this.enableModule(t,n)}applyPreset(t){const n=YC[t];this.enabledModules=new Set(n.modules),this.saveModuleConfig()}resetToDefault(){this.enabledModules=new Set(op),this.saveModuleConfig()}exportConfig(){return{modules:Array.from(this.enabledModules),timestamp:new Date().toISOString()}}importConfig(t){try{const n=t.filter(s=>bu.some(a=>a.id===s)),r=bu.filter(s=>s.isCore).map(s=>s.id),i=new Set([...r,...n]);return this.enabledModules=i,this.saveModuleConfig(),{success:!0,message:""}}catch{return{success:!1,message:""}}}onChange(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(n=>n!==t)}}notifyListeners(){const t=Array.from(this.enabledModules);this.listeners.forEach(n=>n(t))}getStats(){const t=bu.length,n=this.enabledModules.size,r=bu.filter(a=>a.isCore).length,i=t-r,s=n-r;return{total:t,enabled:n,disabled:t-n,core:r,optional:i,optionalEnabled:s,optionalDisabled:i-s}}}const qa=new Lue,Oue=({activeTab:e,setActiveTab:t,user:n,onMenuClose:r,isSyncing:i})=>{const[s,a]=B.useState([]),[o,l]=B.useState(!1),[c,d]=B.useState(!1);B.useEffect(()=>(a(qa.getEnabledModules()),qa.onChange(y=>{a(y)})),[]),B.useEffect(()=>{if(c&&!i){l(!0);const w=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(w)}d(!!i)},[i,c]),ji.DASHBOARD,ji.PROJECTS,ji.DISPATCH,ji.CUSTOMERS,ji.TEAM,ji.VENDORS,ji.ANALYTICS,ji.INVENTORY,ji.ATTENDANCE,ji.PAYROLL,ji.APPROVALS;const f=[{id:"dashboard",label:"",icon:ew,moduleId:ji.DASHBOARD},{id:"projects",label:"",icon:PW,moduleId:ji.PROJECTS},{id:"dispatch",label:"",icon:u3,moduleId:ji.DISPATCH},{id:"customers",label:"",icon:mle,moduleId:ji.CUSTOMERS},{id:"team",label:"",icon:Jp,moduleId:ji.TEAM},{id:"vendors",label:"",icon:h1,moduleId:ji.VENDORS},{id:"inventory",label:"",icon:h1,moduleId:ji.INVENTORY},{id:"attendance",label:"",icon:Ru,moduleId:ji.ATTENDANCE},{id:"payroll",label:"",icon:Ww,moduleId:ji.PAYROLL},{id:"approvals",label:"",icon:hR,moduleId:ji.APPROVALS},{id:"analytics",label:"",icon:kW,moduleId:ji.ANALYTICS}],p=f.filter(w=>s.includes(w.moduleId)?(n.accessibleModules||op).includes(w.moduleId):!1),m=[{id:"settings",label:"",icon:P2},{id:"help",label:"",icon:RW}];return n.role==="SuperAdmin"&&m.unshift({id:"modules",label:"",icon:Ui}),u.jsxs("aside",{className:"h-full w-full bg-stone-900 text-white flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"p-6 flex items-center justify-between shrink-0",children:[u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:"./pwa-icon.png",alt:"Logo",className:"w-10 h-10 object-contain"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-black tracking-tight leading-none text-orange-400 uppercase",children:"Quality of Life"}),u.jsx("span",{className:"text-[10px] font-bold text-stone-500",children:"Development Corp."})]})]})}),r&&u.jsx("button",{onClick:r,className:"lg:hidden p-2 text-stone-500 hover:text-white hover:bg-stone-800 rounded-xl transition-all",children:u.jsx(ri,{size:20})})]}),u.jsx("nav",{className:"flex-1 px-4 py-2 space-y-1 overflow-y-auto no-scrollbar",children:p.map(w=>u.jsxs("button",{onClick:()=>t(w.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-2xl transition-all duration-200 ${e===w.id?"bg-orange-600 text-white shadow-lg shadow-orange-900/40":"text-stone-400 hover:bg-stone-800 hover:text-white"}`,children:[u.jsx(w.icon,{size:18}),u.jsx("span",{className:"font-bold text-xs",children:w.label})]},w.id))}),u.jsxs("div",{className:"px-4 py-4 border-t border-stone-800 shrink-0 bg-stone-900/50 backdrop-blur-sm",children:[m.map(w=>u.jsxs("button",{onClick:()=>t(w.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-stone-500 hover:bg-stone-800 hover:text-white transition-colors ${e===w.id?"text-white":""}`,children:[u.jsx(w.icon,{size:18}),u.jsx("span",{className:"font-bold text-xs",children:w.label})]},w.id)),u.jsxs("button",{onClick:()=>window.dispatchEvent(new CustomEvent("TRIGGER_CLOUD_SYNC")),disabled:i,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-stone-500 hover:bg-stone-800 hover:text-white transition-colors group ${i?"opacity-50 cursor-not-allowed":""}`,title:" (Sync Now)",children:[u.jsx("div",{className:"relative",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`lucide lucide-refresh-cw transition-transform duration-500 ${i?"animate-spin":"group-hover:rotate-180"}`,children:[u.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),u.jsx("path",{d:"M21 3v5h-5"}),u.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),u.jsx("path",{d:"M3 21v-5h5"})]})}),u.jsx("span",{className:"font-bold text-xs",children:i?"...":o?"":""}),o&&u.jsx("div",{className:"absolute right-4 animate-in zoom-in fade-in duration-300",children:u.jsx("div",{className:"bg-emerald-500 p-1 rounded-full shadow-lg",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:u.jsx("path",{d:"M20 6 9 17l-5-5"})})})})]}),u.jsxs("button",{onClick:()=>{confirm(`

`)&&window.dispatchEvent(new CustomEvent("TRIGGER_CLOUD_RESTORE"))},disabled:i,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-rose-500 hover:bg-rose-900/20 hover:text-rose-400 transition-colors group",title:" ()",children:[u.jsx("div",{className:"relative",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-cloud-download",children:[u.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),u.jsx("path",{d:"M12 12v9"}),u.jsx("path",{d:"m8 17 4 4 4-4"})]})}),u.jsx("span",{className:"font-bold text-xs",children:""})]}),u.jsxs("div",{className:"mt-4 px-4 py-3 bg-stone-800/50 border border-white/5 rounded-2xl flex items-center gap-3",children:[u.jsx("img",{src:n.picture,alt:"Avatar",className:"w-8 h-8 rounded-xl border border-white/10 object-cover"}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[u.jsx("p",{className:"text-xs font-black truncate",children:n.name}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-stone-500 font-black uppercase tracking-widest truncate",children:n.role}),u.jsxs("span",{className:"text-[8px] text-stone-600 font-mono mt-0.5",children:["Mods: ",(n.accessibleModules||[]).length," / ",f.length]})]})]})]})]})]})},jue="modulepreload",Uue=function(e){return"/build-track/"+e},GL={},XC=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=Uue(c),c in GL)return;GL[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":jue,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((m,w)=>{p.addEventListener("load",m),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function GW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=GW(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qi(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=GW(e))&&(r&&(r+=" "),r+=t);return r}var Hue=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pR(e){if(typeof e!="string")return!1;var t=Hue;return t.includes(e)}var Gue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vue=new Set(Gue);function VW(e){return typeof e!="string"?!1:Vue.has(e)}function QW(e){return typeof e=="string"&&e.startsWith("data-")}function Fc(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(VW(n)||QW(n))&&(t[n]=e[n]);return t}function kp(e){if(e==null)return null;if(B.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Fc(t)}return typeof e=="object"&&!Array.isArray(e)?Fc(e):null}function Yl(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(VW(n)||QW(n)||pR(n))&&(t[n]=e[n]);return t}function Que(e){return e==null?null:B.isValidElement(e)?Yl(e.props):typeof e=="object"&&!Array.isArray(e)?Yl(e):null}var zue=["children","width","height","viewBox","className","style","title","desc"];function w3(){return w3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w3.apply(null,arguments)}function Wue(e,t){if(e==null)return{};var n,r,i=Kue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gR=B.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=e,d=Wue(e,zue),f=s||{width:r,height:i,x:0,y:0},p=Qi("recharts-surface",a);return B.createElement("svg",w3({},Yl(d),{className:p,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),B.createElement("title",null,l),B.createElement("desc",null,c),n)}),que=["children","className"];function b3(){return b3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b3.apply(null,arguments)}function $ue(e,t){if(e==null)return{};var n,r,i=Yue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ha=B.forwardRef((e,t)=>{var{children:n,className:r}=e,i=$ue(e,que),s=Qi("recharts-layer",r);return B.createElement("g",b3({className:s},Yl(i),{ref:t}),n)}),D1=TW();const Xue=iu(D1);var zW=B.createContext(null),Jue=()=>B.useContext(zW);function Ts(e){return function(){return e}}const WW=Math.cos,j2=Math.sin,Nd=Math.sqrt,U2=Math.PI,qE=2*U2,y3=Math.PI,C3=2*y3,j0=1e-6,Zue=C3-j0;function KW(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ede(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KW;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KW:ede(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-t,c=i-n,d=a-t,f=o-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>j0)if(!(Math.abs(f*l-c*d)>j0)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,w=i-o,y=l*l+c*c,C=m*m+w*w,T=Math.sqrt(y),k=Math.sqrt(p),R=s*Math.tan((y3-Math.acos((y+p-C)/(2*T*k)))/2),P=R/k,U=R/T;Math.abs(P-1)>j0&&this._append`L${t+P*d},${n+P*f}`,this._append`A${s},${s},0,0,${+(f*m>d*w)},${this._x1=t+U*l},${this._y1=n+U*c}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>j0||Math.abs(this._y1-d)>j0)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%C3+C3),p>Zue?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>j0&&this._append`A${r},${r},0,${+(p>=y3)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function mR(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new tde(t)}function xR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qW(e){this._context=e}qW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $E(e){return new qW(e)}function $W(e){return e[0]}function YW(e){return e[1]}function XW(e,t){var n=Ts(!0),r=null,i=$E,s=null,a=mR(o);e=typeof e=="function"?e:e===void 0?$W:Ts(e),t=typeof t=="function"?t:t===void 0?YW:Ts(t);function o(l){var c,d=(l=xR(l)).length,f,p=!1,m;for(r==null&&(s=i(m=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(f,c,l),+t(f,c,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ts(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ts(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ts(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Ey(e,t,n){var r=null,i=Ts(!0),s=null,a=$E,o=null,l=mR(c);e=typeof e=="function"?e:e===void 0?$W:Ts(+e),t=typeof t=="function"?t:Ts(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?YW:Ts(+n);function c(f){var p,m,w,y=(f=xR(f)).length,C,T=!1,k,R=new Array(y),P=new Array(y);for(s==null&&(o=a(k=l())),p=0;p<=y;++p){if(!(p<y&&i(C=f[p],p,f))===T)if(T=!T)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=p-1;w>=m;--w)o.point(R[w],P[w]);o.lineEnd(),o.areaEnd()}T&&(R[p]=+e(C,p,f),P[p]=+t(C,p,f),o.point(r?+r(C,p,f):R[p],n?+n(C,p,f):P[p]))}if(k)return o=null,k+""||null}function d(){return XW().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ts(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ts(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ts(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ts(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ts(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ts(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ts(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class JW{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function nde(e){return new JW(e,!0)}function rde(e){return new JW(e,!1)}const vR={draw(e,t){const n=Nd(t/U2);e.moveTo(n,0),e.arc(0,0,n,0,qE)}},ide={draw(e,t){const n=Nd(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ZW=Nd(1/3),sde=ZW*2,ade={draw(e,t){const n=Nd(t/sde),r=n*ZW;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ode={draw(e,t){const n=Nd(t),r=-n/2;e.rect(r,r,n,n)}},lde=.8908130915292852,eK=j2(U2/10)/j2(7*U2/10),cde=j2(qE/10)*eK,ude=-WW(qE/10)*eK,dde={draw(e,t){const n=Nd(t*lde),r=cde*n,i=ude*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=qE*s/5,o=WW(a),l=j2(a);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},V4=Nd(3),hde={draw(e,t){const n=-Nd(t/(V4*3));e.moveTo(0,n*2),e.lineTo(-V4*n,-n),e.lineTo(V4*n,-n),e.closePath()}},fu=-.5,Au=Nd(3)/2,S3=1/Nd(12),fde=(S3/2+1)*3,Ade={draw(e,t){const n=Nd(t/fde),r=n/2,i=n*S3,s=r,a=n*S3+n,o=-s,l=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(o,l),e.lineTo(fu*r-Au*i,Au*r+fu*i),e.lineTo(fu*s-Au*a,Au*s+fu*a),e.lineTo(fu*o-Au*l,Au*o+fu*l),e.lineTo(fu*r+Au*i,fu*i-Au*r),e.lineTo(fu*s+Au*a,fu*a-Au*s),e.lineTo(fu*o+Au*l,fu*l-Au*o),e.closePath()}};function pde(e,t){let n=null,r=mR(i);e=typeof e=="function"?e:Ts(e||vR),t=typeof t=="function"?t:Ts(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ts(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ts(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function H2(){}function G2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tK(e){this._context=e}tK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:G2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:G2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gde(e){return new tK(e)}function nK(e){this._context=e}nK.prototype={areaStart:H2,areaEnd:H2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:G2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mde(e){return new nK(e)}function rK(e){this._context=e}rK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:G2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xde(e){return new rK(e)}function iK(e){this._context=e}iK.prototype={areaStart:H2,areaEnd:H2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vde(e){return new iK(e)}function VL(e){return e<0?-1:1}function QL(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(VL(s)+VL(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function zL(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Q4(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function V2(e){this._context=e}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q4(this,this._t0,zL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Q4(this,zL(this,n=QL(this,e,t)),n);break;default:Q4(this,this._t0,n=QL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function sK(e){this._context=new aK(e)}(sK.prototype=Object.create(V2.prototype)).point=function(e,t){V2.prototype.point.call(this,t,e)};function aK(e){this._context=e}aK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function wde(e){return new V2(e)}function bde(e){return new sK(e)}function oK(e){this._context=e}oK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=WL(e),i=WL(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function WL(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function yde(e){return new oK(e)}function YE(e,t){this._context=e,this._t=t}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Cde(e){return new YE(e,.5)}function Sde(e){return new YE(e,0)}function Ede(e){return new YE(e,1)}function Bp(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,o=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function E3(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Nde(e,t){return e[t]}function Tde(e){const t=[];return t.key=e,t}function Ide(){var e=Ts([]),t=E3,n=Bp,r=Nde;function i(s){var a=Array.from(e.apply(this,arguments),Tde),o,l=a.length,c=-1,d;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,d=xR(t(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ts(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ts(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?E3:typeof s=="function"?s:Ts(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Bp,i):n},i}function Fde(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Bp(e,t)}}function kde(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=e[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Bp(e,t)}}function Bde(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,w=0;w<o;++w){var y=e[t[w]],C=y[r][1]||0,T=y[r-1][1]||0;m+=C-T}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Bp(e,t)}}var z4={},W4={},KL;function Rde(){return KL||(KL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(W4)),W4}var K4={},qL;function lK(){return qL||(qL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(K4)),K4}var q4={},$L;function wR(){return $L||($L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(q4)),q4}var $4={},Y4={},YL;function _de(){return YL||(YL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Y4)),Y4}var XL;function bR(){return XL||(XL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_de(),n=wR();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const f=i[o];c?f==="\\"&&o+1<a?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,s.push(l),l=""):l+=f:f==="["?(d=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,o++}return l&&s.push(l),s}e.toPath=r})($4)),$4}var JL;function yR(){return JL||(JL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rde(),n=lK(),r=wR(),i=bR();function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?s(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function a(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=s})(z4)),z4}var X4,ZL;function Dde(){return ZL||(ZL=1,X4=yR().get),X4}var Pde=Dde();const Rp=iu(Pde);var Mde=4;function PA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mde,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function ba(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,s,a)=>{var o=n[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+PA(o)+s:i+s},"")}var Lo=e=>e===0?0:e>0?1:-1,Mu=e=>typeof e=="number"&&e!=+e,Sf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Xn=e=>(typeof e=="number"||e instanceof Number)&&!Mu(e),wh=e=>Xn(e)||typeof e=="string",Lde=0,nw=e=>{var t=++Lde;return"".concat(e||"").concat(t)},Il=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xn(t)&&typeof t!="string")return r;var s;if(Sf(t)){if(n==null)return r;var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return Mu(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},cK=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Os(e,t,n){return Xn(e)&&Xn(t)?PA(e+n*(t-e)):t}function uK(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Rp(r,t))===n)}var oa=e=>e===null||typeof e>"u",Kw=e=>oa(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ode(e){return e!=null}function qw(){}var jde=["type","size","sizeType"];function N3(){return N3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N3.apply(null,arguments)}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(r){Ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ude(e,t,n){return(t=Hde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hde(e){var t=Gde(e,"string");return typeof t=="symbol"?t:t+""}function Gde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vde(e,t){if(e==null)return{};var n,r,i=Qde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dK={symbolCircle:vR,symbolCross:ide,symbolDiamond:ade,symbolSquare:ode,symbolStar:dde,symbolTriangle:hde,symbolWye:Ade},zde=Math.PI/180,Wde=e=>{var t="symbol".concat(Kw(e));return dK[t]||vR},Kde=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*zde;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qde=(e,t)=>{dK["symbol".concat(Kw(e))]=t},CR=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Vde(e,jde),s=tO(tO({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var o=()=>{var p=Wde(a),m=pde().type(p).size(Kde(n,r,a)),w=m();if(w!==null)return w},{className:l,cx:c,cy:d}=s,f=Yl(s);return Xn(c)&&Xn(d)&&Xn(n)?B.createElement("path",N3({},f,{className:Qi("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};CR.registerSymbol=qde;var hK=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,SR=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(B.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{pR(i)&&(r[i]=(s=>n[i](n,s)))}),r},$de=(e,t,n)=>r=>(e(t,n,r),null),$w=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];pR(i)&&typeof s=="function"&&(r||(r={}),r[i]=$de(s,t,n))}),r};function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(r){Xde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xde(e,t,n){return(t=Jde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jde(e){var t=Zde(e,"string");return typeof t=="symbol"?t:t+""}function Zde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(e,t){var n=Yde({},e),r=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q2.apply(null,arguments)}function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ehe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(r){the(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function the(e,t,n){return(t=nhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nhe(e){var t=rhe(e,"string");return typeof t=="symbol"?t:t+""}function rhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xu=32,ihe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function she(e){var{data:t,iconType:n,inactiveColor:r}=e,i=xu/2,s=xu/6,a=xu/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return B.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:xu,y2:i,className:"recharts-legend-icon"})}if(l==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(xu,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return B.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(xu/8,"h").concat(xu,"v").concat(xu*3/4,"h").concat(-xu,"z"),className:"recharts-legend-icon"});if(B.isValidElement(t.legendIcon)){var d=ehe({},t);return delete d.legendIcon,B.cloneElement(t.legendIcon,d)}return B.createElement(CR,{fill:o,cx:i,cy:i,size:xu,sizeType:"diameter",type:l})}function ahe(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=e,o={x:0,y:0,width:xu,height:xu},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||i,m=Qi({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var w=d.inactive?s:d.color,y=p?p(d.value,d,f):d.value;return B.createElement("li",Q2({className:m,style:l,key:"legend-item-".concat(f)},$w(e,d,f)),B.createElement(gR,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(y," legend icon")},B.createElement(she,{data:d,iconType:a,inactiveColor:s})),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y))})}var ohe=e=>{var t=eo(e,ihe),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:s},B.createElement(ahe,Q2({},t,{payload:n})))},J4={},Z4={},iO;function lhe(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}e.uniqBy=t})(Z4)),Z4}var eT={},sO;function fK(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(eT)),eT}var tT={},nT={},rT={},aO;function che(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(rT)),rT}var oO;function ER(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=che();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(nT)),nT}var iT={},lO;function uhe(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(iT)),iT}var cO;function dhe(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ER(),n=uhe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(tT)),tT}var sT={},aT={},uO;function hhe(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yR();function n(r){return function(i){return t.get(i,r)}}e.property=n})(aT)),aT}var oT={},lT={},cT={},uT={},dO;function AK(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(uT)),uT}var dT={},hO;function pK(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(dT)),dT}var hT={},fO;function gK(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(hT)),hT}var AO;function fhe(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AK(),n=pK(),r=gK();function i(d,f,p){return typeof p!="function"?i(d,f,()=>{}):s(d,f,function m(w,y,C,T,k,R){const P=p(w,y,C,T,k,R);return P!==void 0?!!P:s(w,y,m,R)},new Map)}function s(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,p,m);case"function":return Object.keys(f).length>0?s(d,{...f},p,m):r.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.eq(d,f)}}function a(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return o(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const w=Object.keys(f);if(d==null||n.isPrimitive(d))return w.length===0;if(w.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<w.length;y++){const C=w[y];if(!n.isPrimitive(d)&&!(C in d)||f[C]===void 0&&d[C]!==void 0||f[C]===null&&d[C]!==null||!p(d[C],f[C],C,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[w,y]of f.entries()){const C=d.get(w);if(p(C,y,w,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const w=new Set;for(let y=0;y<f.length;y++){const C=f[y];let T=!1;for(let k=0;k<d.length;k++){if(w.has(k))continue;const R=d[k];let P=!1;if(p(R,C,y,d,f,m)&&(P=!0),P){w.add(k),T=!0;break}}if(!T)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=i,e.isSetMatch=c})(cT)),cT}var pO;function mK(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fhe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(lT)),lT}var fT={},AT={},pT={},gO;function Ahe(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(pT)),pT}var gT={},mO;function xK(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(gT)),gT}var mT={},xO;function vK(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",w="[object Error]",y="[object DataView]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]",P="[object BigUint64Array]",U="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",K="[object BigInt64Array]",j="[object Float32Array]",te="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=K,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=y,e.dateTag=o,e.errorTag=w,e.float32ArrayTag=j,e.float64ArrayTag=te,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=L,e.int8ArrayTag=U,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=k,e.uint32ArrayTag=R,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=T})(mT)),mT}var xT={},vO;function phe(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(xT)),xT}var wO;function wK(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ahe(),n=xK(),r=vK(),i=pK(),s=phe();function a(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,p,m=new Map,w=void 0){const y=w==null?void 0:w(d,f,p,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const C=new Array(d.length);m.set(d,C);for(let T=0;T<d.length;T++)C[T]=o(d[T],T,p,m,w);return Object.hasOwn(d,"index")&&(C.index=d.index),Object.hasOwn(d,"input")&&(C.input=d.input),C}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const C=new RegExp(d.source,d.flags);return C.lastIndex=d.lastIndex,C}if(d instanceof Map){const C=new Map;m.set(d,C);for(const[T,k]of d)C.set(T,o(k,T,p,m,w));return C}if(d instanceof Set){const C=new Set;m.set(d,C);for(const T of d)C.add(o(T,void 0,p,m,w));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const C=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,C);for(let T=0;T<d.length;T++)C[T]=o(d[T],T,p,m,w);return C}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const C=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,C),l(C,d,p,m,w),C}if(typeof File<"u"&&d instanceof File){const C=new File([d],d.name,{type:d.type});return m.set(d,C),l(C,d,p,m,w),C}if(typeof Blob<"u"&&d instanceof Blob){const C=new Blob([d],{type:d.type});return m.set(d,C),l(C,d,p,m,w),C}if(d instanceof Error){const C=new d.constructor;return m.set(d,C),C.message=d.message,C.name=d.name,C.stack=d.stack,C.cause=d.cause,l(C,d,p,m,w),C}if(d instanceof Boolean){const C=new Boolean(d.valueOf());return m.set(d,C),l(C,d,p,m,w),C}if(d instanceof Number){const C=new Number(d.valueOf());return m.set(d,C),l(C,d,p,m,w),C}if(d instanceof String){const C=new String(d.valueOf());return m.set(d,C),l(C,d,p,m,w),C}if(typeof d=="object"&&c(d)){const C=Object.create(Object.getPrototypeOf(d));return m.set(d,C),l(C,d,p,m,w),C}return d}function l(d,f,p=d,m,w){const y=[...Object.keys(f),...t.getSymbols(f)];for(let C=0;C<y.length;C++){const T=y[C],k=Object.getOwnPropertyDescriptor(d,T);(k==null||k.writable)&&(d[T]=o(f[T],T,p,m,w))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=l})(AT)),AT}var bO;function ghe(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wK();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(fT)),fT}var yO;function mhe(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mK(),n=ghe();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(oT)),oT}var vT={},wT={},bT={},CO;function xhe(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wK(),n=vK();function r(i,s){return t.cloneDeepWith(i,(a,o,l,c)=>{const d=s==null?void 0:s(a,o,l,c);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(bT)),bT}var SO;function vhe(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xhe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(wT)),wT}var yT={},CT={},EO;function bK(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(CT)),CT}var ST={},NO;function whe(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xK();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(ST)),ST}var TO;function bhe(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lK(),n=bK(),r=whe(),i=bR();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})(yT)),yT}var IO;function yhe(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mK(),n=wR(),r=vhe(),i=yR(),s=bhe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?s.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=a})(vT)),vT}var FO;function Che(){return FO||(FO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fK(),n=hhe(),r=mhe(),i=yhe();function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=s})(sT)),sT}var kO;function She(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lhe(),n=fK(),r=dhe(),i=Che();function s(a,o=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(o)):[]}e.uniqBy=s})(J4)),J4}var ET,BO;function Ehe(){return BO||(BO=1,ET=She().uniqBy),ET}var Nhe=Ehe();const RO=iu(Nhe);function yK(e,t,n){return t===!0?RO(e,n):typeof t=="function"?RO(e,t):e}var NT={exports:{}},TT={},IT={exports:{}},FT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function The(){if(_O)return FT;_O=1;var e=_1();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(f,p){var m=p(),w=r({inst:{value:m,getSnapshot:p}}),y=w[0].inst,C=w[1];return s(function(){y.value=m,y.getSnapshot=p,l(y)&&C({inst:y})},[f,m,p]),i(function(){return l(y)&&C({inst:y}),f(function(){l(y)&&C({inst:y})})},[f]),a(m),m}function l(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return FT.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,FT}var DO;function Ihe(){return DO||(DO=1,IT.exports=The()),IT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function Fhe(){if(PO)return TT;PO=1;var e=_1(),t=Ihe();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return TT.useSyncExternalStoreWithSelector=function(c,d,f,p,m){var w=s(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=o(function(){function T(O){if(!k){if(k=!0,R=O,O=p(O),m!==void 0&&y.hasValue){var L=y.value;if(m(L,O))return P=L}return P=O}if(L=P,r(R,O))return L;var K=p(O);return m!==void 0&&m(L,K)?(R=O,L):(R=O,P=K)}var k=!1,R,P,U=f===void 0?null:f;return[function(){return T(d())},U===null?void 0:function(){return T(U())}]},[d,f,p,m]);var C=i(c,w[0],w[1]);return a(function(){y.hasValue=!0,y.value=C},[C]),l(C),C},TT}var MO;function khe(){return MO||(MO=1,NT.exports=Fhe()),NT.exports}var Bhe=khe(),NR=B.createContext(null),Rhe=e=>e,ks=()=>{var e=B.useContext(NR);return e?e.store.dispatch:Rhe},JC=()=>{},_he=()=>JC,Dhe=(e,t)=>e===t;function pr(e){var t=B.useContext(NR);return Bhe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_he,t?t.store.getState:JC,t?t.store.getState:JC,t?e:JC,Dhe)}function Phe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Mhe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Lhe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var LO=e=>Array.isArray(e)?e:[e];function Ohe(e){const t=Array.isArray(e[0])?e[0]:e;return Lhe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function jhe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Uhe=class{constructor(e){this.value=e}deref(){return this.value}},Hhe=typeof WeakRef<"u"?WeakRef:Uhe,Ghe=0,OO=1;function Ny(){return{s:Ghe,v:void 0,o:null,p:null}}function CK(e,t={}){let n=Ny();const{resultEqualityCheck:r}=t;let i,s=0;function a(){var f;let o=n;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const w=arguments[p];if(typeof w=="function"||typeof w=="object"&&w!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const C=y.get(w);C===void 0?(o=Ny(),y.set(w,o)):o=C}else{let y=o.p;y===null&&(o.p=y=new Map);const C=y.get(w);C===void 0?(o=Ny(),y.set(w,o)):o=C}}const c=o;let d;if(o.s===OO)d=o.v;else if(d=e.apply(null,arguments),s++,r){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&r(p,d)&&(d=p,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Hhe(d):d}return c.s=OO,c.v=d,d}return a.clearCache=()=>{n=Ny(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Vhe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Phe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=CK,argsMemoizeOptions:w=[]}=d,y=LO(p),C=LO(w),T=Ohe(i),k=f(function(){return s++,c.apply(null,arguments)},...y),R=m(function(){a++;const U=jhe(T,arguments);return o=k.apply(null,U),o},...C);return Object.assign(R,{resultFunc:c,memoizedResultFunc:k,dependencies:T,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var kt=Vhe(CK),Qhe=Object.assign((e,t=kt)=>{Mhe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>Qhe}),kT={},BT={},RT={},jO;function zhe(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=t(r),o=t(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=n})(RT)),RT}var _T={},DT={},UO;function SK(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(DT)),DT}var HO;function Whe(){return HO||(HO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SK(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(_T)),_T}var GO;function Khe(){return GO||(GO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zhe(),n=Whe(),r=bR();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,w)=>{let y=m;for(let C=0;C<w.length&&y!=null;++C)y=y[w[C]];return y},d=(m,w)=>w==null||m==null?w:typeof m=="object"&&"key"in m?Object.hasOwn(w,m.key)?w[m.key]:c(w,m.path):typeof m=="function"?m(w):Array.isArray(m)?c(w,m):typeof w=="object"?w[m]:w,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(w=>d(w,m))})).slice().sort((m,w)=>{for(let y=0;y<f.length;y++){const C=t.compareValues(m.criteria[y],w.criteria[y],o[y]);if(C!==0)return C}return 0}).map(m=>m.original)}e.orderBy=i})(BT)),BT}var PT={},VO;function qhe(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(n,0),i}e.flatten=t})(PT)),PT}var MT={},QO;function EK(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bK(),n=ER(),r=AK(),i=gK();function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}e.isIterateeCall=s})(MT)),MT}var zO;function $he(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Khe(),n=qhe(),r=EK();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,n.flatten(a),["asc"])}e.sortBy=i})(kT)),kT}var LT,WO;function Yhe(){return WO||(WO=1,LT=$he().sortBy),LT}var Xhe=Yhe();const XE=iu(Xhe);var NK=e=>e.legend.settings,Jhe=e=>e.legend.size,Zhe=e=>e.legend.payload,efe=kt([Zhe,NK],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?XE(r,n):r});function tfe(){return pr(efe)}var Ty=1;function TK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=B.useState({height:0,left:0,top:0,width:0}),r=B.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Ty||Math.abs(a.left-t.left)>Ty||Math.abs(a.top-t.top)>Ty||Math.abs(a.width-t.width)>Ty)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function $o(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",KO=nfe,OT=()=>Math.random().toString(36).substring(7).split("").join("."),rfe={INIT:`@@redux/INIT${OT()}`,REPLACE:`@@redux/REPLACE${OT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${OT()}`},z2=rfe;function TR(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function IK(e,t,n){if(typeof e!="function")throw new Error($o(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($o(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($o(1));return n(IK)(e,t)}let r=e,i=t,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((C,T)=>{a.set(T,C)}))}function d(){if(l)throw new Error($o(3));return i}function f(C){if(typeof C!="function")throw new Error($o(4));if(l)throw new Error($o(5));let T=!0;c();const k=o++;return a.set(k,C),function(){if(T){if(l)throw new Error($o(6));T=!1,c(),a.delete(k),s=null}}}function p(C){if(!TR(C))throw new Error($o(7));if(typeof C.type>"u")throw new Error($o(8));if(typeof C.type!="string")throw new Error($o(17));if(l)throw new Error($o(9));try{l=!0,i=r(i,C)}finally{l=!1}return(s=a).forEach(k=>{k()}),C}function m(C){if(typeof C!="function")throw new Error($o(10));r=C,p({type:z2.REPLACE})}function w(){const C=f;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error($o(11));function k(){const P=T;P.next&&P.next(d())}return k(),{unsubscribe:C(k)}},[KO](){return this}}}return p({type:z2.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[KO]:w}}function ife(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:z2.INIT})>"u")throw new Error($o(12));if(typeof n(void 0,{type:z2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($o(13))})}function FK(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{ife(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],p=n[f],m=a[f],w=p(m,o);if(typeof w>"u")throw o&&o.type,new Error($o(14));c[f]=w,l=l||w!==m}return l=l||r.length!==Object.keys(a).length,l?c:a}}function W2(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function sfe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error($o(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=e.map(l=>l(a));return s=W2(...o)(i.dispatch),{...i,dispatch:s}}}function kK(e){return TR(e)&&"type"in e&&typeof e.type=="string"}var BK=Symbol.for("immer-nothing"),qO=Symbol.for("immer-draftable"),Xl=Symbol.for("immer-state");function cd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yc=Object,f1=Yc.getPrototypeOf,K2="constructor",JE="prototype",T3="configurable",q2="enumerable",ZC="writable",rw="value",Ef=e=>!!e&&!!e[Xl];function Sd(e){var t;return e?RK(e)||e5(e)||!!e[qO]||!!((t=e[K2])!=null&&t[qO])||t5(e)||n5(e):!1}var afe=Yc[JE][K2].toString(),$O=new WeakMap;function RK(e){if(!e||!IR(e))return!1;const t=f1(e);if(t===null||t===Yc[JE])return!0;const n=Yc.hasOwnProperty.call(t,K2)&&t[K2];if(n===Object)return!0;if(!cm(n))return!1;let r=$O.get(n);return r===void 0&&(r=Function.toString.call(n),$O.set(n,r)),r===afe}function ZE(e,t,n=!0){Yw(e)===0?(n?Reflect.ownKeys(e):Yc.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Yw(e){const t=e[Xl];return t?t.type_:e5(e)?1:t5(e)?2:n5(e)?3:0}var YO=(e,t,n=Yw(e))=>n===2?e.has(t):Yc[JE].hasOwnProperty.call(e,t),I3=(e,t,n=Yw(e))=>n===2?e.get(t):e[t],$2=(e,t,n,r=Yw(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function ofe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var e5=Array.isArray,t5=e=>e instanceof Map,n5=e=>e instanceof Set,IR=e=>typeof e=="object",cm=e=>typeof e=="function",jT=e=>typeof e=="boolean";function lfe(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var rf=e=>e.copy_||e.base_,FR=e=>e.modified_?e.copy_:e.base_;function F3(e,t){if(t5(e))return new Map(e);if(n5(e))return new Set(e);if(e5(e))return Array[JE].slice.call(e);const n=RK(e);if(t===!0||t==="class_only"&&!n){const r=Yc.getOwnPropertyDescriptors(e);delete r[Xl];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[ZC]===!1&&(o[ZC]=!0,o[T3]=!0),(o.get||o.set)&&(r[a]={[T3]:!0,[ZC]:!0,[q2]:o[q2],[rw]:e[a]})}return Yc.create(f1(e),r)}else{const r=f1(e);if(r!==null&&n)return{...e};const i=Yc.create(r);return Yc.assign(i,e)}}function kR(e,t=!1){return r5(e)||Ef(e)||!Sd(e)||(Yw(e)>1&&Yc.defineProperties(e,{set:Iy,add:Iy,clear:Iy,delete:Iy}),Yc.freeze(e),t&&ZE(e,(n,r)=>{kR(r,!0)},!1)),e}function cfe(){cd(2)}var Iy={[rw]:cfe};function r5(e){return e===null||!IR(e)?!0:Yc.isFrozen(e)}var Y2="MapSet",k3="Patches",XO="ArrayMethods",_K={};function _p(e){const t=_K[e];return t||cd(0,e),t}var JO=e=>!!_K[e],iw,DK=()=>iw,ufe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:JO(Y2)?_p(Y2):void 0,arrayMethodsPlugin_:JO(XO)?_p(XO):void 0});function ZO(e,t){t&&(e.patchPlugin_=_p(k3),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function B3(e){R3(e),e.drafts_.forEach(dfe),e.drafts_=null}function R3(e){e===iw&&(iw=e.parent_)}var e8=e=>iw=ufe(iw,e);function dfe(e){const t=e[Xl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function t8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Xl].modified_&&(B3(t),cd(4)),Sd(e)&&(e=n8(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Xl].base_,e,t)}else e=n8(t,n);return hfe(t,e,!0),B3(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==BK?e:void 0}function n8(e,t){if(r5(t))return t;const n=t[Xl];if(!n)return X2(t,e.handledSet_,e);if(!i5(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);LK(n,e)}return n.copy_}function hfe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kR(t,n)}function PK(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var i5=(e,t)=>e.scope_===t,ffe=[];function MK(e,t,n,r){const i=rf(e),s=e.type_;if(r!==void 0&&I3(i,r,s)===t){$2(i,r,n,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;ZE(i,(l,c)=>{if(Ef(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const a=e.draftLocations_.get(t)??ffe;for(const o of a)$2(i,o,n,s)}function Afe(e,t,n){e.callbacks_.push(function(i){var o;const s=t;if(!s||!i5(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=FR(s);MK(e,s.draft_??s,a,n),LK(s,i)})}function LK(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}PK(e)}}function pfe(e,t,n){const{scope_:r}=e;if(Ef(n)){const i=n[Xl];i5(i,r)&&i.callbacks_.push(function(){e2(e);const a=FR(i);MK(e,n,a,t)})}else Sd(n)&&e.callbacks_.push(function(){const s=rf(e);e.type_===3?s.has(n)&&X2(n,r.handledSet_,r):I3(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&X2(I3(e.copy_,t,e.type_),r.handledSet_,r)})}function X2(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ef(e)||t.has(e)||!Sd(e)||r5(e)||(t.add(e),ZE(e,(r,i)=>{if(Ef(i)){const s=i[Xl];if(i5(s,n)){const a=FR(s);$2(e,r,a,e.type_),PK(s)}}else Sd(i)&&X2(i,t,n)})),e}function gfe(e,t){const n=e5(e),r={type_:n?1:0,scope_:t?t.scope_:DK(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=J2;n&&(i=[r],s=sw);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var J2={get(e,t){if(t===Xl)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=rf(e);if(!YO(i,t,e.type_))return mfe(e,i,t);const s=i[t];if(e.finalized_||!Sd(s)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&lfe(t))return s;if(s===UT(e.base_,t)){e2(e);const a=e.type_===1?+t:t,o=D3(e.scope_,s,e,a);return e.copy_[a]=o}return s},has(e,t){return t in rf(e)},ownKeys(e){return Reflect.ownKeys(rf(e))},set(e,t,n){const r=OK(rf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=UT(rf(e),t),s=i==null?void 0:i[Xl];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(ofe(n,i)&&(n!==void 0||YO(e.base_,t,e.type_)))return!0;e2(e),_3(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),pfe(e,t,n)),!0},deleteProperty(e,t){return e2(e),UT(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),_3(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=rf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[ZC]:!0,[T3]:e.type_!==1||t!=="length",[q2]:r[q2],[rw]:n[t]}},defineProperty(){cd(11)},getPrototypeOf(e){return f1(e.base_)},setPrototypeOf(){cd(12)}},sw={};for(let e in J2){let t=J2[e];sw[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}sw.deleteProperty=function(e,t){return sw.set.call(this,e,t,void 0)};sw.set=function(e,t,n){return J2.set.call(this,e[0],t,n,e[0])};function UT(e,t){const n=e[Xl];return(n?rf(n):e)[t]}function mfe(e,t,n){var i;const r=OK(t,n);return r?rw in r?r[rw]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function OK(e,t){if(!(t in e))return;let n=f1(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=f1(n)}}function _3(e){e.modified_||(e.modified_=!0,e.parent_&&_3(e.parent_))}function e2(e){e.copy_||(e.assigned_=new Map,e.copy_=F3(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(cm(n)&&!cm(r)){const a=r;r=n;const o=this;return function(c=a,...d){return o.produce(c,f=>r.call(this,f,...d))}}cm(r)||cd(6),i!==void 0&&!cm(i)&&cd(7);let s;if(Sd(n)){const a=e8(this),o=D3(a,n,void 0);let l=!0;try{s=r(o),l=!1}finally{l?B3(a):R3(a)}return ZO(a,i),t8(s,a)}else if(!n||!IR(n)){if(s=r(n),s===void 0&&(s=n),s===BK&&(s=void 0),this.autoFreeze_&&kR(s,!0),i){const a=[],o=[];_p(k3).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else cd(1,n)},this.produceWithPatches=(n,r)=>{if(cm(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,s;return[this.produce(n,r,(o,l)=>{i=o,s=l}),i,s]},jT(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),jT(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),jT(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Sd(t)||cd(8),Ef(t)&&(t=xd(t));const n=e8(this),r=D3(n,t,void 0);return r[Xl].isManual_=!0,R3(n),r}finishDraft(t,n){const r=t&&t[Xl];(!r||!r.isManual_)&&cd(9);const{scope_:i}=r;return ZO(i,n),t8(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=_p(k3).applyPatches_;return Ef(t)?i(t,n):this.produce(t,s=>i(s,n))}};function D3(e,t,n,r){const[i,s]=t5(t)?_p(Y2).proxyMap_(t,n):n5(t)?_p(Y2).proxySet_(t,n):gfe(t,n);return((n==null?void 0:n.scope_)??DK()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?Afe(n,s,r):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function xd(e){return Ef(e)||cd(10,e),jK(e)}function jK(e){if(!Sd(e)||r5(e))return e;const t=e[Xl];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=F3(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=F3(e,!0);return ZE(n,(i,s)=>{$2(n,i,jK(s))},r),t&&(t.finalized_=!1),n}var vfe=new xfe,UK=vfe.produce;function HK(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var wfe=HK(),bfe=HK,yfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?W2:W2.apply(null,arguments)};function Lu(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(eu(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>kK(r)&&r.type===e,n}var GK=class ov extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ov.prototype)}static get[Symbol.species](){return ov}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ov(...t[0].concat(this)):new ov(...t.concat(this))}};function r8(e){return Sd(e)?UK(e,()=>{}):e}function Fy(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Cfe(e){return typeof e=="boolean"}var Sfe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new GK;return n&&(Cfe(n)?a.push(wfe):a.push(bfe(n.extraArgument))),a},VK="RTK_autoBatch",$s=()=>e=>({payload:e,meta:{[VK]:!0}}),i8=e=>t=>{setTimeout(t,e)},QK=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:i8(10):e.type==="callback"?e.queueNotification:i8(e.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),p=r.subscribe(f);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[VK]),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},Efe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new GK(e);return r&&i.push(QK(typeof r=="object"?r:void 0)),i};function Nfe(e){const t=Sfe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(TR(n))o=FK(n);else throw new Error(eu(1));let l;typeof r=="function"?l=r(t):l=t();let c=W2;i&&(c=yfe({trace:!1,...typeof i=="object"&&i}));const d=sfe(...l),f=Efe(d);let p=typeof a=="function"?a(f):f();const m=c(...p);return IK(o,s,m)}function zK(e){const t={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(eu(28));if(o in t)throw new Error(eu(29));return t[o]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Tfe(e){return typeof e=="function"}function Ife(e,t){let[n,r,i]=zK(t),s;if(Tfe(e))s=()=>r8(e());else{const o=r8(e);s=()=>o}function a(o=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Ef(d)){const m=f(d,l);return m===void 0?d:m}else{if(Sd(d))return UK(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return a.getInitialState=s,a}var Ffe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kfe=(e=21)=>{let t="",n=e;for(;n--;)t+=Ffe[Math.random()*64|0];return t},Bfe=Symbol.for("rtk-slice-createasyncthunk");function Rfe(e,t){return`${e}/${t}`}function _fe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Bfe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(eu(11));const o=(typeof i.reducers=="function"?i.reducers(Pfe()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,U){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(eu(12));if(O in c.sliceCaseReducersByType)throw new Error(eu(13));return c.sliceCaseReducersByType[O]=U,d},addMatcher(P,U){return c.sliceMatchers.push({matcher:P,reducer:U}),d},exposeAction(P,U){return c.actionCreators[P]=U,d},exposeCaseReducer(P,U){return c.sliceCaseReducersByName[P]=U,d}};l.forEach(P=>{const U=o[P],O={reducerName:P,type:Rfe(s,P),createNotation:typeof i.reducers=="function"};Lfe(U)?jfe(O,U,d,t):Mfe(O,U,d)});function f(){const[P={},U=[],O=void 0]=typeof i.extraReducers=="function"?zK(i.extraReducers):[i.extraReducers],L={...P,...c.sliceCaseReducersByType};return Ife(i.initialState,K=>{for(let j in L)K.addCase(j,L[j]);for(let j of c.sliceMatchers)K.addMatcher(j.matcher,j.reducer);for(let j of U)K.addMatcher(j.matcher,j.reducer);O&&K.addDefaultCase(O)})}const p=P=>P,m=new Map,w=new WeakMap;let y;function C(P,U){return y||(y=f()),y(P,U)}function T(){return y||(y=f()),y.getInitialState()}function k(P,U=!1){function O(K){let j=K[P];return typeof j>"u"&&U&&(j=Fy(w,O,T)),j}function L(K=p){const j=Fy(m,U,()=>new WeakMap);return Fy(j,K,()=>{const te={};for(const[G,V]of Object.entries(i.selectors??{}))te[G]=Dfe(V,K,()=>Fy(w,K,T),U);return te})}return{reducerPath:P,getSelectors:L,get selectors(){return L(O)},selectSlice:O}}const R={name:s,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:T,...k(a),injectInto(P,{reducerPath:U,...O}={}){const L=U??a;return P.inject({reducerPath:L,reducer:C},O),{...R,...k(L,!0)}}};return R}}function Dfe(e,t,n,r){function i(s,...a){let o=t(s);return typeof o>"u"&&r&&(o=n()),e(o,...a)}return i.unwrapped=e,i}var Rc=_fe();function Pfe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Mfe({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Ofe(r))throw new Error(eu(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Lu(e,a):Lu(e))}function Lfe(e){return e._reducerDefinitionType==="asyncThunk"}function Ofe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jfe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(eu(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,s,d);r.exposeAction(t,f),a&&r.addCase(f.fulfilled,a),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:a||ky,pending:o||ky,rejected:l||ky,settled:c||ky})}function ky(){}var Ufe="task",WK="listener",KK="completed",BR="cancelled",Hfe=`task-${BR}`,Gfe=`task-${KK}`,P3=`${WK}-${BR}`,Vfe=`${WK}-${KK}`,s5=class{constructor(e){Xi(this,"name","TaskAbortError");Xi(this,"message");this.code=e,this.message=`${Ufe} ${BR} (reason: ${e})`}},RR=(e,t)=>{if(typeof e!="function")throw new TypeError(eu(32))},Z2=()=>{},qK=(e,t=Z2)=>(e.catch(t),e),$K=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lp=e=>{if(e.aborted)throw new s5(e.reason)};function YK(e,t){let n=Z2;return new Promise((r,i)=>{const s=()=>i(new s5(e.reason));if(e.aborted){s();return}n=$K(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Z2})}var Qfe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof s5?"cancelled":"rejected",error:n}}finally{t==null||t()}},eS=e=>t=>qK(YK(e,t).then(n=>(lp(e),n))),XK=e=>{const t=eS(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Pm}=Object,s8={},a5="listenerMiddleware",zfe=(e,t)=>{const n=r=>$K(e,()=>r.abort(e.reason));return(r,i)=>{RR(r);const s=new AbortController;n(s);const a=Qfe(async()=>{lp(e),lp(s.signal);const o=await r({pause:eS(s.signal),delay:XK(s.signal),signal:s.signal});return lp(s.signal),o},()=>s.abort(Gfe));return i!=null&&i.autoJoin&&t.push(a.catch(Z2)),{result:eS(e)(a),cancel(){s.abort(Hfe)}}}},Wfe=(e,t)=>{const n=async(r,i)=>{lp(t);let s=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});s=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await YK(t,Promise.race(o));return lp(t),l}finally{s()}};return(r,i)=>qK(n(r,i))},JK=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Lu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(eu(21));return RR(s),{predicate:i,type:t,effect:s}},ZK=Pm(e=>{const{type:t,predicate:n,effect:r}=JK(e);return{id:kfe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(eu(22))}}},{withTypes:()=>ZK}),a8=(e,t)=>{const{type:n,effect:r,predicate:i}=JK(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},M3=e=>{e.pending.forEach(t=>{t.abort(P3)})},Kfe=(e,t)=>()=>{for(const n of t.keys())M3(n);e.clear()},o8=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},eq=Pm(Lu(`${a5}/add`),{withTypes:()=>eq}),qfe=Lu(`${a5}/removeAll`),tq=Pm(Lu(`${a5}/remove`),{withTypes:()=>tq}),$fe=(...e)=>{console.error(`${a5}/error`,...e)},Xw=(e={})=>{const t=new Map,n=new Map,r=m=>{const w=n.get(m)??0;n.set(m,w+1)},i=m=>{const w=n.get(m)??1;w===1?n.delete(m):n.set(m,w-1)},{extra:s,onError:a=$fe}=e;RR(a);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),w=>{m.unsubscribe(),w!=null&&w.cancelActive&&M3(m)}),l=m=>{const w=a8(t,m)??ZK(m);return o(w)};Pm(l,{withTypes:()=>l});const c=m=>{const w=a8(t,m);return w&&(w.unsubscribe(),m.cancelActive&&M3(w)),!!w};Pm(c,{withTypes:()=>c});const d=async(m,w,y,C)=>{const T=new AbortController,k=Wfe(l,T.signal),R=[];try{m.pending.add(T),r(m),await Promise.resolve(m.effect(w,Pm({},y,{getOriginalState:C,condition:(P,U)=>k(P,U).then(Boolean),take:k,delay:XK(T.signal),pause:eS(T.signal),extra:s,signal:T.signal,fork:zfe(T.signal,R),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((P,U,O)=>{P!==T&&(P.abort(P3),O.delete(P))})},cancel:()=>{T.abort(P3),m.pending.delete(T)},throwIfCancelled:()=>{lp(T.signal)}})))}catch(P){P instanceof s5||o8(a,P,{raisedBy:"effect"})}finally{await Promise.all(R),T.abort(Vfe),i(m),m.pending.delete(T)}},f=Kfe(t,n);return{middleware:m=>w=>y=>{if(!kK(y))return w(y);if(eq.match(y))return l(y.payload);if(qfe.match(y)){f();return}if(tq.match(y))return c(y.payload);let C=m.getState();const T=()=>{if(C===s8)throw new Error(eu(23));return C};let k;try{if(k=w(y),t.size>0){const R=m.getState(),P=Array.from(t.values());for(const U of P){let O=!1;try{O=U.predicate(y,R,C)}catch(L){O=!1,o8(a,L,{raisedBy:"predicate"})}O&&d(U,y,m,T)}}}finally{C=s8}return k},startListening:l,stopListening:c,clearListeners:f}};function eu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Yfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nq=Rc({name:"chartLayout",initialState:Yfe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Xfe,setLayout:Jfe,setChartSize:Zfe,setScale:eAe}=nq.actions,tAe=nq.reducer;function rq(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ss(e){return Number.isFinite(e)}function bh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function l8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(n),!0).forEach(function(r){nAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nAe(e,t,n){return(t=rAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rAe(e){var t=iAe(e,"string");return typeof t=="symbol"?t:t+""}function iAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(e,t,n){return oa(e)||oa(t)?n:wh(t)?Rp(e,t,n):typeof t=="function"?t(e):n}var sAe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Xn(e[s]))return wm(wm({},e),{},{[s]:e[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Xn(e[a]))return wm(wm({},e),{},{[a]:e[a]+(i||0)})}return e},Mf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iq=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,s,a=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(t),s||a.push(n),a},sq=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!a)return null;var w=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/w:0;if(y=m==="angleAxis"&&s&&s.length>=2?Lo(s[0]-s[1])*2*y:y,f||p){var C=(f||p||[]).map((T,k)=>{var R=r?r.indexOf(T):T;return{coordinate:a(R)+y,value:T,offset:y,index:k}});return C.filter(T=>!Mu(T.coordinate))}return l&&c?c.map((T,k)=>({coordinate:a(T)+y,value:T,index:k,offset:y})):a.ticks&&d!=null?a.ticks(d).map((T,k)=>({coordinate:a(T)+y,value:T,offset:y,index:k})):a.domain().map((T,k)=>({coordinate:a(T)+y,value:r?r[T]:T,index:k,offset:y}))},c8=1e-4,aAe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-c8,s=Math.max(r[0],r[1])+c8,a=e(t[0]),o=e(t[n-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[n-1]])}},oAe=(e,t)=>{if(!t||t.length!==2||!Xn(t[0])||!Xn(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Xn(e[0])||e[0]<n)&&(i[0]=n),(!Xn(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},lAe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],p=Mu(d)?f:d;p>=0?(c[0]=s,c[1]=s+p,s=d):(c[0]=a,c[1]=a+p,a=d)}}}},cAe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var o=e[a],l=o==null?void 0:o[i];if(l!=null){var c=Mu(l[1])?l[0]:l[1];c>=0?(l[0]=s,l[1]=s+c,s=l[1]):(l[0]=0,l[1]=0)}}}},uAe={sign:lAe,expand:Fde,none:Bp,silhouette:kde,wiggle:Bde,positive:cAe},dAe=(e,t,n)=>{var r,i=(r=uAe[n])!==null&&r!==void 0?r:Bp,s=Ide().keys(t).value((o,l)=>Number(ps(o,l,0))).order(E3).offset(i),a=s(e);return a.forEach((o,l)=>{o.forEach((c,d)=>{var f=ps(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Xn(f[0])&&Xn(f[1])&&(c[0]=f[0],c[1]=f[1])})}),a};function aq(e){return e==null?void 0:String(e)}function u8(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!oa(i[t.dataKey])){var o=uK(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=ps(i,oa(a)?t.dataKey:a);return oa(l)?null:t.scale(l)}var d8=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var o=ps(s,t.dataKey,t.scale.domain()[a]);return oa(o)?null:t.scale(o)-i/2+r},hAe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},fAe=e=>{var t=e.flat(2).filter(Xn);return[Math.min(...t),Math.max(...t)]},AAe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pAe=(e,t,n)=>{if(e!=null)return AAe(Object.keys(e).reduce((r,i)=>{var s=e[i];if(!s)return r;var{stackedData:a}=s,o=a.reduce((l,c)=>{var d=rq(c,t,n),f=fAe(d);return!Ss(f[0])||!Ss(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},h8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A1=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=XE(t,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function A8(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return wm(wm({},t),{},{dataKey:n,payload:r,value:i,name:s})}function P1(e,t){if(e)return String(e);if(typeof t=="string")return t}var gAe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mAe=(e,t)=>t==="centric"?e.angle:e.radius,Lf=e=>e.layout.width,Of=e=>e.layout.height,xAe=e=>e.layout.scale,oq=e=>e.layout.margin,o5=kt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),l5=kt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lq="data-recharts-item-index",cq="data-recharts-item-id",Jw=60;function p8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function By(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(r){vAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vAe(e,t,n){return(t=wAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wAe(e){var t=bAe(e,"string");return typeof t=="symbol"?t:t+""}function bAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yAe=e=>e.brush.height;function CAe(e){var t=l5(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Jw;return n+i}return n},0)}function SAe(e){var t=l5(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Jw;return n+i}return n},0)}function EAe(e){var t=o5(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function NAe(e){var t=o5(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ao=kt([Lf,Of,oq,yAe,CAe,SAe,EAe,NAe,NK,Jhe],(e,t,n,r,i,s,a,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},f={top:(n.top||0)+a,bottom:(n.bottom||0)+o},p=By(By({},f),d),m=p.bottom;p.bottom+=r,p=sAe(p,l,c);var w=e-p.left-p.right,y=t-p.top-p.bottom;return By(By({brushBottom:m},p),{},{width:Math.max(w,0),height:Math.max(y,0)})}),TAe=kt(Ao,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),_R=kt(Lf,Of,(e,t)=>({x:0,y:0,width:e,height:t})),IAe=B.createContext(null),Bl=()=>B.useContext(IAe)!=null,c5=e=>e.brush,u5=kt([c5,Ao,oq],(e,t,n)=>({height:e.height,x:Xn(e.x)?e.x:t.left,y:Xn(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Xn(e.width)?e.width:t.width})),HT={},GT={},VT={},g8;function FAe(){return g8||(g8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},f=()=>{c&&d(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},w=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{w(),a=void 0,o=null},C=()=>{d()},T=function(...k){if(i!=null&&i.aborted)return;a=this,o=k;const R=p==null;m(),l&&R&&d()};return T.schedule=m,T.cancel=y,T.flush=C,i==null||i.addEventListener("abort",y,{once:!0}),T}e.debounce=t})(VT)),VT}var m8;function kAe(){return m8||(m8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FAe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...y){d=r.apply(this,y),f=null},i,{edges:c}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,y),d)},w=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=w,m}e.debounce=n})(GT)),GT}var x8;function BAe(){return x8||(x8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kAe();function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(r,i,{leading:a,maxWait:i,trailing:o})}e.throttle=n})(HT)),HT}var QT,v8;function RAe(){return v8||(v8=1,QT=BAe().throttle),QT}var _Ae=RAe();const DAe=iu(_Ae);var tS=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},uq=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,o=Sf(r)?e:Number(r),l=Sf(i)?t:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},PAe={width:0,height:0,overflow:"visible"},MAe={width:0,overflowX:"visible"},LAe={height:0,overflowY:"visible"},OAe={},jAe=e=>{var{width:t,height:n}=e,r=Sf(t),i=Sf(n);return r&&i?PAe:r?MAe:i?LAe:OAe};function UAe(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L3.apply(null,arguments)}function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(r){HAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HAe(e,t,n){return(t=GAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GAe(e){var t=VAe(e,"string");return typeof t=="symbol"?t:t+""}function VAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dq=B.createContext({width:-1,height:-1});function QAe(e){return bh(e.width)&&bh(e.height)}function hq(e){var{children:t,width:n,height:r}=e,i=B.useMemo(()=>({width:n,height:r}),[n,r]);return QAe(i)?B.createElement(dq.Provider,{value:i},t):null}var DR=()=>B.useContext(dq),zAe=B.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:w={}}=e,y=B.useRef(null),C=B.useRef();C.current=m,B.useImperativeHandle(t,()=>y.current);var[T,k]=B.useState({containerWidth:r.width,containerHeight:r.height}),R=B.useCallback((K,j)=>{k(te=>{var G=Math.round(K),V=Math.round(j);return te.containerWidth===G&&te.containerHeight===V?te:{containerWidth:G,containerHeight:V}})},[]);B.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return qw;var K=V=>{var re,{width:ee,height:ie}=V[0].contentRect;R(ee,ie),(re=C.current)===null||re===void 0||re.call(C,ee,ie)};d>0&&(K=DAe(K,d,{trailing:!0,leading:!1}));var j=new ResizeObserver(K),{width:te,height:G}=y.current.getBoundingClientRect();return R(te,G),j.observe(y.current),()=>{j.disconnect()}},[R,d]);var{containerWidth:P,containerHeight:U}=T;tS(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:L}=uq(P,U,{width:i,height:s,aspect:n,maxHeight:l});return tS(O!=null&&O>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,L,i,s,a,o,n),B.createElement("div",{id:f?"".concat(f):void 0,className:Qi("recharts-responsive-container",p),style:b8(b8({},w),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:y},B.createElement("div",{style:jAe({width:i,height:s})},B.createElement(hq,{width:O,height:L},c)))}),cp=B.forwardRef((e,t)=>{var n=DR();if(bh(n.width)&&bh(n.height))return e.children;var{width:r,height:i}=UAe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=uq(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Xn(s)&&Xn(a)?B.createElement(hq,{width:s,height:a},e.children):B.createElement(zAe,L3({},e,{width:r,height:i,ref:t}))});function fq(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var d5=()=>{var e,t=Bl(),n=pr(TAe),r=pr(u5),i=(e=pr(c5))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},WAe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Aq=()=>{var e;return(e=pr(Ao))!==null&&e!==void 0?e:WAe},PR=()=>pr(Lf),MR=()=>pr(Of),KAe=()=>pr(e=>e.layout.margin),Ii=e=>e.layout.layoutType,Zp=()=>pr(Ii),qAe=()=>{var e=Zp();if(e==="horizontal"||e==="vertical")return e},$Ae=()=>{var e=Zp();return e!==void 0},h5=e=>{var t=ks(),n=Bl(),{width:r,height:i}=e,s=DR(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),B.useEffect(()=>{!n&&bh(a)&&bh(o)&&t(Zfe({width:a,height:o}))},[t,n,a,o]),null},pq=Symbol.for("immer-nothing"),y8=Symbol.for("immer-draftable"),nu=Symbol.for("immer-state");function ud(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var aw=Object.getPrototypeOf;function p1(e){return!!e&&!!e[nu]}function Dp(e){var t;return e?gq(e)||Array.isArray(e)||!!e[y8]||!!((t=e.constructor)!=null&&t[y8])||Zw(e)||A5(e):!1}var YAe=Object.prototype.constructor.toString(),C8=new WeakMap;function gq(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=C8.get(n);return r===void 0&&(r=Function.toString.call(n),C8.set(n,r)),r===YAe}function nS(e,t,n=!0){f5(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function f5(e){const t=e[nu];return t?t.type_:Array.isArray(e)?1:Zw(e)?2:A5(e)?3:0}function O3(e,t){return f5(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mq(e,t,n){const r=f5(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function XAe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zw(e){return e instanceof Map}function A5(e){return e instanceof Set}function U0(e){return e.copy_||e.base_}function j3(e,t){if(Zw(e))return new Map(e);if(A5(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=gq(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[nu];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(aw(e),r)}else{const r=aw(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function LR(e,t=!1){return p5(e)||p1(e)||!Dp(e)||(f5(e)>1&&Object.defineProperties(e,{set:Ry,add:Ry,clear:Ry,delete:Ry}),Object.freeze(e),t&&Object.values(e).forEach(n=>LR(n,!0))),e}function JAe(){ud(2)}var Ry={value:JAe};function p5(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZAe={};function Pp(e){const t=ZAe[e];return t||ud(0,e),t}var ow;function xq(){return ow}function e0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function S8(e,t){t&&(Pp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function U3(e){H3(e),e.drafts_.forEach(t0e),e.drafts_=null}function H3(e){e===ow&&(ow=e.parent_)}function E8(e){return ow=e0e(ow,e)}function t0e(e){const t=e[nu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function N8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[nu].modified_&&(U3(t),ud(4)),Dp(e)&&(e=rS(t,e),t.parent_||iS(t,e)),t.patches_&&Pp("Patches").generateReplacementPatches_(n[nu].base_,e,t.patches_,t.inversePatches_)):e=rS(t,n,[]),U3(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pq?e:void 0}function rS(e,t,n){if(p5(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[nu];if(!i)return nS(t,(s,a)=>T8(e,i,t,s,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return iS(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),nS(a,(l,c)=>T8(e,i,s,l,c,n,o),r),iS(e,s,!1),n&&e.patches_&&Pp("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function T8(e,t,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=p5(i);if(!(o&&!a)){if(p1(i)){const l=s&&t&&t.type_!==3&&!O3(t.assigned_,r)?s.concat(r):void 0,c=rS(e,i,l);if(mq(n,r,c),p1(c))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Dp(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;rS(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Zw(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&iS(e,i)}}}function iS(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&LR(t,n)}function n0e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:xq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=OR;n&&(i=[r],s=lw);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var OR={get(e,t){if(t===nu)return e;const n=U0(e);if(!O3(n,t))return r0e(e,n,t);const r=n[t];return e.finalized_||!Dp(r)?r:r===zT(e.base_,t)?(WT(e),e.copy_[t]=V3(r,e)):r},has(e,t){return t in U0(e)},ownKeys(e){return Reflect.ownKeys(U0(e))},set(e,t,n){const r=vq(U0(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=zT(U0(e),t),s=i==null?void 0:i[nu];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(XAe(n,i)&&(n!==void 0||O3(e.base_,t)))return!0;WT(e),G3(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zT(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,WT(e),G3(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=U0(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ud(11)},getPrototypeOf(e){return aw(e.base_)},setPrototypeOf(){ud(12)}},lw={};nS(OR,(e,t)=>{lw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lw.deleteProperty=function(e,t){return lw.set.call(this,e,t,void 0)};lw.set=function(e,t,n){return OR.set.call(this,e[0],t,n,e[0])};function zT(e,t){const n=e[nu];return(n?U0(n):e)[t]}function r0e(e,t,n){var i;const r=vq(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function vq(e,t){if(!(t in e))return;let n=aw(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=aw(n)}}function G3(e){e.modified_||(e.modified_=!0,e.parent_&&G3(e.parent_))}function WT(e){e.copy_||(e.copy_=j3(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var i0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const a=this;return function(l=s,...c){return a.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&ud(6),r!==void 0&&typeof r!="function"&&ud(7);let i;if(Dp(t)){const s=E8(this),a=V3(t,void 0);let o=!0;try{i=n(a),o=!1}finally{o?U3(s):H3(s)}return S8(s,r),N8(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===pq&&(i=void 0),this.autoFreeze_&&LR(i,!0),r){const s=[],a=[];Pp("Patches").generateReplacementPatches_(t,i,s,a),r(s,a)}return i}else ud(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,l=>t(l,...o));let r,i;return[this.produce(t,n,(a,o)=>{r=a,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Dp(e)||ud(8),p1(e)&&(e=s0e(e));const t=E8(this),n=V3(e,void 0);return n[nu].isManual_=!0,H3(t),n}finishDraft(e,t){const n=e&&e[nu];(!n||!n.isManual_)&&ud(9);const{scope_:r}=n;return S8(r,t),N8(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Pp("Patches").applyPatches_;return p1(e)?r(e,t):this.produce(e,i=>r(i,t))}};function V3(e,t){const n=Zw(e)?Pp("MapSet").proxyMap_(e,t):A5(e)?Pp("MapSet").proxySet_(e,t):n0e(e,t);return(t?t.scope_:xq()).drafts_.push(n),n}function s0e(e){return p1(e)||ud(10,e),wq(e)}function wq(e){if(!Dp(e)||p5(e))return e;const t=e[nu];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=j3(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=j3(e,!0);return nS(n,(i,s)=>{mq(n,i,wq(s))},r),t&&(t.finalized_=!1),n}var a0e=new i0e;a0e.produce;var o0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},bq=Rc({name:"legend",initialState:o0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:$s()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=xd(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:$s()},removeLegendPayload:{reducer(e,t){var n=xd(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:$s()}}}),{setLegendSize:I8,setLegendSettings:l0e,addLegendPayload:yq,replaceLegendPayload:Cq,removeLegendPayload:Sq}=bq.actions,c0e=bq.reducer,u0e=["contextPayload"];function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q3.apply(null,arguments)}function F8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(r){d0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d0e(e,t,n){return(t=h0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h0e(e){var t=f0e(e,"string");return typeof t=="symbol"?t:t+""}function f0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0e(e,t){if(e==null)return{};var n,r,i=p0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g0e(e){return e.value}function m0e(e){var{contextPayload:t}=e,n=A0e(e,u0e),r=yK(t,e.payloadUniqBy,g0e),i=g1(g1({},n),{},{payload:r});return B.isValidElement(e.content)?B.cloneElement(e.content,i):typeof e.content=="function"?B.createElement(e.content,i):B.createElement(ohe,i)}function x0e(e,t,n,r,i,s){var{layout:a,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&a==="vertical"?c={left:((r||0)-s.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-s.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),g1(g1({},c),d)}function v0e(e){var t=ks();return B.useEffect(()=>{t(l0e(e))},[t,e]),null}function w0e(e){var t=ks();return B.useEffect(()=>(t(I8(e)),()=>{t(I8({width:0,height:0}))}),[t,e]),null}function b0e(e,t,n,r){return e==="vertical"&&Xn(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var y0e={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function z3(e){var t=eo(e,y0e),n=tfe(),r=Jue(),i=KAe(),{width:s,height:a,wrapperStyle:o,portal:l}=t,[c,d]=TK([n]),f=PR(),p=MR();if(f==null||p==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),w=b0e(t.layout,a,s,m),y=l?o:g1(g1({position:"absolute",width:(w==null?void 0:w.width)||s||"auto",height:(w==null?void 0:w.height)||a||"auto"},x0e(o,t,i,f,p,c)),o),C=l??r;if(C==null||n==null)return null;var T=B.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},B.createElement(v0e,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&B.createElement(w0e,{width:c.width,height:c.height}),B.createElement(m0e,Q3({},t,w,{margin:i,chartWidth:f,chartHeight:p,contextPayload:n})));return D1.createPortal(T,C)}z3.displayName="Legend";function W3(){return W3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W3.apply(null,arguments)}function k8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(n),!0).forEach(function(r){C0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C0e(e,t,n){return(t=S0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S0e(e){var t=E0e(e,"string");return typeof t=="symbol"?t:t+""}function E0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0e(e){return Array.isArray(e)&&wh(e[0])&&wh(e[1])?e.join(" ~ "):e}var T0e=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(s&&s.length){var U={padding:0,margin:0},O=(o?XE(s,o):s).map((L,K)=>{if(L.type==="none")return null;var j=L.formatter||a||N0e,{value:te,name:G}=L,V=te,re=G;if(j){var ee=j(te,G,L,K,s);if(Array.isArray(ee))[V,re]=ee;else if(ee!=null)V=ee;else return null}var ie=KT({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:ie},wh(re)?B.createElement("span",{className:"recharts-tooltip-item-name"},re):null,wh(re)?B.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,B.createElement("span",{className:"recharts-tooltip-item-value"},V),B.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:U},O)}return null},w=KT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=KT({margin:0},i),C=!oa(d),T=C?d:"",k=Qi("recharts-default-tooltip",l),R=Qi("recharts-tooltip-label",c);C&&f&&s!==void 0&&s!==null&&(T=f(d,s));var P=p?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",W3({className:k,style:w},P),B.createElement("p",{className:R,style:y},B.isValidElement(T)?T:"".concat(T)),m())},Ox="recharts-tooltip-wrapper",I0e={visibility:"hidden"};function F0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qi(Ox,{["".concat(Ox,"-right")]:Xn(n)&&t&&Xn(t.x)&&n>=t.x,["".concat(Ox,"-left")]:Xn(n)&&t&&Xn(t.x)&&n<t.x,["".concat(Ox,"-bottom")]:Xn(r)&&t&&Xn(t.y)&&r>=t.y,["".concat(Ox,"-top")]:Xn(r)&&t&&Xn(t.y)&&r<t.y})}function B8(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&Xn(s[r]))return s[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return a[r]?d:f;var p=l[r];if(p==null)return 0;if(a[r]){var m=d,w=p;return m<w?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var y=f+o,C=p+c;return y>C?Math.max(d,p):Math.max(f,p)}function k0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function B0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=e,c,d,f;return a.height>0&&a.width>0&&n?(d=B8({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=B8({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=k0e({translateX:d,translateY:f,useTranslate3d:o})):c=I0e,{cssProperties:c,cssClasses:F0e({translateX:d,translateY:f,coordinate:n})}}function R8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(r){K3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K3(e,t,n){return(t=R0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R0e(e){var t=_0e(e,"string");return typeof t=="symbol"?t:t+""}function _0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class D0e extends B.PureComponent{constructor(){super(...arguments),K3(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),K3(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:w,lastBoundingBox:y,innerRef:C,hasPortalFromProps:T}=this.props,{cssClasses:k,cssProperties:R}=B0e({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),P=T?{}:_y(_y({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),U=_y(_y({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},w);return B.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:U,ref:C},s)}}var Eq=()=>{var e;return(e=pr(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q3.apply(null,arguments)}function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){P0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P0e(e,t,n){return(t=M0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M0e(e){var t=L0e(e,"string");return typeof t=="symbol"?t:t+""}function L0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P8={curveBasisClosed:mde,curveBasisOpen:xde,curveBasis:gde,curveBumpX:nde,curveBumpY:rde,curveLinearClosed:vde,curveLinear:$E,curveMonotoneX:wde,curveMonotoneY:bde,curveNatural:yde,curveStep:Cde,curveStepAfter:Ede,curveStepBefore:Sde},sS=e=>Ss(e.x)&&Ss(e.y),M8=e=>e.base!=null&&sS(e.base)&&sS(e),jx=e=>e.x,Ux=e=>e.y,O0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Kw(e));return(n==="curveMonotone"||n==="curveBump")&&t?P8["".concat(n).concat(t==="vertical"?"Y":"X")]:P8[n]||$E},j0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,a=O0e(t,i),o=s?n.filter(sS):n,l;if(Array.isArray(r)){var c=n.map((m,w)=>D8(D8({},m),{},{base:r[w]}));i==="vertical"?l=Ey().y(Ux).x1(jx).x0(m=>m.base.x):l=Ey().x(jx).y1(Ux).y0(m=>m.base.y);var d=l.defined(M8).curve(a),f=s?c.filter(M8):c;return d(f)}i==="vertical"&&Xn(r)?l=Ey().y(Ux).x1(jx).x0(r):Xn(r)?l=Ey().x(jx).y1(Ux).y0(r):l=XW().x(jx).y(Ux);var p=l.defined(sS).curve(a);return p(o)},Mm=e=>{var{className:t,points:n,path:r,pathRef:i}=e,s=Zp();if((!n||!n.length)&&!r)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},o=n&&n.length?j0e(a):r;return B.createElement("path",q3({},Fc(e),SR(e),{className:Qi("recharts-curve",t),d:o===null?void 0:o,ref:i}))},U0e=["x","y","top","left","width","height","className"];function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$3.apply(null,arguments)}function L8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(n),!0).forEach(function(r){G0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G0e(e,t,n){return(t=V0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V0e(e){var t=Q0e(e,"string");return typeof t=="symbol"?t:t+""}function Q0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z0e(e,t){if(e==null)return{};var n,r,i=W0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var K0e=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),q0e=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=e,l=z0e(e,U0e),c=H0e({x:t,y:n,top:r,left:i,width:s,height:a},l);return!Xn(t)||!Xn(n)||!Xn(s)||!Xn(a)||!Xn(r)||!Xn(i)?null:B.createElement("path",$3({},Yl(c),{className:Qi("recharts-cross",o),d:K0e(t,n,s,a,r,i)}))};function $0e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function O8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(n),!0).forEach(function(r){Y0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y0e(e,t,n){return(t=X0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X0e(e){var t=J0e(e,"string");return typeof t=="symbol"?t:t+""}function J0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z0e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Nq=(e,t,n)=>e.map(r=>"".concat(Z0e(r)," ").concat(t,"ms ").concat(n)).join(","),epe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),cw=(e,t)=>Object.keys(t).reduce((n,r)=>j8(j8({},n),{},{[r]:e(r,t[r])}),{});function U8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(n),!0).forEach(function(r){tpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tpe(e,t,n){return(t=npe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function npe(e){var t=rpe(e,"string");return typeof t=="symbol"?t:t+""}function rpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aS=(e,t,n)=>e+(t-e)*n,Y3=e=>{var{from:t,to:n}=e;return t!==n},Tq=(e,t,n)=>{var r=cw((i,s)=>{if(Y3(s)){var[a,o]=e(s.from,s.to,s.velocity);return lo(lo({},s),{},{from:a,velocity:o})}return s},t);return n<1?cw((i,s)=>Y3(s)&&r[i]!=null?lo(lo({},s),{},{velocity:aS(s.velocity,r[i].velocity,n),from:aS(s.from,r[i].from,n)}):s,t):Tq(e,r,n-1)};function ipe(e,t,n,r,i,s){var a,o=r.reduce((p,m)=>lo(lo({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>cw((p,m)=>m.from,o),c=()=>!Object.values(o).filter(Y3).length,d=null,f=p=>{a||(a=p);var m=p-a,w=m/n.dt;o=Tq(n,o,w),i(lo(lo(lo({},e),t),l())),a=p,c()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function spe(e,t,n,r,i,s,a){var o=null,l=i.reduce((f,p)=>{var m=e[p],w=t[p];return m==null||w==null?f:lo(lo({},f),{},{[p]:[m,w]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=cw((y,C)=>aS(...C,n(p)),l);if(s(lo(lo(lo({},e),t),m)),p<1)o=a.setTimeout(d);else{var w=cw((y,C)=>aS(...C,n(1)),l);s(lo(lo(lo({},e),t),w))}};return()=>(o=a.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const ape=(e,t,n,r,i,s)=>{var a=epe(e,t);return n==null?()=>(i(lo(lo({},e),t)),()=>{}):n.isStepper===!0?ipe(e,t,n,a,i,s):spe(e,t,n,r,a,i,s)};var oS=1e-4,Iq=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Fq=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),H8=(e,t)=>n=>{var r=Iq(e,t);return Fq(r,n)},ope=(e,t)=>n=>{var r=Iq(e,t),i=[...r.map((s,a)=>s*a).slice(1),0];return Fq(i,n)},lpe=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},cpe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=lpe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},upe=(e,t,n,r)=>{var i=H8(e,n),s=H8(t,r),a=ope(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=i(f)-d,w=a(f);if(Math.abs(m-d)<oS||w<oS)return s(f);f=o(f-m/w)}return s(f)};return l.isStepper=!1,l},G8=function(){return upe(...cpe(...arguments))},dpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(a,o,l)=>{var c=-(a-o)*n,d=l*r,f=l+(c-d)*i/1e3,p=l*i/1e3+a;return Math.abs(p-o)<oS&&Math.abs(f)<oS?[o,0]:[p,f]};return s.isStepper=!0,s.dt=i,s},hpe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G8(e);case"spring":return dpe();default:if(e.split("(")[0]==="cubic-bezier")return G8(e)}return typeof e=="function"?e:null};function fpe(e){var t,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(s.bind(null,c),l);return}s(l),i=e.setTimeout(s.bind(null,c));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class Ape{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function ppe(){return fpe(new Ape)}var gpe=B.createContext(ppe);function mpe(e,t){var n=B.useContext(gpe);return B.useMemo(()=>t??n(e),[e,t,n])}var xpe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eb={isSsr:xpe()},vpe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},V8={t:0},qT={t:1};function tb(e){var t=eo(e,vpe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!eb.isSsr:n,f=mpe(t.animationId,t.animationManager),[p,m]=B.useState(d?V8:qT),w=B.useRef(null);return B.useEffect(()=>{d||m(qT)},[d]),B.useEffect(()=>{if(!d||!r)return qw;var y=ape(V8,qT,hpe(s),i,m,f.getTimeoutController()),C=()=>{w.current=y()};return f.start([l,a,C,i,o]),()=>{f.stop(),w.current&&w.current(),o()}},[d,r,i,s,a,l,o,f]),c(p.t)}function nb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=B.useRef(nw(t)),r=B.useRef(e);return r.current!==e&&(n.current=nw(t),r.current=e),n.current}var wpe=["radius"],bpe=["radius"],Q8,z8,W8,K8,q8,$8,Y8,X8,J8,Z8;function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(r){ype(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ype(e,t,n){return(t=Cpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cpe(e){var t=Spe(e,"string");return typeof t=="symbol"?t:t+""}function Spe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lS.apply(null,arguments)}function nj(e,t){if(e==null)return{};var n,r,i=Epe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Epe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rj=(e,t,n,r,i)=>{var s=PA(n),a=PA(r),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,f;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,w=4;m<w;m++)p[m]=i[m]>o?o:i[m];f=ba(Q8||(Q8=Kd(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=ba(z8||(z8=Kd(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=ba(W8||(W8=Kd(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=ba(K8||(K8=Kd(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=ba(q8||(q8=Kd(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=ba($8||($8=Kd(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=ba(Y8||(Y8=Kd(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=ba(X8||(X8=Kd(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);f=ba(J8||(J8=Kd(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,d,e+c*y,t,e+n-c*y,t,y,y,d,e+n,t+l*y,e+n,t+r-l*y,y,y,d,e+n-c*y,t+r,e+c*y,t+r,y,y,d,e,t+r-l*y)}else f=ba(Z8||(Z8=Kd(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},ij={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kq=e=>{var t=eo(e,ij),n=B.useRef(null),[r,i]=B.useState(-1);B.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:w,isUpdateAnimationActive:y}=t,C=B.useRef(o),T=B.useRef(l),k=B.useRef(s),R=B.useRef(a),P=B.useMemo(()=>({x:s,y:a,width:o,height:l,radius:c}),[s,a,o,l,c]),U=nb(P,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var O=Qi("recharts-rectangle",d);if(!y){var L=Yl(t),{radius:K}=L,j=nj(L,wpe);return B.createElement("path",lS({},j,{x:PA(s),y:PA(a),width:PA(o),height:PA(l),radius:typeof c=="number"?c:void 0,className:O,d:rj(s,a,o,l,c)}))}var te=C.current,G=T.current,V=k.current,re=R.current,ee="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),ue=Nq(["strokeDasharray"],p,typeof f=="string"?f:ij.animationEasing);return B.createElement(tb,{animationId:U,key:U,canBegin:r>0,duration:p,easing:f,isActive:y,begin:m},le=>{var xe=Os(te,o,le),ge=Os(G,l,le),fe=Os(V,s,le),ce=Os(re,a,le);n.current&&(C.current=xe,T.current=ge,k.current=fe,R.current=ce);var Q;w?le>0?Q={transition:ue,strokeDasharray:ie}:Q={strokeDasharray:ee}:Q={strokeDasharray:ie};var Y=Yl(t),{radius:X}=Y,ne=nj(Y,bpe);return B.createElement("path",lS({},ne,{radius:typeof c=="number"?c:void 0,className:O,d:rj(fe,ce,xe,ge,c),ref:n,style:tj(tj({},Q),t.style)}))})};function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){Npe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Npe(e,t,n){return(t=Tpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tpe(e){var t=Ipe(e,"string");return typeof t=="symbol"?t:t+""}function Ipe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cS=Math.PI/180,Fpe=e=>e*180/Math.PI,Xa=(e,t,n,r)=>({x:e+Math.cos(-cS*r)*n,y:t+Math.sin(-cS*r)*n}),Bq=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kpe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},Bpe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,a=kpe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:Fpe(l),angleInRadian:l}},Rpe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},_pe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return e+a*360},Dpe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=Bpe({x:n,y:r},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=Rpe(t),d=s,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?aj(aj({},t),{},{radius:i,angle:_pe(d,t)}):null};function Rq(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,a=Xa(t,n,r,i),o=Xa(t,n,r,s);return{points:[a,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}var oj,lj,cj,uj,dj,hj,fj;function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X3.apply(null,arguments)}function Y0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ppe=(e,t)=>{var n=Lo(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Dy=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=e,c=o*(a?1:-1)+r,d=Math.asin(o/c)/cS,f=l?i:i+s*d,p=Xa(t,n,c,f),m=Xa(t,n,r,f),w=l?i-s*d:i,y=Xa(t,n,c*Math.cos(d*cS),w);return{center:p,circleTangency:m,lineTangency:y,theta:d}},_q=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=e,o=Ppe(s,a),l=s+o,c=Xa(t,n,i,s),d=Xa(t,n,i,l),f=ba(oj||(oj=Y0(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(s>l),d.x,d.y);if(r>0){var p=Xa(t,n,r,s),m=Xa(t,n,r,l);f+=ba(lj||(lj=Y0(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(s<=l),p.x,p.y)}else f+=ba(cj||(cj=Y0(["L ",","," Z"])),t,n);return f},Mpe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Lo(c-l),{circleTangency:f,lineTangency:p,theta:m}=Dy({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:w,lineTangency:y,theta:C}=Dy({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-m-C;if(T<0)return a?ba(uj||(uj=Y0(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):_q({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var k=ba(dj||(dj=Y0(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(d<0),f.x,f.y,i,i,+(T>180),+(d<0),w.x,w.y,s,s,+(d<0),y.x,y.y);if(r>0){var{circleTangency:R,lineTangency:P,theta:U}=Dy({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:O,lineTangency:L,theta:K}=Dy({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),j=o?Math.abs(l-c):Math.abs(l-c)-U-K;if(j<0&&s===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=ba(hj||(hj=Y0(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),L.x,L.y,s,s,+(d<0),O.x,O.y,r,r,+(j>180),+(d>0),R.x,R.y,s,s,+(d<0),P.x,P.y)}else k+=ba(fj||(fj=Y0(["L",",","Z"])),t,n);return k},Lpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dq=e=>{var t=eo(e,Lpe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(s<i||c===d)return null;var p=Qi("recharts-sector",f),m=s-i,w=Il(a,m,0,!0),y;return w>0&&Math.abs(c-d)<360?y=Mpe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):y=_q({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}),B.createElement("path",X3({},Yl(t),{className:p,d:y}))};function Ope(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(hK(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=t,l=Xa(r,i,s,o),c=Xa(r,i,a,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Rq(t)}}var $T={},YT={},XT={},Aj;function jpe(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SK();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(XT)),XT}var pj;function Upe(){return pj||(pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jpe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(YT)),YT}var gj;function Hpe(){return gj||(gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EK(),n=Upe();function r(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}e.range=r})($T)),$T}var JT,mj;function Gpe(){return mj||(mj=1,JT=Hpe().range),JT}var Vpe=Gpe();const Pq=iu(Vpe);function QA(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jR(e){let t,n,r;e.length!==2?(t=QA,n=(o,l)=>QA(e(o),l),r=(o,l)=>e(o)-l):(t=e===QA||e===Qpe?e:zpe,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function zpe(){return 0}function Mq(e){return e===null?NaN:+e}function*Wpe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Kpe=jR(QA),rb=Kpe.right;jR(Mq).center;class xj extends Map{constructor(t,n=Ype){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(vj(this,t))}has(t){return super.has(vj(this,t))}set(t,n){return super.set(qpe(this,t),n)}delete(t){return super.delete($pe(this,t))}}function vj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $pe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ype(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xpe(e=QA){if(e===QA)return Lq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Lq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Jpe=Math.sqrt(50),Zpe=Math.sqrt(10),ege=Math.sqrt(2);function uS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Jpe?10:s>=Zpe?5:s>=ege?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?uS(e,t,n*2):[o,l,c]}function J3(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?uS(t,e,n):uS(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function Z3(e,t,n){return t=+t,e=+e,n=+n,uS(e,t,n)[2]}function ek(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Z3(t,e,n):Z3(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function wj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Oq(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Lq:Xpe(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),w=Math.min(r,Math.floor(t+(l-c)*f/l+p));Oq(e,t,m,w,i)}const s=e[t];let a=n,o=r;for(Hx(e,n,t),i(e[r],s)>0&&Hx(e,n,r);a<o;){for(Hx(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[n],s)===0?Hx(e,n,o):(++o,Hx(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Hx(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function tge(e,t,n){if(e=Float64Array.from(Wpe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bj(e);if(t>=1)return wj(e);var r,i=(r-1)*t,s=Math.floor(i),a=wj(Oq(e,s).subarray(0,s+1)),o=bj(e.subarray(s+1));return a+(o-a)*(i-s)}}function nge(e,t,n=Mq){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),o=+n(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function rge(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Qu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tk=Symbol("implicit");function UR(){var e=new xj,t=[],n=[],r=tk;function i(s){let a=e.get(s);if(a===void 0){if(r!==tk)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new xj;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return UR(t,n).unknown(r)},Qu.apply(i,arguments),i}function HR(){var e=UR().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=i<r,w=m?i:r,y=m?r:i;s=(y-w)/Math.max(1,p-l+c*2),o&&(s=Math.floor(s)),w+=(y-w-s*(p-l))*d,a=s*(1-l),o&&(w=Math.round(w),a=Math.round(a));var C=rge(p).map(function(T){return w+s*T});return n(m?C.reverse():C)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return HR(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Qu.apply(f(),arguments)}function jq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jq(t())},e}function ige(){return jq(HR.apply(null,arguments).paddingInner(1))}function GR(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uq(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ib(){}var uw=.7,dS=1/uw,Lm="\\s*([+-]?\\d+)\\s*",dw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sge=/^#([0-9a-f]{3,8})$/,age=new RegExp(`^rgb\\(${Lm},${Lm},${Lm}\\)$`),oge=new RegExp(`^rgb\\(${ph},${ph},${ph}\\)$`),lge=new RegExp(`^rgba\\(${Lm},${Lm},${Lm},${dw}\\)$`),cge=new RegExp(`^rgba\\(${ph},${ph},${ph},${dw}\\)$`),uge=new RegExp(`^hsl\\(${dw},${ph},${ph}\\)$`),dge=new RegExp(`^hsla\\(${dw},${ph},${ph},${dw}\\)$`),yj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GR(ib,hw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cj,formatHex:Cj,formatHex8:hge,formatHsl:fge,formatRgb:Sj,toString:Sj});function Cj(){return this.rgb().formatHex()}function hge(){return this.rgb().formatHex8()}function fge(){return Hq(this).formatHsl()}function Sj(){return this.rgb().formatRgb()}function hw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ej(t):n===3?new Sc(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Py(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Py(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=age.exec(e))?new Sc(t[1],t[2],t[3],1):(t=oge.exec(e))?new Sc(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lge.exec(e))?Py(t[1],t[2],t[3],t[4]):(t=cge.exec(e))?Py(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uge.exec(e))?Ij(t[1],t[2]/100,t[3]/100,1):(t=dge.exec(e))?Ij(t[1],t[2]/100,t[3]/100,t[4]):yj.hasOwnProperty(e)?Ej(yj[e]):e==="transparent"?new Sc(NaN,NaN,NaN,0):null}function Ej(e){return new Sc(e>>16&255,e>>8&255,e&255,1)}function Py(e,t,n,r){return r<=0&&(e=t=n=NaN),new Sc(e,t,n,r)}function Age(e){return e instanceof ib||(e=hw(e)),e?(e=e.rgb(),new Sc(e.r,e.g,e.b,e.opacity)):new Sc}function nk(e,t,n,r){return arguments.length===1?Age(e):new Sc(e,t,n,r??1)}function Sc(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}GR(Sc,nk,Uq(ib,{brighter(e){return e=e==null?dS:Math.pow(dS,e),new Sc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uw:Math.pow(uw,e),new Sc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sc(up(this.r),up(this.g),up(this.b),hS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nj,formatHex:Nj,formatHex8:pge,formatRgb:Tj,toString:Tj}));function Nj(){return`#${X0(this.r)}${X0(this.g)}${X0(this.b)}`}function pge(){return`#${X0(this.r)}${X0(this.g)}${X0(this.b)}${X0((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tj(){const e=hS(this.opacity);return`${e===1?"rgb(":"rgba("}${up(this.r)}, ${up(this.g)}, ${up(this.b)}${e===1?")":`, ${e})`}`}function hS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function up(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function X0(e){return e=up(e),(e<16?"0":"")+e.toString(16)}function Ij(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new dd(e,t,n,r)}function Hq(e){if(e instanceof dd)return new dd(e.h,e.s,e.l,e.opacity);if(e instanceof ib||(e=hw(e)),!e)return new dd;if(e instanceof dd)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new dd(a,o,l,e.opacity)}function gge(e,t,n,r){return arguments.length===1?Hq(e):new dd(e,t,n,r??1)}function dd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}GR(dd,gge,Uq(ib,{brighter(e){return e=e==null?dS:Math.pow(dS,e),new dd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uw:Math.pow(uw,e),new dd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Sc(ZT(e>=240?e-240:e+120,i,r),ZT(e,i,r),ZT(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new dd(Fj(this.h),My(this.s),My(this.l),hS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hS(this.opacity);return`${e===1?"hsl(":"hsla("}${Fj(this.h)}, ${My(this.s)*100}%, ${My(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fj(e){return e=(e||0)%360,e<0?e+360:e}function My(e){return Math.max(0,Math.min(1,e||0))}function ZT(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const VR=e=>()=>e;function mge(e,t){return function(n){return e+n*t}}function xge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vge(e){return(e=+e)==1?Gq:function(t,n){return n-t?xge(t,n,e):VR(isNaN(t)?n:t)}}function Gq(e,t){var n=t-e;return n?mge(e,n):VR(isNaN(e)?t:e)}const kj=(function e(t){var n=vge(t);function r(i,s){var a=n((i=nk(i)).r,(s=nk(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=Gq(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r})(1);function wge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function bge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=M1(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Cge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fS(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Sge(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=M1(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var rk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eI=new RegExp(rk.source,"g");function Ege(e){return function(){return e}}function Nge(e){return function(t){return e(t)+""}}function Tge(e,t){var n=rk.lastIndex=eI.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(r=rk.exec(e))&&(i=eI.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:fS(r,i)})),n=eI.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Nge(l[0].x):Ege(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function M1(e,t){var n=typeof t,r;return t==null||n==="boolean"?VR(t):(n==="number"?fS:n==="string"?(r=hw(t))?(t=r,kj):Tge:t instanceof hw?kj:t instanceof Date?Cge:bge(t)?wge:Array.isArray(t)?yge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Sge:fS)(e,t)}function QR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ige(e,t){t===void 0&&(t=e,e=M1);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Fge(e){return function(){return e}}function AS(e){return+e}var Bj=[0,1];function Wl(e){return e}function ik(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Fge(isNaN(t)?NaN:.5)}function kge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Bge(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=ik(i,r),s=n(a,s)):(r=ik(r,i),s=n(s,a)),function(o){return s(r(o))}}function Rge(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=ik(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var l=rb(e,o,1,r)-1;return s[l](i[l](o))}}function sb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function g5(){var e=Bj,t=Bj,n=M1,r,i,s,a=Wl,o,l,c;function d(){var p=Math.min(e.length,t.length);return a!==Wl&&(a=kge(e[0],e[p-1])),o=p>2?Rge:Bge,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?s:(l||(l=o(e.map(r),t,n)))(r(a(p)))}return f.invert=function(p){return a(i((c||(c=o(t,e.map(r),fS)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,AS),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=QR,d()},f.clamp=function(p){return arguments.length?(a=p?!0:Wl,d()):a!==Wl},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,m){return r=p,i=m,d()}}function zR(){return g5()(Wl,Wl)}function _ge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function m1(e){return e=pS(Math.abs(e)),e?e[1]:NaN}function Dge(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function Pge(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Mge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fw(e){if(!(t=Mge.exec(e)))throw new Error("invalid format: "+e);var t;return new WR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fw.prototype=WR.prototype;function WR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lge(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Vq;function Oge(e,t){var n=pS(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Vq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+pS(e,Math.max(0,t+s-1))[0]}function Rj(e,t){var n=pS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _j={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_ge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Rj(e*100,t),r:Rj,s:Oge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dj(e){return e}var Pj=Array.prototype.map,Mj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jge(e){var t=e.grouping===void 0||e.thousands===void 0?Dj:Dge(Pj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Dj:Pge(Pj.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=fw(f);var p=f.fill,m=f.align,w=f.sign,y=f.symbol,C=f.zero,T=f.width,k=f.comma,R=f.precision,P=f.trim,U=f.type;U==="n"?(k=!0,U="g"):_j[U]||(R===void 0&&(R=12),P=!0,U="g"),(C||p==="0"&&m==="=")&&(C=!0,p="0",m="=");var O=y==="$"?n:y==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",L=y==="$"?r:/[%p]/.test(U)?a:"",K=_j[U],j=/[defgprs%]/.test(U);R=R===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function te(G){var V=O,re=L,ee,ie,ue;if(U==="c")re=K(G)+re,G="";else{G=+G;var le=G<0||1/G<0;if(G=isNaN(G)?l:K(Math.abs(G),R),P&&(G=Lge(G)),le&&+G==0&&w!=="+"&&(le=!1),V=(le?w==="("?w:o:w==="-"||w==="("?"":w)+V,re=(U==="s"?Mj[8+Vq/3]:"")+re+(le&&w==="("?")":""),j){for(ee=-1,ie=G.length;++ee<ie;)if(ue=G.charCodeAt(ee),48>ue||ue>57){re=(ue===46?i+G.slice(ee+1):G.slice(ee))+re,G=G.slice(0,ee);break}}}k&&!C&&(G=t(G,1/0));var xe=V.length+G.length+re.length,ge=xe<T?new Array(T-xe+1).join(p):"";switch(k&&C&&(G=t(ge+G,ge.length?T-re.length:1/0),ge=""),m){case"<":G=V+G+re+ge;break;case"=":G=V+ge+G+re;break;case"^":G=ge.slice(0,xe=ge.length>>1)+V+G+re+ge.slice(xe);break;default:G=ge+V+G+re;break}return s(G)}return te.toString=function(){return f+""},te}function d(f,p){var m=c((f=fw(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(m1(p)/3)))*3,y=Math.pow(10,-w),C=Mj[8+w/3];return function(T){return m(y*T)+C}}return{format:c,formatPrefix:d}}var Ly,KR,Qq;Uge({thousands:",",grouping:[3],currency:["$",""]});function Uge(e){return Ly=jge(e),KR=Ly.format,Qq=Ly.formatPrefix,Ly}function Hge(e){return Math.max(0,-m1(Math.abs(e)))}function Gge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(m1(t)/3)))*3-m1(Math.abs(e)))}function Vge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,m1(t)-m1(e))+1}function zq(e,t,n,r){var i=ek(e,t,n),s;switch(r=fw(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Gge(i,a))&&(r.precision=s),Qq(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Vge(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Hge(i))&&(r.precision=s-(r.type==="%")*2);break}}return KR(r)}function h0(e){var t=e.domain;return e.ticks=function(n){var r=t();return J3(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return zq(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=Z3(a,o,n),c===l)return r[i]=a,r[s]=o,t(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Wq(){var e=zR();return e.copy=function(){return sb(e,Wq())},Qu.apply(e,arguments),h0(e)}function Kq(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,AS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Kq(e).unknown(t)},e=arguments.length?Array.from(e,AS):[0,1],h0(n)}function qq(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function Lj(e){return Math.log(e)}function Oj(e){return Math.exp(e)}function Qge(e){return-Math.log(-e)}function zge(e){return-Math.exp(-e)}function Wge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kge(e){return e===10?Wge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jj(e){return(t,n)=>-e(-t,n)}function qR(e){const t=e(Lj,Oj),n=t.domain;let r=10,i,s;function a(){return i=qge(r),s=Kge(r),n()[0]<0?(i=jj(i),s=jj(s),e(Qge,zge)):e(Lj,Oj),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=i(c),m=i(d),w,y;const C=o==null?10:+o;let T=[];if(!(r%1)&&m-p<C){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(w=1;w<r;++w)if(y=p<0?w/s(-p):w*s(p),!(y<c)){if(y>d)break;T.push(y)}}else for(;p<=m;++p)for(w=r-1;w>=1;--w)if(y=p>0?w/s(-p):w*s(p),!(y<c)){if(y>d)break;T.push(y)}T.length*2<C&&(T=J3(c,d,C))}else T=J3(p,m,Math.min(m-p,C)).map(s);return f?T.reverse():T},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=fw(l)).precision==null&&(l.trim=!0),l=KR(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(qq(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function $q(){const e=qR(g5()).domain([1,10]);return e.copy=()=>sb(e,$q()).base(e.base()),Qu.apply(e,arguments),e}function Uj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $R(e){var t=1,n=e(Uj(t),Hj(t));return n.constant=function(r){return arguments.length?e(Uj(t=+r),Hj(t)):t},h0(n)}function Yq(){var e=$R(g5());return e.copy=function(){return sb(e,Yq()).constant(e.constant())},Qu.apply(e,arguments)}function Gj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $ge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Yge(e){return e<0?-e*e:e*e}function YR(e){var t=e(Wl,Wl),n=1;function r(){return n===1?e(Wl,Wl):n===.5?e($ge,Yge):e(Gj(n),Gj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},h0(t)}function XR(){var e=YR(g5());return e.copy=function(){return sb(e,XR()).exponent(e.exponent())},Qu.apply(e,arguments),e}function Xge(){return XR.apply(null,arguments).exponent(.5)}function Vj(e){return Math.sign(e)*e*e}function Jge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Xq(){var e=zR(),t=[0,1],n=!1,r;function i(s){var a=Jge(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert(Vj(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,AS)).map(Vj)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Xq(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Qu.apply(i,arguments),h0(i)}function Jq(){var e=[],t=[],n=[],r;function i(){var a=0,o=Math.max(1,t.length);for(n=new Array(o-1);++a<o;)n[a-1]=nge(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:t[rb(n,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(QA),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Jq().domain(e).range(t).unknown(r)},Qu.apply(s,arguments)}function Zq(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[rb(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Zq().domain([e,t]).range(i).unknown(s)},Qu.apply(h0(a),arguments)}function e$(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[rb(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return e$().domain(e).range(t).unknown(n)},Qu.apply(i,arguments)}const tI=new Date,nI=new Date;function po(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<a);return l},i.filter=s=>po(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(tI.setTime(+s),nI.setTime(+a),e(tI),e(nI),Math.floor(n(tI,nI))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const gS=po(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?po(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gS);gS.range;const df=1e3,Iu=df*60,hf=Iu*60,Nf=hf*24,JR=Nf*7,Qj=Nf*30,rI=Nf*365,J0=po(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*df)},(e,t)=>(t-e)/df,e=>e.getUTCSeconds());J0.range;const ZR=po(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*df)},(e,t)=>{e.setTime(+e+t*Iu)},(e,t)=>(t-e)/Iu,e=>e.getMinutes());ZR.range;const e_=po(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Iu)},(e,t)=>(t-e)/Iu,e=>e.getUTCMinutes());e_.range;const t_=po(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*df-e.getMinutes()*Iu)},(e,t)=>{e.setTime(+e+t*hf)},(e,t)=>(t-e)/hf,e=>e.getHours());t_.range;const n_=po(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hf)},(e,t)=>(t-e)/hf,e=>e.getUTCHours());n_.range;const ab=po(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Iu)/Nf,e=>e.getDate()-1);ab.range;const m5=po(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nf,e=>e.getUTCDate()-1);m5.range;const t$=po(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nf,e=>Math.floor(e/Nf));t$.range;function eg(e){return po(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Iu)/JR)}const x5=eg(0),mS=eg(1),Zge=eg(2),eme=eg(3),x1=eg(4),tme=eg(5),nme=eg(6);x5.range;mS.range;Zge.range;eme.range;x1.range;tme.range;nme.range;function tg(e){return po(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/JR)}const v5=tg(0),xS=tg(1),rme=tg(2),ime=tg(3),v1=tg(4),sme=tg(5),ame=tg(6);v5.range;xS.range;rme.range;ime.range;v1.range;sme.range;ame.range;const r_=po(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());r_.range;const i_=po(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());i_.range;const Tf=po(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Tf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:po(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Tf.range;const If=po(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());If.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:po(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});If.range;function n$(e,t,n,r,i,s){const a=[[J0,1,df],[J0,5,5*df],[J0,15,15*df],[J0,30,30*df],[s,1,Iu],[s,5,5*Iu],[s,15,15*Iu],[s,30,30*Iu],[i,1,hf],[i,3,3*hf],[i,6,6*hf],[i,12,12*hf],[r,1,Nf],[r,2,2*Nf],[n,1,JR],[t,1,Qj],[t,3,3*Qj],[e,1,rI]];function o(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),w=m?m.range(c,+d+1):[];return p?w.reverse():w}function l(c,d,f){const p=Math.abs(d-c)/f,m=jR(([,,C])=>C).right(a,p);if(m===a.length)return e.every(ek(c/rI,d/rI,f));if(m===0)return gS.every(Math.max(ek(c,d,f),1));const[w,y]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return w.every(y)}return[o,l]}const[ome,lme]=n$(If,i_,v5,t$,n_,e_),[cme,ume]=n$(Tf,r_,x5,ab,t_,ZR);function iI(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sI(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gx(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function dme(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,c=Vx(i),d=Qx(i),f=Vx(s),p=Qx(s),m=Vx(a),w=Qx(a),y=Vx(o),C=Qx(o),T=Vx(l),k=Qx(l),R={a:le,A:xe,b:ge,B:fe,c:null,d:Yj,e:Yj,f:Dme,g:Qme,G:Wme,H:Bme,I:Rme,j:_me,L:r$,m:Pme,M:Mme,p:ce,q:Q,Q:Zj,s:eU,S:Lme,u:Ome,U:jme,V:Ume,w:Hme,W:Gme,x:null,X:null,y:Vme,Y:zme,Z:Kme,"%":Jj},P={a:Y,A:X,b:ne,B:oe,c:null,d:Xj,e:Xj,f:Xme,g:o1e,G:c1e,H:qme,I:$me,j:Yme,L:s$,m:Jme,M:Zme,p:Ce,q:ke,Q:Zj,s:eU,S:e1e,u:t1e,U:n1e,V:r1e,w:i1e,W:s1e,x:null,X:null,y:a1e,Y:l1e,Z:u1e,"%":Jj},U={a:te,A:G,b:V,B:re,c:ee,d:qj,e:qj,f:Tme,g:Kj,G:Wj,H:$j,I:$j,j:Cme,L:Nme,m:yme,M:Sme,p:j,q:bme,Q:Fme,s:kme,S:Eme,u:gme,U:mme,V:xme,w:pme,W:vme,x:ie,X:ue,y:Kj,Y:Wj,Z:wme,"%":Ime};R.x=O(n,R),R.X=O(r,R),R.c=O(t,R),P.x=O(n,P),P.X=O(r,P),P.c=O(t,P);function O(Ne,Ue){return function(Ye){var ve=[],gt=-1,yt=0,Fe=Ne.length,Nt,nt,Ct;for(Ye instanceof Date||(Ye=new Date(+Ye));++gt<Fe;)Ne.charCodeAt(gt)===37&&(ve.push(Ne.slice(yt,gt)),(nt=zj[Nt=Ne.charAt(++gt)])!=null?Nt=Ne.charAt(++gt):nt=Nt==="e"?" ":"0",(Ct=Ue[Nt])&&(Nt=Ct(Ye,nt)),ve.push(Nt),yt=gt+1);return ve.push(Ne.slice(yt,gt)),ve.join("")}}function L(Ne,Ue){return function(Ye){var ve=Gx(1900,void 0,1),gt=K(ve,Ne,Ye+="",0),yt,Fe;if(gt!=Ye.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ue&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(yt=sI(Gx(ve.y,0,1)),Fe=yt.getUTCDay(),yt=Fe>4||Fe===0?xS.ceil(yt):xS(yt),yt=m5.offset(yt,(ve.V-1)*7),ve.y=yt.getUTCFullYear(),ve.m=yt.getUTCMonth(),ve.d=yt.getUTCDate()+(ve.w+6)%7):(yt=iI(Gx(ve.y,0,1)),Fe=yt.getDay(),yt=Fe>4||Fe===0?mS.ceil(yt):mS(yt),yt=ab.offset(yt,(ve.V-1)*7),ve.y=yt.getFullYear(),ve.m=yt.getMonth(),ve.d=yt.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Fe="Z"in ve?sI(Gx(ve.y,0,1)).getUTCDay():iI(Gx(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Fe+5)%7:ve.w+ve.U*7-(Fe+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,sI(ve)):iI(ve)}}function K(Ne,Ue,Ye,ve){for(var gt=0,yt=Ue.length,Fe=Ye.length,Nt,nt;gt<yt;){if(ve>=Fe)return-1;if(Nt=Ue.charCodeAt(gt++),Nt===37){if(Nt=Ue.charAt(gt++),nt=U[Nt in zj?Ue.charAt(gt++):Nt],!nt||(ve=nt(Ne,Ye,ve))<0)return-1}else if(Nt!=Ye.charCodeAt(ve++))return-1}return ve}function j(Ne,Ue,Ye){var ve=c.exec(Ue.slice(Ye));return ve?(Ne.p=d.get(ve[0].toLowerCase()),Ye+ve[0].length):-1}function te(Ne,Ue,Ye){var ve=m.exec(Ue.slice(Ye));return ve?(Ne.w=w.get(ve[0].toLowerCase()),Ye+ve[0].length):-1}function G(Ne,Ue,Ye){var ve=f.exec(Ue.slice(Ye));return ve?(Ne.w=p.get(ve[0].toLowerCase()),Ye+ve[0].length):-1}function V(Ne,Ue,Ye){var ve=T.exec(Ue.slice(Ye));return ve?(Ne.m=k.get(ve[0].toLowerCase()),Ye+ve[0].length):-1}function re(Ne,Ue,Ye){var ve=y.exec(Ue.slice(Ye));return ve?(Ne.m=C.get(ve[0].toLowerCase()),Ye+ve[0].length):-1}function ee(Ne,Ue,Ye){return K(Ne,t,Ue,Ye)}function ie(Ne,Ue,Ye){return K(Ne,n,Ue,Ye)}function ue(Ne,Ue,Ye){return K(Ne,r,Ue,Ye)}function le(Ne){return a[Ne.getDay()]}function xe(Ne){return s[Ne.getDay()]}function ge(Ne){return l[Ne.getMonth()]}function fe(Ne){return o[Ne.getMonth()]}function ce(Ne){return i[+(Ne.getHours()>=12)]}function Q(Ne){return 1+~~(Ne.getMonth()/3)}function Y(Ne){return a[Ne.getUTCDay()]}function X(Ne){return s[Ne.getUTCDay()]}function ne(Ne){return l[Ne.getUTCMonth()]}function oe(Ne){return o[Ne.getUTCMonth()]}function Ce(Ne){return i[+(Ne.getUTCHours()>=12)]}function ke(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var Ue=O(Ne+="",R);return Ue.toString=function(){return Ne},Ue},parse:function(Ne){var Ue=L(Ne+="",!1);return Ue.toString=function(){return Ne},Ue},utcFormat:function(Ne){var Ue=O(Ne+="",P);return Ue.toString=function(){return Ne},Ue},utcParse:function(Ne){var Ue=L(Ne+="",!0);return Ue.toString=function(){return Ne},Ue}}}var zj={"-":"",_:" ",0:"0"},Ho=/^\s*\d+/,hme=/^%/,fme=/[\\^$*+?|[\]().{}]/g;function zi(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Ame(e){return e.replace(fme,"\\$&")}function Vx(e){return new RegExp("^(?:"+e.map(Ame).join("|")+")","i")}function Qx(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function pme(e,t,n){var r=Ho.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function gme(e,t,n){var r=Ho.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function mme(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xme(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vme(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Wj(e,t,n){var r=Ho.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Kj(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wme(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bme(e,t,n){var r=Ho.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function yme(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qj(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Cme(e,t,n){var r=Ho.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $j(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Sme(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Eme(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Nme(e,t,n){var r=Ho.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Tme(e,t,n){var r=Ho.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ime(e,t,n){var r=hme.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Fme(e,t,n){var r=Ho.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kme(e,t,n){var r=Ho.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Yj(e,t){return zi(e.getDate(),t,2)}function Bme(e,t){return zi(e.getHours(),t,2)}function Rme(e,t){return zi(e.getHours()%12||12,t,2)}function _me(e,t){return zi(1+ab.count(Tf(e),e),t,3)}function r$(e,t){return zi(e.getMilliseconds(),t,3)}function Dme(e,t){return r$(e,t)+"000"}function Pme(e,t){return zi(e.getMonth()+1,t,2)}function Mme(e,t){return zi(e.getMinutes(),t,2)}function Lme(e,t){return zi(e.getSeconds(),t,2)}function Ome(e){var t=e.getDay();return t===0?7:t}function jme(e,t){return zi(x5.count(Tf(e)-1,e),t,2)}function i$(e){var t=e.getDay();return t>=4||t===0?x1(e):x1.ceil(e)}function Ume(e,t){return e=i$(e),zi(x1.count(Tf(e),e)+(Tf(e).getDay()===4),t,2)}function Hme(e){return e.getDay()}function Gme(e,t){return zi(mS.count(Tf(e)-1,e),t,2)}function Vme(e,t){return zi(e.getFullYear()%100,t,2)}function Qme(e,t){return e=i$(e),zi(e.getFullYear()%100,t,2)}function zme(e,t){return zi(e.getFullYear()%1e4,t,4)}function Wme(e,t){var n=e.getDay();return e=n>=4||n===0?x1(e):x1.ceil(e),zi(e.getFullYear()%1e4,t,4)}function Kme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zi(t/60|0,"0",2)+zi(t%60,"0",2)}function Xj(e,t){return zi(e.getUTCDate(),t,2)}function qme(e,t){return zi(e.getUTCHours(),t,2)}function $me(e,t){return zi(e.getUTCHours()%12||12,t,2)}function Yme(e,t){return zi(1+m5.count(If(e),e),t,3)}function s$(e,t){return zi(e.getUTCMilliseconds(),t,3)}function Xme(e,t){return s$(e,t)+"000"}function Jme(e,t){return zi(e.getUTCMonth()+1,t,2)}function Zme(e,t){return zi(e.getUTCMinutes(),t,2)}function e1e(e,t){return zi(e.getUTCSeconds(),t,2)}function t1e(e){var t=e.getUTCDay();return t===0?7:t}function n1e(e,t){return zi(v5.count(If(e)-1,e),t,2)}function a$(e){var t=e.getUTCDay();return t>=4||t===0?v1(e):v1.ceil(e)}function r1e(e,t){return e=a$(e),zi(v1.count(If(e),e)+(If(e).getUTCDay()===4),t,2)}function i1e(e){return e.getUTCDay()}function s1e(e,t){return zi(xS.count(If(e)-1,e),t,2)}function a1e(e,t){return zi(e.getUTCFullYear()%100,t,2)}function o1e(e,t){return e=a$(e),zi(e.getUTCFullYear()%100,t,2)}function l1e(e,t){return zi(e.getUTCFullYear()%1e4,t,4)}function c1e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?v1(e):v1.ceil(e),zi(e.getUTCFullYear()%1e4,t,4)}function u1e(){return"+0000"}function Jj(){return"%"}function Zj(e){return+e}function eU(e){return Math.floor(+e/1e3)}var qg,o$,l$;d1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d1e(e){return qg=dme(e),o$=qg.format,qg.parse,l$=qg.utcFormat,qg.utcParse,qg}function h1e(e){return new Date(e)}function f1e(e){return e instanceof Date?+e:+new Date(+e)}function s_(e,t,n,r,i,s,a,o,l,c){var d=zR(),f=d.invert,p=d.domain,m=c(".%L"),w=c(":%S"),y=c("%I:%M"),C=c("%I %p"),T=c("%a %d"),k=c("%b %d"),R=c("%B"),P=c("%Y");function U(O){return(l(O)<O?m:o(O)<O?w:a(O)<O?y:s(O)<O?C:r(O)<O?i(O)<O?T:k:n(O)<O?R:P)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?p(Array.from(O,f1e)):p().map(h1e)},d.ticks=function(O){var L=p();return e(L[0],L[L.length-1],O??10)},d.tickFormat=function(O,L){return L==null?U:c(L)},d.nice=function(O){var L=p();return(!O||typeof O.range!="function")&&(O=t(L[0],L[L.length-1],O??10)),O?p(qq(L,O)):d},d.copy=function(){return sb(d,s_(e,t,n,r,i,s,a,o,l,c))},d}function A1e(){return Qu.apply(s_(cme,ume,Tf,r_,x5,ab,t_,ZR,J0,o$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function p1e(){return Qu.apply(s_(ome,lme,If,i_,v5,m5,n_,e_,J0,l$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w5(){var e=0,t=1,n,r,i,s,a=Wl,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(p){var m,w;return arguments.length?([m,w]=p,a=f(m,w),c):[a(0),a(1)]}}return c.range=d(M1),c.rangeRound=d(QR),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function f0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c$(){var e=h0(w5()(Wl));return e.copy=function(){return f0(e,c$())},jf.apply(e,arguments)}function u$(){var e=qR(w5()).domain([1,10]);return e.copy=function(){return f0(e,u$()).base(e.base())},jf.apply(e,arguments)}function d$(){var e=$R(w5());return e.copy=function(){return f0(e,d$()).constant(e.constant())},jf.apply(e,arguments)}function a_(){var e=YR(w5());return e.copy=function(){return f0(e,a_()).exponent(e.exponent())},jf.apply(e,arguments)}function g1e(){return a_.apply(null,arguments).exponent(.5)}function h$(){var e=[],t=Wl;function n(r){if(r!=null&&!isNaN(r=+r))return t((rb(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(QA),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>tge(e,s/r))},n.copy=function(){return h$(t).domain(e)},jf.apply(n,arguments)}function b5(){var e=0,t=.5,n=1,r=1,i,s,a,o,l,c=Wl,d,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-s)*(r*y<r*s?o:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,i=d(e=+e),s=d(t=+t),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function w(y){return function(C){var T,k,R;return arguments.length?([T,k,R]=C,c=Ige(y,[T,k,R]),m):[c(0),c(.5),c(1)]}}return m.range=w(M1),m.rangeRound=w(QR),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return d=y,i=y(e),s=y(t),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function f$(){var e=h0(b5()(Wl));return e.copy=function(){return f0(e,f$())},jf.apply(e,arguments)}function A$(){var e=qR(b5()).domain([.1,1,10]);return e.copy=function(){return f0(e,A$()).base(e.base())},jf.apply(e,arguments)}function p$(){var e=$R(b5());return e.copy=function(){return f0(e,p$()).constant(e.constant())},jf.apply(e,arguments)}function o_(){var e=YR(b5());return e.copy=function(){return f0(e,o_()).exponent(e.exponent())},jf.apply(e,arguments)}function m1e(){return o_.apply(null,arguments).exponent(.5)}const lv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:HR,scaleDiverging:f$,scaleDivergingLog:A$,scaleDivergingPow:o_,scaleDivergingSqrt:m1e,scaleDivergingSymlog:p$,scaleIdentity:Kq,scaleImplicit:tk,scaleLinear:Wq,scaleLog:$q,scaleOrdinal:UR,scalePoint:ige,scalePow:XR,scaleQuantile:Jq,scaleQuantize:Zq,scaleRadial:Xq,scaleSequential:c$,scaleSequentialLog:u$,scaleSequentialPow:a_,scaleSequentialQuantile:h$,scaleSequentialSqrt:g1e,scaleSequentialSymlog:d$,scaleSqrt:Xge,scaleSymlog:Yq,scaleThreshold:e$,scaleTime:A1e,scaleUtc:p1e,tickFormat:zq},Symbol.toStringTag,{value:"Module"}));var Uf=e=>e.chartData,y5=kt([Uf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),g$=(e,t,n,r)=>r?y5(e):Uf(e),m$=(e,t,n)=>n?y5(e):Uf(e);function XA(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ss(t)&&Ss(n))return!0}return!1}function tU(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function x$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Ss(n))i=n;else if(typeof n=="function")return;if(Ss(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(XA(a))return a}}function x1e(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(XA(r))return tU(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(Xn(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&h8.test(i)){var l=h8.exec(i);if(l==null||l[1]==null||t==null)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(Xn(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&f8.test(s)){var d=f8.exec(s);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var p=[a,o];if(XA(p))return t==null?p:tU(p,t,n)}}}var L1=1e9,v1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c_,Xs=!0,Ou="[DecimalError] ",dp=Ou+"Invalid argument: ",l_=Ou+"Exponent out of range: ",O1=Math.floor,H0=Math.pow,w1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qc,_o=1e7,Ls=7,v$=9007199254740991,vS=O1(v$/Ls),cr={};cr.absoluteValue=cr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};cr.comparedTo=cr.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};cr.decimalPlaces=cr.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ls;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};cr.dividedBy=cr.div=function(e){return Af(this,new this.constructor(e))};cr.dividedToIntegerBy=cr.idiv=function(e){var t=this,n=t.constructor;return Cs(Af(t,new n(e),0,1),n.precision)};cr.equals=cr.eq=function(e){return!this.cmp(e)};cr.exponent=function(){return Za(this)};cr.greaterThan=cr.gt=function(e){return this.cmp(e)>0};cr.greaterThanOrEqualTo=cr.gte=function(e){return this.cmp(e)>=0};cr.isInteger=cr.isint=function(){return this.e>this.d.length-2};cr.isNegative=cr.isneg=function(){return this.s<0};cr.isPositive=cr.ispos=function(){return this.s>0};cr.isZero=function(){return this.s===0};cr.lessThan=cr.lt=function(e){return this.cmp(e)<0};cr.lessThanOrEqualTo=cr.lte=function(e){return this.cmp(e)<1};cr.logarithm=cr.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(qc))throw Error(Ou+"NaN");if(n.s<1)throw Error(Ou+(n.s?"NaN":"-Infinity"));return n.eq(qc)?new r(0):(Xs=!1,t=Af(Aw(n,s),Aw(e,s),s),Xs=!0,Cs(t,i))};cr.minus=cr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y$(t,e):w$(t,(e.s=-e.s,e))};cr.modulo=cr.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ou+"NaN");return n.s?(Xs=!1,t=Af(n,e,0,1).times(e),Xs=!0,n.minus(t)):Cs(new r(n),i)};cr.naturalExponential=cr.exp=function(){return b$(this)};cr.naturalLogarithm=cr.ln=function(){return Aw(this)};cr.negated=cr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};cr.plus=cr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w$(t,e):y$(t,(e.s=-e.s,e))};cr.precision=cr.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dp+e);if(t=Za(i)+1,r=i.d.length-1,n=r*Ls+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};cr.squareRoot=cr.sqrt=function(){var e,t,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ou+"NaN")}for(e=Za(o),Xs=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=dh(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=O1((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Af(o,s,a+2)).times(.5),dh(s.d).slice(0,a)===(t=dh(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Cs(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(t!="9999")break;a+=4}return Xs=!0,Cs(r,n)};cr.times=cr.mul=function(e){var t,n,r,i,s,a,o,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(s=p,p=m,m=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=s[i]+m[r]*p[i-r-1]+t,s[i--]=o%_o|0,t=o/_o|0;s[i]=(s[i]+t)%_o|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Xs?Cs(e,f.precision):e};cr.toDecimalPlaces=cr.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(yh(e,0,L1),t===void 0?t=r.rounding:yh(t,0,8),Cs(n,e+Za(n)+1,t))};cr.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Mp(r,!0):(yh(e,0,L1),t===void 0?t=i.rounding:yh(t,0,8),r=Cs(new i(r),e+1,t),n=Mp(r,!0,e+1)),n};cr.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Mp(i):(yh(e,0,L1),t===void 0?t=s.rounding:yh(t,0,8),r=Cs(new s(i),e+Za(i)+1,t),n=Mp(r.abs(),!1,e+Za(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};cr.toInteger=cr.toint=function(){var e=this,t=e.constructor;return Cs(new t(e),Za(e)+1,t.rounding)};cr.toNumber=function(){return+this};cr.toPower=cr.pow=function(e){var t,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(qc);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ou+"Infinity");return o}if(o.eq(qc))return o;if(r=l.precision,e.eq(qc))return Cs(o,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=o.s,a){if((n=d<0?-d:d)<=v$){for(i=new l(qc),t=Math.ceil(r/Ls+4),Xs=!1;n%2&&(i=i.times(o),rU(i.d,t)),n=O1(n/2),n!==0;)o=o.times(o),rU(o.d,t);return Xs=!0,e.s<0?new l(qc).div(i):Cs(i,r)}}else if(s<0)throw Error(Ou+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Xs=!1,i=e.times(Aw(o,r+c)),Xs=!0,i=b$(i),i.s=s,i};cr.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Za(i),r=Mp(i,n<=s.toExpNeg||n>=s.toExpPos)):(yh(e,1,L1),t===void 0?t=s.rounding:yh(t,0,8),i=Cs(new s(i),e,t),n=Za(i),r=Mp(i,e<=n||n<=s.toExpNeg,e)),r};cr.toSignificantDigits=cr.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(yh(e,1,L1),t===void 0?t=r.rounding:yh(t,0,8)),Cs(new r(n),e,t)};cr.toString=cr.valueOf=cr.val=cr.toJSON=cr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Za(e),n=e.constructor;return Mp(e,t<=n.toExpNeg||t>=n.toExpPos)};function w$(e,t){var n,r,i,s,a,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Xs?Cs(t,f):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/Ls),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/_o|0,l[s]%=_o;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Xs?Cs(t,f):t}function yh(e,t,n){if(e!==~~e||e<t||e>n)throw Error(dp+e)}function dh(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=Ls-r.length,n&&(s+=IA(n)),s+=r;a=e[t],r=a+"",n=Ls-r.length,n&&(s+=IA(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Af=(function(){function e(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%_o|0,a=s/_o|0;return a&&r.unshift(a),r}function t(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*_o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,f,p,m,w,y,C,T,k,R,P,U,O,L,K,j=r.constructor,te=r.s==i.s?1:-1,G=r.d,V=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Ou+"Division by zero");for(l=r.e-i.e,L=V.length,U=G.length,m=new j(te),w=m.d=[],c=0;V[c]==(G[c]||0);)++c;if(V[c]>(G[c]||0)&&--l,s==null?k=s=j.precision:a?k=s+(Za(r)-Za(i))+1:k=s,k<0)return new j(0);if(k=k/Ls+2|0,c=0,L==1)for(d=0,V=V[0],k++;(c<U||d)&&k--;c++)R=d*_o+(G[c]||0),w[c]=R/V|0,d=R%V|0;else{for(d=_o/(V[0]+1)|0,d>1&&(V=e(V,d),G=e(G,d),L=V.length,U=G.length),P=L,y=G.slice(0,L),C=y.length;C<L;)y[C++]=0;K=V.slice(),K.unshift(0),O=V[0],V[1]>=_o/2&&++O;do d=0,o=t(V,y,L,C),o<0?(T=y[0],L!=C&&(T=T*_o+(y[1]||0)),d=T/O|0,d>1?(d>=_o&&(d=_o-1),f=e(V,d),p=f.length,C=y.length,o=t(f,y,p,C),o==1&&(d--,n(f,L<p?K:V,p))):(d==0&&(o=d=1),f=V.slice()),p=f.length,p<C&&f.unshift(0),n(y,f,C),o==-1&&(C=y.length,o=t(V,y,L,C),o<1&&(d++,n(y,L<C?K:V,C))),C=y.length):o===0&&(d++,y=[0]),w[c++]=d,o&&y[0]?y[C++]=G[P]||0:(y=[G[P]],C=1);while((P++<U||y[0]!==void 0)&&k--)}return w[0]||w.shift(),m.e=l,Cs(m,a?s+Za(m)+1:s)}})();function b$(e,t){var n,r,i,s,a,o,l=0,c=0,d=e.constructor,f=d.precision;if(Za(e)>16)throw Error(l_+Za(e));if(!e.s)return new d(qc);for(Xs=!1,o=f,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(r=Math.log(H0(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(qc),d.precision=o;;){if(i=Cs(i.times(e),o),n=n.times(++l),a=s.plus(Af(i,n,o)),dh(a.d).slice(0,o)===dh(s.d).slice(0,o)){for(;c--;)s=Cs(s.times(s),o);return d.precision=f,t==null?(Xs=!0,Cs(s,f)):s}s=a}}function Za(e){for(var t=e.e*Ls,n=e.d[0];n>=10;n/=10)t++;return t}function aI(e,t,n){if(t>e.LN10.sd())throw Xs=!0,n&&(e.precision=n),Error(Ou+"LN10 precision limit exceeded");return Cs(new e(e.LN10),t)}function IA(e){for(var t="";e--;)t+="0";return t}function Aw(e,t){var n,r,i,s,a,o,l,c,d,f=1,p=10,m=e,w=m.d,y=m.constructor,C=y.precision;if(m.s<1)throw Error(Ou+(m.s?"NaN":"-Infinity"));if(m.eq(qc))return new y(0);if(t==null?(Xs=!1,c=C):c=t,m.eq(10))return t==null&&(Xs=!0),aI(y,c);if(c+=p,y.precision=c,n=dh(w),r=n.charAt(0),s=Za(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=dh(m.d),r=n.charAt(0),f++;s=Za(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1))}else return l=aI(y,c+2,C).times(s+""),m=Aw(new y(r+"."+n.slice(1)),c-p).plus(l),y.precision=C,t==null?(Xs=!0,Cs(m,C)):m;for(o=a=m=Af(m.minus(qc),m.plus(qc),c),d=Cs(m.times(m),c),i=3;;){if(a=Cs(a.times(d),c),l=o.plus(Af(a,new y(i),c)),dh(l.d).slice(0,c)===dh(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(aI(y,c+2,C).times(s+""))),o=Af(o,new y(f),c),y.precision=C,t==null?(Xs=!0,Cs(o,C)):o;o=l,i+=2}}function nU(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=O1(n/Ls),e.d=[],r=(n+1)%Ls,n<0&&(r+=Ls),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ls;r<i;)e.d.push(+t.slice(r,r+=Ls));t=t.slice(r),r=Ls-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Xs&&(e.e>vS||e.e<-vS))throw Error(l_+n)}else e.s=0,e.e=0,e.d=[0];return e}function Cs(e,t,n){var r,i,s,a,o,l,c,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=Ls,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Ls),s=f.length,d>=s)return e;for(c=s=f[d],a=1;s>=10;s/=10)a++;r%=Ls,i=r-Ls+a}if(n!==void 0&&(s=H0(10,a-i-1),o=c/s%10|0,l=t<0||f[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/H0(10,a-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(s=Za(e),f.length=1,t=t-s-1,f[0]=H0(10,(Ls-t%Ls)%Ls),e.e=O1(-t/Ls)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=H0(10,Ls-r),f[d]=i>0?(c/H0(10,a-i)%H0(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==_o&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=_o)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Xs&&(e.e>vS||e.e<-vS))throw Error(l_+Za(e));return e}function y$(e,t){var n,r,i,s,a,o,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Xs?Cs(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/Ls),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=_o-1;--l[s],l[i]+=_o}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Xs?Cs(t,m):t):new p(0)}function Mp(e,t,n){var r,i=Za(e),s=dh(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+IA(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+IA(-i-1)+s,n&&(r=n-a)>0&&(s+=IA(r))):i>=a?(s+=IA(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+IA(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=IA(r))),e.s<0?"-"+s:s}function rU(e,t){if(e.length>t)return e.length=t,!0}function C$(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(dp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return nU(a,s.toString())}else if(typeof s!="string")throw Error(dp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,w1e.test(s))nU(a,s);else throw Error(dp+s)}if(i.prototype=cr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C$,i.config=i.set=b1e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function b1e(e){if(!e||typeof e!="object")throw Error(Ou+"Object expected");var t,n,r,i=["precision",1,L1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(O1(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(dp+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(dp+n+": "+r);return this}var c_=C$(v1e);qc=new c_(1);const is=c_;var y1e=e=>e,S$={},E$=e=>e===S$,iU=e=>function t(){return arguments.length===0||arguments.length===1&&E$(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},N$=(e,t)=>e===1?t:iU(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==S$).length;return s>=e?t(...r):N$(e-s,iU(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=r.map(d=>E$(d)?o.shift():d);return t(...c,...o)}))}),C1e=e=>N$(e.length,e),sk=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},S1e=C1e((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),E1e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return y1e;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}};function T$(e){var t;return e===0?t=1:t=Math.floor(new is(e).abs().log(10).toNumber())+1,t}function I$(e,t,n){for(var r=new is(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var F$=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},k$=(e,t,n)=>{if(e.lte(0))return new is(0);var r=T$(e.toNumber()),i=new is(10).pow(r),s=e.div(i),a=r!==1?.05:.1,o=new is(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return t?new is(l.toNumber()):new is(Math.ceil(l.toNumber()))},N1e=(e,t,n)=>{var r=new is(1),i=new is(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new is(10).pow(T$(e)-1),i=new is(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new is(Math.floor(e)))}else e===0?i=new is(Math.floor((t-1)/2)):n||(i=new is(Math.floor(e)));var a=Math.floor((t-1)/2),o=E1e(S1e(l=>i.add(new is(l-a).mul(r)).toNumber()),sk);return o(0,t)},B$=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new is(0),tickMin:new is(0),tickMax:new is(0)};var a=k$(new is(n).sub(t).div(r-1),i,s),o;t<=0&&n>=0?o=new is(0):(o=new is(t).add(n).div(2),o=o.sub(new is(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new is(n).sub(o).div(a).toNumber()),d=l+c+1;return d>r?B$(t,n,r,i,s+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:a,tickMin:o.sub(new is(l).mul(a)),tickMax:o.add(new is(c).mul(a))})},T1e=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=F$([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...sk(0,i-1).map(()=>1/0)]:[...sk(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return N1e(o,i,s);var{step:d,tickMin:f,tickMax:p}=B$(o,l,a,s,0),m=I$(f,p.add(new is(.1).mul(d)),d);return n>r?m.reverse():m},I1e=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=F$([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(n,2),c=k$(new is(o).sub(a).div(l-1),s,0),d=[...I$(new is(a),new is(o),c),o];return s===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},R$=e=>e.rootProps.maxBarSize,F1e=e=>e.rootProps.barGap,_$=e=>e.rootProps.barCategoryGap,k1e=e=>e.rootProps.barSize,ob=e=>e.rootProps.stackOffset,D$=e=>e.rootProps.reverseStackOrder,u_=e=>e.options.chartName,d_=e=>e.rootProps.syncId,P$=e=>e.rootProps.syncMethod,h_=e=>e.options.eventEmitter,B1e=e=>e.rootProps.baseValue,Ja={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},of={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wc={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},C5=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},R1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:of.angleAxisId,includeHidden:!1,name:void 0,reversed:of.reversed,scale:of.scale,tick:of.tick,tickCount:void 0,ticks:void 0,type:of.type,unit:void 0},_1e={allowDataOverflow:Wc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wc.scale,tick:Wc.tick,tickCount:Wc.tickCount,ticks:void 0,type:Wc.type,unit:void 0},D1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:of.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:of.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:of.scale,tick:of.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},P1e={allowDataOverflow:Wc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wc.scale,tick:Wc.tick,tickCount:Wc.tickCount,ticks:void 0,type:"category",unit:void 0},f_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?D1e:R1e,A_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?P1e:_1e,S5=e=>e.polarOptions,p_=kt([Lf,Of,Ao],Bq),M$=kt([S5,p_],(e,t)=>{if(e!=null)return Il(e.innerRadius,t,0)}),L$=kt([S5,p_],(e,t)=>{if(e!=null)return Il(e.outerRadius,t,t*.8)}),M1e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},O$=kt([S5],M1e);kt([f_,O$],C5);var j$=kt([p_,M$,L$],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});kt([A_,j$],C5);var U$=kt([Ii,S5,M$,L$,Lf,Of],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=t;return{cx:Il(a,i,i/2),cy:Il(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Zs=(e,t)=>t,lb=(e,t,n)=>n;function E5(e){return e==null?void 0:e.id}function H$(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=E5(o);c.forEach((f,p)=>{var m=s==null||i?p:String(ps(f,s,null)),w=ps(f,o.dataKey,0),y;a.has(m)?y=a.get(m):y={},Object.assign(y,{[d]:w}),a.set(m,y)})}}),Array.from(a.values())}function N5(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var T5=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function I5(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function L1e(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var go=e=>{var t=Ii(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},j1=e=>e.tooltip.settings.axisId;function sU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(n),!0).forEach(function(r){O1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O1e(e,t,n){return(t=j1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j1e(e){var t=U1e(e,"string");return typeof t=="symbol"?t:t+""}function U1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ak=[0,"auto"],Bo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G$=(e,t)=>e.cartesianAxis.xAxis[t],Hf=(e,t)=>{var n=G$(e,t);return n??Bo},Ro={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ak,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jw},V$=(e,t)=>e.cartesianAxis.yAxis[t],Gf=(e,t)=>{var n=V$(e,t);return n??Ro},H1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},g_=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??H1e},la=(e,t,n)=>{switch(t){case"xAxis":return Hf(e,n);case"yAxis":return Gf(e,n);case"zAxis":return g_(e,n);case"angleAxis":return f_(e,n);case"radiusAxis":return A_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},G1e=(e,t,n)=>{switch(t){case"xAxis":return Hf(e,n);case"yAxis":return Gf(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},cb=(e,t,n)=>{switch(t){case"xAxis":return Hf(e,n);case"yAxis":return Gf(e,n);case"angleAxis":return f_(e,n);case"radiusAxis":return A_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Q$=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function m_(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var F5=e=>e.graphicalItems.cartesianItems,V1e=kt([Zs,lb],m_),x_=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),ub=kt([F5,la,V1e],x_,{memoizeOptions:{resultEqualityCheck:I5}}),z$=kt([ub],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(N5)),W$=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Q1e=kt([ub],W$),v_=e=>e.map(t=>t.data).filter(Boolean).flat(1),z1e=kt([ub],v_,{memoizeOptions:{resultEqualityCheck:I5}}),w_=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},b_=kt([z1e,g$],w_),y_=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ps(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ps(i,r)}))):e.map(r=>({value:r})),k5=kt([b_,la,ub],y_);function K$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function t2(e){if(wh(e)||e instanceof Date){var t=Number(e);if(Ss(t))return t}}function aU(e){if(Array.isArray(e)){var t=[t2(e[0]),t2(e[1])];return XA(t)?t:void 0}var n=t2(e);if(n!=null)return[n,n]}function Ff(e){return e.map(t2).filter(Ode)}function W1e(e,t,n){return!n||typeof t!="number"||Mu(t)?[]:n.length?Ff(n.flatMap(r=>{var i=ps(e,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Ss(s)||!Ss(a)))return[t-s,t+a]})):[]}var mo=e=>{var t=go(e),n=j1(e);return cb(e,t,n)},db=kt([mo],e=>e==null?void 0:e.dataKey),K1e=kt([z$,g$,mo],H$),q$=(e,t,n,r)=>{var i={},s=t.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,c=r?[...l].reverse():l,d=c.map(E5);return[o,{stackedData:dAe(e,d,n),graphicalItems:c}]}))},bS=kt([K1e,z$,ob,D$],q$),$$=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var a=pAe(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},q1e=kt([la],e=>e.allowDataOverflow),C_=e=>{var t;if(e==null||!("domain"in e))return ak;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ff(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ak},S_=kt([la],C_),E_=kt([S_,q1e],x$),$1e=kt([bS,Uf,Zs,E_],$$,{memoizeOptions:{resultEqualityCheck:T5}}),B5=e=>e.errorBars,Y1e=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>K$(n,r)),yS=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},N_=(e,t,n,r,i)=>{var s,a;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(T=>K$(i,T)),p=ps(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=W1e(o,p,f);if(m.length>=2){var w=Math.min(...m),y=Math.max(...m);(s==null||w<s)&&(s=w),(a==null||y>a)&&(a=y)}var C=aU(p);C!=null&&(s=s==null?C[0]:Math.min(s,C[0]),a=a==null?C[1]:Math.max(a,C[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=aU(ps(o,t.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Ss(s)&&Ss(a))return[s,a]},X1e=kt([b_,la,Q1e,B5,Zs],N_,{memoizeOptions:{resultEqualityCheck:T5}});function J1e(e){var{value:t}=e;if(wh(t)||t instanceof Date)return t}var Z1e=(e,t,n)=>{var r=e.map(J1e).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&cK(r))?Pq(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Y$=e=>e.referenceElements.dots,U1=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),exe=kt([Y$,Zs,lb],U1),X$=e=>e.referenceElements.areas,txe=kt([X$,Zs,lb],U1),J$=e=>e.referenceElements.lines,nxe=kt([J$,Zs,lb],U1),Z$=(e,t)=>{if(e!=null){var n=Ff(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rxe=kt(exe,Zs,Z$),eY=(e,t)=>{if(e!=null){var n=Ff(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ixe=kt([txe,Zs],eY);function sxe(e){var t;if(e.x!=null)return Ff([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ff(n)}function axe(e){var t;if(e.y!=null)return Ff([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ff(n)}var tY=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?sxe(r):axe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},oxe=kt([nxe,Zs],tY),lxe=kt(rxe,oxe,ixe,(e,t,n)=>yS(e,n,t)),T_=(e,t,n,r,i,s,a,o)=>{if(n!=null)return n;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?yS(r,s,i):yS(s,i);return x1e(t,c,e.allowDataOverflow)},cxe=kt([la,S_,E_,$1e,X1e,lxe,Ii,Zs],T_,{memoizeOptions:{resultEqualityCheck:T5}}),uxe=[0,1],I_=(e,t,n,r,i,s,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=e,c=Mf(t,s);if(c&&o==null){var d;return Pq(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?Z1e(r,e,c):i==="expand"?uxe:a}},F_=kt([la,Ii,b_,k5,ob,Zs,cxe],I_),nY=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Kw(s));return o in lv?o:"point"}}},H1=kt([la,Ii,Q$,u_,Zs],nY);function dxe(e){if(e!=null){if(e in lv)return lv[e]();var t="scale".concat(Kw(e));if(t in lv)return lv[t]()}}function k_(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=dxe(t);if(i!=null){var s=i.domain(n).range(r);return aAe(s),s}}}var B_=(e,t,n)=>{var r=C_(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&XA(e))return T1e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&XA(e))return I1e(e,t.tickCount,t.allowDecimals)}},R_=kt([F_,cb,H1],B_),__=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&XA(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],a=t[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},hxe=kt([la,F_,R_,Zs],__),fxe=kt(k5,la,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ff(e.map(f=>f.value))).sort((f,p)=>f-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/a}}),rY=kt(fxe,Ii,_$,Ao,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ss(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Il(n,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),Axe=(e,t,n)=>{var r=Hf(e,t);return r==null||typeof r.padding!="string"?0:rY(e,"xAxis",t,n,r.padding)},pxe=(e,t,n)=>{var r=Gf(e,t);return r==null||typeof r.padding!="string"?0:rY(e,"yAxis",t,n,r.padding)},gxe=kt(Hf,Axe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),mxe=kt(Gf,pxe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),xxe=kt([Ao,gxe,u5,c5,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),vxe=kt([Ao,Ii,mxe,u5,c5,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),hb=(e,t,n,r)=>{var i;switch(t){case"xAxis":return xxe(e,n,r);case"yAxis":return vxe(e,n,r);case"zAxis":return(i=g_(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return O$(e);case"radiusAxis":return j$(e,n);default:return}},iY=kt([la,hb],C5),R5=kt([la,H1,hxe,iY],k_);kt([ub,B5,Zs],Y1e);function sY(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var _5=(e,t)=>t,D5=(e,t,n)=>n,wxe=kt(o5,_5,D5,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sY)),bxe=kt(l5,_5,D5,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sY)),aY=(e,t)=>({width:e.width,height:t.height}),yxe=(e,t)=>{var n=typeof t.width=="number"?t.width:Jw;return{width:n,height:e.height}},oY=kt(Ao,Hf,aY),Cxe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Sxe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Exe=kt(Of,Ao,wxe,_5,D5,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=aY(t,o);a==null&&(a=Cxe(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),Nxe=kt(Lf,Ao,bxe,_5,D5,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=yxe(t,o);a==null&&(a=Sxe(t,r,e));var c=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),Txe=(e,t)=>{var n=Hf(e,t);if(n!=null)return Exe(e,n.orientation,n.mirror)},Ixe=kt([Ao,Hf,Txe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Fxe=(e,t)=>{var n=Gf(e,t);if(n!=null)return Nxe(e,n.orientation,n.mirror)},kxe=kt([Ao,Gf,Fxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),lY=kt(Ao,Gf,(e,t)=>{var n=typeof t.width=="number"?t.width:Jw;return{width:n,height:e.height}}),oU=(e,t,n)=>{switch(t){case"xAxis":return oY(e,n).width;case"yAxis":return lY(e,n).height;default:return}},cY=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Mf(e,r),l=t.map(c=>c.value);if(a&&o&&s==="category"&&i&&cK(l))return l}},D_=kt([Ii,k5,la,Zs],cY),uY=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Mf(e,r);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},P_=kt([Ii,k5,cb,Zs],uY),lU=kt([Ii,G1e,H1,R5,D_,P_,hb,R_,Zs],(e,t,n,r,i,s,a,o,l)=>{if(t!=null){var c=Mf(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:n,scale:r}}}),Bxe=(e,t,n,r,i,s,a,o,l)=>{if(!(t==null||r==null)){var c=Mf(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=d==="category"&&r.bandwidth?r.bandwidth()/m:0;w=l==="angleAxis"&&s!=null&&s.length>=2?Lo(s[0]-s[1])*2*w:w;var y=f||i;if(y){var C=y.map((T,k)=>{var R=a?a.indexOf(T):T;return{index:k,coordinate:r(R)+w,value:T,offset:w}});return C.filter(T=>Ss(T.coordinate))}return c&&o?o.map((T,k)=>({coordinate:r(T)+w,value:T,index:k,offset:w})).filter(T=>Ss(T.coordinate)):r.ticks?r.ticks(p).map(T=>({coordinate:r(T)+w,value:T,offset:w})):r.domain().map((T,k)=>({coordinate:r(T)+w,value:a?a[T]:T,index:k,offset:w}))}},dY=kt([Ii,cb,H1,R5,R_,hb,D_,P_,Zs],Bxe),Rxe=(e,t,n,r,i,s,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Mf(e,a),{tickCount:l}=t,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Lo(r[0]-r[1])*2*c:c,o&&s?s.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},JA=kt([Ii,cb,R5,hb,D_,P_,Zs],Rxe),ZA=kt(la,R5,(e,t)=>{if(!(e==null||t==null))return wS(wS({},e),{},{scale:t})}),_xe=kt([la,H1,F_,iY],k_);kt((e,t,n)=>g_(e,n),_xe,(e,t)=>{if(!(e==null||t==null))return wS(wS({},e),{},{scale:t})});var Dxe=kt([Ii,o5,l5],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hY=e=>e.options.defaultTooltipEventType,fY=e=>e.options.validateTooltipEventTypes;function AY(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function M_(e,t){var n=hY(e),r=fY(e);return AY(t,n,r)}function Pxe(e){return pr(t=>M_(t,e))}var pY=(e,t)=>{var n,r=Number(t);if(!(Mu(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Mxe=e=>e.tooltip.settings,RA={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Lxe={itemInteraction:{click:RA,hover:RA},axisInteraction:{click:RA,hover:RA},keyboardInteraction:RA,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gY=Rc({name:"tooltip",initialState:Lxe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:$s()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=xd(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:$s()},removeTooltipEntrySettings:{reducer(e,t){var n=xd(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:$s()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Oxe,replaceTooltipEntrySettings:jxe,removeTooltipEntrySettings:Uxe,setTooltipSettingsState:Hxe,setActiveMouseOverItemIndex:mY,mouseLeaveItem:Gxe,mouseLeaveChart:xY,setActiveClickItemIndex:Vxe,setMouseOverAxisIndex:vY,setMouseClickAxisIndex:Qxe,setSyncInteraction:ok,setKeyboardInteraction:lk}=gY.actions,zxe=gY.reducer;function cU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(n),!0).forEach(function(r){Wxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wxe(e,t,n){return(t=Kxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $xe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Yxe(e){return e.index!=null}var wY=(e,t,n,r)=>{if(t==null)return RA;var i=$xe(e,t,n);if(i==null)return RA;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Yxe(i)){if(s)return Oy(Oy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Oy(Oy({},RA),{},{coordinate:i.coordinate})};function Xxe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Jxe(e,t){var n=Xxe(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function Zxe(e,t,n){if(n==null||t==null)return!0;var r=ps(e,t);return r==null||!XA(n)?!0:Jxe(r,n)}var L_=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Ss(s))return i;var a=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(a,Math.min(s,o)),c=t[l];return c==null||Zxe(c,n,r)?String(l):null},bY=(e,t,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},yY=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},fb=e=>e.options.tooltipPayloadSearcher,G1=e=>e.tooltip;function uU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(n),!0).forEach(function(r){eve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eve(e,t,n){return(t=tve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tve(e){var t=nve(e,"string");return typeof t=="symbol"?t:t+""}function nve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rve(e,t){return e??t}var CY=(e,t,n,r,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var w,{dataDefinedOnItem:y,settings:C}=m,T=rve(y,o),k=Array.isArray(T)?rq(T,c,d):T,R=(w=C==null?void 0:C.dataKey)!==null&&w!==void 0?w:r,P=C==null?void 0:C.nameKey,U;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&a==="axis"?U=uK(k,r,i):U=s(k,t,l,P),Array.isArray(U))U.forEach(L=>{var K=dU(dU({},C),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});p.push(A8({tooltipEntrySettings:K,dataKey:L.dataKey,payload:L.payload,value:ps(L.payload,L.dataKey),name:L.name}))});else{var O;p.push(A8({tooltipEntrySettings:C,dataKey:R,payload:U,value:ps(U,R),name:(O=ps(U,P))!==null&&O!==void 0?O:C==null?void 0:C.name}))}return p},f)}},O_=kt([mo,Ii,Q$,u_,go],nY),ive=kt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sve=kt([go,j1],m_),V1=kt([ive,mo,sve],x_,{memoizeOptions:{resultEqualityCheck:I5}}),ave=kt([V1],e=>e.filter(N5)),ove=kt([V1],v_,{memoizeOptions:{resultEqualityCheck:I5}}),Q1=kt([ove,Uf],w_),lve=kt([ave,Uf,mo],H$),j_=kt([Q1,mo,V1],y_),SY=kt([mo],C_),cve=kt([mo],e=>e.allowDataOverflow),EY=kt([SY,cve],x$),uve=kt([V1],e=>e.filter(N5)),dve=kt([lve,uve,ob,D$],q$),hve=kt([dve,Uf,go,EY],$$),fve=kt([V1],W$),Ave=kt([Q1,mo,fve,B5,go],N_,{memoizeOptions:{resultEqualityCheck:T5}}),pve=kt([Y$,go,j1],U1),gve=kt([pve,go],Z$),mve=kt([X$,go,j1],U1),xve=kt([mve,go],eY),vve=kt([J$,go,j1],U1),wve=kt([vve,go],tY),bve=kt([gve,wve,xve],yS),yve=kt([mo,SY,EY,hve,Ave,bve,Ii,go],T_),Ab=kt([mo,Ii,Q1,j_,ob,go,yve],I_),Cve=kt([Ab,mo,O_],B_),Sve=kt([mo,Ab,Cve,go],__),NY=e=>{var t=go(e),n=j1(e),r=!1;return hb(e,t,n,r)},TY=kt([mo,NY],C5),IY=kt([mo,O_,Sve,TY],k_),Eve=kt([Ii,j_,mo,go],cY),Nve=kt([Ii,j_,mo,go],uY),Tve=(e,t,n,r,i,s,a,o)=>{if(t){var{type:l}=t,c=Mf(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Lo(i[0]-i[1])*2*f:f,c&&a?a.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:s?s[p]:p,index:m,offset:f}))}}},Vf=kt([Ii,mo,O_,IY,NY,Eve,Nve,go],Tve),U_=kt([hY,fY,Mxe],(e,t,n)=>AY(n.shared,e,t)),FY=e=>e.tooltip.settings.trigger,H_=e=>e.tooltip.settings.defaultIndex,pb=kt([G1,U_,FY,H_],wY),e0=kt([pb,Q1,db,Ab],L_),kY=kt([Vf,e0],pY),G_=kt([pb],e=>{if(e)return e.dataKey}),Ive=kt([pb],e=>{if(e)return e.graphicalItemId}),BY=kt([G1,U_,FY,H_],yY),Fve=kt([Lf,Of,Ii,Ao,Vf,H_,BY,fb],bY),kve=kt([pb,Fve],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Bve=kt([pb],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Rve=kt([BY,e0,Uf,db,kY,fb,U_],CY),_ve=kt([Rve],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function hU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(n),!0).forEach(function(r){Dve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dve(e,t,n){return(t=Pve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pve(e){var t=Mve(e,"string");return typeof t=="symbol"?t:t+""}function Mve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lve=()=>pr(mo),Ove=()=>{var e=Lve(),t=pr(Vf),n=pr(IY);return A1(!e||!n?void 0:fU(fU({},e),{},{scale:n}),t)};function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(n),!0).forEach(function(r){jve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jve(e,t,n){return(t=Uve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uve(e){var t=Hve(e,"string");return typeof t=="symbol"?t:t+""}function Hve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gve=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Vve=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:a}=r;return $g($g($g({},r),Xa(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return $g($g($g({},r),Xa(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Qve(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var RY=(e,t,n,r,i)=>{var s,a=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,c,d,f,p,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[a-1])===null||c===void 0?void 0:c.coordinate,w=(d=n[o])===null||d===void 0?void 0:d.coordinate,y=o>=a-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[o+1])===null||p===void 0?void 0:p.coordinate,C=void 0;if(!(m==null||w==null||y==null))if(Lo(w-m)!==Lo(y-w)){var T=[];if(Lo(y-w)===Lo(i[1]-i[0])){C=y;var k=w+i[1]-i[0];T[0]=Math.min(k,(k+m)/2),T[1]=Math.max(k,(k+m)/2)}else{C=m;var R=y+i[1]-i[0];T[0]=Math.min(w,(R+w)/2),T[1]=Math.max(w,(R+w)/2)}var P=[Math.min(w,(C+w)/2),Math.max(w,(C+w)/2)];if(e>P[0]&&e<=P[1]||e>=T[0]&&e<=T[1]){var U;return(U=n[o])===null||U===void 0?void 0:U.index}}else{var O=Math.min(m,y),L=Math.max(m,y);if(e>(O+w)/2&&e<=(L+w)/2){var K;return(K=n[o])===null||K===void 0?void 0:K.index}}}else if(t)for(var j=0;j<a;j++){var te=t[j];if(te!=null){var G=t[j+1],V=t[j-1];if(j===0&&G!=null&&e<=(te.coordinate+G.coordinate)/2||j===a-1&&V!=null&&e>(te.coordinate+V.coordinate)/2||j>0&&j<a-1&&V!=null&&G!=null&&e>(te.coordinate+V.coordinate)/2&&e<=(te.coordinate+G.coordinate)/2)return te.index}}return-1},_Y=()=>pr(u_),V_=(e,t)=>t,DY=(e,t,n)=>n,Q_=(e,t,n,r)=>r,zve=kt(Vf,e=>XE(e,t=>t.coordinate)),z_=kt([G1,V_,DY,Q_],wY),W_=kt([z_,Q1,db,Ab],L_),Wve=(e,t,n)=>{if(t!=null){var r=G1(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},PY=kt([G1,V_,DY,Q_],yY),CS=kt([Lf,Of,Ii,Ao,Vf,Q_,PY,fb],bY),Kve=kt([z_,CS],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),MY=kt([Vf,W_],pY),qve=kt([PY,W_,Uf,db,MY,fb,V_],CY),$ve=kt([z_,W_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Yve=(e,t,n,r,i,s,a)=>{if(!(!e||!n||!r||!i)&&Qve(e,a)){var o=gAe(e,t),l=RY(o,s,i,n,r),c=Gve(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},Xve=(e,t,n,r,i,s,a)=>{if(!(!e||!r||!i||!s||!n)){var o=Dpe(e,n);if(o){var l=mAe(o,t),c=RY(l,a,s,r,i),d=Vve(t,s,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},Jve=(e,t,n,r,i,s,a,o)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?Yve(e,t,r,i,s,a,o):Xve(e,t,n,r,i,s,a)},Zve=kt(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),ewe=kt(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ja)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:L1e}});function pU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(n),!0).forEach(function(r){twe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function twe(e,t,n){return(t=nwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nwe(e){var t=rwe(e,"string");return typeof t=="symbol"?t:t+""}function rwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iwe={},swe={zIndexMap:Object.values(Ja).reduce((e,t)=>gU(gU({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),iwe)},awe=new Set(Object.values(Ja));function owe(e){return awe.has(e)}var LY=Rc({name:"zIndex",initialState:swe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:$s()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!owe(n)&&delete e.zIndexMap[n])},prepare:$s()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:$s()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:$s()}}}),{registerZIndexPortal:lwe,unregisterZIndexPortal:cwe,registerZIndexPortalElement:uwe,unregisterZIndexPortalElement:dwe}=LY.actions,hwe=LY.reducer;function _c(e){var{zIndex:t,children:n}=e,r=$Ae(),i=r&&t!==void 0&&t!==0,s=Bl(),a=ks();B.useLayoutEffect(()=>i?(a(lwe({zIndex:t})),()=>{a(cwe({zIndex:t}))}):qw,[a,t,i]);var o=pr(l=>Zve(l,t,s));return i?o?D1.createPortal(n,o):null:n}function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ck.apply(null,arguments)}function mU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(n),!0).forEach(function(r){fwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fwe(e,t,n){return(t=Awe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Awe(e){var t=pwe(e,"string");return typeof t=="symbol"?t:t+""}function pwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gwe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return B.isValidElement(t)?B.cloneElement(t,r):B.createElement(n,r)}function mwe(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var w,y,C;if(d==="ScatterChart")w=f,y=q0e,C=Ja.cursorLine;else if(d==="BarChart")w=$0e(o,f,s,a),y=kq,C=Ja.cursorRectangle;else if(o==="radial"&&hK(f)){var{cx:T,cy:k,radius:R,startAngle:P,endAngle:U}=Rq(f);w={cx:T,cy:k,startAngle:P,endAngle:U,innerRadius:R,outerRadius:R},y=Dq,C=Ja.cursorLine}else w={points:Ope(o,f,s)},y=Mm,C=Ja.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,L=jy(jy(jy(jy({stroke:"#ccc",pointerEvents:"none"},s),w),kp(l)),{},{payload:p,payloadIndex:m,className:Qi("recharts-tooltip-cursor",O)});return B.createElement(_c,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:C},B.createElement(gwe,{cursor:l,cursorComp:y,cursorProps:L}))}function xwe(e){var t=Ove(),n=Aq(),r=Zp(),i=_Y();return t==null||n==null||r==null||i==null?null:B.createElement(mwe,ck({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var OY=B.createContext(null),vwe=()=>B.useContext(OY),oI={exports:{}},xU;function wwe(){return xU||(xU=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,p),w=n?n+c:c;return l._events[w]?l._events[w].fn?l._events[w]=[l._events[w],m]:l._events[w].push(m):(l._events[w]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,w=new Array(m);p<m;p++)w[p]=f[p].fn;return w},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,p,m,w){var y=n?n+c:c;if(!this._events[y])return!1;var C=this._events[y],T=arguments.length,k,R;if(C.fn){switch(C.once&&this.removeListener(c,C.fn,void 0,!0),T){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,d),!0;case 3:return C.fn.call(C.context,d,f),!0;case 4:return C.fn.call(C.context,d,f,p),!0;case 5:return C.fn.call(C.context,d,f,p,m),!0;case 6:return C.fn.call(C.context,d,f,p,m,w),!0}for(R=1,k=new Array(T-1);R<T;R++)k[R-1]=arguments[R];C.fn.apply(C.context,k)}else{var P=C.length,U;for(R=0;R<P;R++)switch(C[R].once&&this.removeListener(c,C[R].fn,void 0,!0),T){case 1:C[R].fn.call(C[R].context);break;case 2:C[R].fn.call(C[R].context,d);break;case 3:C[R].fn.call(C[R].context,d,f);break;case 4:C[R].fn.call(C[R].context,d,f,p);break;default:if(!k)for(U=1,k=new Array(T-1);U<T;U++)k[U-1]=arguments[U];C[R].fn.apply(C[R].context,k)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var w=this._events[m];if(w.fn)w.fn===d&&(!p||w.once)&&(!f||w.context===f)&&a(this,m);else{for(var y=0,C=[],T=w.length;y<T;y++)(w[y].fn!==d||p&&!w[y].once||f&&w[y].context!==f)&&C.push(w[y]);C.length?this._events[m]=C.length===1?C[0]:C:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(oI)),oI.exports}var bwe=wwe();const ywe=iu(bwe);var pw=new ywe,uk="recharts.syncEvent.tooltip",vU="recharts.syncEvent.brush";function K_(e,t){if(t){var n=Number.parseInt(t,10);if(!Mu(n))return e==null?void 0:e[n]}}var Cwe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jY=Rc({name:"options",initialState:Cwe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Swe=jY.reducer,{createEventEmitter:Ewe}=jY.actions;function Nwe(e){return e.tooltip.syncInteraction}var Twe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},UY=Rc({name:"chartData",initialState:Twe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:wU,setDataStartEndIndexes:Iwe,setComputedData:Aut}=UY.actions,Fwe=UY.reducer,kwe=["x","y"];function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(n),!0).forEach(function(r){Bwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bwe(e,t,n){return(t=Rwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rwe(e){var t=_we(e,"string");return typeof t=="symbol"?t:t+""}function _we(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dwe(e,t){if(e==null)return{};var n,r,i=Pwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mwe(){var e=pr(d_),t=pr(h_),n=ks(),r=pr(P$),i=pr(Vf),s=Zp(),a=d5(),o=pr(l=>l.rootProps.className);B.useEffect(()=>{if(e==null)return qw;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(a&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:w,y}=m,C=Dwe(m,kwe),{x:T,y:k,width:R,height:P}=d.payload.sourceViewBox,U=Yg(Yg({},C),{},{x:a.x+(R?(w-T)/R:0)*a.width,y:a.y+(P?(y-k)/P:0)*a.height});n(Yg(Yg({},d),{},{payload:Yg(Yg({},d.payload),{},{coordinate:U})}))}else n(d);return}if(i!=null){var O;if(typeof r=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},K=r(i,L);O=i[K]}else r==="value"&&(O=i.find(ue=>String(ue.value)===d.payload.label));var{coordinate:j}=d.payload;if(O==null||d.payload.active===!1||j==null||a==null){n(ok({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:te,y:G}=j,V=Math.min(te,a.x+a.width),re=Math.min(G,a.y+a.height),ee={x:s==="horizontal"?O.coordinate:V,y:s==="horizontal"?re:O.coordinate},ie=ok({active:d.payload.active,coordinate:ee,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ie)}}};return pw.on(uk,l),()=>{pw.off(uk,l)}},[o,n,t,e,r,i,s,a])}function Lwe(){var e=pr(d_),t=pr(h_),n=ks();B.useEffect(()=>{if(e==null)return qw;var r=(i,s,a)=>{t!==a&&e===i&&n(Iwe(s))};return pw.on(vU,r),()=>{pw.off(vU,r)}},[n,t,e])}function Owe(){var e=ks();B.useEffect(()=>{e(Ewe())},[e]),Mwe(),Lwe()}function jwe(e,t,n,r,i,s){var a=pr(m=>Wve(m,e,t)),o=pr(h_),l=pr(d_),c=pr(P$),d=pr(Nwe),f=d==null?void 0:d.active,p=d5();B.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=ok({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});pw.emit(uk,l,m,o)}},[f,n,a,i,r,o,l,c,s,p])}function yU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(n),!0).forEach(function(r){Uwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uwe(e,t,n){return(t=Hwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hwe(e){var t=Gwe(e,"string");return typeof t=="symbol"?t:t+""}function Gwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vwe(e){return e.dataKey}function Qwe(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement(T0e,t)}var SU=[],zwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function hp(e){var t,n,r=eo(e,zwe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:w,useTranslate3d:y,wrapperStyle:C,cursor:T,shared:k,trigger:R,defaultIndex:P,portal:U,axisId:O}=r,L=ks(),K=typeof P=="number"?String(P):P;B.useEffect(()=>{L(Hxe({shared:k,trigger:R,axisId:O,active:i,defaultIndex:K}))},[L,k,R,O,i,K]);var j=d5(),te=Eq(),G=Pxe(k),{activeIndex:V,isActive:re}=(t=pr(Ce=>$ve(Ce,G,R,K)))!==null&&t!==void 0?t:{},ee=pr(Ce=>qve(Ce,G,R,K)),ie=pr(Ce=>MY(Ce,G,R,K)),ue=pr(Ce=>Kve(Ce,G,R,K)),le=ee,xe=vwe(),ge=(n=i??re)!==null&&n!==void 0?n:!1,[fe,ce]=TK([le,ge]),Q=G==="axis"?ie:void 0;jwe(G,R,ue,Q,V,ge);var Y=U??xe;if(Y==null||j==null||G==null)return null;var X=le??SU;ge||(X=SU),c&&X.length&&(X=yK(X.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||r.includeHidden)),p,Vwe));var ne=X.length>0,oe=B.createElement(D0e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ge,coordinate:ue,hasPayload:ne,offset:f,position:m,reverseDirection:w,useTranslate3d:y,viewBox:j,wrapperStyle:C,lastBoundingBox:fe,innerRef:ce,hasPortalFromProps:!!U},Qwe(l,CU(CU({},r),{},{payload:X,label:Q,active:ge,activeIndex:V,coordinate:ue,accessibilityLayer:te})));return B.createElement(B.Fragment,null,D1.createPortal(oe,Y),ge&&B.createElement(xwe,{cursor:T,tooltipEventType:G,coordinate:ue,payload:X,index:V}))}var t0=e=>null;t0.displayName="Cell";function Wwe(e,t,n){return(t=Kwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kwe(e){var t=qwe(e,"string");return typeof t=="symbol"?t:t+""}function qwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $we{constructor(t){Wwe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ywe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(n),!0).forEach(function(r){Xwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xwe(e,t,n){return(t=Jwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jwe(e){var t=Zwe(e,"string");return typeof t=="symbol"?t:t+""}function Zwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ebe={cacheSize:2e3,enableCache:!0},HY=Ywe({},ebe),NU=new $we(HY.cacheSize),tbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TU="recharts_measurement_span";function nbe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var IU=(e,t)=>{try{var n=document.getElementById(TU);n||(n=document.createElement("span"),n.setAttribute("id",TU),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,tbe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Nv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eb.isSsr)return{width:0,height:0};if(!HY.enableCache)return IU(t,n);var r=nbe(t,n),i=NU.get(r);if(i)return i;var s=IU(t,n);return NU.set(r,s),s},GY;function rbe(e,t,n){return(t=ibe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ibe(e){var t=sbe(e,"string");return typeof t=="symbol"?t:t+""}function sbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,abe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,obe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lbe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cbe=["cm","mm","pt","pc","in","Q","px"];function ube(e){return cbe.includes(e)}var bm="NaN";function dbe(e,t){return e*lbe[t]}class Yo{static parse(t){var n,[,r,i]=(n=obe.exec(t))!==null&&n!==void 0?n:[];return r==null?Yo.NaN:new Yo(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Mu(t)&&(this.unit=""),n!==""&&!abe.test(n)&&(this.num=NaN,this.unit=""),ube(n)&&(this.num=dbe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Yo(NaN,""):new Yo(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Yo(NaN,""):new Yo(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yo(NaN,""):new Yo(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yo(NaN,""):new Yo(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mu(this.num)}}GY=Yo;rbe(Yo,"NaN",new GY(NaN,""));function VY(e){if(e==null||e.includes(bm))return bm;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=FU.exec(t))!==null&&n!==void 0?n:[],a=Yo.parse(r??""),o=Yo.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return bm;t=t.replace(FU,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=kU.exec(t))!==null&&c!==void 0?c:[],m=Yo.parse(d??""),w=Yo.parse(p??""),y=f==="+"?m.add(w):m.subtract(w);if(y.isNaN())return bm;t=t.replace(kU,y.toString())}return t}var BU=/\(([^()]*)\)/;function hbe(e){for(var t=e,n;(n=BU.exec(t))!=null;){var[,r]=n;t=t.replace(BU,VY(r))}return t}function fbe(e){var t=e.replace(/\s+/g,"");return t=hbe(t),t=VY(t),t}function Abe(e){try{return fbe(e)}catch{return bm}}function lI(e){var t=Abe(e.slice(5,-1));return t===bm?"":t}var pbe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gbe=["dx","dy","angle","className","breakAll"];function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dk.apply(null,arguments)}function RU(e,t){if(e==null)return{};var n,r,i=mbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QY=/[ \f\n\r\t\v\u2028\u2029]+/,zY=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];oa(t)||(n?i=t.toString().split(""):i=t.toString().split(QY));var s=i.map(o=>({word:o,width:Nv(o,r).width})),a=n?0:Nv("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function xbe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var WY=(e,t,n,r)=>e.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(a),l.width+=o+n;else{var c={words:[a],width:o};i.push(c)}return i},[]),KY=e=>e.reduce((t,n)=>t.width>n.width?t:n),vbe="",_U=(e,t,n,r,i,s,a,o)=>{var l=e.slice(0,t),c=zY({breakAll:n,style:r,children:l+vbe});if(!c)return[!1,[]];var d=WY(c.wordsWithComputedWidth,s,a,o),f=d.length>i||KY(d).width>Number(s);return[f,d]},wbe=(e,t,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=e,c=Xn(s),d=String(a),f=WY(t,r,n,i);if(!c||i)return f;var p=f.length>s||KY(f).width>Number(r);if(!p)return f;for(var m=0,w=d.length-1,y=0,C;m<=w&&y<=d.length-1;){var T=Math.floor((m+w)/2),k=T-1,[R,P]=_U(d,k,l,o,s,r,n,i),[U]=_U(d,T,l,o,s,r,n,i);if(!R&&!U&&(m=T+1),R&&U&&(w=T-1),!R&&U){C=P;break}y++}return C||f},DU=e=>{var t=oa(e)?[]:e.toString().split(QY);return[{words:t,width:void 0}]},bbe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=e;if((t||n)&&!eb.isSsr){var o,l,c=zY({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return DU(r);return wbe({breakAll:s,children:r,maxLines:a,style:i},o,l,t,!!n)}return DU(r)},qY="#808080",ybe={angle:0,breakAll:!1,capHeight:"0.71em",fill:qY,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},P5=B.forwardRef((e,t)=>{var n=eo(e,ybe),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=RU(n,pbe),p=B.useMemo(()=>bbe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:w,angle:y,className:C,breakAll:T}=f,k=RU(f,gbe);if(!wh(r)||!wh(i)||p.length===0)return null;var R=Number(r)+(Xn(m)?m:0),P=Number(i)+(Xn(w)?w:0);if(!Ss(R)||!Ss(P))return null;var U;switch(d){case"start":U=lI("calc(".concat(a,")"));break;case"middle":U=lI("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:U=lI("calc(".concat(p.length-1," * -").concat(s,")"));break}var O=[];if(l){var L=p[0].width,{width:K}=f;O.push("scale(".concat(Xn(K)&&Xn(L)?K/L:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(R,", ").concat(P,")")),O.length&&(k.transform=O.join(" ")),B.createElement("text",dk({},Yl(k),{ref:t,x:R,y:P,className:Qi("recharts-text",C),textAnchor:c,fill:o.includes("url")?qY:o}),p.map((j,te)=>{var G=j.words.join(T?"":" ");return B.createElement("tspan",{x:R,dy:te===0?U:s,key:"".concat(G,"-").concat(te)},G)}))});P5.displayName="Text";var Cbe=["labelRef"],Sbe=["content"];function PU(e,t){if(e==null)return{};var n,r,i=Ebe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ebe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(n),!0).forEach(function(r){Nbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nbe(e,t,n){return(t=Tbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tbe(e){var t=Ibe(e,"string");return typeof t=="symbol"?t:t+""}function Ibe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lf.apply(null,arguments)}var $Y=B.createContext(null),Fbe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=e,l=B.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[t,n,r,i,s,a]);return B.createElement($Y.Provider,{value:l},o)},YY=()=>{var e=B.useContext($Y),t=d5();return e||fq(t)},kbe=B.createContext(null),Bbe=()=>{var e=B.useContext(kbe),t=pr(U$);return e||t},Rbe=e=>{var{value:t,formatter:n}=e,r=oa(e.children)?t:e.children;return typeof n=="function"?n(r):r},q_=e=>e!=null&&typeof e=="function",_be=(e,t)=>{var n=Lo(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Dbe=(e,t,n,r,i)=>{var{offset:s,className:a}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=i,w=(c+d)/2,y=_be(f,p),C=y>=0?1:-1,T,k;switch(t){case"insideStart":T=f+C*s,k=m;break;case"insideEnd":T=p-C*s,k=!m;break;case"end":T=p+C*s,k=m;break;default:throw new Error("Unsupported position ".concat(t))}k=y<=0?k:!k;var R=Xa(o,l,w,T),P=Xa(o,l,w,T+(k?1:-1)*359),U="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(P.x,",").concat(P.y),O=oa(e.id)?nw("recharts-radial-line-"):e.id;return B.createElement("text",lf({},r,{dominantBaseline:"central",className:Qi("recharts-radial-bar-label",a)}),B.createElement("defs",null,B.createElement("path",{id:O,d:U})),B.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Pbe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Xa(r,i,a+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:m,y:w}=Xa(r,i,p,c);return{x:m,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hk=e=>"cx"in e&&Xn(e.cx),Mbe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!hk(n)&&(s=n);var{x:a,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=a,p=a+(l-c)/2,m=(f+p)/2,w=(l+c)/2,y=f+l/2,C=d>=0?1:-1,T=C*r,k=C>0?"end":"start",R=C>0?"start":"end",P=l>=0?1:-1,U=P*r,O=P>0?"end":"start",L=P>0?"start":"end";if(i==="top"){var K={x:f+l/2,y:o-T,textAnchor:"middle",verticalAnchor:k};return Pa(Pa({},K),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var j={x:p+c/2,y:o+d+T,textAnchor:"middle",verticalAnchor:R};return Pa(Pa({},j),s?{height:Math.max(s.y+s.height-(o+d),0),width:c}:{})}if(i==="left"){var te={x:m-U,y:o+d/2,textAnchor:O,verticalAnchor:"middle"};return Pa(Pa({},te),s?{width:Math.max(te.x-s.x,0),height:d}:{})}if(i==="right"){var G={x:m+w+U,y:o+d/2,textAnchor:L,verticalAnchor:"middle"};return Pa(Pa({},G),s?{width:Math.max(s.x+s.width-G.x,0),height:d}:{})}var V=s?{width:w,height:d}:{};return i==="insideLeft"?Pa({x:m+U,y:o+d/2,textAnchor:L,verticalAnchor:"middle"},V):i==="insideRight"?Pa({x:m+w-U,y:o+d/2,textAnchor:O,verticalAnchor:"middle"},V):i==="insideTop"?Pa({x:f+l/2,y:o+T,textAnchor:"middle",verticalAnchor:R},V):i==="insideBottom"?Pa({x:p+c/2,y:o+d-T,textAnchor:"middle",verticalAnchor:k},V):i==="insideTopLeft"?Pa({x:f+U,y:o+T,textAnchor:L,verticalAnchor:R},V):i==="insideTopRight"?Pa({x:f+l-U,y:o+T,textAnchor:O,verticalAnchor:R},V):i==="insideBottomLeft"?Pa({x:p+U,y:o+d-T,textAnchor:L,verticalAnchor:k},V):i==="insideBottomRight"?Pa({x:p+c-U,y:o+d-T,textAnchor:O,verticalAnchor:k},V):i&&typeof i=="object"&&(Xn(i.x)||Sf(i.x))&&(Xn(i.y)||Sf(i.y))?Pa({x:a+Il(i.x,w),y:o+Il(i.y,d),textAnchor:"end",verticalAnchor:"end"},V):Pa({x:y,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},V)},Lbe={angle:0,offset:5,zIndex:Ja.label,position:"middle",textBreakAll:!1};function FA(e){var t=eo(e,Lbe),{viewBox:n,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:c}=t,d=Bbe(),f=YY(),p=r==="center"?f:d??f,m,w,y;if(n==null?m=p:hk(n)?m=n:m=fq(n),!m||oa(i)&&oa(s)&&!B.isValidElement(a)&&typeof a!="function")return null;var C=Pa(Pa({},t),{},{viewBox:m});if(B.isValidElement(a)){var{labelRef:T}=C,k=PU(C,Cbe);return B.cloneElement(a,k)}if(typeof a=="function"){var{content:R}=C,P=PU(C,Sbe);if(w=B.createElement(a,P),B.isValidElement(w))return w}else w=Rbe(t);var U=Yl(t);if(hk(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Dbe(t,r,w,U,m);y=Pbe(m,t.offset,t.position)}else y=Mbe(t,m);return B.createElement(_c,{zIndex:t.zIndex},B.createElement(P5,lf({ref:c,className:Qi("recharts-label",o)},U,y,{textAnchor:xbe(U.textAnchor)?U.textAnchor:y.textAnchor,breakAll:l}),w))}FA.displayName="Label";var Obe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?B.createElement(FA,lf({key:"label-implicit"},r)):wh(e)?B.createElement(FA,lf({key:"label-implicit",value:e},r)):B.isValidElement(e)?e.type===FA?B.cloneElement(e,Pa({key:"label-implicit"},r)):B.createElement(FA,lf({key:"label-implicit",content:e},r)):q_(e)?B.createElement(FA,lf({key:"label-implicit",content:e},r)):e&&typeof e=="object"?B.createElement(FA,lf({},e,{key:"label-implicit"},r)):null};function jbe(e){var{label:t,labelRef:n}=e,r=YY();return Obe(t,r,n)||null}var cI={},uI={},LU;function Ube(){return LU||(LU=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(uI)),uI}var dI={},OU;function Hbe(){return OU||(OU=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(dI)),dI}var jU;function Gbe(){return jU||(jU=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ube(),n=Hbe(),r=ER();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(cI)),cI}var hI,UU;function Vbe(){return UU||(UU=1,hI=Gbe().last),hI}var Qbe=Vbe();const zbe=iu(Qbe);var Wbe=["valueAccessor"],Kbe=["dataKey","clockWise","id","textBreakAll","zIndex"];function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SS.apply(null,arguments)}function HU(e,t){if(e==null)return{};var n,r,i=qbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $be=e=>Array.isArray(e.value)?zbe(e.value):e.value,XY=B.createContext(void 0),JY=XY.Provider,ZY=B.createContext(void 0),Ybe=ZY.Provider;function Xbe(){return B.useContext(XY)}function Jbe(){return B.useContext(ZY)}function Om(e){var{valueAccessor:t=$be}=e,n=HU(e,Wbe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=n,l=HU(n,Kbe),c=Xbe(),d=Jbe(),f=c||d;return!f||!f.length?null:B.createElement(_c,{zIndex:o??Ja.label},B.createElement(Ha,{className:"recharts-label-list"},f.map((p,m)=>{var w,y=oa(r)?t(p,m):ps(p&&p.payload,r),C=oa(s)?{}:{id:"".concat(s,"-").concat(m)};return B.createElement(FA,SS({key:"label-".concat(m)},Yl(p),l,C,{fill:(w=n.fill)!==null&&w!==void 0?w:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:a,viewBox:p.viewBox,index:m,zIndex:0}))})))}Om.displayName="LabelList";function $_(e){var{label:t}=e;return t?t===!0?B.createElement(Om,{key:"labelList-implicit"}):B.isValidElement(t)||q_(t)?B.createElement(Om,{key:"labelList-implicit",content:t}):typeof t=="object"?B.createElement(Om,SS({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fk.apply(null,arguments)}var eX=e=>{var{cx:t,cy:n,r,className:i}=e,s=Qi("recharts-dot",i);return Xn(t)&&Xn(n)&&Xn(r)?B.createElement("circle",fk({},Fc(e),SR(e),{className:s,cx:t,cy:n,r})):null},tX=e=>e.graphicalItems.polarItems,Zbe=kt([Zs,lb],m_),M5=kt([tX,la,Zbe],x_),eye=kt([M5],v_),L5=kt([eye,y5],w_),tye=kt([L5,la,M5],y_);kt([L5,la,M5],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,a=ps(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ps(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var GU=()=>{},nye=kt([L5,la,M5,B5,Zs],N_),rye=kt([la,S_,E_,GU,nye,GU,Ii,Zs],T_),nX=kt([la,Ii,L5,tye,ob,Zs,rye],I_),iye=kt([nX,la,H1],B_);kt([la,nX,iye,Zs],__);var sye={radiusAxis:{},angleAxis:{}},rX=Rc({name:"polarAxis",initialState:sye,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:put,removeRadiusAxis:gut,addAngleAxis:mut,removeAngleAxis:xut}=rX.actions,aye=rX.reducer;function VU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VU(Object(n),!0).forEach(function(r){oye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oye(e,t,n){return(t=lye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lye(e){var t=cye(e,"string");return typeof t=="symbol"?t:t+""}function cye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uye=(e,t)=>t,Y_=kt([tX,uye],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),dye=[],X_=(e,t,n)=>(n==null?void 0:n.length)===0?dye:n,iX=kt([y5,Y_,X_],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>QU(QU({},t.presentationProps),s.props))),i!=null)return i}}),hye=kt([iX,Y_,X_],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var s,a=ps(r,t.nameKey,t.name),o;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:P1(a,t.dataKey),color:o,payload:r,type:t.legendType}})}),fye=kt([iX,Y_,X_,Ao],(e,t,n,r)=>{if(!(t==null||e==null))return pCe({offset:r,pieSettings:t,displayedData:e,cells:n})}),fI={exports:{}},ds={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zU;function Aye(){if(zU)return ds;zU=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function w(y){if(typeof y=="object"&&y!==null){var C=y.$$typeof;switch(C){case e:switch(y=y.type,y){case n:case i:case r:case l:case c:case p:return y;default:switch(y=y&&y.$$typeof,y){case a:case o:case f:case d:return y;case s:return y;default:return C}}case t:return C}}}return ds.ContextConsumer=s,ds.ContextProvider=a,ds.Element=e,ds.ForwardRef=o,ds.Fragment=n,ds.Lazy=f,ds.Memo=d,ds.Portal=t,ds.Profiler=i,ds.StrictMode=r,ds.Suspense=l,ds.SuspenseList=c,ds.isContextConsumer=function(y){return w(y)===s},ds.isContextProvider=function(y){return w(y)===a},ds.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},ds.isForwardRef=function(y){return w(y)===o},ds.isFragment=function(y){return w(y)===n},ds.isLazy=function(y){return w(y)===f},ds.isMemo=function(y){return w(y)===d},ds.isPortal=function(y){return w(y)===t},ds.isProfiler=function(y){return w(y)===i},ds.isStrictMode=function(y){return w(y)===r},ds.isSuspense=function(y){return w(y)===l},ds.isSuspenseList=function(y){return w(y)===c},ds.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===l||y===c||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===d||y.$$typeof===a||y.$$typeof===s||y.$$typeof===o||y.$$typeof===m||y.getModuleId!==void 0)},ds.typeOf=w,ds}var WU;function pye(){return WU||(WU=1,fI.exports=Aye()),fI.exports}var gye=pye(),KU=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qU=null,AI=null,sX=e=>{if(e===qU&&Array.isArray(AI))return AI;var t=[];return B.Children.forEach(e,n=>{oa(n)||(gye.isFragment(n)?t=t.concat(sX(n.props.children)):t.push(n))}),AI=t,qU=e,t};function J_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>KU(i)):r=[KU(t)],sX(e).forEach(i=>{var s=Rp(i,"type.displayName")||Rp(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var aX=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,pI={},$U;function mye(){return $U||($U=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(pI)),pI}var gI,YU;function xye(){return YU||(YU=1,gI=mye().isPlainObject),gI}var vye=xye();const wye=iu(vye);var XU,JU,ZU,e7,t7;function n7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n7(Object(n),!0).forEach(function(r){bye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bye(e,t,n){return(t=yye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yye(e){var t=Cye(e,"string");return typeof t=="symbol"?t:t+""}function Cye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(null,arguments)}function zx(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i7=(e,t,n,r,i)=>{var s=n-r,a;return a=ba(XU||(XU=zx(["M ",",",""])),e,t),a+=ba(JU||(JU=zx(["L ",",",""])),e+n,t),a+=ba(ZU||(ZU=zx(["L ",",",""])),e+n-s/2,t+i),a+=ba(e7||(e7=zx(["L ",",",""])),e+n-s/2-r,t+i),a+=ba(t7||(t7=zx(["L ",","," Z"])),e,t),a},Sye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eye=e=>{var t=eo(e,Sye),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=B.useRef(null),[m,w]=B.useState(-1),y=B.useRef(i),C=B.useRef(s),T=B.useRef(a),k=B.useRef(n),R=B.useRef(r),P=nb(e,"trapezoid-");if(B.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var ee=p.current.getTotalLength();ee&&w(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var U=Qi("recharts-trapezoid",o);if(!f)return B.createElement("g",null,B.createElement("path",ES({},Yl(t),{className:U,d:i7(n,r,i,s,a)})));var O=y.current,L=C.current,K=T.current,j=k.current,te=R.current,G="0px ".concat(m===-1?1:m,"px"),V="".concat(m,"px 0px"),re=Nq(["strokeDasharray"],c,l);return B.createElement(tb,{animationId:P,key:P,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},ee=>{var ie=Os(O,i,ee),ue=Os(L,s,ee),le=Os(K,a,ee),xe=Os(j,n,ee),ge=Os(te,r,ee);p.current&&(y.current=ie,C.current=ue,T.current=le,k.current=xe,R.current=ge);var fe=ee>0?{transition:re,strokeDasharray:V}:{strokeDasharray:G};return B.createElement("path",ES({},Yl(t),{className:U,d:i7(xe,ge,ie,ue,le),ref:p,style:r7(r7({},fe),t.style)}))})},Nye=["option","shapeType","activeClassName"];function Tye(e,t){if(e==null)return{};var n,r,i=Iye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function s7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(n),!0).forEach(function(r){Fye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fye(e,t,n){return(t=kye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kye(e){var t=Bye(e,"string");return typeof t=="symbol"?t:t+""}function Bye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rye(e,t){return NS(NS({},t),e)}function _ye(e,t){return e==="symbols"}function a7(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return B.createElement(kq,n);case"trapezoid":return B.createElement(Eye,n);case"sector":return B.createElement(Dq,n);case"symbols":if(_ye(t))return B.createElement(CR,n);break;case"curve":return B.createElement(Mm,n);default:return null}}function Dye(e){return B.isValidElement(e)?e.props:e}function oX(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Tye(e,Nye),s;if(B.isValidElement(t))s=B.cloneElement(t,NS(NS({},i),Dye(t)));else if(typeof t=="function")s=t(i,i.index);else if(wye(t)&&typeof t!="boolean"){var a=Rye(t,i);s=B.createElement(a7,{shapeType:n,elementProps:a})}else{var o=i;s=B.createElement(a7,{shapeType:n,elementProps:o})}return i.isActive?B.createElement(Ha,{className:r},s):s}var Z_=(e,t,n)=>{var r=ks();return(i,s)=>a=>{e==null||e(i,s,a),r(mY({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},eD=e=>{var t=ks();return(n,r)=>i=>{e==null||e(n,r,i),t(Gxe())}},tD=(e,t,n)=>{var r=ks();return(i,s)=>a=>{e==null||e(i,s,a),r(Vxe({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function nD(e){var{tooltipEntrySettings:t}=e,n=ks(),r=Bl(),i=B.useRef(null);return B.useLayoutEffect(()=>{r||(i.current===null?n(Oxe(t)):i.current!==t&&n(jxe({prev:i.current,next:t})),i.current=t)},[t,n,r]),B.useLayoutEffect(()=>()=>{i.current&&(n(Uxe(i.current)),i.current=null)},[n]),null}function lX(e){var{legendPayload:t}=e,n=ks(),r=Bl(),i=B.useRef(null);return B.useLayoutEffect(()=>{r||(i.current===null?n(yq(t)):i.current!==t&&n(Cq({prev:i.current,next:t})),i.current=t)},[n,r,t]),B.useLayoutEffect(()=>()=>{i.current&&(n(Sq(i.current)),i.current=null)},[n]),null}function Pye(e){var{legendPayload:t}=e,n=ks(),r=pr(Ii),i=B.useRef(null);return B.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(yq(t)):i.current!==t&&n(Cq({prev:i.current,next:t})),i.current=t)},[n,r,t]),B.useLayoutEffect(()=>()=>{i.current&&(n(Sq(i.current)),i.current=null)},[n]),null}var mI,Mye=()=>{var[e]=B.useState(()=>nw("uid-"));return e},Lye=(mI=noe.useId)!==null&&mI!==void 0?mI:Mye;function Oye(e,t){var n=Lye();return t||(e?"".concat(e,"-").concat(n):n)}var jye=B.createContext(void 0),rD=e=>{var{id:t,type:n,children:r}=e,i=Oye("recharts-".concat(n),t);return B.createElement(jye.Provider,{value:i},r(i))},Uye={cartesianItems:[],polarItems:[]},cX=Rc({name:"graphicalItems",initialState:Uye,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:$s()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=xd(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:$s()},removeCartesianGraphicalItem:{reducer(e,t){var n=xd(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:$s()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:$s()},removePolarGraphicalItem:{reducer(e,t){var n=xd(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:$s()}}}),{addCartesianGraphicalItem:Hye,replaceCartesianGraphicalItem:Gye,removeCartesianGraphicalItem:Vye,addPolarGraphicalItem:Qye,removePolarGraphicalItem:zye}=cX.actions,Wye=cX.reducer,Kye=e=>{var t=ks(),n=B.useRef(null);return B.useLayoutEffect(()=>{n.current===null?t(Hye(e)):n.current!==e&&t(Gye({prev:n.current,next:e})),n.current=e},[t,e]),B.useLayoutEffect(()=>()=>{n.current&&(t(Vye(n.current)),n.current=null)},[t]),null},uX=B.memo(Kye);function qye(e){var t=ks();return B.useLayoutEffect(()=>(t(Qye(e)),()=>{t(zye(e))}),[t,e]),null}var $ye=["key"],Yye=["onMouseEnter","onClick","onMouseLeave"],Xye=["id"],Jye=["id"];function o7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o7(Object(n),!0).forEach(function(r){Zye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zye(e,t,n){return(t=eCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eCe(e){var t=tCe(e,"string");return typeof t=="symbol"?t:t+""}function tCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function O5(e,t){if(e==null)return{};var n,r,i=nCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rCe(e){var t=B.useMemo(()=>J_(e.children,t0),[e.children]),n=pr(r=>hye(r,e.id,t));return n==null?null:B.createElement(Pye,{legendPayload:n})}var iCe=B.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:n,name:P1(o,t),hide:l,type:c,color:a,unit:"",graphicalItemId:d}};return B.createElement(nD,{tooltipEntrySettings:f})}),sCe=(e,t)=>e>t?"start":e<t?"end":"middle",aCe=(e,t,n)=>Il(typeof t=="function"?t(e):t,n,n*.8),oCe=(e,t,n)=>{var{top:r,left:i,width:s,height:a}=t,o=Bq(s,a),l=i+Il(e.cx,s,s/2),c=r+Il(e.cy,a,a/2),d=Il(e.innerRadius,o,0),f=aCe(n,e.outerRadius,o),p=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},lCe=(e,t)=>{var n=Lo(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function cCe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var uCe=(e,t)=>{if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Qi("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=O5(t,$ye);return B.createElement(Mm,n0({},i,{type:"linear",className:n}))},dCe=(e,t,n)=>{if(B.isValidElement(e))return B.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),B.isValidElement(r)))return r;var i=Qi("recharts-pie-label-text",cCe(e));return B.createElement(P5,n0({},t,{alignmentBaseline:"middle",className:i}),r)};function hCe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!t)return null;var o=Fc(n),l=kp(i),c=kp(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((p,m)=>{var w=(p.startAngle+p.endAngle)/2,y=Xa(p.cx,p.cy,p.outerRadius+d,w),C=ya(ya(ya(ya({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:sCe(y.x,p.cx)},y),T=ya(ya(ya(ya({},o),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[Xa(p.cx,p.cy,p.outerRadius,w),y],key:"line"});return B.createElement(_c,{zIndex:Ja.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},B.createElement(Ha,null,s&&uCe(s,T),dCe(i,C,ps(p,a))))});return B.createElement(Ha,{className:"recharts-pie-labels"},f)}function fCe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?B.createElement($_,{label:i}):B.createElement(hCe,{sectors:t,props:n,showLabels:r})}function ACe(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:a}=e,o=pr(e0),l=pr(G_),c=pr(Ive),{onMouseEnter:d,onClick:f,onMouseLeave:p}=i,m=O5(i,Yye),w=Z_(d,i.dataKey,a),y=eD(p),C=tD(f,i.dataKey,a);return t==null||t.length===0?null:B.createElement(B.Fragment,null,t.map((T,k)=>{if((T==null?void 0:T.startAngle)===0&&(T==null?void 0:T.endAngle)===0&&t.length!==1)return null;var R=c==null||c===a,P=String(k)===o&&(l==null||i.dataKey===l)&&R,U=o?r:null,O=n&&P?n:U,L=ya(ya({},T),{},{stroke:T.stroke,tabIndex:-1,[lq]:k,[cq]:a});return B.createElement(Ha,n0({key:"sector-".concat(T==null?void 0:T.startAngle,"-").concat(T==null?void 0:T.endAngle,"-").concat(T.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},$w(m,T,k),{onMouseEnter:w(T,k),onMouseLeave:y(T,k),onClick:C(T,k)}),B.createElement(oX,n0({option:s??O,index:k,shapeType:"sector",isActive:P},L)))}))}function pCe(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=lCe(o,l),w=Math.abs(m),y=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=r.filter(O=>ps(O,c,0)!==0).length,T=(w>=360?C:C-1)*y,k=w-C*p-T,R=r.reduce((O,L)=>{var K=ps(L,c,0);return O+(Xn(K)?K:0)},0),P;if(R>0){var U;P=r.map((O,L)=>{var K=ps(O,c,0),j=ps(O,d,L),te=oCe(n,s,O),G=(Xn(K)?K:0)/R,V,re=ya(ya({},O),i&&i[L]&&i[L].props);L?V=U.endAngle+Lo(m)*y*(K!==0?1:0):V=o;var ee=V+Lo(m)*((K!==0?p:0)+G*k),ie=(V+ee)/2,ue=(te.innerRadius+te.outerRadius)/2,le=[{name:j,value:K,payload:re,dataKey:c,type:f,graphicalItemId:n.id}],xe=Xa(te.cx,te.cy,ue,ie);return U=ya(ya(ya(ya({},n.presentationProps),{},{percent:G,cornerRadius:typeof a=="string"?parseFloat(a):a,name:j,tooltipPayload:le,midAngle:ie,middleRadius:ue,tooltipPosition:xe},re),te),{},{value:K,dataKey:c,startAngle:V,endAngle:ee,payload:re,paddingAngle:Lo(m)*y}),U})}return P}function gCe(e){var{showLabels:t,sectors:n,children:r}=e,i=B.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return B.createElement(Ybe,{value:t?i:void 0},r)}function mCe(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=nb(t,"recharts-pie-"),w=n.current,[y,C]=B.useState(!1),T=B.useCallback(()=>{typeof p=="function"&&p(),C(!1)},[p]),k=B.useCallback(()=>{typeof f=="function"&&f(),C(!0)},[f]);return B.createElement(gCe,{showLabels:!y,sectors:i},B.createElement(tb,{animationId:m,begin:a,duration:o,isActive:s,easing:l,onAnimationStart:k,onAnimationEnd:T,key:m},R=>{var P=[],U=i&&i[0],O=U==null?void 0:U.startAngle;return i==null||i.forEach((L,K)=>{var j=w&&w[K],te=K>0?Rp(L,"paddingAngle",0):0;if(j){var G=Os(j.endAngle-j.startAngle,L.endAngle-L.startAngle,R),V=ya(ya({},L),{},{startAngle:O+te,endAngle:O+G+te});P.push(V),O=V.endAngle}else{var{endAngle:re,startAngle:ee}=L,ie=Os(0,re-ee,R),ue=ya(ya({},L),{},{startAngle:O+te,endAngle:O+ie+te});P.push(ue),O=ue.endAngle}}),n.current=P,B.createElement(Ha,null,B.createElement(ACe,{sectors:P,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),B.createElement(fCe,{showLabels:!y,sectors:i,props:t}),t.children)}var xCe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ja.area};function vCe(e){var{id:t}=e,n=O5(e,Xye),{hide:r,className:i,rootTabIndex:s}=e,a=B.useMemo(()=>J_(e.children,t0),[e.children]),o=pr(d=>fye(d,t,a)),l=B.useRef(null),c=Qi("recharts-pie",i);return r||o==null?(l.current=null,B.createElement(Ha,{tabIndex:s,className:c})):B.createElement(_c,{zIndex:e.zIndex},B.createElement(iCe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),B.createElement(Ha,{tabIndex:s,className:c},B.createElement(mCe,{props:ya(ya({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function iD(e){var t=eo(e,xCe),{id:n}=t,r=O5(t,Jye),i=Fc(r);return B.createElement(rD,{id:n,type:"pie"},s=>B.createElement(B.Fragment,null,B.createElement(qye,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),B.createElement(rCe,n0({},r,{id:s})),B.createElement(vCe,n0({},r,{id:s}))))}iD.displayName="Pie";var wCe=["points"];function l7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l7(Object(n),!0).forEach(function(r){bCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bCe(e,t,n){return(t=yCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yCe(e){var t=CCe(e,"string");return typeof t=="symbol"?t:t+""}function CCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(null,arguments)}function SCe(e,t){if(e==null)return{};var n,r,i=ECe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ECe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NCe(e){var{option:t,dotProps:n,className:r}=e;if(B.isValidElement(t))return B.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qi(r,typeof t!="boolean"?t.className:""),s=n??{},{points:a}=s,o=SCe(s,wCe);return B.createElement(eX,TS({},o,{className:i}))}function TCe(e,t){return e==null?!1:t?!0:e.length===1}function ICe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:c=Ja.scatter}=e;if(!TCe(t,n))return null;var d=aX(n),f=Que(n),p=t.map((w,y)=>{var C,T,k=xI(xI(xI({r:3},a),f),{},{index:y,cx:(C=w.x)!==null&&C!==void 0?C:void 0,cy:(T=w.y)!==null&&T!==void 0?T:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return B.createElement(NCe,{key:"dot-".concat(y),option:n,dotProps:k,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),B.createElement(_c,{zIndex:c},B.createElement(Ha,TS({className:r},m),p))}function c7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(n),!0).forEach(function(r){FCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FCe(e,t,n){return(t=kCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kCe(e){var t=BCe(e,"string");return typeof t=="symbol"?t:t+""}function BCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dX=0,RCe={xAxis:{},yAxis:{},zAxis:{}},hX=Rc({name:"cartesianAxis",initialState:RCe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:$s()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:$s()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:$s()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:$s()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:$s()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:$s()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:$s()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:$s()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:$s()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);e.yAxis[n]=u7(u7({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:_Ce,replaceXAxis:DCe,removeXAxis:PCe,addYAxis:MCe,replaceYAxis:LCe,removeYAxis:OCe,addZAxis:vut,replaceZAxis:wut,removeZAxis:but,updateYAxisWidth:jCe}=hX.actions,UCe=hX.reducer,HCe=kt([Ao],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),GCe=kt([HCe,Lf,Of],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),sD=()=>pr(GCe),VCe=()=>pr(_ve);function d7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(n),!0).forEach(function(r){QCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QCe(e,t,n){return(t=zCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zCe(e){var t=WCe(e,"string");return typeof t=="symbol"?t:t+""}function WCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KCe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=vI(vI(vI({},o),kp(i)),SR(i)),c;return B.isValidElement(i)?c=B.cloneElement(i,l):typeof i=="function"?c=i(l):c=B.createElement(eX,l),B.createElement(Ha,{className:"recharts-active-dot",clipPath:a},c)};function h7(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Ja.activeDot}=e,o=pr(e0),l=VCe();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return oa(c)?null:B.createElement(_c,{zIndex:a},B.createElement(KCe,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var f7=(e,t,n)=>{var r=n??e;if(!oa(r))return Il(r,t,0)},qCe=(e,t,n)=>{var r={},i=e.filter(N5),s=e.filter(c=>c.stackId==null),a=i.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),r),o=Object.entries(a).map(c=>{var[d,f]=c,p=f.map(w=>w.dataKey),m=f7(t,n,f[0].barSize);return{stackId:d,dataKeys:p,barSize:m}}),l=s.map(c=>{var d=[c.dataKey].filter(p=>p!=null),f=f7(t,n,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]};function A7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(n),!0).forEach(function(r){$Ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ce(e,t,n){return(t=YCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YCe(e){var t=XCe(e,"string");return typeof t=="symbol"?t:t+""}function XCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JCe(e,t,n,r,i){var s=r.length;if(!(s<1)){var a=Il(e,n,0,!0),o,l=[];if(Ss(r[0].barSize)){var c=!1,d=n/s,f=r.reduce((T,k)=>T+(k.barSize||0),0);f+=(s-1)*a,f>=n&&(f-=(s-1)*a,a=0),f>=n&&d>0&&(c=!0,d*=.9,f=s*d);var p=(n-f)/2>>0,m={offset:p-a,size:0};o=r.reduce((T,k)=>{var R,P={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:m.offset+m.size+a,size:c?d:(R=k.barSize)!==null&&R!==void 0?R:0}},U=[...T,P];return m=U[U.length-1].position,U},l)}else{var w=Il(t,n,0,!0);n-2*w-(s-1)*a<=0&&(a=0);var y=(n-2*w-(s-1)*a)/s;y>1&&(y>>=0);var C=Ss(i)?Math.min(y,i):y;o=r.reduce((T,k,R)=>[...T,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:w+(y+a)*R+(y-C)/2,size:C}}],l)}return o}}var ZCe=(e,t,n,r,i,s,a)=>{var o=oa(a)?t:a,l=JCe(n,r,i!==s?i:s,e,o);return i!==s&&l!=null&&(l=l.map(c=>Uy(Uy({},c),{},{position:Uy(Uy({},c.position),{},{offset:c.position.offset-i/2})}))),l},e2e=(e,t)=>{var n=E5(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}};function t2e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ss(e.zIndex)?e.zIndex:t}var fX=e=>{var{chartData:t}=e,n=ks(),r=Bl();return B.useEffect(()=>r?()=>{}:(n(wU(t)),()=>{n(wU(void 0))}),[t,n,r]),null},p7={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},AX=Rc({name:"brush",initialState:p7,reducers:{setBrushSettings(e,t){return t.payload==null?p7:t.payload}}}),{setBrushSettings:yut}=AX.actions,n2e=AX.reducer;function r2e(e,t,n){return(t=i2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i2e(e){var t=s2e(e,"string");return typeof t=="symbol"?t:t+""}function s2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aD{static create(t){return new aD(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}r2e(aD,"EPS",1e-4);function a2e(e){return(e%180+180)%180}var o2e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=a2e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},l2e={dots:[],areas:[],lines:[]},pX=Rc({name:"referenceElements",initialState:l2e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=xd(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=xd(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=xd(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Cut,removeDot:Sut,addArea:Eut,removeArea:Nut,addLine:Tut,removeLine:Iut}=pX.actions,c2e=pX.reducer,u2e=B.createContext(void 0),d2e=e=>{var{children:t}=e,[n]=B.useState("".concat(nw("recharts"),"-clip")),r=sD();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return B.createElement(u2e.Provider,{value:n},B.createElement("defs",null,B.createElement("clipPath",{id:n},B.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function gX(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function h2e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return o2e(r,n)}function f2e(e,t,n){var r=n==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function gw(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function A2e(e,t){return gX(e,t+1)}function p2e(e,t,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=t,l=0,c=1,d=a,f=function(){var w=r==null?void 0:r[l];if(w===void 0)return{v:gX(r,c)};var y=l,C,T=()=>(C===void 0&&(C=n(w,y)),C),k=w.coordinate,R=l===0||gw(e,k,T,d,o);R||(l=0,d=a,c+=1),R&&(d=k+e*(T()/2+i),l+=c)},p;c<=s.length;)if(p=f(),p)return p.v;return[]}function g2e(e,t,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=t,c=1;c<=a;c++){for(var d=(a-1)%c,f=o,p=!0,m=function(){var k=r[w],R=w,P,U=()=>(P===void 0&&(P=n(k,R)),P),O=k.coordinate,L=w===d||gw(e,O,U,f,l);if(!L)return p=!1,1;L&&(f=O+e*(U()/2+i))},w=d;w<a&&!m();w+=c);if(p){for(var y=[],C=d;C<a;C+=c)y.push(r[C]);return y}}return[]}function g7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(n),!0).forEach(function(r){m2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m2e(e,t,n){return(t=x2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x2e(e){var t=v2e(e,"string");return typeof t=="symbol"?t:t+""}function v2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w2e(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=t,{end:l}=t,c=function(p){var m=s[p],w,y=()=>(w===void 0&&(w=n(m,p)),w);if(p===a-1){var C=e*(m.coordinate+e*y()/2-l);s[p]=m=wl(wl({},m),{},{tickCoord:C>0?m.coordinate-C*e:m.coordinate})}else s[p]=m=wl(wl({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var T=gw(e,m.tickCoord,y,o,l);T&&(l=m.tickCoord-e*(y()/2+i),s[p]=wl(wl({},m),{},{isShow:!0}))}},d=a-1;d>=0;d--)c(d);return s}function b2e(e,t,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:c}=t;if(s){var d=r[o-1],f=n(d,o-1),p=e*(d.coordinate+e*f/2-c);if(a[o-1]=d=wl(wl({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=gw(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),a[o-1]=wl(wl({},d),{},{isShow:!0}))}}for(var w=s?o-1:o,y=function(k){var R=a[k],P,U=()=>(P===void 0&&(P=n(R,k)),P);if(k===0){var O=e*(R.coordinate-e*U()/2-l);a[k]=R=wl(wl({},R),{},{tickCoord:O<0?R.coordinate-O*e:R.coordinate})}else a[k]=R=wl(wl({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var L=gw(e,R.tickCoord,U,l,c);L&&(l=R.tickCoord+e*(U()/2+i),a[k]=wl(wl({},R),{},{isShow:!0}))}},C=0;C<w;C++)y(C);return a}function oD(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Xn(l)||eb.isSsr){var p;return(p=A2e(i,Xn(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],w=o==="top"||o==="bottom"?"width":"height",y=d&&w==="width"?Nv(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(R,P)=>{var U=typeof c=="function"?c(R.value,P):R.value;return w==="width"?h2e(Nv(U,{fontSize:t,letterSpacing:n}),y,f):Nv(U,{fontSize:t,letterSpacing:n})[w]},T=i.length>=2?Lo(i[1].coordinate-i[0].coordinate):1,k=f2e(s,T,w);return l==="equidistantPreserveStart"?p2e(T,k,C,i,a):l==="equidistantPreserveEnd"?g2e(T,k,C,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=b2e(T,k,C,i,a,l==="preserveStartEnd"):m=w2e(T,k,C,i,a),m.filter(R=>R.isShow))}var y2e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(n?r:0);return Math.round(c)}return 0},C2e=["axisLine","width","height","className","hide","ticks","axisType"];function S2e(e,t){if(e==null)return{};var n,r,i=E2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(null,arguments)}function m7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(n),!0).forEach(function(r){N2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N2e(e,t,n){return(t=T2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T2e(e){var t=I2e(e,"string");return typeof t=="symbol"?t:t+""}function I2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pf={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ja.axis};function F2e(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=$a($a($a({},l),Fc(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);c=$a($a({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(s==="left"&&!a||s==="right"&&a);c=$a($a({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return B.createElement("line",Lp({},c,{className:Qi("recharts-cartesian-axis-line",Rp(o,"className"))}))}function k2e(e,t,n,r,i,s,a,o,l){var c,d,f,p,m,w,y=o?-1:1,C=e.tickSize||a,T=Xn(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=d=e.coordinate,p=n+ +!o*i,f=p-y*C,w=f-y*l,m=T;break;case"left":f=p=e.coordinate,d=t+ +!o*r,c=d-y*C,m=c-y*l,w=T;break;case"right":f=p=e.coordinate,d=t+ +o*r,c=d+y*C,m=c+y*l,w=T;break;default:c=d=e.coordinate,p=n+ +o*i,f=p+y*C,w=f+y*l,m=T;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:w}}}function B2e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function R2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _2e(e){var{option:t,tickProps:n,value:r}=e,i,s=Qi(n.className,"recharts-cartesian-axis-tick-value");if(B.isValidElement(t))i=B.cloneElement(t,$a($a({},n),{},{className:s}));else if(typeof t=="function")i=t($a($a({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Qi(a,t==null?void 0:t.className)),i=B.createElement(P5,Lp({},n,{className:a}),r)}return i}var D2e=B.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:w,height:y,tickSize:C,tickMargin:T,fontSize:k,letterSpacing:R,getTicksConfig:P,events:U,axisType:O}=e,L=oD($a($a({},P),{},{ticks:n}),k,R),K=B2e(d,f),j=R2e(d,f),te=Fc(P),G=kp(r),V={};typeof i=="object"&&(V=i);var re=$a($a({},te),{},{fill:"none"},V),ee=L.map(le=>$a({entry:le},k2e(le,p,m,w,y,d,C,f,T))),ie=ee.map(le=>{var{entry:xe,line:ge}=le;return B.createElement(Ha,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},i&&B.createElement("line",Lp({},re,ge,{className:Qi("recharts-cartesian-axis-tick-line",Rp(i,"className"))})))}),ue=ee.map((le,xe)=>{var{entry:ge,tick:fe}=le,ce=$a($a($a($a({textAnchor:K,verticalAnchor:j},te),{},{stroke:"none",fill:s},G),fe),{},{index:xe,payload:ge,visibleTicksCount:L.length,tickFormatter:a,padding:l},c);return B.createElement(Ha,Lp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ge.value,"-").concat(ge.coordinate,"-").concat(ge.tickCoord)},$w(U,ge,xe)),r&&B.createElement(_2e,{option:r,tickProps:ce,value:"".concat(typeof a=="function"?a(ge.value,xe):ge.value).concat(o||"")}))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},ue.length>0&&B.createElement(_c,{zIndex:Ja.label},B.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},ue)),ie.length>0&&B.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ie))}),P2e=B.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=e,c=S2e(e,C2e),[d,f]=B.useState(""),[p,m]=B.useState(""),w=B.useRef(null);B.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var C;return y2e({ticks:w.current,label:(C=e.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=B.useCallback(C=>{if(C){var T=C.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=T;var k=T[0];if(k){var R=window.getComputedStyle(k),P=R.fontSize,U=R.letterSpacing;(P!==d||U!==p)&&(f(P),m(U))}}},[d,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:B.createElement(_c,{zIndex:e.zIndex},B.createElement(Ha,{className:Qi("recharts-cartesian-axis",s)},B.createElement(F2e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Fc(e)}),B.createElement(D2e,{ref:y,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),B.createElement(Fbe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},B.createElement(jbe,{label:e.label,labelRef:e.labelRef}),e.children)))}),lD=B.forwardRef((e,t)=>{var n=eo(e,pf);return B.createElement(P2e,Lp({},n,{ref:t}))});lD.displayName="CartesianAxis";var M2e=["x1","y1","x2","y2","key"],L2e=["offset"],O2e=["xAxisId","yAxisId"],j2e=["xAxisId","yAxisId"];function x7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(n),!0).forEach(function(r){U2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U2e(e,t,n){return(t=H2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H2e(e){var t=G2e(e,"string");return typeof t=="symbol"?t:t+""}function G2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z0.apply(null,arguments)}function IS(e,t){if(e==null)return{};var n,r,i=V2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Q2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=e;return B.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mX(e){var{option:t,lineItemProps:n}=e,r;if(B.isValidElement(t))r=B.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:a,x2:o,y2:l,key:c}=n,d=IS(n,M2e),f=(i=Fc(d))!==null&&i!==void 0?i:{},{offset:p}=f,m=IS(f,L2e);r=B.createElement("line",Z0({},m,{x1:s,y1:a,x2:o,y2:l,fill:"none",key:c}))}return r}function z2e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=IS(e,O2e),l=i.map((c,d)=>{var f=Sl(Sl({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return B.createElement(mX,{key:"line-".concat(d),option:r,lineItemProps:f})});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function W2e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=IS(e,j2e),l=i.map((c,d)=>{var f=Sl(Sl({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return B.createElement(mX,{option:r,lineItemProps:f,key:"line-".concat(d)})});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function K2e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],w=m?i+a-f:c[p+1]-f;if(w<=0)return null;var y=p%t.length;return B.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:w,width:s,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function q2e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],w=m?i+a-f:c[p+1]-f;if(w<=0)return null;var y=p%n.length;return B.createElement("rect",{key:"react-".concat(p),x:f,y:s,width:w,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $2e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return iq(oD(Sl(Sl(Sl({},pf),n),{},{ticks:sq(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},Y2e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return iq(oD(Sl(Sl(Sl({},pf),n),{},{ticks:sq(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},X2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ja.grid};function w1(e){var t=PR(),n=MR(),r=Aq(),i=Sl(Sl({},eo(e,X2e)),{},{x:Xn(e.x)?e.x:r.left,y:Xn(e.y)?e.y:r.top,width:Xn(e.width)?e.width:r.width,height:Xn(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=i,w=Bl(),y=pr(j=>lU(j,"xAxis",s,w)),C=pr(j=>lU(j,"yAxis",a,w));if(!bh(c)||!bh(d)||!Xn(o)||!Xn(l))return null;var T=i.verticalCoordinatesGenerator||$2e,k=i.horizontalCoordinatesGenerator||Y2e,{horizontalPoints:R,verticalPoints:P}=i;if((!R||!R.length)&&typeof k=="function"){var U=p&&p.length,O=k({yAxis:C?Sl(Sl({},C),{},{ticks:U?p:C.ticks}):void 0,width:t??c,height:n??d,offset:r},U?!0:f);tS(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(R=O)}if((!P||!P.length)&&typeof T=="function"){var L=m&&m.length,K=T({xAxis:y?Sl(Sl({},y),{},{ticks:L?m:y.ticks}):void 0,width:t??c,height:n??d,offset:r},L?!0:f);tS(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(P=K)}return B.createElement(_c,{zIndex:i.zIndex},B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(Q2e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),B.createElement(K2e,Z0({},i,{horizontalPoints:R})),B.createElement(q2e,Z0({},i,{verticalPoints:P})),B.createElement(z2e,Z0({},i,{offset:r,horizontalPoints:R,xAxis:y,yAxis:C})),B.createElement(W2e,Z0({},i,{offset:r,verticalPoints:P,xAxis:y,yAxis:C}))))}w1.displayName="CartesianGrid";var J2e={},xX=Rc({name:"errorBars",initialState:J2e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Fut,replaceErrorBar:kut,removeErrorBar:But}=xX.actions,Z2e=xX.reducer,eSe=["children"];function tSe(e,t){if(e==null)return{};var n,r,i=nSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iSe=B.createContext(rSe);function sSe(e){var{children:t}=e,n=tSe(e,eSe);return B.createElement(iSe.Provider,{value:n},t)}function cD(e,t){var n,r,i=pr(c=>Hf(c,e)),s=pr(c=>Gf(c,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Bo.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Ro.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function vX(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=sD(),{needClipX:s,needClipY:a,needClip:o}=cD(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return B.createElement("clipPath",{id:"clipPath-".concat(r)},B.createElement("rect",{x:s?l:l-d/2,y:a?c:c-f/2,width:s?d:d*2,height:a?f:f*2}))}function aSe(e){var t=kp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var wI={exports:{}},bI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v7;function oSe(){if(v7)return bI;v7=1;var e=_1();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,o=e.useDebugValue;return bI.useSyncExternalStoreWithSelector=function(l,c,d,f,p){var m=i(null);if(m.current===null){var w={hasValue:!1,value:null};m.current=w}else w=m.current;m=a(function(){function C(U){if(!T){if(T=!0,k=U,U=f(U),p!==void 0&&w.hasValue){var O=w.value;if(p(O,U))return R=O}return R=U}if(O=R,n(k,U))return O;var L=f(U);return p!==void 0&&p(O,L)?(k=U,O):(k=U,R=L)}var T=!1,k,R,P=d===void 0?null:d;return[function(){return C(c())},P===null?void 0:function(){return C(P())}]},[c,d,f,p]);var y=r(l,m[0],m[1]);return s(function(){w.hasValue=!0,w.value=y},[y]),o(y),y},bI}var w7;function lSe(){return w7||(w7=1,wI.exports=oSe()),wI.exports}lSe();function cSe(e){e()}function uSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cSe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var b7={notify(){},get:()=>[]};function dSe(e,t){let n,r=b7,i=0,s=!1;function a(y){d();const C=r.subscribe(y);let T=!1;return()=>{T||(T=!0,C(),f())}}function o(){r.notify()}function l(){w.onStateChange&&w.onStateChange()}function c(){return s}function d(){i++,n||(n=e.subscribe(l),r=uSe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=b7)}function p(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const w={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return w}var hSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fSe=hSe(),ASe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pSe=ASe(),gSe=()=>fSe||pSe?B.useLayoutEffect:B.useEffect,mSe=gSe();function y7(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xSe(e,t){if(y7(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!y7(e[n[i]],t[n[i]]))return!1;return!0}var yI=Symbol.for("react-redux-context"),CI=typeof globalThis<"u"?globalThis:{};function vSe(){if(!B.createContext)return{};const e=CI[yI]??(CI[yI]=new Map);let t=e.get(B.createContext);return t||(t=B.createContext(null),e.set(B.createContext,t)),t}var wSe=vSe();function bSe(e){const{children:t,context:n,serverState:r,store:i}=e,s=B.useMemo(()=>{const l=dSe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=B.useMemo(()=>i.getState(),[i]);mSe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||wSe;return B.createElement(o.Provider,{value:s},t)}var ySe=bSe,CSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function SSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function j5(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(CSe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!xSe(e[r],t[r]))return!1}else if(!SSe(e[r],t[r]))return!1;return!0}function Th(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:dX}function Ih(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:dX}var wX=(e,t,n)=>ZA(e,"xAxis",Th(e,t),n),bX=(e,t,n)=>JA(e,"xAxis",Th(e,t),n),yX=(e,t,n)=>ZA(e,"yAxis",Ih(e,t),n),CX=(e,t,n)=>JA(e,"yAxis",Ih(e,t),n),ESe=kt([Ii,wX,yX,bX,CX],(e,t,n,r,i)=>Mf(e,"xAxis")?A1(t,r,!1):A1(n,i,!1)),NSe=(e,t)=>t,SX=kt([F5,NSe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),EX=e=>{var t=Ii(e),n=Mf(t,"xAxis");return n?"yAxis":"xAxis"},TSe=(e,t)=>{var n=EX(e);return n==="yAxis"?Ih(e,t):Th(e,t)},ISe=(e,t,n)=>bS(e,EX(e),TSe(e,t),n),FSe=kt([SX,ISe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=E5(e);if(!(r==null||i==null)){var s=(n=t[r])===null||n===void 0?void 0:n.stackedData,a=s==null?void 0:s.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),kSe=kt([Ii,wX,yX,bX,CX,FSe,m$,ESe,SX,B1e],(e,t,n,r,i,s,a,o,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:p}=a;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:m}=l,w;if(m&&m.length>0?w=m:w=d==null?void 0:d.slice(f,p+1),w!=null)return $Se({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:s,displayedData:w,chartBaseValue:c,bandSize:o})}}),BSe=["id"],RSe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(null,arguments)}function NX(e,t){if(e==null)return{};var n,r,i=_Se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function C7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(n),!0).forEach(function(r){DSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DSe(e,t,n){return(t=PSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PSe(e){var t=MSe(e,"string");return typeof t=="symbol"?t:t+""}function MSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FS(e,t){return e&&e!=="none"?e:t}var LSe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:FS(r,i),value:P1(n,t),payload:e}]},OSe=B.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:P1(a,t),hide:o,type:c,color:FS(r,s),unit:l,graphicalItemId:d}};return B.createElement(nD,{tooltipEntrySettings:f})});function jSe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:a}=r,o=Fc(r);return B.createElement(ICe,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:t})}function USe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ym(ym({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return B.createElement(JY,{value:t?i:void 0},n)}function S7(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s}=e,{layout:a,type:o,stroke:l,connectNulls:c,isRange:d}=s,{id:f}=s,p=NX(s,BSe),m=Fc(p),w=Yl(p);return B.createElement(B.Fragment,null,(t==null?void 0:t.length)>1&&B.createElement(Ha,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},B.createElement(Mm,fp({},w,{id:f,points:t,connectNulls:c,type:o,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&B.createElement(Mm,fp({},m,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&d&&B.createElement(Mm,fp({},m,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:n}))),B.createElement(jSe,{points:t,props:p,clipPathId:i}))}function HSe(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=e,o=(t=s[0])===null||t===void 0?void 0:t.y,l=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Ss(o)||!Ss(l))return null;var c=r*Math.abs(o-l),d=Math.max(...s.map(f=>f.x||0));return Xn(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(f=>f.x||0),d)),Xn(d)?B.createElement("rect",{x:0,y:o<l?o:o-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function GSe(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=e,o=(t=s[0])===null||t===void 0?void 0:t.x,l=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Ss(o)||!Ss(l))return null;var c=r*Math.abs(o-l),d=Math.max(...s.map(f=>f.y||0));return Xn(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(f=>f.y||0),d)),Xn(d)?B.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function VSe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?B.createElement(HSe,{alpha:t,points:r,baseLine:i,strokeWidth:s}):B.createElement(GSe,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function QSe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:a,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationStart:p,onAnimationEnd:m}=r,w=B.useMemo(()=>({points:a,baseLine:o}),[a,o]),y=nb(w,"recharts-area-"),C=qAe(),[T,k]=B.useState(!1),R=!T,P=B.useCallback(()=>{typeof m=="function"&&m(),k(!1)},[m]),U=B.useCallback(()=>{typeof p=="function"&&p(),k(!0)},[p]);if(C==null)return null;var O=i.current,L=s.current;return B.createElement(USe,{showLabels:R,points:a},r.children,B.createElement(tb,{animationId:y,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:P,onAnimationStart:U,key:y},K=>{if(O){var j=O.length/a.length,te=K===1?a:a.map((V,re)=>{var ee=Math.floor(re*j);if(O[ee]){var ie=O[ee];return ym(ym({},V),{},{x:Os(ie.x,V.x,K),y:Os(ie.y,V.y,K)})}return V}),G;return Xn(o)?G=Os(L,o,K):oa(o)||Mu(o)?G=Os(L,0,K):G=o.map((V,re)=>{var ee=Math.floor(re*j);if(Array.isArray(L)&&L[ee]){var ie=L[ee];return ym(ym({},V),{},{x:Os(ie.x,V.x,K),y:Os(ie.y,V.y,K)})}return V}),K>0&&(i.current=te,s.current=G),B.createElement(S7,{points:te,baseLine:G,needClip:t,clipPathId:n,props:r})}return K>0&&(i.current=a,s.current=o),B.createElement(Ha,null,l&&B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(n)},B.createElement(VSe,{alpha:K,points:a,baseLine:o,layout:C,strokeWidth:r.strokeWidth}))),B.createElement(Ha,{clipPath:"url(#animationClipPath-".concat(n,")")},B.createElement(S7,{points:a,baseLine:o,needClip:t,clipPathId:n,props:r})))}),B.createElement($_,{label:r.label}))}function zSe(e){var{needClip:t,clipPathId:n,props:r}=e,i=B.useRef(null),s=B.useRef();return B.createElement(QSe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class WSe extends B.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:s,left:a,needClip:o,xAxisId:l,yAxisId:c,width:d,height:f,id:p,baseLine:m,zIndex:w}=this.props;if(t)return null;var y=Qi("recharts-area",i),C=p,{r:T,strokeWidth:k}=aSe(n),R=aX(n),P=T*2+k,U=o?"url(#clipPath-".concat(R?"":"dots-").concat(C,")"):void 0;return B.createElement(_c,{zIndex:w},B.createElement(Ha,{className:y},o&&B.createElement("defs",null,B.createElement(vX,{clipPathId:C,xAxisId:l,yAxisId:c}),!R&&B.createElement("clipPath",{id:"clipPath-dots-".concat(C)},B.createElement("rect",{x:a-P/2,y:s-P/2,width:d+P,height:f+P}))),B.createElement(zSe,{needClip:o,clipPathId:C,props:this.props})),B.createElement(h7,{points:r,mainColor:FS(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}),this.props.isRange&&Array.isArray(m)&&B.createElement(h7,{points:m,mainColor:FS(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}))}}var TX={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ja.area};function KSe(e){var t,n=eo(e,TX),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:c,fillOpacity:d,hide:f,isAnimationActive:p,legendType:m,stroke:w,xAxisId:y,yAxisId:C}=n,T=NX(n,RSe),k=Zp(),R=_Y(),{needClip:P}=cD(y,C),U=Bl(),{points:O,isRange:L,baseLine:K}=(t=pr(ee=>kSe(ee,e.id,U)))!==null&&t!==void 0?t:{},j=sD();if(k!=="horizontal"&&k!=="vertical"||j==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:te,width:G,x:V,y:re}=j;return!O||!O.length?null:B.createElement(WSe,fp({},T,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:K,connectNulls:o,dot:l,fill:c,fillOpacity:d,height:te,hide:f,layout:k,isAnimationActive:p==="auto"?!eb.isSsr:p,isRange:L,legendType:m,needClip:P,points:O,stroke:w,width:G,left:V,top:re,xAxisId:y,yAxisId:C}))}var qSe=(e,t,n,r,i)=>{var s=n??t;if(Xn(s))return s;var a=e==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function $Se(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:d,xAxisTicks:f,yAxisTicks:p,bandSize:m}=e,w=i&&i.length,y=qSe(s,a,n,o,l),C=s==="horizontal",T=!1,k=c.map((P,U)=>{var O,L,K;if(w)K=i[d+U];else{var j=ps(P,r);Array.isArray(j)?(K=j,T=!0):K=[y,j]}var te=(O=(L=K)===null||L===void 0?void 0:L[1])!==null&&O!==void 0?O:null,G=te==null||w&&!t&&ps(P,r)==null;return C?{x:u8({axis:o,ticks:f,bandSize:m,entry:P,index:U}),y:G?null:l.scale(te),value:K,payload:P}:{x:G?null:o.scale(te),y:u8({axis:l,ticks:p,bandSize:m,entry:P,index:U}),value:K,payload:P}}),R;return w||T?R=k.map(P=>{var U=Array.isArray(P.value)?P.value[0]:null;return C?{x:P.x,y:U!=null&&P.y!=null?l.scale(U):null,payload:P.payload}:{x:U!=null?o.scale(U):null,y:P.y,payload:P.payload}}):R=C?l.scale(y):o.scale(y),{points:k,baseLine:R,isRange:T}}function YSe(e){var t=eo(e,TX),n=Bl();return B.createElement(rD,{id:t.id,type:"area"},r=>B.createElement(B.Fragment,null,B.createElement(lX,{legendPayload:LSe(t)}),B.createElement(OSe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),B.createElement(uX,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:aq(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),B.createElement(KSe,fp({},t,{id:r}))))}var Ak=B.memo(YSe,j5);Ak.displayName="Area";var XSe="Invariant failed";function JSe(e,t){throw new Error(XSe)}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(null,arguments)}function kS(e){return B.createElement(oX,pk({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ZSe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Xn(t))return t;var s=Xn(r)||oa(r);return s?t(r,i):(s||JSe(),n)}},eEe=(e,t,n)=>n,tEe=(e,t)=>t,gb=kt([F5,tEe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),nEe=kt([gb],e=>e==null?void 0:e.maxBarSize),rEe=(e,t,n,r)=>r,iEe=kt([Ii,F5,Th,Ih,eEe],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sEe=(e,t,n)=>{var r=Ii(e),i=Th(e,t),s=Ih(e,t);if(!(i==null||s==null))return r==="horizontal"?bS(e,"yAxis",s,n):bS(e,"xAxis",i,n)},aEe=(e,t)=>{var n=Ii(e),r=Th(e,t),i=Ih(e,t);if(!(r==null||i==null))return n==="horizontal"?oU(e,"xAxis",r):oU(e,"yAxis",i)},oEe=kt([iEe,k1e,aEe],qCe),lEe=(e,t,n)=>{var r,i,s=gb(e,t);if(s!=null){var a=Th(e,t),o=Ih(e,t);if(!(a==null||o==null)){var l=Ii(e),c=R$(e),{maxBarSize:d}=s,f=oa(d)?c:d,p,m;return l==="horizontal"?(p=ZA(e,"xAxis",a,n),m=JA(e,"xAxis",a,n)):(p=ZA(e,"yAxis",o,n),m=JA(e,"yAxis",o,n)),(r=(i=A1(p,m,!0))!==null&&i!==void 0?i:f)!==null&&r!==void 0?r:0}}},IX=(e,t,n)=>{var r=Ii(e),i=Th(e,t),s=Ih(e,t);if(!(i==null||s==null)){var a,o;return r==="horizontal"?(a=ZA(e,"xAxis",i,n),o=JA(e,"xAxis",i,n)):(a=ZA(e,"yAxis",s,n),o=JA(e,"yAxis",s,n)),A1(a,o)}},cEe=kt([oEe,R$,F1e,_$,lEe,IX,nEe],ZCe),uEe=(e,t,n)=>{var r=Th(e,t);if(r!=null)return ZA(e,"xAxis",r,n)},dEe=(e,t,n)=>{var r=Ih(e,t);if(r!=null)return ZA(e,"yAxis",r,n)},hEe=(e,t,n)=>{var r=Th(e,t);if(r!=null)return JA(e,"xAxis",r,n)},fEe=(e,t,n)=>{var r=Ih(e,t);if(r!=null)return JA(e,"yAxis",r,n)},AEe=kt([cEe,gb],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),pEe=kt([sEe,gb],e2e),gEe=kt([Ao,_R,uEe,dEe,hEe,fEe,AEe,Ii,m$,IX,pEe,gb,rEe],(e,t,n,r,i,s,a,o,l,c,d,f,p)=>{var{chartData:m,dataStartIndex:w,dataEndIndex:y}=l;if(!(f==null||a==null||t==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||s==null||c==null)){var{data:C}=f,T;if(C!=null&&C.length>0?T=C:T=m==null?void 0:m.slice(w,y+1),T!=null)return zEe({layout:o,barSettings:f,pos:a,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:T,offset:e,cells:p,dataStartIndex:w})}}),mEe=["index"];function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gk.apply(null,arguments)}function xEe(e,t){if(e==null)return{};var n,r,i=vEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FX=B.createContext(void 0),wEe=e=>{var t=B.useContext(FX);if(t!=null)return t.stackId;if(e!=null)return aq(e)},bEe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),yEe=e=>{var t=B.useContext(FX);if(t!=null){var{stackId:n}=t;return"url(#".concat(bEe(n,e),")")}},CEe=e=>{var{index:t}=e,n=xEe(e,mEe),r=yEe(t);return B.createElement(Ha,gk({className:"recharts-bar-stack-layer",clipPath:r},n))},SEe=["onMouseEnter","onMouseLeave","onClick"],EEe=["value","background","tooltipPosition"],NEe=["id"],TEe=["onMouseEnter","onClick","onMouseLeave"];function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(null,arguments)}function E7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E7(Object(n),!0).forEach(function(r){IEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IEe(e,t,n){return(t=FEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FEe(e){var t=kEe(e,"string");return typeof t=="symbol"?t:t+""}function kEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BS(e,t){if(e==null)return{};var n,r,i=BEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var REe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:P1(n,t),payload:e}]},_Ee=B.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:o,tooltipType:l,id:c}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:P1(s,t),hide:a,type:l,color:i,unit:o,graphicalItemId:c}};return B.createElement(nD,{tooltipEntrySettings:d})});function DEe(e){var t=pr(e0),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,c=BS(s,SEe),d=Z_(a,r,s.id),f=eD(o),p=tD(l,r,s.id);if(!i||n==null)return null;var m=kp(i);return B.createElement(_c,{zIndex:t2e(i,Ja.barBackground)},n.map((w,y)=>{var{value:C,background:T,tooltipPosition:k}=w,R=BS(w,EEe);if(!T)return null;var P=d(w,y),U=f(w,y),O=p(w,y),L=Vl(Vl(Vl(Vl(Vl({option:i,isActive:String(y)===t},R),{},{fill:"#eee"},T),m),$w(c,w,y)),{},{onMouseEnter:P,onMouseLeave:U,onClick:O,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return B.createElement(kS,kf({key:"background-bar-".concat(y)},L))}))}function PEe(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Vl(Vl({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return B.createElement(JY,{value:t?i:void 0},n)}function MEe(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=e,o=pr(e0),l=pr(G_),c=n&&String(s)===o&&(l==null||a===l),d=c?n:t;return c?B.createElement(_c,{zIndex:Ja.activeBar},B.createElement(kS,kf({},r,{name:String(r.name)},i,{isActive:c,option:d,index:s,dataKey:a}))):B.createElement(kS,kf({},r,{name:String(r.name)},i,{isActive:c,option:d,index:s,dataKey:a}))}function LEe(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return B.createElement(kS,kf({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function OEe(e){var t,{data:n,props:r}=e,i=(t=Fc(r))!==null&&t!==void 0?t:{},{id:s}=i,a=BS(i,NEe),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:d,onClick:f,onMouseLeave:p}=r,m=BS(r,TEe),w=Z_(d,l,s),y=eD(p),C=tD(f,l,s);return n?B.createElement(B.Fragment,null,n.map((T,k)=>B.createElement(CEe,kf({index:k,key:"rectangle-".concat(T==null?void 0:T.x,"-").concat(T==null?void 0:T.y,"-").concat(T==null?void 0:T.value,"-").concat(k),className:"recharts-bar-rectangle"},$w(m,T,k),{onMouseEnter:w(T,k),onMouseLeave:y(T,k),onClick:C(T,k)}),c?B.createElement(MEe,{shape:o,activeBar:c,baseProps:a,entry:T,index:k,dataKey:l}):B.createElement(LEe,{shape:o,baseProps:a,entry:T,index:k,dataKey:l})))):null}function jEe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,f=n.current,p=nb(t,"recharts-bar-"),[m,w]=B.useState(!1),y=!m,C=B.useCallback(()=>{typeof c=="function"&&c(),w(!1)},[c]),T=B.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return B.createElement(PEe,{showLabels:y,rects:r},B.createElement(tb,{animationId:p,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:C,onAnimationStart:T,key:p},k=>{var R=k===1?r:r==null?void 0:r.map((P,U)=>{var O=f&&f[U];if(O)return Vl(Vl({},P),{},{x:Os(O.x,P.x,k),y:Os(O.y,P.y,k),width:Os(O.width,P.width,k),height:Os(O.height,P.height,k)});if(i==="horizontal"){var L=Os(0,P.height,k),K=Os(P.stackedBarStart,P.y,k);return Vl(Vl({},P),{},{y:K,height:L})}var j=Os(0,P.width,k),te=Os(P.stackedBarStart,P.x,k);return Vl(Vl({},P),{},{width:j,x:te})});return k>0&&(n.current=R??null),R==null?null:B.createElement(Ha,null,B.createElement(OEe,{props:t,data:R}))}),B.createElement($_,{label:t.label}),t.children)}function UEe(e){var t=B.useRef(null);return B.createElement(jEe,{previousRectanglesRef:t,props:e})}var kX=0,HEe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ps(e,t)}};class GEe extends B.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:c}=this.props;if(t||n==null)return null;var d=Qi("recharts-bar",i),f=c;return B.createElement(Ha,{className:d,id:c},o&&B.createElement("defs",null,B.createElement(vX,{clipPathId:f,xAxisId:s,yAxisId:a})),B.createElement(Ha,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},B.createElement(DEe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),B.createElement(UEe,this.props)))}}var VEe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:kX,xAxisId:0,yAxisId:0,zIndex:Ja.bar};function QEe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=cD(t,n),p=Zp(),m=Bl(),w=J_(e.children,t0),y=pr(k=>gEe(k,e.id,m,w));if(p!=="vertical"&&p!=="horizontal")return null;var C,T=y==null?void 0:y[0];return T==null||T.height==null||T.width==null?C=0:C=p==="vertical"?T.height/2:T.width/2,B.createElement(sSe,{xAxisId:t,yAxisId:n,data:y,dataPointFormatter:HEe,errorBarOffset:C},B.createElement(GEe,kf({},e,{layout:p,needClip:f,data:y,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d})))}function zEe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:f,offset:p,cells:m,parentViewBox:w,dataStartIndex:y}=e,C=t==="horizontal"?o:a,T=d?C.scale.domain():null,k=hAe({numericAxis:C}),R=C.scale(k);return f.map((P,U)=>{var O,L,K,j,te,G;if(d){var V=d[U+y];if(V==null)return null;O=oAe(V,T)}else O=ps(P,n),Array.isArray(O)||(O=[k,O]);var re=ZSe(r,kX)(O[1],U);if(t==="horizontal"){var ee,[ie,ue]=[o.scale(O[0]),o.scale(O[1])];L=d8({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:P,index:U}),K=(ee=ue??ie)!==null&&ee!==void 0?ee:void 0,j=i.size;var le=ie-ue;if(te=Mu(le)?0:le,G={x:L,y:p.top,width:j,height:p.height},Math.abs(re)>0&&Math.abs(te)<Math.abs(re)){var xe=Lo(te||re)*(Math.abs(re)-Math.abs(te));K-=xe,te+=xe}}else{var[ge,fe]=[a.scale(O[0]),a.scale(O[1])];if(L=ge,K=d8({axis:o,ticks:c,bandSize:s,offset:i.offset,entry:P,index:U}),j=fe-ge,te=i.size,G={x:p.left,y:K,width:p.width,height:te},Math.abs(re)>0&&Math.abs(j)<Math.abs(re)){var ce=Lo(j||re)*(Math.abs(re)-Math.abs(j));j+=ce}}if(L==null||K==null||j==null||te==null)return null;var Q=Vl(Vl({},P),{},{stackedBarStart:R,x:L,y:K,width:j,height:te,value:d?O:O[1],payload:P,background:G,tooltipPosition:{x:L+j/2,y:K+te/2},parentViewBox:w},m&&m[U]&&m[U].props);return Q}).filter(Boolean)}function WEe(e){var t=eo(e,VEe),n=wEe(t.stackId),r=Bl();return B.createElement(rD,{id:t.id,type:"bar"},i=>B.createElement(B.Fragment,null,B.createElement(lX,{legendPayload:REe(t)}),B.createElement(_Ee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),B.createElement(uX,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),B.createElement(_c,{zIndex:t.zIndex},B.createElement(QEe,kf({},t,{id:i})))))}var zA=B.memo(WEe,j5);zA.displayName="Bar";var KEe=["domain","range"],qEe=["domain","range"];function N7(e,t){if(e==null)return{};var n,r,i=$Ee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Ee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function T7(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function BX(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=N7(e,KEe),{domain:s,range:a}=t,o=N7(t,qEe);return!T7(n,s)||!T7(r,a)?!1:j5(i,o)}var YEe=["dangerouslySetInnerHTML","ticks","scale"],XEe=["id","scale"];function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mk.apply(null,arguments)}function I7(e,t){if(e==null)return{};var n,r,i=JEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZEe(e){var t=ks(),n=B.useRef(null);return B.useLayoutEffect(()=>{n.current===null?t(_Ce(e)):n.current!==e&&t(DCe({prev:n.current,next:e})),n.current=e},[e,t]),B.useLayoutEffect(()=>()=>{n.current&&(t(PCe(n.current)),n.current=null)},[t]),null}var e5e=e=>{var{xAxisId:t,className:n}=e,r=pr(_R),i=Bl(),s="xAxis",a=pr(T=>dY(T,s,t,i)),o=pr(T=>oY(T,t)),l=pr(T=>Ixe(T,t)),c=pr(T=>G$(T,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=I7(e,YEe),{id:w,scale:y}=c,C=I7(c,XEe);return B.createElement(lD,mk({},m,C,{x:l.x,y:l.y,width:o.width,height:o.height,className:Qi("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},t5e={allowDataOverflow:Bo.allowDataOverflow,allowDecimals:Bo.allowDecimals,allowDuplicatedCategory:Bo.allowDuplicatedCategory,angle:Bo.angle,axisLine:pf.axisLine,height:Bo.height,hide:!1,includeHidden:Bo.includeHidden,interval:Bo.interval,minTickGap:Bo.minTickGap,mirror:Bo.mirror,orientation:Bo.orientation,padding:Bo.padding,reversed:Bo.reversed,scale:Bo.scale,tick:Bo.tick,tickCount:Bo.tickCount,tickLine:pf.tickLine,tickSize:pf.tickSize,type:Bo.type,xAxisId:0},n5e=e=>{var t=eo(e,t5e);return B.createElement(B.Fragment,null,B.createElement(ZEe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),B.createElement(e5e,t))},b1=B.memo(n5e,BX);b1.displayName="XAxis";var r5e=["dangerouslySetInnerHTML","ticks","scale"],i5e=["id","scale"];function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xk.apply(null,arguments)}function F7(e,t){if(e==null)return{};var n,r,i=s5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a5e(e){var t=ks(),n=B.useRef(null);return B.useLayoutEffect(()=>{n.current===null?t(MCe(e)):n.current!==e&&t(LCe({prev:n.current,next:e})),n.current=e},[e,t]),B.useLayoutEffect(()=>()=>{n.current&&(t(OCe(n.current)),n.current=null)},[t]),null}var o5e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=B.useRef(null),a=B.useRef(null),o=pr(_R),l=Bl(),c=ks(),d="yAxis",f=pr(O=>lY(O,t)),p=pr(O=>kxe(O,t)),m=pr(O=>dY(O,d,t,l)),w=pr(O=>V$(O,t));if(B.useLayoutEffect(()=>{if(!(r!=="auto"||!f||q_(i)||B.isValidElement(i)||w==null)){var O=s.current;if(O){var L=O.getCalculatedWidth();Math.round(f.width)!==Math.round(L)&&c(jCe({id:t,width:L}))}}},[m,f,c,i,t,r,w]),f==null||p==null||w==null)return null;var{dangerouslySetInnerHTML:y,ticks:C,scale:T}=e,k=F7(e,r5e),{id:R,scale:P}=w,U=F7(w,i5e);return B.createElement(lD,xk({},k,U,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Qi("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},l5e={allowDataOverflow:Ro.allowDataOverflow,allowDecimals:Ro.allowDecimals,allowDuplicatedCategory:Ro.allowDuplicatedCategory,angle:Ro.angle,axisLine:pf.axisLine,hide:!1,includeHidden:Ro.includeHidden,interval:Ro.interval,minTickGap:Ro.minTickGap,mirror:Ro.mirror,orientation:Ro.orientation,padding:Ro.padding,reversed:Ro.reversed,scale:Ro.scale,tick:Ro.tick,tickCount:Ro.tickCount,tickLine:pf.tickLine,tickSize:pf.tickSize,type:Ro.type,width:Ro.width,yAxisId:0},c5e=e=>{var t=eo(e,l5e);return B.createElement(B.Fragment,null,B.createElement(a5e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),B.createElement(o5e,t))},y1=B.memo(c5e,BX);y1.displayName="YAxis";var u5e=(e,t)=>t,uD=kt([u5e,Ii,U$,go,TY,Vf,zve,Ao],Jve),dD=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},RX=Lu("mouseClick"),_X=Xw();_X.startListening({actionCreator:RX,effect:(e,t)=>{var n=e.payload,r=uD(t.getState(),dD(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Qxe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var vk=Lu("mouseMove"),DX=Xw(),Hy=null;DX.startListening({actionCreator:vk,effect:(e,t)=>{var n=e.payload;Hy!==null&&cancelAnimationFrame(Hy);var r=dD(n);Hy=requestAnimationFrame(()=>{var i=t.getState(),s=M_(i,i.tooltip.settings.shared);if(s==="axis"){var a=uD(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(vY({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(xY())}Hy=null})}});function d5e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var k7={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},PX=Rc({name:"rootProps",initialState:k7,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:k7.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),h5e=PX.reducer,{updateOptions:f5e}=PX.actions,MX=Rc({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:A5e}=MX.actions,p5e=MX.reducer,LX=Lu("keyDown"),OX=Lu("focus"),hD=Xw();hD.startListening({actionCreator:LX,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=L_(i,Q1(n),db(n),Ab(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Vf(n);if(s==="Enter"){var c=CS(n,"axis","hover",String(i.index));t.dispatch(lk({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=Dxe(n),f=d==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,m=o+p*f;if(!(l==null||m>=l.length||m<0)){var w=CS(n,"axis","hover",String(m));t.dispatch(lk({active:!0,activeIndex:m.toString(),activeCoordinate:w}))}}}}}});hD.startListening({actionCreator:OX,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=CS(n,"axis","hover",String(s));t.dispatch(lk({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var gu=Lu("externalEvent"),jX=Xw(),SI=new Map;jX.startListening({actionCreator:gu,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=SI.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:kve(o),activeDataKey:G_(o),activeIndex:e0(o),activeLabel:kY(o),activeTooltipIndex:e0(o),isTooltipActive:Bve(o)};n(l,r)}finally{SI.delete(i)}});SI.set(i,a)}}});var g5e=kt([G1],e=>e.tooltipItemPayloads),m5e=kt([g5e,fb,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,n);return a}}}),UX=Lu("touchMove"),HX=Xw();HX.startListening({actionCreator:UX,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=M_(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=uD(r,dD({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(vY({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(lq),f=(o=c.getAttribute(cq))!==null&&o!==void 0?o:void 0,p=V1(r).find(y=>y.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,w=m5e(r,d,f);t.dispatch(mY({activeDataKey:m,activeIndex:d,activeCoordinate:w,activeGraphicalItemId:f}))}}}});var x5e=FK({brush:n2e,cartesianAxis:UCe,chartData:Fwe,errorBars:Z2e,graphicalItems:Wye,layout:tAe,legend:c0e,options:Swe,polarAxis:aye,polarOptions:p5e,referenceElements:c2e,rootProps:h5e,tooltip:zxe,zIndex:hwe}),v5e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Nfe({reducer:x5e,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([_X.middleware,DX.middleware,hD.middleware,jX.middleware,HX.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(QK({type:"raf"}))},devTools:{serialize:{replacer:d5e},name:"recharts-".concat(n)}})};function GX(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Bl(),s=B.useRef(null);if(i)return n;s.current==null&&(s.current=v5e(t,r));var a=NR;return B.createElement(ySe,{context:a,store:s.current},n)}function w5e(e){var{layout:t,margin:n}=e,r=ks(),i=Bl();return B.useEffect(()=>{i||(r(Jfe(t)),r(Xfe(n)))},[r,i,t,n]),null}var VX=B.memo(w5e,j5);function QX(e){var t=ks();return B.useEffect(()=>{t(f5e(e))},[t,e]),null}function B7(e){var{zIndex:t,isPanorama:n}=e,r=B.useRef(null),i=ks();return B.useLayoutEffect(()=>(r.current&&i(uwe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(dwe({zIndex:t,isPanorama:n}))}),[i,t,n]),B.createElement("g",{tabIndex:-1,ref:r})}function R7(e){var{children:t,isPanorama:n}=e,r=pr(ewe);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return B.createElement(B.Fragment,null,i.map(a=>B.createElement(B7,{key:a,zIndex:a,isPanorama:n})),t,s.map(a=>B.createElement(B7,{key:a,zIndex:a,isPanorama:n})))}var b5e=["children"];function y5e(e,t){if(e==null)return{};var n,r,i=C5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RS.apply(null,arguments)}var S5e={width:"100%",height:"100%",display:"block"},E5e=B.forwardRef((e,t)=>{var n=PR(),r=MR(),i=Eq();if(!bh(n)||!bh(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=e,c,d;return a!=null&&(typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),B.createElement(gR,RS({},a,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:S5e,ref:t}),s)}),N5e=e=>{var{children:t}=e,n=pr(u5);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return B.createElement(gR,{width:r,height:i,x:a,y:s},t)},_7=B.forwardRef((e,t)=>{var{children:n}=e,r=y5e(e,b5e),i=Bl();return i?B.createElement(N5e,null,B.createElement(R7,{isPanorama:!0},n)):B.createElement(E5e,RS({ref:t},r),B.createElement(R7,{isPanorama:!1},n))});function T5e(){var e=ks(),[t,n]=B.useState(null),r=pr(xAe);return B.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ss(s)&&s!==r&&e(eAe(s))}},[t,e,r]),n}function D7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(n),!0).forEach(function(r){F5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F5e(e,t,n){return(t=k5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k5e(e){var t=B5e(e,"string");return typeof t=="symbol"?t:t+""}function B5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(null,arguments)}var R5e=()=>(Owe(),null);function _S(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var _5e=B.forwardRef((e,t)=>{var n,r,i=B.useRef(null),[s,a]=B.useState({containerWidth:_S((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:_S((r=e.style)===null||r===void 0?void 0:r.height)}),o=B.useCallback((c,d)=>{a(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=B.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var p=w=>{var{width:y,height:C}=w[0].contentRect;o(y,C)},m=new ResizeObserver(p);m.observe(c),i.current=m}},[t,o]);return B.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),B.createElement(B.Fragment,null,B.createElement(h5,{width:s.containerWidth,height:s.containerHeight}),B.createElement("div",Op({ref:l},e)))}),D5e=B.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=B.useState({containerWidth:_S(n),containerHeight:_S(r)}),a=B.useCallback((l,c)=>{s(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),o=B.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();a(c,d)}},[t,a]);return B.createElement(B.Fragment,null,B.createElement(h5,{width:i.containerWidth,height:i.containerHeight}),B.createElement("div",Op({ref:o},e)))}),P5e=B.forwardRef((e,t)=>{var{width:n,height:r}=e;return B.createElement(B.Fragment,null,B.createElement(h5,{width:n,height:r}),B.createElement("div",Op({ref:t},e)))}),M5e=B.forwardRef((e,t)=>{var{width:n,height:r}=e;return Sf(n)||Sf(r)?B.createElement(D5e,Op({},e,{ref:t})):B.createElement(P5e,Op({},e,{ref:t}))});function L5e(e){return e===!0?_5e:M5e}var O5e=B.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:w,onTouchStart:y,style:C,width:T,responsive:k,dispatchTouchEvents:R=!0}=e,P=B.useRef(null),U=ks(),[O,L]=B.useState(null),[K,j]=B.useState(null),te=T5e(),G=DR(),V=(G==null?void 0:G.width)>0?G.width:T,re=(G==null?void 0:G.height)>0?G.height:i,ee=B.useCallback(Ne=>{te(Ne),typeof t=="function"&&t(Ne),L(Ne),j(Ne),Ne!=null&&(P.current=Ne)},[te,t,L,j]),ie=B.useCallback(Ne=>{U(RX(Ne)),U(gu({handler:s,reactEvent:Ne}))},[U,s]),ue=B.useCallback(Ne=>{U(vk(Ne)),U(gu({handler:c,reactEvent:Ne}))},[U,c]),le=B.useCallback(Ne=>{U(xY()),U(gu({handler:d,reactEvent:Ne}))},[U,d]),xe=B.useCallback(Ne=>{U(vk(Ne)),U(gu({handler:f,reactEvent:Ne}))},[U,f]),ge=B.useCallback(()=>{U(OX())},[U]),fe=B.useCallback(Ne=>{U(LX(Ne.key))},[U]),ce=B.useCallback(Ne=>{U(gu({handler:a,reactEvent:Ne}))},[U,a]),Q=B.useCallback(Ne=>{U(gu({handler:o,reactEvent:Ne}))},[U,o]),Y=B.useCallback(Ne=>{U(gu({handler:l,reactEvent:Ne}))},[U,l]),X=B.useCallback(Ne=>{U(gu({handler:p,reactEvent:Ne}))},[U,p]),ne=B.useCallback(Ne=>{U(gu({handler:y,reactEvent:Ne}))},[U,y]),oe=B.useCallback(Ne=>{R&&U(UX(Ne)),U(gu({handler:w,reactEvent:Ne}))},[U,R,w]),Ce=B.useCallback(Ne=>{U(gu({handler:m,reactEvent:Ne}))},[U,m]),ke=L5e(k);return B.createElement(OY.Provider,{value:O},B.createElement(zW.Provider,{value:K},B.createElement(ke,{width:V??(C==null?void 0:C.width),height:re??(C==null?void 0:C.height),className:Qi("recharts-wrapper",r),style:I5e({position:"relative",cursor:"default",width:V,height:re},C),onClick:ie,onContextMenu:ce,onDoubleClick:Q,onFocus:ge,onKeyDown:fe,onMouseDown:Y,onMouseEnter:ue,onMouseLeave:le,onMouseMove:xe,onMouseUp:X,onTouchEnd:Ce,onTouchMove:oe,onTouchStart:ne,ref:ee},B.createElement(R5e,null),n)))}),j5e=["width","height","responsive","children","className","style","compact","title","desc"];function U5e(e,t){if(e==null)return{};var n,r,i=H5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zX=B.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:c,desc:d}=e,f=U5e(e,j5e),p=Fc(f);return l?B.createElement(B.Fragment,null,B.createElement(h5,{width:n,height:r}),B.createElement(_7,{otherAttributes:p,title:c,desc:d},s)):B.createElement(O5e,{className:a,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},B.createElement(_7,{otherAttributes:p,title:c,desc:d,ref:t},B.createElement(d2e,null,s)))});function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wk.apply(null,arguments)}var G5e={top:5,right:5,bottom:5,left:5},V5e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:G5e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},WX=B.forwardRef(function(t,n){var r,i=eo(t.categoricalChartProps,V5e),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return B.createElement(GX,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},B.createElement(fX,{chartData:c.data}),B.createElement(VX,{layout:i.layout,margin:i.margin}),B.createElement(QX,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),B.createElement(zX,wk({},i,{ref:n})))}),Q5e=["axis","item"],DS=B.forwardRef((e,t)=>B.createElement(WX,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Q5e,tooltipPayloadSearcher:K_,categoricalChartProps:e,ref:t}));function z5e(e){var t=ks();return B.useEffect(()=>{t(A5e(e))},[t,e]),null}var W5e=["layout"];function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bk.apply(null,arguments)}function K5e(e,t){if(e==null)return{};var n,r,i=q5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $5e={top:5,right:5,bottom:5,left:5},KX={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Y5e=B.forwardRef(function(t,n){var r,i=eo(t.categoricalChartProps,KX),{layout:s}=i,a=K5e(i,W5e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return B.createElement(GX,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},B.createElement(fX,{chartData:i.data}),B.createElement(VX,{layout:s,margin:i.margin}),B.createElement(QX,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),B.createElement(z5e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),B.createElement(zX,bk({},a,{ref:n})))});function P7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P7(Object(n),!0).forEach(function(r){X5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X5e(e,t,n){return(t=J5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J5e(e){var t=Z5e(e,"string");return typeof t=="symbol"?t:t+""}function Z5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eNe=["item"],tNe=M7(M7({},KX),{},{layout:"centric",startAngle:0,endAngle:360}),qX=B.forwardRef((e,t)=>{var n=eo(e,tNe);return B.createElement(Y5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eNe,tooltipPayloadSearcher:K_,categoricalChartProps:n,ref:t})}),nNe=["axis"],rNe=B.forwardRef((e,t)=>B.createElement(WX,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nNe,tooltipPayloadSearcher:K_,categoricalChartProps:e,ref:t})),hr=(e=>(e.NEGOTIATING="",e.QUOTING="",e.QUOTED="",e.WAITING_SIGN="",e.SIGNED_WAITING_WORK="",e.CONSTRUCTING="",e.INSPECTION="",e.PREPARING_PAYMENT="",e.SUBMITTED_PAYMENT="",e.INVOICED="",e.PARTIAL_PAYMENT="()",e.COMPLETED="",e.CLOSED="",e.CANCELLED="",e.LOST="",e))(hr||{});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yk=function(e,t){return yk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yk(e,t)};function Td(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ck=function(){return Ck=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ck.apply(this,arguments)};function Ul(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(e,[])).next())})}function vl(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Gy(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||t)}var Bf=(function(){function e(t,n,r,i){this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),U5=function(e,t){return Bf.fromClientRect(e,t.getBoundingClientRect())},iNe=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Bf(0,0,r,i)},H5=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},Ma=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},L7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vy=0;Vy<L7.length;Vy++)sNe[L7.charCodeAt(Vy)]=Vy;var O7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qy=0;Qy<O7.length;Qy++)cv[O7.charCodeAt(Qy)]=Qy;var aNe=function(e){var t=e.length*.75,n=e.length,r,i=0,s,a,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)s=cv[e.charCodeAt(r)],a=cv[e.charCodeAt(r+1)],o=cv[e.charCodeAt(r+2)],l=cv[e.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return c},oNe=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},lNe=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ap=5,fD=11,EI=2,cNe=fD-Ap,$X=65536>>Ap,uNe=1<<Ap,NI=uNe-1,dNe=1024>>Ap,hNe=$X+dNe,fNe=hNe,ANe=32,pNe=fNe+ANe,gNe=65536>>fD,mNe=1<<cNe,xNe=mNe-1,j7=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},vNe=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},wNe=function(e,t){var n=aNe(e),r=Array.isArray(n)?lNe(n):new Uint32Array(n),i=Array.isArray(n)?oNe(n):new Uint16Array(n),s=24,a=j7(i,s/2,r[4]/2),o=r[5]===2?j7(i,(s+r[4])/2):vNe(r,Math.ceil((s+r[4])/4));return new bNe(r[0],r[1],r[2],r[3],a,o)},bNe=(function(){function e(t,n,r,i,s,a){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Ap],n=(n<<EI)+(t&NI),this.data[n];if(t<=65535)return n=this.index[$X+(t-55296>>Ap)],n=(n<<EI)+(t&NI),this.data[n];if(t<this.highStart)return n=pNe-gNe+(t>>fD),n=this.index[n],n+=t>>Ap&xNe,n=this.index[n],n=(n<<EI)+(t&NI),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),U7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zy=0;zy<U7.length;zy++)yNe[U7.charCodeAt(zy)]=zy;var CNe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",H7=50,SNe=1,YX=2,XX=3,ENe=4,NNe=5,G7=7,JX=8,V7=9,MA=10,Sk=11,Q7=12,Ek=13,TNe=14,uv=15,Nk=16,Wy=17,Wx=18,INe=19,z7=20,Tk=21,Kx=22,TI=23,Xg=24,Qc=25,dv=26,hv=27,Jg=28,FNe=29,z0=30,kNe=31,Ky=32,qy=33,Ik=34,Fk=35,kk=36,mw=37,Bk=38,n2=39,r2=40,II=41,ZX=42,BNe=43,RNe=[9001,65288],eJ="!",Ci="",$y="",Rk=wNe(CNe),Xh=[z0,kk],_k=[SNe,YX,XX,NNe],tJ=[MA,JX],W7=[hv,dv],_Ne=_k.concat(tJ),K7=[Bk,n2,r2,Ik,Fk],DNe=[uv,Ek],PNe=function(e,t){t===void 0&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(s,a){var o=Rk.get(s);if(o>H7?(i.push(!0),o-=H7):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),n.push(Nk);if(o===ENe||o===Sk){if(a===0)return r.push(a),n.push(z0);var l=n[a-1];return _Ne.indexOf(l)===-1?(r.push(r[a-1]),n.push(l)):(r.push(a),n.push(z0))}if(r.push(a),o===kNe)return n.push(t==="strict"?Tk:mw);if(o===ZX||o===FNe)return n.push(z0);if(o===BNe)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(mw):n.push(z0);n.push(o)}),[r,n,i]},FI=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var s=n;s<=r.length;){s++;var a=r[s];if(a===t)return!0;if(a!==MA)break}if(i===MA)for(var s=n;s>0;){s--;var o=r[s];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=n;l<=r.length;){l++;var a=r[l];if(a===t)return!0;if(a!==MA)break}if(o!==MA)break}return!1},q7=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===MA)n--;else return r}return 0},MNe=function(e,t,n,r,i){if(n[r]===0)return Ci;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Ci;var a=s-1,o=s+1,l=t[s],c=a>=0?t[a]:0,d=t[o];if(l===YX&&d===XX)return Ci;if(_k.indexOf(l)!==-1)return eJ;if(_k.indexOf(d)!==-1||tJ.indexOf(d)!==-1)return Ci;if(q7(s,t)===JX)return $y;if(Rk.get(e[s])===Sk||(l===Ky||l===qy)&&Rk.get(e[o])===Sk||l===G7||d===G7||l===V7||[MA,Ek,uv].indexOf(l)===-1&&d===V7||[Wy,Wx,INe,Xg,Jg].indexOf(d)!==-1||q7(s,t)===Kx||FI(TI,Kx,s,t)||FI([Wy,Wx],Tk,s,t)||FI(Q7,Q7,s,t))return Ci;if(l===MA)return $y;if(l===TI||d===TI)return Ci;if(d===Nk||l===Nk)return $y;if([Ek,uv,Tk].indexOf(d)!==-1||l===TNe||c===kk&&DNe.indexOf(l)!==-1||l===Jg&&d===kk||d===z7||Xh.indexOf(d)!==-1&&l===Qc||Xh.indexOf(l)!==-1&&d===Qc||l===hv&&[mw,Ky,qy].indexOf(d)!==-1||[mw,Ky,qy].indexOf(l)!==-1&&d===dv||Xh.indexOf(l)!==-1&&W7.indexOf(d)!==-1||W7.indexOf(l)!==-1&&Xh.indexOf(d)!==-1||[hv,dv].indexOf(l)!==-1&&(d===Qc||[Kx,uv].indexOf(d)!==-1&&t[o+1]===Qc)||[Kx,uv].indexOf(l)!==-1&&d===Qc||l===Qc&&[Qc,Jg,Xg].indexOf(d)!==-1)return Ci;if([Qc,Jg,Xg,Wy,Wx].indexOf(d)!==-1)for(var f=s;f>=0;){var p=t[f];if(p===Qc)return Ci;if([Jg,Xg].indexOf(p)!==-1)f--;else break}if([hv,dv].indexOf(d)!==-1)for(var f=[Wy,Wx].indexOf(l)!==-1?a:s;f>=0;){var p=t[f];if(p===Qc)return Ci;if([Jg,Xg].indexOf(p)!==-1)f--;else break}if(Bk===l&&[Bk,n2,Ik,Fk].indexOf(d)!==-1||[n2,Ik].indexOf(l)!==-1&&[n2,r2].indexOf(d)!==-1||[r2,Fk].indexOf(l)!==-1&&d===r2||K7.indexOf(l)!==-1&&[z7,dv].indexOf(d)!==-1||K7.indexOf(d)!==-1&&l===hv||Xh.indexOf(l)!==-1&&Xh.indexOf(d)!==-1||l===Xg&&Xh.indexOf(d)!==-1||Xh.concat(Qc).indexOf(l)!==-1&&d===Kx&&RNe.indexOf(e[o])===-1||Xh.concat(Qc).indexOf(d)!==-1&&l===Wx)return Ci;if(l===II&&d===II){for(var m=n[s],w=1;m>0&&(m--,t[m]===II);)w++;if(w%2!==0)return Ci}return l===Ky&&d===qy?Ci:$y},LNe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=PNe(e,t.lineBreak),r=n[0],i=n[1],s=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(o){return[Qc,z0,ZX].indexOf(o)!==-1?mw:o}));var a=t.wordBreak==="keep-all"?s.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[r,i,a]},ONe=(function(){function e(t,n,r,i){this.codePoints=t,this.required=n===eJ,this.start=r,this.end=i}return e.prototype.slice=function(){return Ma.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),jNe=function(e,t){var n=H5(e),r=LNe(n,t),i=r[0],s=r[1],a=r[2],o=n.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var d=Ci;c<o&&(d=MNe(n,s,i,++c,a))===Ci;);if(d!==Ci||c===o){var f=new ONe(n,d,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},UNe=1,HNe=2,mb=4,$7=8,PS=10,Y7=47,Tv=92,GNe=9,VNe=32,Yy=34,qx=61,QNe=35,zNe=36,WNe=37,Xy=39,Jy=40,$x=41,KNe=95,yc=45,qNe=33,$Ne=60,YNe=62,XNe=64,JNe=91,ZNe=93,e4e=61,t4e=123,Zy=63,n4e=125,X7=124,r4e=126,i4e=128,J7=65533,kI=42,ep=43,s4e=44,a4e=58,o4e=59,xw=46,l4e=0,c4e=8,u4e=11,d4e=14,h4e=31,f4e=127,qd=-1,nJ=48,rJ=97,iJ=101,A4e=102,p4e=117,g4e=122,sJ=65,aJ=69,oJ=70,m4e=85,x4e=90,yl=function(e){return e>=nJ&&e<=57},v4e=function(e){return e>=55296&&e<=57343},Zg=function(e){return yl(e)||e>=sJ&&e<=oJ||e>=rJ&&e<=A4e},w4e=function(e){return e>=rJ&&e<=g4e},b4e=function(e){return e>=sJ&&e<=x4e},y4e=function(e){return w4e(e)||b4e(e)},C4e=function(e){return e>=i4e},eC=function(e){return e===PS||e===GNe||e===VNe},MS=function(e){return y4e(e)||C4e(e)||e===KNe},Z7=function(e){return MS(e)||yl(e)||e===yc},S4e=function(e){return e>=l4e&&e<=c4e||e===u4e||e>=d4e&&e<=h4e||e===f4e},kA=function(e,t){return e!==Tv?!1:t!==PS},tC=function(e,t,n){return e===yc?MS(t)||kA(t,n):MS(e)?!0:!!(e===Tv&&kA(e,t))},BI=function(e,t,n){return e===ep||e===yc?yl(t)?!0:t===xw&&yl(n):yl(e===xw?t:e)},E4e=function(e){var t=0,n=1;(e[t]===ep||e[t]===yc)&&(e[t]===yc&&(n=-1),t++);for(var r=[];yl(e[t]);)r.push(e[t++]);var i=r.length?parseInt(Ma.apply(void 0,r),10):0;e[t]===xw&&t++;for(var s=[];yl(e[t]);)s.push(e[t++]);var a=s.length,o=a?parseInt(Ma.apply(void 0,s),10):0;(e[t]===aJ||e[t]===iJ)&&t++;var l=1;(e[t]===ep||e[t]===yc)&&(e[t]===yc&&(l=-1),t++);for(var c=[];yl(e[t]);)c.push(e[t++]);var d=c.length?parseInt(Ma.apply(void 0,c),10):0;return n*(i+o*Math.pow(10,-a))*Math.pow(10,l*d)},N4e={type:2},T4e={type:3},I4e={type:4},F4e={type:13},k4e={type:8},B4e={type:21},R4e={type:9},_4e={type:10},D4e={type:11},P4e={type:12},M4e={type:14},nC={type:23},L4e={type:1},O4e={type:25},j4e={type:24},U4e={type:26},H4e={type:27},G4e={type:28},V4e={type:29},Q4e={type:31},Dk={type:32},lJ=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(H5(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==Dk;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Yy:return this.consumeStringToken(Yy);case QNe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Z7(n)||kA(r,i)){var s=tC(n,r,i)?HNe:UNe,a=this.consumeName();return{type:5,value:a,flags:s}}break;case zNe:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),F4e;break;case Xy:return this.consumeStringToken(Xy);case Jy:return N4e;case $x:return T4e;case kI:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),M4e;break;case ep:if(BI(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case s4e:return I4e;case yc:var o=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(BI(o,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(tC(o,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===yc&&c===YNe)return this.consumeCodePoint(),this.consumeCodePoint(),j4e;break;case xw:if(BI(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Y7:if(this.peekCodePoint(0)===kI)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===kI&&(d=this.consumeCodePoint(),d===Y7))return this.consumeToken();if(d===qd)return this.consumeToken()}break;case a4e:return U4e;case o4e:return H4e;case $Ne:if(this.peekCodePoint(0)===qNe&&this.peekCodePoint(1)===yc&&this.peekCodePoint(2)===yc)return this.consumeCodePoint(),this.consumeCodePoint(),O4e;break;case XNe:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),m=this.peekCodePoint(2);if(tC(f,p,m)){var a=this.consumeName();return{type:7,value:a}}break;case JNe:return G4e;case Tv:if(kA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case ZNe:return V4e;case e4e:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),k4e;break;case t4e:return D4e;case n4e:return P4e;case p4e:case m4e:var w=this.peekCodePoint(0),y=this.peekCodePoint(1);return w===ep&&(Zg(y)||y===Zy)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case X7:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),R4e;if(this.peekCodePoint(0)===X7)return this.consumeCodePoint(),B4e;break;case r4e:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),_4e;break;case qd:return Dk}return eC(t)?(this.consumeWhiteSpace(),Q4e):yl(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):MS(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ma(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Zg(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===Zy&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Ma.apply(void 0,t.map(function(l){return l===Zy?nJ:l})),16),s=parseInt(Ma.apply(void 0,t.map(function(l){return l===Zy?oJ:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Ma.apply(void 0,t),16);if(this.peekCodePoint(0)===yc&&Zg(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];Zg(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var s=parseInt(Ma.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Jy?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Jy?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===qd)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Xy||n===Yy){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===qd||this.peekCodePoint(0)===$x)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),nC)}for(;;){var i=this.consumeCodePoint();if(i===qd||i===$x)return{type:22,value:Ma.apply(void 0,t)};if(eC(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===qd||this.peekCodePoint(0)===$x?(this.consumeCodePoint(),{type:22,value:Ma.apply(void 0,t)}):(this.consumeBadUrlRemnants(),nC);if(i===Yy||i===Xy||i===Jy||S4e(i))return this.consumeBadUrlRemnants(),nC;if(i===Tv)if(kA(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),nC;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;eC(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===$x||t===qd)return;kA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var i=Math.min(n,t);r+=Ma.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var i=this._value[r];if(i===qd||i===void 0||i===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===PS)return this._value.splice(0,r),L4e;if(i===Tv){var s=this._value[r+1];s!==qd&&s!==void 0&&(s===PS?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):kA(i,s)&&(n+=this.consumeStringSlice(r),n+=Ma(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=mb,r=this.peekCodePoint(0);for((r===ep||r===yc)&&t.push(this.consumeCodePoint());yl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===xw&&yl(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=$7;yl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===aJ||r===iJ)&&((i===ep||i===yc)&&yl(s)||yl(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=$7;yl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[E4e(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(tC(i,s,a)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===WNe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Zg(t)){for(var n=Ma(t);Zg(this.peekCodePoint(0))&&n.length<6;)n+=Ma(this.consumeCodePoint());eC(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||v4e(r)||r>1114111?J7:r}return t===qd?J7:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(Z7(n))t+=Ma(n);else if(kA(n,this.peekCodePoint(0)))t+=Ma(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e})(),cJ=(function(){function e(t){this._tokens=t}return e.create=function(t){var n=new lJ;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||W4e(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Dk:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),xb=function(e){return e.type===15},z1=function(e){return e.type===17},fs=function(e){return e.type===20},z4e=function(e){return e.type===0},Pk=function(e,t){return fs(e)&&e.value===t},uJ=function(e){return e.type!==31},C1=function(e){return e.type!==31&&e.type!==4},Fh=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},W4e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},r0=function(e){return e.type===17||e.type===15},Ya=function(e){return e.type===16||r0(e)},dJ=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Zo={type:17,number:0,flags:mb},AD={type:16,number:50,flags:mb},LA={type:16,number:100,flags:mb},fv=function(e,t,n){var r=e[0],i=e[1];return[Is(r,t),Is(typeof i<"u"?i:r,n)]},Is=function(e,t){if(e.type===16)return e.number/100*t;if(xb(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},hJ="deg",fJ="grad",AJ="rad",pJ="turn",G5={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case hJ:return Math.PI*t.number/180;case fJ:return Math.PI/200*t.number;case AJ:return t.number;case pJ:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},gJ=function(e){return e.type===15&&(e.unit===hJ||e.unit===fJ||e.unit===AJ||e.unit===pJ)},mJ=function(e){var t=e.filter(fs).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Zo,Zo];case"to top":case"bottom":return Fu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Zo,LA];case"to right":case"left":return Fu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[LA,LA];case"to bottom":case"top":return Fu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[LA,Zo];case"to left":case"right":return Fu(270)}return 0},Fu=function(e){return Math.PI*e/180},WA={name:"color",parse:function(e,t){if(t.type===18){var n=K4e[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);return OA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3),a=t.value.substring(3,4);return OA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6);return OA(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),a=t.value.substring(6,8);return OA(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(t.type===20){var o=gf[t.value.toUpperCase()];if(typeof o<"u")return o}return gf.TRANSPARENT}},KA=function(e){return(255&e)===0},Fo=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},OA=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},e9=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},t9=function(e,t){var n=t.filter(C1);if(n.length===3){var r=n.map(e9),i=r[0],s=r[1],a=r[2];return OA(i,s,a,1)}if(n.length===4){var o=n.map(e9),i=o[0],s=o[1],a=o[2],l=o[3];return OA(i,s,a,l)}return 0};function RI(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var n9=function(e,t){var n=t.filter(C1),r=n[0],i=n[1],s=n[2],a=n[3],o=(r.type===17?Fu(r.number):G5.parse(e,r))/(Math.PI*2),l=Ya(i)?i.number/100:0,c=Ya(s)?s.number/100:0,d=typeof a<"u"&&Ya(a)?Is(a,1):1;if(l===0)return OA(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,m=RI(p,f,o+1/3),w=RI(p,f,o),y=RI(p,f,o-1/3);return OA(m*255,w*255,y*255,d)},K4e={hsl:n9,hsla:n9,rgb:t9,rgba:t9},Iv=function(e,t){return WA.parse(e,cJ.create(t).parseComponentValue())},gf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},q4e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(fs(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$4e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},V5=function(e,t){var n=WA.parse(e,t[0]),r=t[1];return r&&Ya(r)?{color:n,stop:r}:{color:n,stop:null}},r9=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=Zo),r.stop===null&&(r.stop=LA);for(var i=[],s=0,a=0;a<e.length;a++){var o=e[a].stop;if(o!==null){var l=Is(o,t);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var d=i[a];if(d===null)c===null&&(c=a);else if(c!==null){for(var f=a-c,p=i[c-1],m=(d-p)/(f+1),w=1;w<=f;w++)i[c+w-1]=m*w;c=null}}return e.map(function(y,C){var T=y.color;return{color:T,stop:Math.max(Math.min(1,i[C]/t),0)}})},Y4e=function(e,t,n){var r=t/2,i=n/2,s=Is(e[0],t)-r,a=i-Is(e[1],n);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},X4e=function(e,t,n){var r=typeof e=="number"?e:Y4e(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),s=t/2,a=n/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,c=Math.cos(r-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},ld=function(e,t){return Math.sqrt(e*e+t*t)},i9=function(e,t,n,r,i){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(a,o){var l=o[0],c=o[1],d=ld(n-l,r-c);return(i?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},J4e=function(e,t,n,r,i){var s=0,a=0;switch(e.size){case 0:e.shape===0?s=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)s=a=Math.min(ld(t,n),ld(t,n-i),ld(t-r,n),ld(t-r,n-i));else if(e.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=i9(r,i,t,n,!0),c=l[0],d=l[1];s=ld(c-t,(d-n)/o),a=o*s}break;case 1:e.shape===0?s=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)s=a=Math.max(ld(t,n),ld(t,n-i),ld(t-r,n),ld(t-r,n-i));else if(e.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),f=i9(r,i,t,n,!1),c=f[0],d=f[1];s=ld(c-t,(d-n)/o),a=o*s}break}return Array.isArray(e.size)&&(s=Is(e.size[0],r),a=e.size.length===2?Is(e.size[1],i):s),[s,a]},Z4e=function(e,t){var n=Fu(180),r=[];return Fh(t).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){n=mJ(i);return}else if(gJ(a)){n=G5.parse(e,a);return}}var o=V5(e,i);r.push(o)}),{angle:n,stops:r,type:1}},rC=function(e,t){var n=Fu(180),r=[];return Fh(t).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=mJ(i);return}else if(gJ(a)){n=(G5.parse(e,a)+Fu(270))%Fu(360);return}}var o=V5(e,i);r.push(o)}),{angle:n,stops:r,type:1}},eTe=function(e,t){var n=Fu(180),r=[],i=1,s=0,a=3,o=[];return Fh(t).forEach(function(l,c){var d=l[0];if(c===0){if(fs(d)&&d.value==="linear"){i=1;return}else if(fs(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var f=WA.parse(e,d.values[0]);r.push({stop:Zo,color:f})}else if(d.name==="to"){var f=WA.parse(e,d.values[0]);r.push({stop:LA,color:f})}else if(d.name==="color-stop"){var p=d.values.filter(C1);if(p.length===2){var f=WA.parse(e,p[1]),m=p[0];z1(m)&&r.push({stop:{type:16,number:m.number*100,flags:m.flags},color:f})}}}}),i===1?{angle:(n+Fu(180))%Fu(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},xJ="closest-side",vJ="farthest-side",wJ="closest-corner",bJ="farthest-corner",yJ="circle",CJ="ellipse",SJ="cover",EJ="contain",tTe=function(e,t){var n=0,r=3,i=[],s=[];return Fh(t).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(f,p){if(c)if(fs(p))switch(p.value){case"center":return s.push(AD),f;case"top":case"left":return s.push(Zo),f;case"right":case"bottom":return s.push(LA),f}else(Ya(p)||r0(p))&&s.push(p);else if(fs(p))switch(p.value){case yJ:return n=0,!1;case CJ:return n=1,!1;case"at":return c=!0,!1;case xJ:return r=0,!1;case SJ:case vJ:return r=1,!1;case EJ:case wJ:return r=2,!1;case bJ:return r=3,!1}else if(r0(p)||Ya(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return f},l)}if(l){var d=V5(e,a);i.push(d)}}),{size:r,shape:n,stops:i,position:s,type:2}},iC=function(e,t){var n=0,r=3,i=[],s=[];return Fh(t).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,f){if(fs(f))switch(f.value){case"center":return s.push(AD),!1;case"top":case"left":return s.push(Zo),!1;case"right":case"bottom":return s.push(LA),!1}else if(Ya(f)||r0(f))return s.push(f),!1;return d},l):o===1&&(l=a.reduce(function(d,f){if(fs(f))switch(f.value){case yJ:return n=0,!1;case CJ:return n=1,!1;case EJ:case xJ:return r=0,!1;case vJ:return r=1,!1;case wJ:return r=2,!1;case SJ:case bJ:return r=3,!1}else if(r0(f)||Ya(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return d},l)),l){var c=V5(e,a);i.push(c)}}),{size:r,shape:n,stops:i,position:s,type:2}},nTe=function(e){return e.type===1},rTe=function(e){return e.type===2},pD={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=NJ[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function iTe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!NJ[e.name])}var NJ={"linear-gradient":Z4e,"-moz-linear-gradient":rC,"-ms-linear-gradient":rC,"-o-linear-gradient":rC,"-webkit-linear-gradient":rC,"radial-gradient":tTe,"-moz-radial-gradient":iC,"-ms-radial-gradient":iC,"-o-radial-gradient":iC,"-webkit-radial-gradient":iC,"-webkit-gradient":eTe},sTe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return C1(r)&&iTe(r)}).map(function(r){return pD.parse(e,r)})}},aTe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(fs(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oTe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Fh(t).map(function(n){return n.filter(Ya)}).map(dJ)}},lTe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Fh(t).map(function(n){return n.filter(fs).map(function(r){return r.value}).join(" ")}).map(cTe)}},cTe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},jm;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(jm||(jm={}));var uTe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Fh(t).map(function(n){return n.filter(dTe)})}},dTe=function(e){return fs(e)||Ya(e)},Q5=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},hTe=Q5("top"),fTe=Q5("right"),ATe=Q5("bottom"),pTe=Q5("left"),z5=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return dJ(n.filter(Ya))}}},gTe=z5("top-left"),mTe=z5("top-right"),xTe=z5("bottom-right"),vTe=z5("bottom-left"),W5=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},wTe=W5("top"),bTe=W5("right"),yTe=W5("bottom"),CTe=W5("left"),K5=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return xb(n)?n.number:0}}},STe=K5("top"),ETe=K5("right"),NTe=K5("bottom"),TTe=K5("left"),ITe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},FTe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},kTe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(fs).reduce(function(n,r){return n|BTe(r.value)},0)}},BTe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},RTe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},_Te={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},LS;(function(e){e.NORMAL="normal",e.STRICT="strict"})(LS||(LS={}));var DTe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return LS.STRICT;case"normal":default:return LS.NORMAL}}},PTe={name:"line-height",initialValue:"normal",prefix:!1,type:4},s9=function(e,t){return fs(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ya(e)?Is(e,t):t},MTe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:pD.parse(e,t)}},LTe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Mk={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},q5=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},OTe=q5("top"),jTe=q5("right"),UTe=q5("bottom"),HTe=q5("left"),GTe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(fs).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},VTe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},$5=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},QTe=$5("top"),zTe=$5("right"),WTe=$5("bottom"),KTe=$5("left"),qTe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$Te={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},YTe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Pk(t[0],"none")?[]:Fh(t).map(function(n){for(var r={color:gf.TRANSPARENT,offsetX:Zo,offsetY:Zo,blur:Zo},i=0,s=0;s<n.length;s++){var a=n[s];r0(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=WA.parse(e,a)}return r})}},XTe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},JTe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=tIe[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},ZTe=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},eIe=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],o=t[13];return t[14],t[15],t.length===16?[n,r,i,s,a,o]:null},tIe={matrix:ZTe,matrix3d:eIe},a9={type:16,number:50,flags:mb},nIe=[a9,a9],rIe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Ya);return n.length!==2?nIe:[n[0],n[1]]}},iIe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Fv;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Fv||(Fv={}));var sIe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Fv.BREAK_ALL;case"keep-all":return Fv.KEEP_ALL;case"normal":default:return Fv.NORMAL}}},aIe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(z1(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},TJ={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},oIe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return z1(t)?t.number:1}},lIe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cIe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(fs).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},uIe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},dIe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},hIe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(z1(t))return t.number;if(fs(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},fIe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(fs).map(function(n){return n.value})}},AIe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},co=function(e,t){return(e&t)!==0},pIe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},gIe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=t.filter(uJ),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&z1(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},mIe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(uJ),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(fs(s)&&s.value!=="none"){var o=a&&z1(a)?a.number:0;n.push({counter:s.value,reset:o})}}return n}},xIe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(xb).map(function(n){return TJ.parse(e,n)})}},vIe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],i=t.filter(z4e);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},o9=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},wIe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Pk(t[0],"none")?[]:Fh(t).map(function(n){for(var r={color:255,offsetX:Zo,offsetY:Zo,blur:Zo,spread:Zo,inset:!1},i=0,s=0;s<n.length;s++){var a=n[s];Pk(a,"inset")?r.inset=!0:r0(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=WA.parse(e,a)}return r})}},bIe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(fs).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},yIe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},CIe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return xb(t)?t.number:0}},SIe=(function(){function e(t,n){var r,i;this.animationDuration=rr(t,xIe,n.animationDuration),this.backgroundClip=rr(t,q4e,n.backgroundClip),this.backgroundColor=rr(t,$4e,n.backgroundColor),this.backgroundImage=rr(t,sTe,n.backgroundImage),this.backgroundOrigin=rr(t,aTe,n.backgroundOrigin),this.backgroundPosition=rr(t,oTe,n.backgroundPosition),this.backgroundRepeat=rr(t,lTe,n.backgroundRepeat),this.backgroundSize=rr(t,uTe,n.backgroundSize),this.borderTopColor=rr(t,hTe,n.borderTopColor),this.borderRightColor=rr(t,fTe,n.borderRightColor),this.borderBottomColor=rr(t,ATe,n.borderBottomColor),this.borderLeftColor=rr(t,pTe,n.borderLeftColor),this.borderTopLeftRadius=rr(t,gTe,n.borderTopLeftRadius),this.borderTopRightRadius=rr(t,mTe,n.borderTopRightRadius),this.borderBottomRightRadius=rr(t,xTe,n.borderBottomRightRadius),this.borderBottomLeftRadius=rr(t,vTe,n.borderBottomLeftRadius),this.borderTopStyle=rr(t,wTe,n.borderTopStyle),this.borderRightStyle=rr(t,bTe,n.borderRightStyle),this.borderBottomStyle=rr(t,yTe,n.borderBottomStyle),this.borderLeftStyle=rr(t,CTe,n.borderLeftStyle),this.borderTopWidth=rr(t,STe,n.borderTopWidth),this.borderRightWidth=rr(t,ETe,n.borderRightWidth),this.borderBottomWidth=rr(t,NTe,n.borderBottomWidth),this.borderLeftWidth=rr(t,TTe,n.borderLeftWidth),this.boxShadow=rr(t,wIe,n.boxShadow),this.color=rr(t,ITe,n.color),this.direction=rr(t,FTe,n.direction),this.display=rr(t,kTe,n.display),this.float=rr(t,RTe,n.cssFloat),this.fontFamily=rr(t,uIe,n.fontFamily),this.fontSize=rr(t,dIe,n.fontSize),this.fontStyle=rr(t,AIe,n.fontStyle),this.fontVariant=rr(t,fIe,n.fontVariant),this.fontWeight=rr(t,hIe,n.fontWeight),this.letterSpacing=rr(t,_Te,n.letterSpacing),this.lineBreak=rr(t,DTe,n.lineBreak),this.lineHeight=rr(t,PTe,n.lineHeight),this.listStyleImage=rr(t,MTe,n.listStyleImage),this.listStylePosition=rr(t,LTe,n.listStylePosition),this.listStyleType=rr(t,Mk,n.listStyleType),this.marginTop=rr(t,OTe,n.marginTop),this.marginRight=rr(t,jTe,n.marginRight),this.marginBottom=rr(t,UTe,n.marginBottom),this.marginLeft=rr(t,HTe,n.marginLeft),this.opacity=rr(t,oIe,n.opacity);var s=rr(t,GTe,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=rr(t,VTe,n.overflowWrap),this.paddingTop=rr(t,QTe,n.paddingTop),this.paddingRight=rr(t,zTe,n.paddingRight),this.paddingBottom=rr(t,WTe,n.paddingBottom),this.paddingLeft=rr(t,KTe,n.paddingLeft),this.paintOrder=rr(t,bIe,n.paintOrder),this.position=rr(t,$Te,n.position),this.textAlign=rr(t,qTe,n.textAlign),this.textDecorationColor=rr(t,lIe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=rr(t,cIe,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=rr(t,YTe,n.textShadow),this.textTransform=rr(t,XTe,n.textTransform),this.transform=rr(t,JTe,n.transform),this.transformOrigin=rr(t,rIe,n.transformOrigin),this.visibility=rr(t,iIe,n.visibility),this.webkitTextStrokeColor=rr(t,yIe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=rr(t,CIe,n.webkitTextStrokeWidth),this.wordBreak=rr(t,sIe,n.wordBreak),this.zIndex=rr(t,aIe,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return KA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return co(this.display,4)||co(this.display,33554432)||co(this.display,268435456)||co(this.display,536870912)||co(this.display,67108864)||co(this.display,134217728)},e})(),EIe=(function(){function e(t,n){this.content=rr(t,pIe,n.content),this.quotes=rr(t,vIe,n.quotes)}return e})(),l9=(function(){function e(t,n){this.counterIncrement=rr(t,gIe,n.counterIncrement),this.counterReset=rr(t,mIe,n.counterReset)}return e})(),rr=function(e,t,n){var r=new lJ,i=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(i);var s=new cJ(r.read());switch(t.type){case 2:var a=s.parseComponentValue();return t.parse(e,fs(a)?a.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return G5.parse(e,s.parseComponentValue());case"color":return WA.parse(e,s.parseComponentValue());case"image":return pD.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return r0(o)?o:Zo;case"length-percentage":var l=s.parseComponentValue();return Ya(l)?l:Zo;case"time":return TJ.parse(e,s.parseComponentValue())}break}},NIe="data-html2canvas-debug",TIe=function(e){var t=e.getAttribute(NIe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Lk=function(e,t){var n=TIe(e);return n===1||t===n},kh=(function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Lk(n,3))debugger;this.styles=new SIe(t,window.getComputedStyle(n,null)),Uk(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=U5(this.context,n),Lk(n,4)&&(this.flags|=16)}return e})(),IIe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",c9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Av=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sC=0;sC<c9.length;sC++)Av[c9.charCodeAt(sC)]=sC;var FIe=function(e){var t=e.length*.75,n=e.length,r,i=0,s,a,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)s=Av[e.charCodeAt(r)],a=Av[e.charCodeAt(r+1)],o=Av[e.charCodeAt(r+2)],l=Av[e.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return c},kIe=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},BIe=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},pp=5,gD=11,_I=2,RIe=gD-pp,IJ=65536>>pp,_Ie=1<<pp,DI=_Ie-1,DIe=1024>>pp,PIe=IJ+DIe,MIe=PIe,LIe=32,OIe=MIe+LIe,jIe=65536>>gD,UIe=1<<RIe,HIe=UIe-1,u9=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},GIe=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},VIe=function(e,t){var n=FIe(e),r=Array.isArray(n)?BIe(n):new Uint32Array(n),i=Array.isArray(n)?kIe(n):new Uint16Array(n),s=24,a=u9(i,s/2,r[4]/2),o=r[5]===2?u9(i,(s+r[4])/2):GIe(r,Math.ceil((s+r[4])/4));return new QIe(r[0],r[1],r[2],r[3],a,o)},QIe=(function(){function e(t,n,r,i,s,a){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>pp],n=(n<<_I)+(t&DI),this.data[n];if(t<=65535)return n=this.index[IJ+(t-55296>>pp)],n=(n<<_I)+(t&DI),this.data[n];if(t<this.highStart)return n=OIe-jIe+(t>>gD),n=this.index[n],n+=t>>pp&HIe,n=this.index[n],n=(n<<_I)+(t&DI),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),d9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zIe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var aC=0;aC<d9.length;aC++)zIe[d9.charCodeAt(aC)]=aC;var WIe=1,PI=2,MI=3,h9=4,f9=5,KIe=7,A9=8,LI=9,OI=10,p9=11,g9=12,m9=13,x9=14,jI=15,qIe=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},$Ie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},YIe=VIe(IIe),yu="",UI="",XIe=function(e){return YIe.get(e)},JIe=function(e,t,n){var r=n-2,i=t[r],s=t[n-1],a=t[n];if(s===PI&&a===MI)return yu;if(s===PI||s===MI||s===h9||a===PI||a===MI||a===h9)return UI;if(s===A9&&[A9,LI,p9,g9].indexOf(a)!==-1||(s===p9||s===LI)&&(a===LI||a===OI)||(s===g9||s===OI)&&a===OI||a===m9||a===f9||a===KIe||s===WIe)return yu;if(s===m9&&a===x9){for(;i===f9;)i=t[--r];if(i===x9)return yu}if(s===jI&&a===jI){for(var o=0;i===jI;)o++,i=t[--r];if(o%2===0)return yu}return UI},ZIe=function(e){var t=qIe(e),n=t.length,r=0,i=0,s=t.map(XIe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var a=yu;r<n&&(a=JIe(t,s,++r))===yu;);if(a!==yu||r===n){var o=$Ie.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},eFe=function(e){for(var t=ZIe(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},tFe=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(e.body.removeChild(r),s===t)return!0}}return!1},nFe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,i=H5(r.data).map(function(l){return Ma(l)}),s=0,a={},o=i.every(function(l,c){n.setStart(r,s),n.setEnd(r,s+l.length);var d=n.getBoundingClientRect();s+=l.length;var f=d.x>a.x||d.y>a.y;return a=d,c===0?!0:f});return e.body.removeChild(t),o},rFe=function(){return typeof new Image().crossOrigin<"u"},iFe=function(){return typeof new XMLHttpRequest().responseType=="string"},sFe=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},v9=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},aFe=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=t.toDataURL();i.src=s;var a=Ok(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),w9(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=e.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=n+"px",v9(l)?w9(Ok(n,n,0,0,c)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),v9(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Ok=function(e,t,n,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},w9=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Xo={get SUPPORT_RANGE_BOUNDS(){var e=tFe(document);return Object.defineProperty(Xo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Xo.SUPPORT_RANGE_BOUNDS&&nFe(document);return Object.defineProperty(Xo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=sFe(document);return Object.defineProperty(Xo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?aFe(document):Promise.resolve(!1);return Object.defineProperty(Xo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=rFe();return Object.defineProperty(Xo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=iFe();return Object.defineProperty(Xo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Xo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},kv=(function(){function e(t,n){this.text=t,this.bounds=n}return e})(),oFe=function(e,t,n,r){var i=uFe(t,n),s=[],a=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Xo.SUPPORT_RANGE_BOUNDS){var l=b9(r,a,o.length).getClientRects();if(l.length>1){var c=mD(o),d=0;c.forEach(function(p){s.push(new kv(p,Bf.fromDOMRectList(e,b9(r,d+a,p.length).getClientRects()))),d+=p.length})}else s.push(new kv(o,Bf.fromDOMRectList(e,l)))}else{var f=r.splitText(o.length);s.push(new kv(o,lFe(e,r))),r=f}else Xo.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},lFe=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var s=U5(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Bf.EMPTY},b9=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},mD=function(e){if(Xo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return eFe(e)},cFe=function(e,t){if(Xo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return hFe(e,t)},uFe=function(e,t){return t.letterSpacing!==0?mD(e):cFe(e,t)},dFe=[32,160,4961,65792,65793,4153,4241],hFe=function(e,t){for(var n=jNe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=H5(a),l="";o.forEach(function(c){dFe.indexOf(c)===-1?l+=Ma(c):(l.length&&r.push(l),r.push(Ma(c)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)s();return r},fFe=(function(){function e(t,n,r){this.text=AFe(n.data,r.textTransform),this.textBounds=oFe(t,this.text,r,n)}return e})(),AFe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(pFe,gFe);case 2:return e.toUpperCase();default:return e}},pFe=/(^|\s|:|-|\(|\))([a-z])/g,gFe=function(e,t,n){return e.length>0?t+n.toUpperCase():e},FJ=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return t})(kh),kJ=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return t})(kh),BJ=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this,s=new XMLSerializer,a=U5(n,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t})(kh),RJ=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t})(kh),jk=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return t})(kh),mFe=[{type:15,flags:0,unit:"px",number:3}],xFe=[{type:16,flags:0,number:50}],vFe=function(e){return e.width>e.height?new Bf(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Bf(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},wFe=function(e){var t=e.type===bFe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},OS="checkbox",jS="radio",bFe="password",y9=707406591,xD=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=wFe(r),(i.type===OS||i.type===jS)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=vFe(i.bounds)),i.type){case OS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=mFe;break;case jS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=xFe;break}return i}return t})(kh),_J=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return t})(kh),DJ=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t})(kh),PJ=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=LJ(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Iv(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):gf.TRANSPARENT,a=r.contentWindow.document.body?Iv(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):gf.TRANSPARENT;i.backgroundColor=KA(s)?KA(a)?i.styles.backgroundColor:a:s}}catch{}return i}return t})(kh),yFe=["OL","UL","MENU"],i2=function(e,t,n,r){for(var i=t.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,OJ(i)&&i.data.trim().length>0)n.textNodes.push(new fFe(e,i,n.styles));else if(Cm(i))if(GJ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return i2(e,o,n,r)});else{var a=MJ(e,i);a.styles.isVisible()&&(CFe(i,a,r)?a.flags|=4:SFe(a.styles)&&(a.flags|=2),yFe.indexOf(i.tagName)!==-1&&(a.flags|=8),n.elements.push(a),i.slot,i.shadowRoot?i2(e,i.shadowRoot,a,r):!US(i)&&!jJ(i)&&!HS(i)&&i2(e,i,a,r))}},MJ=function(e,t){return Hk(t)?new FJ(e,t):UJ(t)?new kJ(e,t):jJ(t)?new BJ(e,t):EFe(t)?new RJ(e,t):NFe(t)?new jk(e,t):TFe(t)?new xD(e,t):HS(t)?new _J(e,t):US(t)?new DJ(e,t):HJ(t)?new PJ(e,t):new kh(e,t)},LJ=function(e,t){var n=MJ(e,t);return n.flags|=4,i2(e,t,n,n),n},CFe=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||vD(e)&&n.styles.isTransparent()},SFe=function(e){return e.isPositioned()||e.isFloating()},OJ=function(e){return e.nodeType===Node.TEXT_NODE},Cm=function(e){return e.nodeType===Node.ELEMENT_NODE},Uk=function(e){return Cm(e)&&typeof e.style<"u"&&!s2(e)},s2=function(e){return typeof e.className=="object"},EFe=function(e){return e.tagName==="LI"},NFe=function(e){return e.tagName==="OL"},TFe=function(e){return e.tagName==="INPUT"},IFe=function(e){return e.tagName==="HTML"},jJ=function(e){return e.tagName==="svg"},vD=function(e){return e.tagName==="BODY"},UJ=function(e){return e.tagName==="CANVAS"},C9=function(e){return e.tagName==="VIDEO"},Hk=function(e){return e.tagName==="IMG"},HJ=function(e){return e.tagName==="IFRAME"},S9=function(e){return e.tagName==="STYLE"},FFe=function(e){return e.tagName==="SCRIPT"},US=function(e){return e.tagName==="TEXTAREA"},HS=function(e){return e.tagName==="SELECT"},GJ=function(e){return e.tagName==="SLOT"},E9=function(e){return e.tagName.indexOf("-")>0},kFe=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,i=t.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=n.counters[o.counter];a.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),a},e})(),N9={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},T9={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},BFe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},RFe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},em=function(e,t,n,r,i,s){return e<t||e>n?vw(e,i,s.length>0):r.integers.reduce(function(a,o,l){for(;e>=o;)e-=o,a+=r.values[l];return a},"")+s},VJ=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},_a=function(e,t,n,r,i){var s=n-t+1;return(e<0?"-":"")+(VJ(Math.abs(e),s,r,function(a){return Ma(Math.floor(a%s)+t)})+i)},M0=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return VJ(Math.abs(e),r,!1,function(i){return t[Math.floor(i%r)]})+n},um=1,NA=2,TA=4,pv=8,Jh=function(e,t,n,r,i,s){if(e<-9999||e>9999)return vw(e,4,i.length>0);var a=Math.abs(e),o=i;if(a===0)return t[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&co(s,um)&&o!==""?o=t[c]+o:c>1||c===1&&l===0||c===1&&l===1&&co(s,NA)||c===1&&l===1&&co(s,TA)&&e>100||c===1&&l>1&&co(s,pv)?o=t[c]+(l>0?n[l-1]:"")+o:c===1&&l>0&&(o=n[l-1]+o),a=Math.floor(a/10)}return(e<0?r:"")+o},I9="",F9="",k9="",HI="",vw=function(e,t,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",a=n?" ":"";switch(t){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=_a(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return M0(e,"",i);case 6:return em(e,1,3999,N9,3,r).toLowerCase();case 7:return em(e,1,3999,N9,3,r);case 8:return _a(e,945,969,!1,r);case 9:return _a(e,97,122,!1,r);case 10:return _a(e,65,90,!1,r);case 11:return _a(e,1632,1641,!0,r);case 12:case 49:return em(e,1,9999,T9,3,r);case 35:return em(e,1,9999,T9,3,r).toLowerCase();case 13:return _a(e,2534,2543,!0,r);case 14:case 30:return _a(e,6112,6121,!0,r);case 15:return M0(e,"",i);case 16:return M0(e,"",i);case 17:case 48:return Jh(e,"",I9,"",i,NA|TA|pv);case 47:return Jh(e,"",F9,"",i,um|NA|TA|pv);case 42:return Jh(e,"",I9,"",i,NA|TA|pv);case 41:return Jh(e,"",F9,"",i,um|NA|TA|pv);case 26:return Jh(e,"","",k9,i,0);case 25:return Jh(e,"","",k9,i,um|NA|TA);case 31:return Jh(e,"","",HI,s,um|NA|TA);case 33:return Jh(e,"","",HI,s,0);case 32:return Jh(e,"","",HI,s,um|NA|TA);case 18:return _a(e,2406,2415,!0,r);case 20:return em(e,1,19999,RFe,3,r);case 21:return _a(e,2790,2799,!0,r);case 22:return _a(e,2662,2671,!0,r);case 22:return em(e,1,10999,BFe,3,r);case 23:return M0(e,"");case 24:return M0(e,"");case 27:return _a(e,3302,3311,!0,r);case 28:return M0(e,"",i);case 29:return M0(e,"",i);case 34:return _a(e,3792,3801,!0,r);case 37:return _a(e,6160,6169,!0,r);case 38:return _a(e,4160,4169,!0,r);case 39:return _a(e,2918,2927,!0,r);case 40:return _a(e,1776,1785,!0,r);case 43:return _a(e,3046,3055,!0,r);case 44:return _a(e,3174,3183,!0,r);case 45:return _a(e,3664,3673,!0,r);case 46:return _a(e,3872,3881,!0,r);case 3:default:return _a(e,48,57,!0,r)}},QJ="data-html2canvas-ignore",B9=(function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new kFe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,i=_Fe(t,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=MFe(i).then(function(){return Ul(r,void 0,void 0,function(){var d,f;return vl(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(UFe),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,PFe(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,f)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(OFe(document.doctype)+"<html></html>"),jFe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(Lk(t,2))debugger;if(UJ(t))return this.createCanvasClone(t);if(C9(t))return this.createVideoClone(t);if(S9(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return Hk(n)&&(Hk(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),E9(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return GI(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=t.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var s=t.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var o=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,n,r){(!Cm(n)||!FFe(n)&&!n.hasAttribute(QJ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Cm(n)||!S9(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var i=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(Cm(s)&&GJ(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,s,r)},e.prototype.cloneNode=function(t,n){if(OJ(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&Cm(t)&&(Uk(t)||s2(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var s=r.getComputedStyle(t),a=r.getComputedStyle(t,":before"),o=r.getComputedStyle(t,":after");this.referenceElement===t&&Uk(i)&&(this.clonedReferenceElement=i),vD(i)&&VFe(i);var l=this.counters.parse(new l9(this.context,s)),c=this.resolvePseudoContent(t,i,a,Bv.BEFORE);E9(t)&&(n=!0),C9(t)||this.cloneChildNodes(t,i,n),c&&i.insertBefore(c,i.firstChild);var d=this.resolvePseudoContent(t,i,o,Bv.AFTER);return d&&i.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||s2(t))&&!HJ(t)||n)&&GI(s,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(US(t)||HS(t))&&(US(i)||HS(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,i){var s=this;if(r){var a=r.content,o=n.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new l9(this.context,r));var l=new EIe(this.context,r),c=o.createElement("html2canvaspseudoelement");GI(r,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(o.createTextNode(f.value));else if(f.type===22){var p=o.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var m=f.values.filter(fs);m.length&&c.appendChild(o.createTextNode(t.getAttribute(m[0].value)||""))}else if(f.name==="counter"){var w=f.values.filter(C1),y=w[0],C=w[1];if(y&&fs(y)){var T=s.counters.getCounterValue(y.value),k=C&&fs(C)?Mk.parse(s.context,C.value):3;c.appendChild(o.createTextNode(vw(T,k,!1)))}}else if(f.name==="counters"){var R=f.values.filter(C1),y=R[0],P=R[1],C=R[2];if(y&&fs(y)){var U=s.counters.getCounterValues(y.value),O=C&&fs(C)?Mk.parse(s.context,C.value):3,L=P&&P.type===0?P.value:"",K=U.map(function(G){return vw(G,O,!1)}).join(L);c.appendChild(o.createTextNode(K))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(o.createTextNode(o9(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(o9(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(f.value))}}),c.className=Gk+" "+Vk;var d=i===Bv.BEFORE?" "+Gk:" "+Vk;return s2(n)?n.className.baseValue+=d:n.className+=d,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),Bv;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Bv||(Bv={}));var _Fe=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(QJ,"true"),e.body.appendChild(n),n},DFe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},PFe=function(e){return Promise.all([].slice.call(e.images,0).map(DFe))},MFe=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},LFe=["all","d","content"],GI=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);LFe.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},OFe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},jFe=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},UFe=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},HFe=":before",GFe=":after",Gk="___html2canvas___pseudoelement_before",Vk="___html2canvas___pseudoelement_after",R9=`{
    content: "" !important;
    display: none !important;
}`,VFe=function(e){QFe(e,"."+Gk+HFe+R9+`
         .`+Vk+GFe+R9)},QFe=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},zJ=(function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),zFe=(function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(QI(t)||$Fe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ul(this,void 0,void 0,function(){var n,r,i,s,a=this;return vl(this,function(o){switch(o.label){case 0:return n=zJ.isSameOrigin(t),r=!VI(t)&&this._options.useCORS===!0&&Xo.SUPPORT_CORS_IMAGES&&!n,i=!VI(t)&&!n&&!QI(t)&&typeof this._options.proxy=="string"&&Xo.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!VI(t)&&!QI(t)&&!i&&!r?[2]:(s=t,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var d=new Image;d.onload=function(){return l(d)},d.onerror=c,(YFe(s)||r)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(s,a){var o=Xo.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(p){return a(p)},!1),f.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var d=n._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+i)}}l.send()})},e})(),WFe=/^data:image\/svg\+xml/i,KFe=/^data:image\/.*;base64,/i,qFe=/^data:image\/.*/i,$Fe=function(e){return Xo.SUPPORT_SVG_DRAWING||!XFe(e)},VI=function(e){return qFe.test(e)},YFe=function(e){return KFe.test(e)},QI=function(e){return e.substr(0,4)==="blob"},XFe=function(e){return e.substr(-3).toLowerCase()==="svg"||WFe.test(e)},Yn=(function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e})(),tm=function(e,t,n){return new Yn(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},oC=(function(){function e(t,n,r,i){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return e.prototype.subdivide=function(t,n){var r=tm(this.start,this.startControl,t),i=tm(this.startControl,this.endControl,t),s=tm(this.endControl,this.end,t),a=tm(r,i,t),o=tm(i,s,t),l=tm(a,o,t);return n?new e(this.start,r,a,l):new e(l,o,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Nu=function(e){return e.type===1},JFe=(function(){function e(t){var n=t.styles,r=t.bounds,i=fv(n.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=fv(n.borderTopRightRadius,r.width,r.height),l=o[0],c=o[1],d=fv(n.borderBottomRightRadius,r.width,r.height),f=d[0],p=d[1],m=fv(n.borderBottomLeftRadius,r.width,r.height),w=m[0],y=m[1],C=[];C.push((s+l)/r.width),C.push((w+f)/r.width),C.push((a+y)/r.height),C.push((c+p)/r.height);var T=Math.max.apply(Math,C);T>1&&(s/=T,a/=T,l/=T,c/=T,f/=T,p/=T,w/=T,y/=T);var k=r.width-l,R=r.height-p,P=r.width-f,U=r.height-y,O=n.borderTopWidth,L=n.borderRightWidth,K=n.borderBottomWidth,j=n.borderLeftWidth,te=Is(n.paddingTop,t.bounds.width),G=Is(n.paddingRight,t.bounds.width),V=Is(n.paddingBottom,t.bounds.width),re=Is(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?zs(r.left+j/3,r.top+O/3,s-j/3,a-O/3,Zi.TOP_LEFT):new Yn(r.left+j/3,r.top+O/3),this.topRightBorderDoubleOuterBox=s>0||a>0?zs(r.left+k,r.top+O/3,l-L/3,c-O/3,Zi.TOP_RIGHT):new Yn(r.left+r.width-L/3,r.top+O/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?zs(r.left+P,r.top+R,f-L/3,p-K/3,Zi.BOTTOM_RIGHT):new Yn(r.left+r.width-L/3,r.top+r.height-K/3),this.bottomLeftBorderDoubleOuterBox=w>0||y>0?zs(r.left+j/3,r.top+U,w-j/3,y-K/3,Zi.BOTTOM_LEFT):new Yn(r.left+j/3,r.top+r.height-K/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?zs(r.left+j*2/3,r.top+O*2/3,s-j*2/3,a-O*2/3,Zi.TOP_LEFT):new Yn(r.left+j*2/3,r.top+O*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?zs(r.left+k,r.top+O*2/3,l-L*2/3,c-O*2/3,Zi.TOP_RIGHT):new Yn(r.left+r.width-L*2/3,r.top+O*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?zs(r.left+P,r.top+R,f-L*2/3,p-K*2/3,Zi.BOTTOM_RIGHT):new Yn(r.left+r.width-L*2/3,r.top+r.height-K*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||y>0?zs(r.left+j*2/3,r.top+U,w-j*2/3,y-K*2/3,Zi.BOTTOM_LEFT):new Yn(r.left+j*2/3,r.top+r.height-K*2/3),this.topLeftBorderStroke=s>0||a>0?zs(r.left+j/2,r.top+O/2,s-j/2,a-O/2,Zi.TOP_LEFT):new Yn(r.left+j/2,r.top+O/2),this.topRightBorderStroke=s>0||a>0?zs(r.left+k,r.top+O/2,l-L/2,c-O/2,Zi.TOP_RIGHT):new Yn(r.left+r.width-L/2,r.top+O/2),this.bottomRightBorderStroke=f>0||p>0?zs(r.left+P,r.top+R,f-L/2,p-K/2,Zi.BOTTOM_RIGHT):new Yn(r.left+r.width-L/2,r.top+r.height-K/2),this.bottomLeftBorderStroke=w>0||y>0?zs(r.left+j/2,r.top+U,w-j/2,y-K/2,Zi.BOTTOM_LEFT):new Yn(r.left+j/2,r.top+r.height-K/2),this.topLeftBorderBox=s>0||a>0?zs(r.left,r.top,s,a,Zi.TOP_LEFT):new Yn(r.left,r.top),this.topRightBorderBox=l>0||c>0?zs(r.left+k,r.top,l,c,Zi.TOP_RIGHT):new Yn(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||p>0?zs(r.left+P,r.top+R,f,p,Zi.BOTTOM_RIGHT):new Yn(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=w>0||y>0?zs(r.left,r.top+U,w,y,Zi.BOTTOM_LEFT):new Yn(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?zs(r.left+j,r.top+O,Math.max(0,s-j),Math.max(0,a-O),Zi.TOP_LEFT):new Yn(r.left+j,r.top+O),this.topRightPaddingBox=l>0||c>0?zs(r.left+Math.min(k,r.width-L),r.top+O,k>r.width+L?0:Math.max(0,l-L),Math.max(0,c-O),Zi.TOP_RIGHT):new Yn(r.left+r.width-L,r.top+O),this.bottomRightPaddingBox=f>0||p>0?zs(r.left+Math.min(P,r.width-j),r.top+Math.min(R,r.height-K),Math.max(0,f-L),Math.max(0,p-K),Zi.BOTTOM_RIGHT):new Yn(r.left+r.width-L,r.top+r.height-K),this.bottomLeftPaddingBox=w>0||y>0?zs(r.left+j,r.top+Math.min(U,r.height-K),Math.max(0,w-j),Math.max(0,y-K),Zi.BOTTOM_LEFT):new Yn(r.left+j,r.top+r.height-K),this.topLeftContentBox=s>0||a>0?zs(r.left+j+re,r.top+O+te,Math.max(0,s-(j+re)),Math.max(0,a-(O+te)),Zi.TOP_LEFT):new Yn(r.left+j+re,r.top+O+te),this.topRightContentBox=l>0||c>0?zs(r.left+Math.min(k,r.width+j+re),r.top+O+te,k>r.width+j+re?0:l-j+re,c-(O+te),Zi.TOP_RIGHT):new Yn(r.left+r.width-(L+G),r.top+O+te),this.bottomRightContentBox=f>0||p>0?zs(r.left+Math.min(P,r.width-(j+re)),r.top+Math.min(R,r.height+O+te),Math.max(0,f-(L+G)),p-(K+V),Zi.BOTTOM_RIGHT):new Yn(r.left+r.width-(L+G),r.top+r.height-(K+V)),this.bottomLeftContentBox=w>0||y>0?zs(r.left+j+re,r.top+U,Math.max(0,w-(j+re)),y-(K+V),Zi.BOTTOM_LEFT):new Yn(r.left+j+re,r.top+r.height-(K+V))}return e})(),Zi;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Zi||(Zi={}));var zs=function(e,t,n,r,i){var s=4*((Math.sqrt(2)-1)/3),a=n*s,o=r*s,l=e+n,c=t+r;switch(i){case Zi.TOP_LEFT:return new oC(new Yn(e,c),new Yn(e,c-o),new Yn(l-a,t),new Yn(l,t));case Zi.TOP_RIGHT:return new oC(new Yn(e,t),new Yn(e+a,t),new Yn(l,c-o),new Yn(l,c));case Zi.BOTTOM_RIGHT:return new oC(new Yn(l,t),new Yn(l,t+o),new Yn(e+a,c),new Yn(e,c));case Zi.BOTTOM_LEFT:default:return new oC(new Yn(l,c),new Yn(l-a,c),new Yn(e,t+o),new Yn(e,t))}},GS=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},ZFe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},VS=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},e3e=(function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e})(),lC=(function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e})(),t3e=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),n3e=function(e){return e.type===0},WJ=function(e){return e.type===1},r3e=function(e){return e.type===2},_9=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},i3e=function(e,t,n,r,i){return e.map(function(s,a){switch(a){case 0:return s.add(t,n);case 1:return s.add(t+r,n);case 2:return s.add(t+r,n+i);case 3:return s.add(t,n+i)}return s})},KJ=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),qJ=(function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new JFe(this.container),this.container.styles.opacity<1&&this.effects.push(new t3e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new e3e(r,i,s))}if(this.container.styles.overflowX!==0){var a=GS(this.curves),o=VS(this.curves);_9(a,o)?this.effects.push(new lC(a,6)):(this.effects.push(new lC(a,2)),this.effects.push(new lC(o,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!WJ(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=GS(r.curves),o=VS(r.curves);_9(a,o)||i.unshift(new lC(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return co(l.target,t)})},e})(),Qk=function(e,t,n,r){e.container.elements.forEach(function(i){var s=co(i.flags,4),a=co(i.flags,2),o=new qJ(i,e);co(i.styles.display,2048)&&r.push(o);var l=co(i.flags,8)?[]:r;if(s||a){var c=s||i.styles.isPositioned()?n:t,d=new KJ(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var f=i.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(w,y){return f>w.element.container.styles.zIndex.order?(p=y,!1):p>0}),c.negativeZIndex.splice(p,0,d)}else if(f>0){var m=0;c.positiveZIndex.some(function(w,y){return f>=w.element.container.styles.zIndex.order?(m=y+1,!1):m>0}),c.positiveZIndex.splice(m,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);Qk(o,d,s?d:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Qk(o,t,n,l);co(i.flags,8)&&$J(i,l)})},$J=function(e,t){for(var n=e instanceof jk?e.start:1,r=e instanceof jk?e.reversed:!1,i=0;i<t.length;i++){var s=t[i];s.container instanceof RJ&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=vw(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},s3e=function(e){var t=new qJ(e,null),n=new KJ(t),r=[];return Qk(t,n,n,r),$J(t.container,r),n},D9=function(e,t){switch(t){case 0:return ku(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ku(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ku(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ku(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},a3e=function(e,t){switch(t){case 0:return ku(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ku(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ku(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ku(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},o3e=function(e,t){switch(t){case 0:return ku(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ku(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ku(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ku(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},l3e=function(e,t){switch(t){case 0:return cC(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return cC(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return cC(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return cC(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},cC=function(e,t){var n=[];return Nu(e)?n.push(e.subdivide(.5,!1)):n.push(e),Nu(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ku=function(e,t,n,r){var i=[];return Nu(e)?i.push(e.subdivide(.5,!1)):i.push(e),Nu(n)?i.push(n.subdivide(.5,!0)):i.push(n),Nu(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Nu(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},YJ=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},QS=function(e){var t=e.styles,n=e.bounds,r=Is(t.paddingLeft,n.width),i=Is(t.paddingRight,n.width),s=Is(t.paddingTop,n.width),a=Is(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+s+a))},c3e=function(e,t){return e===0?t.bounds:e===2?QS(t):YJ(t)},u3e=function(e,t){return e===0?t.bounds:e===2?QS(t):YJ(t)},zI=function(e,t,n){var r=c3e(dm(e.styles.backgroundOrigin,t),e),i=u3e(dm(e.styles.backgroundClip,t),e),s=d3e(dm(e.styles.backgroundSize,t),n,r),a=s[0],o=s[1],l=fv(dm(e.styles.backgroundPosition,t),r.width-a,r.height-o),c=h3e(dm(e.styles.backgroundRepeat,t),l,s,r,i),d=Math.round(r.left+l[0]),f=Math.round(r.top+l[1]);return[c,d,f,a,o]},nm=function(e){return fs(e)&&e.value===jm.AUTO},uC=function(e){return typeof e=="number"},d3e=function(e,t,n){var r=t[0],i=t[1],s=t[2],a=e[0],o=e[1];if(!a)return[0,0];if(Ya(a)&&o&&Ya(o))return[Is(a,n.width),Is(o,n.height)];var l=uC(s);if(fs(a)&&(a.value===jm.CONTAIN||a.value===jm.COVER)){if(uC(s)){var c=n.width/n.height;return c<s!=(a.value===jm.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var d=uC(r),f=uC(i),p=d||f;if(nm(a)&&(!o||nm(o))){if(d&&f)return[r,i];if(!l&&!p)return[n.width,n.height];if(p&&l){var m=d?r:i*s,w=f?i:r/s;return[m,w]}var y=d?r:n.width,C=f?i:n.height;return[y,C]}if(l){var T=0,k=0;return Ya(a)?T=Is(a,n.width):Ya(o)&&(k=Is(o,n.height)),nm(a)?T=k*s:(!o||nm(o))&&(k=T/s),[T,k]}var R=null,P=null;if(Ya(a)?R=Is(a,n.width):o&&Ya(o)&&(P=Is(o,n.height)),R!==null&&(!o||nm(o))&&(P=d&&f?R/r*i:n.height),P!==null&&nm(a)&&(R=d&&f?P/i*r:n.width),R!==null&&P!==null)return[R,P];throw new Error("Unable to calculate background-size for element")},dm=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},h3e=function(e,t,n,r,i){var s=t[0],a=t[1],o=n[0],l=n[1];switch(e){case 2:return[new Yn(Math.round(r.left),Math.round(r.top+a)),new Yn(Math.round(r.left+r.width),Math.round(r.top+a)),new Yn(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Yn(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new Yn(Math.round(r.left+s),Math.round(r.top)),new Yn(Math.round(r.left+s+o),Math.round(r.top)),new Yn(Math.round(r.left+s+o),Math.round(r.height+r.top)),new Yn(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Yn(Math.round(r.left+s),Math.round(r.top+a)),new Yn(Math.round(r.left+s+o),Math.round(r.top+a)),new Yn(Math.round(r.left+s+o),Math.round(r.top+a+l)),new Yn(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new Yn(Math.round(i.left),Math.round(i.top)),new Yn(Math.round(i.left+i.width),Math.round(i.top)),new Yn(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Yn(Math.round(i.left),Math.round(i.height+i.top))]}},f3e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",P9="Hidden Text",A3e=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=f3e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(P9)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(P9)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e})(),XJ=(function(){function e(t,n){this.context=t,this.options=n}return e})(),p3e=1e4,g3e=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new A3e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),r3e(n)&&(this.ctx.globalAlpha=n.opacity),n3e(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),WJ(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return Ul(this,void 0,void 0,function(){var r;return vl(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return Ul(this,void 0,void 0,function(){return vl(this,function(r){switch(r.label){case 0:if(co(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var a=mD(n.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,n.bounds.top+i),o+s.ctx.measureText(l).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=b3e(n.fontFamily).join(", "),s=xb(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},t.prototype.renderTextNode=function(n,r){return Ul(this,void 0,void 0,function(){var i,s,a,o,l,c,d,f,p=this;return vl(this,function(m){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,d=l.middle,f=r.paintOrder,n.textBounds.forEach(function(w){f.forEach(function(y){switch(y){case 0:p.ctx.fillStyle=Fo(r.color),p.renderTextWithLetterSpacing(w,r.letterSpacing,c);var C=r.textShadow;C.length&&w.text.trim().length&&(C.slice(0).reverse().forEach(function(T){p.ctx.shadowColor=Fo(T.color),p.ctx.shadowOffsetX=T.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=T.offsetY.number*p.options.scale,p.ctx.shadowBlur=T.blur.number,p.renderTextWithLetterSpacing(w,r.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Fo(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(T){switch(T){case 1:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+c),w.bounds.width,1);break;case 2:p.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:p.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+d),w.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&w.text.trim().length&&(p.ctx.strokeStyle=Fo(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=QS(n),a=VS(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return Ul(this,void 0,void 0,function(){var r,i,s,a,o,l,k,k,c,d,f,p,P,m,w,U,y,C,T,k,R,P,U;return vl(this,function(O){switch(O.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,a=0,o=r.textNodes,O.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:O.sent(),O.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof FJ))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return k=O.sent(),this.renderReplacedElement(r,i,k),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof kJ&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof BJ))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return k=O.sent(),this.renderReplacedElement(r,i,k),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof PJ&&r.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:d=O.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),O.label=14;case 14:if(r instanceof xD&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===OS?r.checked&&(this.ctx.save(),this.path([new Yn(r.bounds.left+f*.39363,r.bounds.top+f*.79),new Yn(r.bounds.left+f*.16,r.bounds.top+f*.5549),new Yn(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new Yn(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new Yn(r.bounds.left+f*.72983,r.bounds.top+f*.23),new Yn(r.bounds.left+f*.84,r.bounds.top+f*.34085),new Yn(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=Fo(y9),this.ctx.fill(),this.ctx.restore()):r.type===jS&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Fo(y9),this.ctx.fill(),this.ctx.restore())),m3e(r)&&r.value.length){switch(p=this.createFontStyle(s),P=p[0],m=p[1],w=this.fontMetrics.getMetrics(P,m).baseline,this.ctx.font=P,this.ctx.fillStyle=Fo(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=v3e(r.styles.textAlign),U=QS(r),y=0,r.styles.textAlign){case 1:y+=U.width/2;break;case 2:y+=U.width;break}C=U.add(y,0,0,-U.height/2+1),this.ctx.save(),this.path([new Yn(U.left,U.top),new Yn(U.left+U.width,U.top),new Yn(U.left+U.width,U.top+U.height),new Yn(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new kv(r.value,C),s.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!co(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(T=r.styles.listStyleImage,T.type!==0)return[3,18];k=void 0,R=T.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(R)];case 16:return k=O.sent(),this.ctx.drawImage(k,r.bounds.left-(k.width+10),r.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+R),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(P=this.createFontStyle(s)[0],this.ctx.font=P,this.ctx.fillStyle=Fo(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new Bf(r.bounds.left,r.bounds.top+Is(r.styles.paddingTop,r.bounds.width),r.bounds.width,s9(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new kv(n.listValue,U),s.letterSpacing,s9(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return Ul(this,void 0,void 0,function(){var r,i,T,s,a,T,o,l,T,c,d,T,f,p,T,m,w,T,y,C,T;return vl(this,function(k){switch(k.label){case 0:if(co(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:k.sent(),r=0,i=n.negativeZIndex,k.label=2;case 2:return r<i.length?(T=i[r],[4,this.renderStack(T)]):[3,5];case 3:k.sent(),k.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:k.sent(),s=0,a=n.nonInlineLevel,k.label=7;case 7:return s<a.length?(T=a[s],[4,this.renderNode(T)]):[3,10];case 8:k.sent(),k.label=9;case 9:return s++,[3,7];case 10:o=0,l=n.nonPositionedFloats,k.label=11;case 11:return o<l.length?(T=l[o],[4,this.renderStack(T)]):[3,14];case 12:k.sent(),k.label=13;case 13:return o++,[3,11];case 14:c=0,d=n.nonPositionedInlineLevel,k.label=15;case 15:return c<d.length?(T=d[c],[4,this.renderStack(T)]):[3,18];case 16:k.sent(),k.label=17;case 17:return c++,[3,15];case 18:f=0,p=n.inlineLevel,k.label=19;case 19:return f<p.length?(T=p[f],[4,this.renderNode(T)]):[3,22];case 20:k.sent(),k.label=21;case 21:return f++,[3,19];case 22:m=0,w=n.zeroOrAutoZIndexOrTransformedOrOpacity,k.label=23;case 23:return m<w.length?(T=w[m],[4,this.renderStack(T)]):[3,26];case 24:k.sent(),k.label=25;case 25:return m++,[3,23];case 26:y=0,C=n.positiveZIndex,k.label=27;case 27:return y<C.length?(T=C[y],[4,this.renderStack(T)]):[3,30];case 28:k.sent(),k.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var a=Nu(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Nu(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},t.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},t.prototype.renderBackgroundImage=function(n){return Ul(this,void 0,void 0,function(){var r,i,s,a,o,l;return vl(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,i=function(d){var f,p,m,te,ue,le,re,ee,K,w,te,ue,le,re,ee,y,C,T,k,R,P,U,O,L,K,j,te,G,V,re,ee,ie,ue,le,xe,ge,fe,ce,Q,Y,X,ne;return vl(this,function(oe){switch(oe.label){case 0:if(d.type!==0)return[3,5];f=void 0,p=d.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return f=oe.sent(),[3,4];case 3:return oe.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(m=zI(n,r,[f.width,f.height,f.width/f.height]),te=m[0],ue=m[1],le=m[2],re=m[3],ee=m[4],K=s.ctx.createPattern(s.resizeImage(f,re,ee),"repeat"),s.renderRepeat(te,K,ue,le)),[3,6];case 5:nTe(d)?(w=zI(n,r,[null,null,null]),te=w[0],ue=w[1],le=w[2],re=w[3],ee=w[4],y=X4e(d.angle,re,ee),C=y[0],T=y[1],k=y[2],R=y[3],P=y[4],U=document.createElement("canvas"),U.width=re,U.height=ee,O=U.getContext("2d"),L=O.createLinearGradient(T,R,k,P),r9(d.stops,C).forEach(function(Ce){return L.addColorStop(Ce.stop,Fo(Ce.color))}),O.fillStyle=L,O.fillRect(0,0,re,ee),re>0&&ee>0&&(K=s.ctx.createPattern(U,"repeat"),s.renderRepeat(te,K,ue,le))):rTe(d)&&(j=zI(n,r,[null,null,null]),te=j[0],G=j[1],V=j[2],re=j[3],ee=j[4],ie=d.position.length===0?[AD]:d.position,ue=Is(ie[0],re),le=Is(ie[ie.length-1],ee),xe=J4e(d,ue,le,re,ee),ge=xe[0],fe=xe[1],ge>0&&fe>0&&(ce=s.ctx.createRadialGradient(G+ue,V+le,0,G+ue,V+le,ge),r9(d.stops,ge*2).forEach(function(Ce){return ce.addColorStop(Ce.stop,Fo(Ce.color))}),s.path(te),s.ctx.fillStyle=ce,ge!==fe?(Q=n.bounds.left+.5*n.bounds.width,Y=n.bounds.top+.5*n.bounds.height,X=fe/ge,ne=1/X,s.ctx.save(),s.ctx.translate(Q,Y),s.ctx.transform(1,0,0,X,0,0),s.ctx.translate(-Q,-Y),s.ctx.fillRect(G,ne*(V-Y)+Y,re,ee*ne),s.ctx.restore()):s.ctx.fill())),oe.label=6;case 6:return r--,[2]}})},s=this,a=0,o=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,i){return Ul(this,void 0,void 0,function(){return vl(this,function(s){return this.path(D9(i,r)),this.ctx.fillStyle=Fo(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,i,s){return Ul(this,void 0,void 0,function(){var a,o;return vl(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=a3e(s,i),this.path(a),this.ctx.fillStyle=Fo(n),this.ctx.fill(),o=o3e(s,i),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return Ul(this,void 0,void 0,function(){var r,i,s,a,o,l,c,d,f=this;return vl(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!KA(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=x3e(dm(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),KA(r.backgroundColor)||(this.ctx.fillStyle=Fo(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(m){f.ctx.save();var w=GS(n.curves),y=m.inset?0:p3e,C=i3e(w,-y+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(f.path(w),f.ctx.clip(),f.mask(C)):(f.mask(w),f.ctx.clip(),f.path(C)),f.ctx.shadowOffsetX=m.offsetX.number+y,f.ctx.shadowOffsetY=m.offsetY.number,f.ctx.shadowColor=Fo(m.color),f.ctx.shadowBlur=m.blur.number,f.ctx.fillStyle=m.inset?Fo(m.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:o=0,l=0,c=s,p.label=3;case 3:return l<c.length?(d=c[l],d.style!==0&&!KA(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,n.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,i,s,a){return Ul(this,void 0,void 0,function(){var o,l,c,d,f,p,m,w,y,C,T,k,R,P,U,O,U,O;return vl(this,function(L){return this.ctx.save(),o=l3e(s,i),l=D9(s,i),a===2&&(this.path(l),this.ctx.clip()),Nu(l[0])?(c=l[0].start.x,d=l[0].start.y):(c=l[0].x,d=l[0].y),Nu(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),i===0||i===2?m=Math.abs(c-f):m=Math.abs(d-p),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),w=r<3?r*3:r*2,y=r<3?r*2:r,a===3&&(w=r,y=r),C=!0,m<=w*2?C=!1:m<=w*2+y?(T=m/(2*w+y),w*=T,y*=T):(k=Math.floor((m+y)/(w+y)),R=(m-k*w)/(k-1),P=(m-(k+1)*w)/k,y=P<=0||Math.abs(y-R)<Math.abs(y-P)?R:P),C&&(a===3?this.ctx.setLineDash([0,w+y]):this.ctx.setLineDash([w,y])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Fo(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Nu(l[0])&&(U=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new Yn(U.end.x,U.end.y),new Yn(O.start.x,O.start.y)]),this.ctx.stroke()),Nu(l[1])&&(U=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new Yn(U.end.x,U.end.y),new Yn(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return Ul(this,void 0,void 0,function(){var r;return vl(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Fo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=s3e(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(XJ),m3e=function(e){return e instanceof DJ||e instanceof _J?!0:e instanceof xD&&e.type!==jS&&e.type!==OS},x3e=function(e,t){switch(e){case 0:return GS(t);case 2:return ZFe(t);case 1:default:return VS(t)}},v3e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},w3e=["-apple-system","system-ui"],b3e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return w3e.indexOf(t)===-1}):e},y3e=(function(e){Td(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return t.prototype.render=function(n){return Ul(this,void 0,void 0,function(){var r,i;return vl(this,function(s){switch(s.label){case 0:return r=Ok(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,C3e(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Fo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(XJ),C3e=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},S3e=(function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Gy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Gy([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Gy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Gy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),E3e=(function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new S3e({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new zFe(this,t)}return e.instanceCount=1,e})(),wD=function(e,t){return t===void 0&&(t={}),N3e(e,t)};typeof window<"u"&&zJ.setContext(window);var N3e=function(e,t){return Ul(void 0,void 0,void 0,function(){var n,r,i,s,a,o,l,c,d,f,p,m,w,y,C,T,k,R,P,U,L,O,L,K,j,te,G,V,re,ee,ie,ue,le,xe,ge,fe,ce,Q,Y,X;return vl(this,function(ne){switch(ne.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(K=t.allowTaint)!==null&&K!==void 0?K:!1,imageTimeout:(j=t.imageTimeout)!==null&&j!==void 0?j:15e3,proxy:t.proxy,useCORS:(te=t.useCORS)!==null&&te!==void 0?te:!1},s=Ck({logging:(G=t.logging)!==null&&G!==void 0?G:!0,cache:t.cache},i),a={windowWidth:(V=t.windowWidth)!==null&&V!==void 0?V:r.innerWidth,windowHeight:(re=t.windowHeight)!==null&&re!==void 0?re:r.innerHeight,scrollX:(ee=t.scrollX)!==null&&ee!==void 0?ee:r.pageXOffset,scrollY:(ie=t.scrollY)!==null&&ie!==void 0?ie:r.pageYOffset},o=new Bf(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new E3e(s,o),c=(ue=t.foreignObjectRendering)!==null&&ue!==void 0?ue:!1,d={allowTaint:(le=t.allowTaint)!==null&&le!==void 0?le:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new B9(l,e,d),p=f.clonedReferenceElement,p?[4,f.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ne.sent(),w=vD(p)||IFe(p)?iNe(p.ownerDocument):U5(l,p),y=w.width,C=w.height,T=w.left,k=w.top,R=T3e(l,p,t.backgroundColor),P={canvas:t.canvas,backgroundColor:R,scale:(ge=(xe=t.scale)!==null&&xe!==void 0?xe:r.devicePixelRatio)!==null&&ge!==void 0?ge:1,x:((fe=t.x)!==null&&fe!==void 0?fe:0)+T,y:((ce=t.y)!==null&&ce!==void 0?ce:0)+k,width:(Q=t.width)!==null&&Q!==void 0?Q:Math.ceil(y),height:(Y=t.height)!==null&&Y!==void 0?Y:Math.ceil(C)},c?(l.logger.debug("Document cloned, using foreign object rendering"),L=new y3e(l,P),[4,L.render(p)]):[3,3];case 2:return U=ne.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+T+","+k+" with size "+y+"x"+C+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=LJ(l,p),R===O.styles.backgroundColor&&(O.styles.backgroundColor=gf.TRANSPARENT),l.logger.debug("Starting renderer for element at "+P.x+","+P.y+" with size "+P.width+"x"+P.height),L=new g3e(l,P),[4,L.render(O)];case 4:U=ne.sent(),ne.label=5;case 5:return(!((X=t.removeContainer)!==null&&X!==void 0)||X)&&(B9.destroy(m)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,U]}})})},T3e=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Iv(e,getComputedStyle(r.documentElement).backgroundColor):gf.TRANSPARENT,s=r.body?Iv(e,getComputedStyle(r.body).backgroundColor):gf.TRANSPARENT,a=typeof n=="string"?Iv(e,n):n===null?gf.TRANSPARENT:4294967295;return t===r.documentElement?KA(i)?KA(s)?a:s:i:a};const I3e=Object.freeze(Object.defineProperty({__proto__:null,default:wD},Symbol.toStringTag,{value:"Module"}));function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}var Ed=Uint8Array,Xc=Uint16Array,bD=Int32Array,yD=new Ed([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),CD=new Ed([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M9=new Ed([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JJ=function(e,t){for(var n=new Xc(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new bD(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},ZJ=JJ(yD,2),F3e=ZJ.b,zk=ZJ.r;F3e[28]=258,zk[258]=28;var k3e=JJ(CD,0),L9=k3e.r,Wk=new Xc(32768);for(var js=0;js<32768;++js){var vA=(js&43690)>>1|(js&21845)<<1;vA=(vA&52428)>>2|(vA&13107)<<2,vA=(vA&61680)>>4|(vA&3855)<<4,Wk[js]=((vA&65280)>>8|(vA&255)<<8)>>1}var Rv=(function(e,t,n){for(var r=e.length,i=0,s=new Xc(t);i<r;++i)e[i]&&++s[e[i]-1];var a=new Xc(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Xc(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],f=a[e[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)o[Wk[f]>>l]=c}else for(o=new Xc(r),i=0;i<r;++i)e[i]&&(o[i]=Wk[a[e[i]-1]++]>>15-e[i]);return o}),jp=new Ed(288);for(var js=0;js<144;++js)jp[js]=8;for(var js=144;js<256;++js)jp[js]=9;for(var js=256;js<280;++js)jp[js]=7;for(var js=280;js<288;++js)jp[js]=8;var zS=new Ed(32);for(var js=0;js<32;++js)zS[js]=5;var B3e=Rv(jp,9,0),R3e=Rv(zS,5,0),eZ=function(e){return(e+7)/8|0},_3e=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Ed(e.subarray(t,n))},Zh=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Yx=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},WI=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:nZ,l:0};if(i==1){var a=new Ed(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(U,O){return U.f-O.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=d&&n[c].f<n[f].f?c++:f++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var m=new Xc(p+1),w=Kk(n[d-1],m,0);if(w>t){var r=0,y=0,C=w-t,T=1<<C;for(s.sort(function(O,L){return m[L.s]-m[O.s]||O.f-L.f});r<i;++r){var k=s[r].s;if(m[k]>t)y+=T-(1<<w-m[k]),m[k]=t;else break}for(y>>=C;y>0;){var R=s[r].s;m[R]<t?y-=1<<t-m[R]++-1:++r}for(;r>=0&&y;--r){var P=s[r].s;m[P]==t&&(--m[P],++y)}w=t}return{t:new Ed(m),l:w}},Kk=function(e,t,n){return e.s==-1?Math.max(Kk(e.l,t,n+1),Kk(e.r,t,n+1)):t[e.s]=n},O9=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Xc(++t),r=0,i=e[0],s=1,a=function(l){n[r++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:n.subarray(0,r),n:t}},Xx=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},tZ=function(e,t,n){var r=n.length,i=eZ(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},j9=function(e,t,n,r,i,s,a,o,l,c,d){Zh(t,d++,n),++i[256];for(var f=WI(i,15),p=f.t,m=f.l,w=WI(s,15),y=w.t,C=w.l,T=O9(p),k=T.c,R=T.n,P=O9(y),U=P.c,O=P.n,L=new Xc(19),K=0;K<k.length;++K)++L[k[K]&31];for(var K=0;K<U.length;++K)++L[U[K]&31];for(var j=WI(L,7),te=j.t,G=j.l,V=19;V>4&&!te[M9[V-1]];--V);var re=c+5<<3,ee=Xx(i,jp)+Xx(s,zS)+a,ie=Xx(i,p)+Xx(s,y)+a+14+3*V+Xx(L,te)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&re<=ee&&re<=ie)return tZ(t,d,e.subarray(l,l+c));var ue,le,xe,ge;if(Zh(t,d,1+(ie<ee)),d+=2,ie<ee){ue=Rv(p,m,0),le=p,xe=Rv(y,C,0),ge=y;var fe=Rv(te,G,0);Zh(t,d,R-257),Zh(t,d+5,O-1),Zh(t,d+10,V-4),d+=14;for(var K=0;K<V;++K)Zh(t,d+3*K,te[M9[K]]);d+=3*V;for(var ce=[k,U],Q=0;Q<2;++Q)for(var Y=ce[Q],K=0;K<Y.length;++K){var X=Y[K]&31;Zh(t,d,fe[X]),d+=te[X],X>15&&(Zh(t,d,Y[K]>>5&127),d+=Y[K]>>12)}}else ue=B3e,le=jp,xe=R3e,ge=zS;for(var K=0;K<o;++K){var ne=r[K];if(ne>255){var X=ne>>18&31;Yx(t,d,ue[X+257]),d+=le[X+257],X>7&&(Zh(t,d,ne>>23&31),d+=yD[X]);var oe=ne&31;Yx(t,d,xe[oe]),d+=ge[oe],oe>3&&(Yx(t,d,ne>>5&8191),d+=CD[oe])}else Yx(t,d,ue[ne]),d+=le[ne]}return Yx(t,d,ue[256]),d+le[256]},D3e=new bD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nZ=new Ed(0),P3e=function(e,t,n,r,i,s){var a=s.z||e.length,o=new Ed(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var f=D3e[t-1],p=f>>13,m=f&8191,w=(1<<n)-1,y=s.p||new Xc(32768),C=s.h||new Xc(w+1),T=Math.ceil(n/3),k=2*T,R=function(yt){return(e[yt]^e[yt+1]<<T^e[yt+2]<<k)&w},P=new bD(25e3),U=new Xc(288),O=new Xc(32),L=0,K=0,j=s.i||0,te=0,G=s.w||0,V=0;j+2<a;++j){var re=R(j),ee=j&32767,ie=C[re];if(y[ee]=ie,C[re]=ee,G<=j){var ue=a-j;if((L>7e3||te>24576)&&(ue>423||!c)){d=j9(e,l,0,P,U,O,K,te,V,j-V,d),te=L=K=0,V=j;for(var le=0;le<286;++le)U[le]=0;for(var le=0;le<30;++le)O[le]=0}var xe=2,ge=0,fe=m,ce=ee-ie&32767;if(ue>2&&re==R(j-ce))for(var Q=Math.min(p,ue)-1,Y=Math.min(32767,j),X=Math.min(258,ue);ce<=Y&&--fe&&ee!=ie;){if(e[j+xe]==e[j+xe-ce]){for(var ne=0;ne<X&&e[j+ne]==e[j+ne-ce];++ne);if(ne>xe){if(xe=ne,ge=ce,ne>Q)break;for(var oe=Math.min(ce,ne-2),Ce=0,le=0;le<oe;++le){var ke=j-ce+le&32767,Ne=y[ke],Ue=ke-Ne&32767;Ue>Ce&&(Ce=Ue,ie=ke)}}}ee=ie,ie=y[ee],ce+=ee-ie&32767}if(ge){P[te++]=268435456|zk[xe]<<18|L9[ge];var Ye=zk[xe]&31,ve=L9[ge]&31;K+=yD[Ye]+CD[ve],++U[257+Ye],++O[ve],G=j+xe,++L}else P[te++]=e[j],++U[e[j]]}}for(j=Math.max(j,G);j<a;++j)P[te++]=e[j],++U[e[j]];d=j9(e,l,c,P,U,O,K,te,V,j-V,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=C,s.p=y,s.i=j,s.w=G)}else{for(var j=s.w||0;j<a+c;j+=65535){var gt=j+65535;gt>=a&&(l[d/8|0]=c,gt=a),d=tZ(l,d+1,e.subarray(j,gt))}s.i=a}return _3e(o,0,r+eZ(d)+i)},rZ=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},M3e=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new Ed(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return P3e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},iZ=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},L3e=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=rZ();i.p(t.dictionary),iZ(e,2,i.d())}};function qk(e,t){t||(t={});var n=rZ();n.p(e);var r=M3e(e,t,t.dictionary?6:2,4);return L3e(r,t),iZ(r,r.length-4,n.d()),r}var O3e=typeof TextDecoder<"u"&&new TextDecoder,j3e=0;try{O3e.decode(nZ,{stream:!0}),j3e=1}catch{}function U3e(e){if(Array.isArray(e))return e}function H3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function U9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G3e(e,t){if(e){if(typeof e=="string")return U9(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U9(e,t):void 0}}function V3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(e,t){return U3e(e)||H3e(e,t)||G3e(e,t)||V3e()}function G9(e,t="utf8"){return new TextDecoder(t).decode(e)}const Q3e=new TextEncoder;function z3e(e){return Q3e.encode(e)}const W3e=1024*8,K3e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),KI={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class SD{constructor(t=W3e,n={}){Xi(this,"buffer");Xi(this,"byteLength");Xi(this,"byteOffset");Xi(this,"length");Xi(this,"offset");Xi(this,"lastWrittenByte");Xi(this,"littleEndian");Xi(this,"_data");Xi(this,"_mark");Xi(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,s=t.byteLength-i;let a=i;(ArrayBuffer.isView(t)||t instanceof SD)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=KI[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===K3e&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new KI[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new KI[n](s);return this.offset+=r,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return G9(this.readBytes(t))}decodeText(t=1,n="utf8"){return G9(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(z3e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function W1(e){let t=e.length;for(;--t>=0;)e[t]=0}const q3e=3,$3e=258,sZ=29,Y3e=256,X3e=Y3e+1+sZ,aZ=30,J3e=512,Z3e=new Array((X3e+2)*2);W1(Z3e);const eke=new Array(aZ*2);W1(eke);const tke=new Array(J3e);W1(tke);const nke=new Array($3e-q3e+1);W1(nke);const rke=new Array(sZ);W1(rke);const ike=new Array(aZ);W1(ike);const ske=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var $k=ske;const ake=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},oke=new Uint32Array(ake()),lke=(e,t,n,r)=>{const i=oke,s=r+n;e^=-1;for(let a=r;a<s;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var $d=lke,Yk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oZ={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cke=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var uke=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)cke(n,r)&&(e[r]=n[r])}}return e},dke=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let a=e[r];n.set(a,i),i+=a.length}return n},lZ={assign:uke,flattenChunks:dke};let cZ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cZ=!1}const ww=new Uint8Array(256);for(let e=0;e<256;e++)ww[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ww[254]=ww[254]=1;var hke=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const fke=(e,t)=>{if(t<65534&&e.subarray&&cZ)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var Ake=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=e[r++];if(a<128){s[i++]=a;continue}let o=ww[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|e[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return fke(s,i)},pke=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+ww[e[n]]>t?n:t},Xk={string2buf:hke,buf2string:Ake,utf8border:pke};function gke(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mke=gke;const dC=16209,xke=16191;var vke=function(t,n){let r,i,s,a,o,l,c,d,f,p,m,w,y,C,T,k,R,P,U,O,L,K,j,te;const G=t.state;r=t.next_in,j=t.input,i=r+(t.avail_in-5),s=t.next_out,te=t.output,a=s-(n-t.avail_out),o=s+(t.avail_out-257),l=G.dmax,c=G.wsize,d=G.whave,f=G.wnext,p=G.window,m=G.hold,w=G.bits,y=G.lencode,C=G.distcode,T=(1<<G.lenbits)-1,k=(1<<G.distbits)-1;e:do{w<15&&(m+=j[r++]<<w,w+=8,m+=j[r++]<<w,w+=8),R=y[m&T];t:for(;;){if(P=R>>>24,m>>>=P,w-=P,P=R>>>16&255,P===0)te[s++]=R&65535;else if(P&16){U=R&65535,P&=15,P&&(w<P&&(m+=j[r++]<<w,w+=8),U+=m&(1<<P)-1,m>>>=P,w-=P),w<15&&(m+=j[r++]<<w,w+=8,m+=j[r++]<<w,w+=8),R=C[m&k];n:for(;;){if(P=R>>>24,m>>>=P,w-=P,P=R>>>16&255,P&16){if(O=R&65535,P&=15,w<P&&(m+=j[r++]<<w,w+=8,w<P&&(m+=j[r++]<<w,w+=8)),O+=m&(1<<P)-1,O>l){t.msg="invalid distance too far back",G.mode=dC;break e}if(m>>>=P,w-=P,P=s-a,O>P){if(P=O-P,P>d&&G.sane){t.msg="invalid distance too far back",G.mode=dC;break e}if(L=0,K=p,f===0){if(L+=c-P,P<U){U-=P;do te[s++]=p[L++];while(--P);L=s-O,K=te}}else if(f<P){if(L+=c+f-P,P-=f,P<U){U-=P;do te[s++]=p[L++];while(--P);if(L=0,f<U){P=f,U-=P;do te[s++]=p[L++];while(--P);L=s-O,K=te}}}else if(L+=f-P,P<U){U-=P;do te[s++]=p[L++];while(--P);L=s-O,K=te}for(;U>2;)te[s++]=K[L++],te[s++]=K[L++],te[s++]=K[L++],U-=3;U&&(te[s++]=K[L++],U>1&&(te[s++]=K[L++]))}else{L=s-O;do te[s++]=te[L++],te[s++]=te[L++],te[s++]=te[L++],U-=3;while(U>2);U&&(te[s++]=te[L++],U>1&&(te[s++]=te[L++]))}}else if((P&64)===0){R=C[(R&65535)+(m&(1<<P)-1)];continue n}else{t.msg="invalid distance code",G.mode=dC;break e}break}}else if((P&64)===0){R=y[(R&65535)+(m&(1<<P)-1)];continue t}else if(P&32){G.mode=xke;break e}else{t.msg="invalid literal/length code",G.mode=dC;break e}break}}while(r<i&&s<o);U=w>>3,r-=U,w-=U<<3,m&=(1<<w)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<o?257+(o-s):257-(s-o),G.hold=m,G.bits=w};const rm=15,V9=852,Q9=592,z9=0,qI=1,W9=2,wke=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bke=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yke=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Cke=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ske=(e,t,n,r,i,s,a,o)=>{const l=o.bits;let c=0,d=0,f=0,p=0,m=0,w=0,y=0,C=0,T=0,k=0,R,P,U,O,L,K=null,j;const te=new Uint16Array(rm+1),G=new Uint16Array(rm+1);let V=null,re,ee,ie;for(c=0;c<=rm;c++)te[c]=0;for(d=0;d<r;d++)te[t[n+d]]++;for(m=l,p=rm;p>=1&&te[p]===0;p--);if(m>p&&(m=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&te[f]===0;f++);for(m<f&&(m=f),C=1,c=1;c<=rm;c++)if(C<<=1,C-=te[c],C<0)return-1;if(C>0&&(e===z9||p!==1))return-1;for(G[1]=0,c=1;c<rm;c++)G[c+1]=G[c]+te[c];for(d=0;d<r;d++)t[n+d]!==0&&(a[G[t[n+d]]++]=d);if(e===z9?(K=V=a,j=20):e===qI?(K=wke,V=bke,j=257):(K=yke,V=Cke,j=0),k=0,d=0,c=f,L=s,w=m,y=0,U=-1,T=1<<m,O=T-1,e===qI&&T>V9||e===W9&&T>Q9)return 1;for(;;){re=c-y,a[d]+1<j?(ee=0,ie=a[d]):a[d]>=j?(ee=V[a[d]-j],ie=K[a[d]-j]):(ee=96,ie=0),R=1<<c-y,P=1<<w,f=P;do P-=R,i[L+(k>>y)+P]=re<<24|ee<<16|ie|0;while(P!==0);for(R=1<<c-1;k&R;)R>>=1;if(R!==0?(k&=R-1,k+=R):k=0,d++,--te[c]===0){if(c===p)break;c=t[n+a[d]]}if(c>m&&(k&O)!==U){for(y===0&&(y=m),L+=f,w=c-y,C=1<<w;w+y<p&&(C-=te[w+y],!(C<=0));)w++,C<<=1;if(T+=1<<w,e===qI&&T>V9||e===W9&&T>Q9)return 1;U=k&O,i[U]=m<<24|w<<16|L-s|0}}return k!==0&&(i[L+k]=c-y<<24|64<<16|0),o.bits=m,0};var _v=Ske;const Eke=0,uZ=1,dZ=2,{Z_FINISH:K9,Z_BLOCK:Nke,Z_TREES:hC,Z_OK:Up,Z_STREAM_END:Tke,Z_NEED_DICT:Ike,Z_STREAM_ERROR:ju,Z_DATA_ERROR:hZ,Z_MEM_ERROR:fZ,Z_BUF_ERROR:Fke,Z_DEFLATED:q9}=oZ,Y5=16180,$9=16181,Y9=16182,X9=16183,J9=16184,Z9=16185,eH=16186,tH=16187,nH=16188,rH=16189,WS=16190,ef=16191,$I=16192,iH=16193,YI=16194,sH=16195,aH=16196,oH=16197,lH=16198,fC=16199,AC=16200,cH=16201,uH=16202,dH=16203,hH=16204,fH=16205,XI=16206,AH=16207,pH=16208,Ws=16209,AZ=16210,pZ=16211,kke=852,Bke=592,Rke=15,_ke=Rke,gH=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Dke(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ng=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Y5||t.mode>pZ?1:0},gZ=e=>{if(ng(e))return ju;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Y5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(kke),t.distcode=t.distdyn=new Int32Array(Bke),t.sane=1,t.back=-1,Up},mZ=e=>{if(ng(e))return ju;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,gZ(e)},xZ=(e,t)=>{let n;if(ng(e))return ju;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ju:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,mZ(e))},vZ=(e,t)=>{if(!e)return ju;const n=new Dke;e.state=n,n.strm=e,n.window=null,n.mode=Y5;const r=xZ(e,t);return r!==Up&&(e.state=null),r},Pke=e=>vZ(e,_ke);let mH=!0,JI,ZI;const Mke=e=>{if(mH){JI=new Int32Array(512),ZI=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(_v(uZ,e.lens,0,288,JI,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;_v(dZ,e.lens,0,32,ZI,0,e.work,{bits:5}),mH=!1}e.lencode=JI,e.lenbits=9,e.distcode=ZI,e.distbits=5},wZ=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Lke=(e,t)=>{let n,r,i,s,a,o,l,c,d,f,p,m,w,y,C=0,T,k,R,P,U,O,L,K;const j=new Uint8Array(4);let te,G;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ng(e)||!e.output||!e.input&&e.avail_in!==0)return ju;n=e.state,n.mode===ef&&(n.mode=$I),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,f=o,p=l,K=Up;e:for(;;)switch(n.mode){case Y5:if(n.wrap===0){n.mode=$I;break}for(;d<16;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,j[0]=c&255,j[1]=c>>>8&255,n.check=$d(n.check,j,2,0),c=0,d=0,n.mode=$9;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ws;break}if((c&15)!==q9){e.msg="unknown compression method",n.mode=Ws;break}if(c>>>=4,d-=4,L=(c&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){e.msg="invalid window size",n.mode=Ws;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?rH:ef,c=0,d=0;break;case $9:for(;d<16;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==q9){e.msg="unknown compression method",n.mode=Ws;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ws;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(j[0]=c&255,j[1]=c>>>8&255,n.check=$d(n.check,j,2,0)),c=0,d=0,n.mode=Y9;case Y9:for(;d<32;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(j[0]=c&255,j[1]=c>>>8&255,j[2]=c>>>16&255,j[3]=c>>>24&255,n.check=$d(n.check,j,4,0)),c=0,d=0,n.mode=X9;case X9:for(;d<16;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(j[0]=c&255,j[1]=c>>>8&255,n.check=$d(n.check,j,2,0)),c=0,d=0,n.mode=J9;case J9:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(j[0]=c&255,j[1]=c>>>8&255,n.check=$d(n.check,j,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=Z9;case Z9:if(n.flags&1024&&(m=n.length,m>o&&(m=o),m&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),L)),n.flags&512&&n.wrap&4&&(n.check=$d(n.check,r,m,s)),o-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=eH;case eH:if(n.flags&2048){if(o===0)break e;m=0;do L=r[s+m++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=$d(n.check,r,m,s)),o-=m,s+=m,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=tH;case tH:if(n.flags&4096){if(o===0)break e;m=0;do L=r[s+m++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=$d(n.check,r,m,s)),o-=m,s+=m,L)break e}else n.head&&(n.head.comment=null);n.mode=nH;case nH:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ws;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=ef;break;case rH:for(;d<32;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}e.adler=n.check=gH(c),c=0,d=0,n.mode=WS;case WS:if(n.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,Ike;e.adler=n.check=1,n.mode=ef;case ef:if(t===Nke||t===hC)break e;case $I:if(n.last){c>>>=d&7,d-=d&7,n.mode=XI;break}for(;d<3;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=iH;break;case 1:if(Mke(n),n.mode=fC,t===hC){c>>>=2,d-=2;break e}break;case 2:n.mode=aH;break;case 3:e.msg="invalid block type",n.mode=Ws}c>>>=2,d-=2;break;case iH:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ws;break}if(n.length=c&65535,c=0,d=0,n.mode=YI,t===hC)break e;case YI:n.mode=sH;case sH:if(m=n.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;i.set(r.subarray(s,s+m),a),o-=m,s+=m,l-=m,a+=m,n.length-=m;break}n.mode=ef;break;case aH:for(;d<14;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ws;break}n.have=0,n.mode=oH;case oH:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}n.lens[V[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,te={bits:n.lenbits},K=_v(Eke,n.lens,0,19,n.lencode,0,n.work,te),n.lenbits=te.bits,K){e.msg="invalid code lengths set",n.mode=Ws;break}n.have=0,n.mode=lH;case lH:for(;n.have<n.nlen+n.ndist;){for(;C=n.lencode[c&(1<<n.lenbits)-1],T=C>>>24,k=C>>>16&255,R=C&65535,!(T<=d);){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(R<16)c>>>=T,d-=T,n.lens[n.have++]=R;else{if(R===16){for(G=T+2;d<G;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(c>>>=T,d-=T,n.have===0){e.msg="invalid bit length repeat",n.mode=Ws;break}L=n.lens[n.have-1],m=3+(c&3),c>>>=2,d-=2}else if(R===17){for(G=T+3;d<G;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}c>>>=T,d-=T,L=0,m=3+(c&7),c>>>=3,d-=3}else{for(G=T+7;d<G;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}c>>>=T,d-=T,L=0,m=11+(c&127),c>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ws;break}for(;m--;)n.lens[n.have++]=L}}if(n.mode===Ws)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ws;break}if(n.lenbits=9,te={bits:n.lenbits},K=_v(uZ,n.lens,0,n.nlen,n.lencode,0,n.work,te),n.lenbits=te.bits,K){e.msg="invalid literal/lengths set",n.mode=Ws;break}if(n.distbits=6,n.distcode=n.distdyn,te={bits:n.distbits},K=_v(dZ,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,te),n.distbits=te.bits,K){e.msg="invalid distances set",n.mode=Ws;break}if(n.mode=fC,t===hC)break e;case fC:n.mode=AC;case AC:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,vke(e,p),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===ef&&(n.back=-1);break}for(n.back=0;C=n.lencode[c&(1<<n.lenbits)-1],T=C>>>24,k=C>>>16&255,R=C&65535,!(T<=d);){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(k&&(k&240)===0){for(P=T,U=k,O=R;C=n.lencode[O+((c&(1<<P+U)-1)>>P)],T=C>>>24,k=C>>>16&255,R=C&65535,!(P+T<=d);){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}c>>>=P,d-=P,n.back+=P}if(c>>>=T,d-=T,n.back+=T,n.length=R,k===0){n.mode=fH;break}if(k&32){n.back=-1,n.mode=ef;break}if(k&64){e.msg="invalid literal/length code",n.mode=Ws;break}n.extra=k&15,n.mode=cH;case cH:if(n.extra){for(G=n.extra;d<G;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=uH;case uH:for(;C=n.distcode[c&(1<<n.distbits)-1],T=C>>>24,k=C>>>16&255,R=C&65535,!(T<=d);){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if((k&240)===0){for(P=T,U=k,O=R;C=n.distcode[O+((c&(1<<P+U)-1)>>P)],T=C>>>24,k=C>>>16&255,R=C&65535,!(P+T<=d);){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}c>>>=P,d-=P,n.back+=P}if(c>>>=T,d-=T,n.back+=T,k&64){e.msg="invalid distance code",n.mode=Ws;break}n.offset=R,n.extra=k&15,n.mode=dH;case dH:if(n.extra){for(G=n.extra;d<G;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ws;break}n.mode=hH;case hH:if(l===0)break e;if(m=p-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ws;break}m>n.wnext?(m-=n.wnext,w=n.wsize-m):w=n.wnext-m,m>n.length&&(m=n.length),y=n.window}else y=i,w=a-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[a++]=y[w++];while(--m);n.length===0&&(n.mode=AC);break;case fH:if(l===0)break e;i[a++]=n.length,l--,n.mode=AC;break;case XI:if(n.wrap){for(;d<32;){if(o===0)break e;o--,c|=r[s++]<<d,d+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?$d(n.check,i,p,a-p):$k(n.check,i,p,a-p)),p=l,n.wrap&4&&(n.flags?c:gH(c))!==n.check){e.msg="incorrect data check",n.mode=Ws;break}c=0,d=0}n.mode=AH;case AH:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,c+=r[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ws;break}c=0,d=0}n.mode=pH;case pH:K=Tke;break e;case Ws:K=hZ;break e;case AZ:return fZ;case pZ:default:return ju}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<Ws&&(n.mode<XI||t!==K9))&&wZ(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?$d(n.check,i,p,e.next_out-p):$k(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===ef?128:0)+(n.mode===fC||n.mode===YI?256:0),(f===0&&p===0||t===K9)&&K===Up&&(K=Fke),K},Oke=e=>{if(ng(e))return ju;let t=e.state;return t.window&&(t.window=null),e.state=null,Up},jke=(e,t)=>{if(ng(e))return ju;const n=e.state;return(n.wrap&2)===0?ju:(n.head=t,t.done=!1,Up)},Uke=(e,t)=>{const n=t.length;let r,i,s;return ng(e)||(r=e.state,r.wrap!==0&&r.mode!==WS)?ju:r.mode===WS&&(i=1,i=$k(i,t,n,0),i!==r.check)?hZ:(s=wZ(e,t,n,n),s?(r.mode=AZ,fZ):(r.havedict=1,Up))};var Hke=mZ,Gke=xZ,Vke=gZ,Qke=Pke,zke=vZ,Wke=Lke,Kke=Oke,qke=jke,$ke=Uke,Yke="pako inflate (from Nodeca project)",sf={inflateReset:Hke,inflateReset2:Gke,inflateResetKeep:Vke,inflateInit:Qke,inflateInit2:zke,inflate:Wke,inflateEnd:Kke,inflateGetHeader:qke,inflateSetDictionary:$ke,inflateInfo:Yke};function Xke(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Jke=Xke;const bZ=Object.prototype.toString,{Z_NO_FLUSH:Zke,Z_FINISH:eBe,Z_OK:bw,Z_STREAM_END:eF,Z_NEED_DICT:tF,Z_STREAM_ERROR:tBe,Z_DATA_ERROR:xH,Z_MEM_ERROR:nBe}=oZ;function vb(e){this.options=lZ.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mke,this.strm.avail_out=0;let n=sf.inflateInit2(this.strm,t.windowBits);if(n!==bw)throw new Error(Yk[n]);if(this.header=new Jke,sf.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Xk.string2buf(t.dictionary):bZ.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=sf.inflateSetDictionary(this.strm,t.dictionary),n!==bw)))throw new Error(Yk[n])}vb.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?eBe:Zke,bZ.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=sf.inflate(n,a),s===tF&&i&&(s=sf.inflateSetDictionary(n,i),s===bw?s=sf.inflate(n,a):s===xH&&(s=tF));n.avail_in>0&&s===eF&&n.state.wrap>0&&e[n.next_in]!==0;)sf.inflateReset(n),s=sf.inflate(n,a);switch(s){case tBe:case xH:case tF:case nBe:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===eF))if(this.options.to==="string"){let l=Xk.utf8border(n.output,n.next_out),c=n.next_out-l,d=Xk.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===bw&&o===0)){if(s===eF)return s=sf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};vb.prototype.onData=function(e){this.chunks.push(e)};vb.prototype.onEnd=function(e){e===bw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=lZ.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function rBe(e,t){const n=new vb(t);if(n.push(e),n.err)throw n.msg||Yk[n.err];return n.result}var iBe=vb,sBe=rBe,aBe={Inflate:iBe,inflate:sBe};const{Inflate:oBe,inflate:lBe}=aBe;var vH=oBe,cBe=lBe;const yZ=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;yZ[e]=t}const wH=4294967295;function uBe(e,t,n){let r=e;for(let i=0;i<n;i++)r=yZ[(r^t[i])&255]^r>>>8;return r}function dBe(e,t){return(uBe(wH,e,t)^wH)>>>0}function bH(e,t,n){const r=e.readUint32(),i=dBe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function CZ(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function SZ(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function EZ(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function NZ(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function TZ(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+hBe(t[s-i],n[s],n[s-i])&255}}function hBe(e,t,n){const r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),a=Math.abs(r-n);return i<=s&&i<=a?e:s<=a?t:n}function fBe(e,t,n,r,i,s){switch(e){case 0:CZ(t,n,i);break;case 1:SZ(t,n,i,s);break;case 2:EZ(t,n,r,i);break;case 3:NZ(t,n,r,i,s);break;case 4:TZ(t,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const ABe=new Uint16Array([255]),pBe=new Uint8Array(ABe.buffer),gBe=pBe[0]===255;function mBe(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let d=0;d<7;d++){const f=a[d],p=Math.ceil((n-f.x)/f.xStep),m=Math.ceil((r-f.y)/f.yStep);if(p<=0||m<=0)continue;const w=p*o,y=new Uint8Array(w);for(let C=0;C<m;C++){const T=t[c++],k=t.subarray(c,c+w);c+=w;const R=new Uint8Array(w);fBe(T,k,R,y,w,o),y.set(R);for(let P=0;P<p;P++){const U=f.x+P*f.xStep,O=f.y+C*f.yStep;if(!(U>=n||O>=r))for(let L=0;L<o;L++)l[(O*n+U)*o+L]=R[P*o+L]}}}if(s===16){const d=new Uint16Array(l.buffer);if(gBe)for(let f=0;f<d.length;f++)d[f]=xBe(d[f]);return d}else return l}function xBe(e){return(e&255)<<8|e>>8&255}const vBe=new Uint16Array([255]),wBe=new Uint8Array(vBe.buffer),bBe=wBe[0]===255,yBe=new Uint8Array(0);function yH(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let c=yBe,d=0,f,p;for(let m=0;m<r;m++){switch(f=t.subarray(d+1,d+1+o),p=l.subarray(m*o,(m+1)*o),t[d]){case 0:CZ(f,p,o);break;case 1:SZ(f,p,o,a);break;case 2:EZ(f,p,c,o);break;case 3:NZ(f,p,c,o,a);break;case 4:TZ(f,p,c,o,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=p,d+=o+1}if(s===16){const m=new Uint16Array(l.buffer);if(bBe)for(let w=0;w<m.length;w++)m[w]=CBe(m[w]);return m}else return l}function CBe(e){return(e&255)<<8|e>>8&255}const a2=Uint8Array.of(137,80,78,71,13,10,26,10);function CH(e){if(!SBe(e.readBytes(a2.length)))throw new Error("wrong PNG signature")}function SBe(e){if(e.length<a2.length)return!1;for(let t=0;t<a2.length;t++)if(e[t]!==a2[t])return!1;return!0}const EBe="tEXt",NBe=0,IZ=new TextDecoder("latin1");function TBe(e){if(FBe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const IBe=/^[\u0000-\u00FF]*$/;function FBe(e){if(!IBe.test(e))throw new Error("invalid latin1 text")}function kBe(e,t,n){const r=FZ(t);e[r]=BBe(t,n-r.length-1)}function FZ(e){for(e.mark();e.readByte()!==NBe;);const t=e.offset;e.reset();const n=IZ.decode(e.readBytes(t-e.offset-1));return e.skip(1),TBe(n),n}function BBe(e,t){return IZ.decode(e.readBytes(t))}const Vc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},nF={UNKNOWN:-1,DEFLATE:0},SH={UNKNOWN:-1,ADAPTIVE:0},rF={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pC={NONE:0,BACKGROUND:1,PREVIOUS:2},iF={SOURCE:0,OVER:1};class RBe extends SD{constructor(n,r={}){super(n);Xi(this,"_checkCrc");Xi(this,"_inflator");Xi(this,"_png");Xi(this,"_apng");Xi(this,"_end");Xi(this,"_hasPalette");Xi(this,"_palette");Xi(this,"_hasTransparency");Xi(this,"_transparency");Xi(this,"_compressionMethod");Xi(this,"_filterMethod");Xi(this,"_interlaceMethod");Xi(this,"_colorType");Xi(this,"_isAnimated");Xi(this,"_numberOfFrames");Xi(this,"_numberOfPlays");Xi(this,"_frames");Xi(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new vH,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=nF.UNKNOWN,this._filterMethod=SH.UNKNOWN,this._interlaceMethod=rF.UNKNOWN,this._colorType=Vc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(CH(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(CH(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case EBe:kBe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?bH(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?bH(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=_Be(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Vc.GREYSCALE:i=1;break;case Vc.TRUECOLOUR:i=3;break;case Vc.INDEXED_COLOUR:i=1;break;case Vc.GREYSCALE_ALPHA:i=2;break;case Vc.TRUECOLOUR_ALPHA:i=4;break;case Vc.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==nF.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Vc.GREYSCALE:case Vc.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Vc.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vc.UNKNOWN:case Vc.GREYSCALE_ALPHA:case Vc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=FZ(this),i=this.readUint8();if(i!==nF.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:cBe(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=yH({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case pC.NONE:break;case pC.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case pC.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case iF.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[c+d]}break;case iF.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++){const f=r.data[c+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:r.data[c+d],m=Math.floor(f*p+(1-f)*n.data[l+d]);n.data[l+d]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==SH.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===rF.NO_INTERLACE)this._png.data=yH({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===rF.ADAM7)this._png.data=mBe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pC.NONE,blendOp:iF.SOURCE,data:n}),this._inflator=new vH,this._writingDataChunks=!1}}function _Be(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var EH;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(EH||(EH={}));function DBe(e,t){return new RBe(e,t).decode()}var Gr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function sF(){Gr.console&&typeof Gr.console.log=="function"&&Gr.console.log.apply(Gr.console,arguments)}var ys={log:sF,warn:function(e){Gr.console&&(typeof Gr.console.warn=="function"?Gr.console.warn.apply(Gr.console,arguments):sF.call(null,arguments))},error:function(e){Gr.console&&(typeof Gr.console.error=="function"?Gr.console.error.apply(Gr.console,arguments):sF(e))}};function aF(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){G0(r.response,t,n)},r.onerror=function(){ys.error("could not download file")},r.send()}function NH(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function gC(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var G0=Gr.saveAs||((typeof window>"u"?"undefined":ss(window))!=="object"||window!==Gr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Gr.URL||Gr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?NH(i.href)?aF(e,t,n):gC(i,i.target="_blank"):gC(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){gC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(NH(e))aF(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){gC(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:ss(s)!=="object"&&(ys.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return aF(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(Gr.HTMLElement)||Gr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":ss(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(e)}else{var l=Gr.URL||Gr.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function kZ(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var o2=Gr.atob.bind(Gr),TH=Gr.btoa.bind(Gr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function oF(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=fl(n,r,i,s,t[0],7,-680876936),s=fl(s,n,r,i,t[1],12,-389564586),i=fl(i,s,n,r,t[2],17,606105819),r=fl(r,i,s,n,t[3],22,-1044525330),n=fl(n,r,i,s,t[4],7,-176418897),s=fl(s,n,r,i,t[5],12,1200080426),i=fl(i,s,n,r,t[6],17,-1473231341),r=fl(r,i,s,n,t[7],22,-45705983),n=fl(n,r,i,s,t[8],7,1770035416),s=fl(s,n,r,i,t[9],12,-1958414417),i=fl(i,s,n,r,t[10],17,-42063),r=fl(r,i,s,n,t[11],22,-1990404162),n=fl(n,r,i,s,t[12],7,1804603682),s=fl(s,n,r,i,t[13],12,-40341101),i=fl(i,s,n,r,t[14],17,-1502002290),n=Al(n,r=fl(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Al(s,n,r,i,t[6],9,-1069501632),i=Al(i,s,n,r,t[11],14,643717713),r=Al(r,i,s,n,t[0],20,-373897302),n=Al(n,r,i,s,t[5],5,-701558691),s=Al(s,n,r,i,t[10],9,38016083),i=Al(i,s,n,r,t[15],14,-660478335),r=Al(r,i,s,n,t[4],20,-405537848),n=Al(n,r,i,s,t[9],5,568446438),s=Al(s,n,r,i,t[14],9,-1019803690),i=Al(i,s,n,r,t[3],14,-187363961),r=Al(r,i,s,n,t[8],20,1163531501),n=Al(n,r,i,s,t[13],5,-1444681467),s=Al(s,n,r,i,t[2],9,-51403784),i=Al(i,s,n,r,t[7],14,1735328473),n=pl(n,r=Al(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=pl(s,n,r,i,t[8],11,-2022574463),i=pl(i,s,n,r,t[11],16,1839030562),r=pl(r,i,s,n,t[14],23,-35309556),n=pl(n,r,i,s,t[1],4,-1530992060),s=pl(s,n,r,i,t[4],11,1272893353),i=pl(i,s,n,r,t[7],16,-155497632),r=pl(r,i,s,n,t[10],23,-1094730640),n=pl(n,r,i,s,t[13],4,681279174),s=pl(s,n,r,i,t[0],11,-358537222),i=pl(i,s,n,r,t[3],16,-722521979),r=pl(r,i,s,n,t[6],23,76029189),n=pl(n,r,i,s,t[9],4,-640364487),s=pl(s,n,r,i,t[12],11,-421815835),i=pl(i,s,n,r,t[15],16,530742520),n=gl(n,r=pl(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=gl(s,n,r,i,t[7],10,1126891415),i=gl(i,s,n,r,t[14],15,-1416354905),r=gl(r,i,s,n,t[5],21,-57434055),n=gl(n,r,i,s,t[12],6,1700485571),s=gl(s,n,r,i,t[3],10,-1894986606),i=gl(i,s,n,r,t[10],15,-1051523),r=gl(r,i,s,n,t[1],21,-2054922799),n=gl(n,r,i,s,t[8],6,1873313359),s=gl(s,n,r,i,t[15],10,-30611744),i=gl(i,s,n,r,t[6],15,-1560198380),r=gl(r,i,s,n,t[13],21,1309151649),n=gl(n,r,i,s,t[4],6,-145523070),s=gl(s,n,r,i,t[11],10,-1120210379),i=gl(i,s,n,r,t[2],15,718787259),r=gl(r,i,s,n,t[9],21,-343485551),e[0]=jA(n,e[0]),e[1]=jA(r,e[1]),e[2]=jA(i,e[2]),e[3]=jA(s,e[3])}function X5(e,t,n,r,i,s){return t=jA(jA(t,e),jA(r,s)),jA(t<<i|t>>>32-i,n)}function fl(e,t,n,r,i,s,a){return X5(t&n|~t&r,e,t,i,s,a)}function Al(e,t,n,r,i,s,a){return X5(t&r|n&~r,e,t,i,s,a)}function pl(e,t,n,r,i,s,a){return X5(t^n^r,e,t,i,s,a)}function gl(e,t,n,r,i,s,a){return X5(n^(t|~r),e,t,i,s,a)}function BZ(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)oF(r,PBe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(oF(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,oF(r,i),r}function PBe(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var IH="0123456789abcdef".split("");function MBe(e){for(var t="",n=0;n<4;n++)t+=IH[e>>8*n+4&15]+IH[e>>8*n&15];return t}function LBe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Jk(e){return BZ(e).map(LBe).join("")}var OBe=(function(e){for(var t=0;t<e.length;t++)e[t]=MBe(e[t]);return e.join("")})(BZ("hello"))!="5d41402abc4b2a76b9719d911017c592";function jA(e,t){if(OBe){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zk(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var f=t.length,p=0,m=0,w="";for(l=0;l<f;l++)m=(m+(d=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=d,a=o[(o[p]+o[m])%256],w+=String.fromCharCode(t.charCodeAt(l)^a);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var FH={print:4,modify:8,copy:16,"annot-forms":32};function hm(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(FH.perm!==void 0)throw new Error("Invalid permission: "+o);i+=FH[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Jk(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Zk(this.encryptionKey,this.padding)}function fm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function kH(e){if(ss(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(o){Gr.console&&ys.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function KS(e){if(!(this instanceof KS))return new KS(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function RZ(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function W0(e,t,n,r,i){if(!(this instanceof W0))return new W0(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,RZ.call(this,r,i)}function Sm(e,t,n,r,i){if(!(this instanceof Sm))return new Sm(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,RZ.call(this,r,i)}function wr(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",d=null;ss(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=kH;var w="1.3",y=m.__private__.getPdfVersion=function(){return w};m.__private__.setPdfVersion=function(J){w=J};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return C};var T=m.__private__.getPageFormat=function(J){return C[J]};i=i||"a4";var k="compat",R="advanced",P=k;function U(){this.saveGraphicsState(),Fe(new qn(hn,0,0,-hn,0,sl()*hn).toString()+" cm"),this.setFontSize(this.getFontSize()/hn),c="n",P=R}function O(){this.restoreGraphicsState(),c="S",P=k}var L=m.__private__.combineFontStyleAndFontWeight=function(J,ye){if(J=="bold"&&ye=="normal"||J=="bold"&&ye==400||J=="normal"&&ye=="italic"||J=="bold"&&ye=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ye&&(J=ye==400||ye==="normal"?J==="italic"?"italic":"normal":ye!=700&&ye!=="bold"||J!=="normal"?(ye==700?"bold":ye)+""+J:"bold"),J};m.advancedAPI=function(J){var ye=P===k;return ye&&U.call(this),typeof J!="function"||(J(this),ye&&O.call(this)),this},m.compatAPI=function(J){var ye=P===R;return ye&&O.call(this),typeof J!="function"||(J(this),ye&&U.call(this)),this},m.isAdvancedAPI=function(){return P===R};var K,j=function(J){if(P!==R)throw new Error(J+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=m.roundToPrecision=m.__private__.roundToPrecision=function(J,ye){var We=t||ye;if(isNaN(J)||isNaN(We))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return J.toFixed(We).replace(/0+$/,"")};K=m.hpf=m.__private__.hpf=typeof l=="number"?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return te(J,l)}:l==="smart"?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return te(J,J>-1&&J<1?16:5)}:function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return te(J,16)};var G=m.f2=m.__private__.f2=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f2");return te(J,2)},V=m.__private__.f3=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f3");return te(J,3)},re=m.scale=m.__private__.scale=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.scale");return P===k?J*hn:P===R?J:void 0},ee=function(J){return re((function(ye){return P===k?sl()-ye:P===R?ye:void 0})(J))};m.__private__.setPrecision=m.setPrecision=function(J){typeof parseInt(J,10)=="number"&&(t=parseInt(J,10))};var ie,ue="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return ue},xe=m.__private__.setFileId=function(J){return ue=J!==void 0&&/^[a-fA-F0-9]{32}$/.test(J)?J.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(en=new hm(d.userPermissions,d.userPassword,d.ownerPassword,ue)),ue};m.setFileId=function(J){return xe(J),this},m.getFileId=function(){return le()};var ge=m.__private__.convertDateToPDFDate=function(J){var ye=J.getTimezoneOffset(),We=ye<0?"+":"-",et=Math.floor(Math.abs(ye/60)),mt=Math.abs(ye%60),Jt=[We,X(et),"'",X(mt),"'"].join("");return["D:",J.getFullYear(),X(J.getMonth()+1),X(J.getDate()),X(J.getHours()),X(J.getMinutes()),X(J.getSeconds()),Jt].join("")},fe=m.__private__.convertPDFDateToDate=function(J){var ye=parseInt(J.substr(2,4),10),We=parseInt(J.substr(6,2),10)-1,et=parseInt(J.substr(8,2),10),mt=parseInt(J.substr(10,2),10),Jt=parseInt(J.substr(12,2),10),pn=parseInt(J.substr(14,2),10);return new Date(ye,We,et,mt,Jt,pn,0)},ce=m.__private__.setCreationDate=function(J){var ye;if(J===void 0&&(J=new Date),J instanceof Date)ye=ge(J);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(J))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ye=J}return ie=ye},Q=m.__private__.getCreationDate=function(J){var ye=ie;return J==="jsDate"&&(ye=fe(ie)),ye};m.setCreationDate=function(J){return ce(J),this},m.getCreationDate=function(J){return Q(J)};var Y,X=m.__private__.padd2=function(J){return("0"+parseInt(J)).slice(-2)},ne=m.__private__.padd2Hex=function(J){return("00"+(J=J.toString())).substr(J.length)},oe=0,Ce=[],ke=[],Ne=0,Ue=[],Ye=[],ve=!1,gt=ke;m.__private__.setCustomOutputDestination=function(J){ve=!0,gt=J};var yt=function(J){ve||(gt=J)};m.__private__.resetCustomOutputDestination=function(){ve=!1,gt=ke};var Fe=m.__private__.out=function(J){return J=J.toString(),Ne+=J.length+1,gt.push(J),gt},Nt=m.__private__.write=function(J){return Fe(arguments.length===1?J.toString():Array.prototype.join.call(arguments," "))},nt=m.__private__.getArrayBuffer=function(J){for(var ye=J.length,We=new ArrayBuffer(ye),et=new Uint8Array(We);ye--;)et[ye]=J.charCodeAt(ye);return We},Ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ct};var lt=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(J){return lt=P===R?J/hn:J,this};var Qt,ot=m.__private__.getFontSize=m.getFontSize=function(){return P===k?lt:lt*hn},An=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(J){return An=J,this},m.__private__.getR2L=m.getR2L=function(){return An};var bn,Cn=m.__private__.setZoomMode=function(J){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(J))Qt=J;else if(isNaN(J)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(J)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+J+'" is not recognized.');Qt=J}else Qt=parseInt(J,10)};m.__private__.getZoomMode=function(){return Qt};var Vn,Sn=m.__private__.setPageMode=function(J){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(J)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+J+'" is not recognized.');bn=J};m.__private__.getPageMode=function(){return bn};var tr=m.__private__.setLayoutMode=function(J){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(J)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+J+'" is not recognized.');Vn=J};m.__private__.getLayoutMode=function(){return Vn},m.__private__.setDisplayMode=m.setDisplayMode=function(J,ye,We){return Cn(J),tr(ye),Sn(We),this};var xn={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(J){if(Object.keys(xn).indexOf(J)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xn[J]},m.__private__.getDocumentProperties=function(){return xn},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(J){for(var ye in xn)xn.hasOwnProperty(ye)&&J[ye]&&(xn[ye]=J[ye]);return this},m.__private__.setDocumentProperty=function(J,ye){if(Object.keys(xn).indexOf(J)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xn[J]=ye};var Ht,hn,rn,br,Tn,ut={},yn={},un=[],cn={},or={},zn={},Kn={},Qn=null,Hn=0,kn=[],kr=new kH(m),ei=e.hotfixes||[],mi={},ii={},Ki=[],qn=function J(ye,We,et,mt,Jt,pn){if(!(this instanceof J))return new J(ye,We,et,mt,Jt,pn);isNaN(ye)&&(ye=1),isNaN(We)&&(We=0),isNaN(et)&&(et=0),isNaN(mt)&&(mt=1),isNaN(Jt)&&(Jt=0),isNaN(pn)&&(pn=0),this._matrix=[ye,We,et,mt,Jt,pn]};Object.defineProperty(qn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(qn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(qn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(qn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(qn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(qn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(qn.prototype,"a",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(qn.prototype,"b",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(qn.prototype,"c",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(qn.prototype,"d",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(qn.prototype,"e",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(qn.prototype,"f",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(qn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qn.prototype.join=function(J){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(J)},qn.prototype.multiply=function(J){var ye=J.sx*this.sx+J.shy*this.shx,We=J.sx*this.shy+J.shy*this.sy,et=J.shx*this.sx+J.sy*this.shx,mt=J.shx*this.shy+J.sy*this.sy,Jt=J.tx*this.sx+J.ty*this.shx+this.tx,pn=J.tx*this.shy+J.ty*this.sy+this.ty;return new qn(ye,We,et,mt,Jt,pn)},qn.prototype.decompose=function(){var J=this.sx,ye=this.shy,We=this.shx,et=this.sy,mt=this.tx,Jt=this.ty,pn=Math.sqrt(J*J+ye*ye),nr=(J/=pn)*We+(ye/=pn)*et;We-=J*nr,et-=ye*nr;var Ln=Math.sqrt(We*We+et*et);return nr/=Ln,J*(et/=Ln)<ye*(We/=Ln)&&(J=-J,ye=-ye,nr=-nr,pn=-pn),{scale:new qn(pn,0,0,Ln,0,0),translate:new qn(1,0,0,1,mt,Jt),rotate:new qn(J,ye,-ye,J,0,0),skew:new qn(1,0,nr,1,0,0)}},qn.prototype.toString=function(J){return this.join(" ")},qn.prototype.inversed=function(){var J=this.sx,ye=this.shy,We=this.shx,et=this.sy,mt=this.tx,Jt=this.ty,pn=1/(J*et-ye*We),nr=et*pn,Ln=-ye*pn,Ir=-We*pn,sr=J*pn;return new qn(nr,Ln,Ir,sr,-nr*mt-Ir*Jt,-Ln*mt-sr*Jt)},qn.prototype.applyToPoint=function(J){var ye=J.x*this.sx+J.y*this.shx+this.tx,We=J.x*this.shy+J.y*this.sy+this.ty;return new hi(ye,We)},qn.prototype.applyToRectangle=function(J){var ye=this.applyToPoint(J),We=this.applyToPoint(new hi(J.x+J.w,J.y+J.h));return new Na(ye.x,ye.y,We.x-ye.x,We.y-ye.y)},qn.prototype.clone=function(){var J=this.sx,ye=this.shy,We=this.shx,et=this.sy,mt=this.tx,Jt=this.ty;return new qn(J,ye,We,et,mt,Jt)},m.Matrix=qn;var Di=m.matrixMult=function(J,ye){return ye.multiply(J)},ea=new qn(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ea;var xi=function(J,ye){if(!or[J]){var We=(ye instanceof W0?"Sh":"P")+(Object.keys(cn).length+1).toString(10);ye.id=We,or[J]=We,cn[We]=ye,kr.publish("addPattern",ye)}};m.ShadingPattern=W0,m.TilingPattern=Sm,m.addShadingPattern=function(J,ye){return j("addShadingPattern()"),xi(J,ye),this},m.beginTilingPattern=function(J){j("beginTilingPattern()"),nc(J.boundingBox[0],J.boundingBox[1],J.boundingBox[2]-J.boundingBox[0],J.boundingBox[3]-J.boundingBox[1],J.matrix)},m.endTilingPattern=function(J,ye){j("endTilingPattern()"),ye.stream=Ye[Y].join(`
`),xi(J,ye),kr.publish("endTilingPattern",ye),Ki.pop().restore()};var Si,Rr=m.__private__.newObject=function(){var J=Yr();return Ee(J,!0),J},Yr=m.__private__.newObjectDeferred=function(){return oe++,Ce[oe]=function(){return Ne},oe},Ee=function(J,ye){return ye=typeof ye=="boolean"&&ye,Ce[J]=Ne,ye&&Fe(J+" 0 obj"),J},_e=m.__private__.newAdditionalObject=function(){var J={objId:Yr(),content:""};return Ue.push(J),J},Le=Yr(),Me=Yr(),He=m.__private__.decodeColorString=function(J){var ye=J.split(" ");if(ye.length!==2||ye[1]!=="g"&&ye[1]!=="G")ye.length!==5||ye[4]!=="k"&&ye[4]!=="K"||(ye=[(1-ye[0])*(1-ye[3]),(1-ye[1])*(1-ye[3]),(1-ye[2])*(1-ye[3]),"r"]);else{var We=parseFloat(ye[0]);ye=[We,We,We,"r"]}for(var et="#",mt=0;mt<3;mt++)et+=("0"+Math.floor(255*parseFloat(ye[mt])).toString(16)).slice(-2);return et},Ve=m.__private__.encodeColorString=function(J){var ye;typeof J=="string"&&(J={ch1:J});var We=J.ch1,et=J.ch2,mt=J.ch3,Jt=J.ch4,pn=J.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof We=="string"&&We.charAt(0)!=="#"){var nr=new kZ(We);if(nr.ok)We=nr.toHex();else if(!/^\d*\.?\d*$/.test(We))throw new Error('Invalid color "'+We+'" passed to jsPDF.encodeColorString.')}if(typeof We=="string"&&/^#[0-9A-Fa-f]{3}$/.test(We)&&(We="#"+We[1]+We[1]+We[2]+We[2]+We[3]+We[3]),typeof We=="string"&&/^#[0-9A-Fa-f]{6}$/.test(We)){var Ln=parseInt(We.substr(1),16);We=Ln>>16&255,et=Ln>>8&255,mt=255&Ln}if(et===void 0||Jt===void 0&&We===et&&et===mt)ye=typeof We=="string"?We+" "+pn[0]:J.precision===2?G(We/255)+" "+pn[0]:V(We/255)+" "+pn[0];else if(Jt===void 0||ss(Jt)==="object"){if(Jt&&!isNaN(Jt.a)&&Jt.a===0)return["1.","1.","1.",pn[1]].join(" ");ye=typeof We=="string"?[We,et,mt,pn[1]].join(" "):J.precision===2?[G(We/255),G(et/255),G(mt/255),pn[1]].join(" "):[V(We/255),V(et/255),V(mt/255),pn[1]].join(" ")}else ye=typeof We=="string"?[We,et,mt,Jt,pn[2]].join(" "):J.precision===2?[G(We),G(et),G(mt),G(Jt),pn[2]].join(" "):[V(We),V(et),V(mt),V(Jt),pn[2]].join(" ");return ye},At=m.__private__.getFilters=function(){return a},Tt=m.__private__.putStream=function(J){var ye=(J=J||{}).data||"",We=J.filters||At(),et=J.alreadyAppliedFilters||[],mt=J.addLength1||!1,Jt=ye.length,pn=J.objectId,nr=function(ta){return ta};if(d!==null&&pn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(nr=en.encryptor(pn,0));var Ln={};We===!0&&(We=["FlateEncode"]);var Ir=J.additionalKeyValues||[],sr=(Ln=wr.API.processDataByFilters!==void 0?wr.API.processDataByFilters(ye,We):{data:ye,reverseChain:[]}).reverseChain+(Array.isArray(et)?et.join(" "):et.toString());if(Ln.data.length!==0&&(Ir.push({key:"Length",value:Ln.data.length}),mt===!0&&Ir.push({key:"Length1",value:Jt})),sr.length!=0)if(sr.split("/").length-1==1)Ir.push({key:"Filter",value:sr});else{Ir.push({key:"Filter",value:"["+sr+"]"});for(var ti=0;ti<Ir.length;ti+=1)if(Ir[ti].key==="DecodeParms"){for(var Mi=[],Pr=0;Pr<Ln.reverseChain.split("/").length-1;Pr+=1)Mi.push("null");Mi.push(Ir[ti].value),Ir[ti].value="["+Mi.join(" ")+"]"}}Fe("<<");for(var jn=0;jn<Ir.length;jn++)Fe("/"+Ir[jn].key+" "+Ir[jn].value);Fe(">>"),Ln.data.length!==0&&(Fe("stream"),Fe(nr(Ln.data)),Fe("endstream"))},ft=m.__private__.putPage=function(J){var ye=J.number,We=J.data,et=J.objId,mt=J.contentsObjId;Ee(et,!0),Fe("<</Type /Page"),Fe("/Parent "+J.rootDictionaryObjId+" 0 R"),Fe("/Resources "+J.resourceDictionaryObjId+" 0 R"),Fe("/MediaBox ["+parseFloat(K(J.mediaBox.bottomLeftX))+" "+parseFloat(K(J.mediaBox.bottomLeftY))+" "+K(J.mediaBox.topRightX)+" "+K(J.mediaBox.topRightY)+"]"),J.cropBox!==null&&Fe("/CropBox ["+K(J.cropBox.bottomLeftX)+" "+K(J.cropBox.bottomLeftY)+" "+K(J.cropBox.topRightX)+" "+K(J.cropBox.topRightY)+"]"),J.bleedBox!==null&&Fe("/BleedBox ["+K(J.bleedBox.bottomLeftX)+" "+K(J.bleedBox.bottomLeftY)+" "+K(J.bleedBox.topRightX)+" "+K(J.bleedBox.topRightY)+"]"),J.trimBox!==null&&Fe("/TrimBox ["+K(J.trimBox.bottomLeftX)+" "+K(J.trimBox.bottomLeftY)+" "+K(J.trimBox.topRightX)+" "+K(J.trimBox.topRightY)+"]"),J.artBox!==null&&Fe("/ArtBox ["+K(J.artBox.bottomLeftX)+" "+K(J.artBox.bottomLeftY)+" "+K(J.artBox.topRightX)+" "+K(J.artBox.topRightY)+"]"),typeof J.userUnit=="number"&&J.userUnit!==1&&Fe("/UserUnit "+J.userUnit),kr.publish("putPage",{objId:et,pageContext:kn[ye],pageNumber:ye,page:We}),Fe("/Contents "+mt+" 0 R"),Fe(">>"),Fe("endobj");var Jt=We.join(`
`);return P===R&&(Jt+=`
Q`),Ee(mt,!0),Tt({data:Jt,filters:At(),objectId:mt}),Fe("endobj"),et},vt=m.__private__.putPages=function(){var J,ye,We=[];for(J=1;J<=Hn;J++)kn[J].objId=Yr(),kn[J].contentsObjId=Yr();for(J=1;J<=Hn;J++)We.push(ft({number:J,data:Ye[J],objId:kn[J].objId,contentsObjId:kn[J].contentsObjId,mediaBox:kn[J].mediaBox,cropBox:kn[J].cropBox,bleedBox:kn[J].bleedBox,trimBox:kn[J].trimBox,artBox:kn[J].artBox,userUnit:kn[J].userUnit,rootDictionaryObjId:Le,resourceDictionaryObjId:Me}));Ee(Le,!0),Fe("<</Type /Pages");var et="/Kids [";for(ye=0;ye<Hn;ye++)et+=We[ye]+" 0 R ";Fe(et+"]"),Fe("/Count "+Hn),Fe(">>"),Fe("endobj"),kr.publish("postPutPages")},bt=function(J){kr.publish("putFont",{font:J,out:Fe,newObject:Rr,putStream:Tt}),J.isAlreadyPutted!==!0&&(J.objectNumber=Rr(),Fe("<<"),Fe("/Type /Font"),Fe("/BaseFont /"+fm(J.postScriptName)),Fe("/Subtype /Type1"),typeof J.encoding=="string"&&Fe("/Encoding /"+J.encoding),Fe("/FirstChar 32"),Fe("/LastChar 255"),Fe(">>"),Fe("endobj"))},Xt=function(J){J.objectNumber=Rr();var ye=[];ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Form"}),ye.push({key:"BBox",value:"["+[K(J.x),K(J.y),K(J.x+J.width),K(J.y+J.height)].join(" ")+"]"}),ye.push({key:"Matrix",value:"["+J.matrix.toString()+"]"});var We=J.pages[1].join(`
`);Tt({data:We,additionalKeyValues:ye,objectId:J.objectNumber}),Fe("endobj")},an=function(J,ye){ye||(ye=21);var We=Rr(),et=(function(pn,nr){var Ln,Ir=[],sr=1/(nr-1);for(Ln=0;Ln<1;Ln+=sr)Ir.push(Ln);if(Ir.push(1),pn[0].offset!=0){var ti={offset:0,color:pn[0].color};pn.unshift(ti)}if(pn[pn.length-1].offset!=1){var Mi={offset:1,color:pn[pn.length-1].color};pn.push(Mi)}for(var Pr="",jn=0,ta=0;ta<Ir.length;ta++){for(Ln=Ir[ta];Ln>pn[jn+1].offset;)jn++;var jr=pn[jn].offset,ms=(Ln-jr)/(pn[jn+1].offset-jr),wo=pn[jn].color,Pl=pn[jn+1].color;Pr+=ne(Math.round((1-ms)*wo[0]+ms*Pl[0]).toString(16))+ne(Math.round((1-ms)*wo[1]+ms*Pl[1]).toString(16))+ne(Math.round((1-ms)*wo[2]+ms*Pl[2]).toString(16))}return Pr.trim()})(J.colors,ye),mt=[];mt.push({key:"FunctionType",value:"0"}),mt.push({key:"Domain",value:"[0.0 1.0]"}),mt.push({key:"Size",value:"["+ye+"]"}),mt.push({key:"BitsPerSample",value:"8"}),mt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),mt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tt({data:et,additionalKeyValues:mt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:We}),Fe("endobj"),J.objectNumber=Rr(),Fe("<< /ShadingType "+J.type),Fe("/ColorSpace /DeviceRGB");var Jt="/Coords ["+K(parseFloat(J.coords[0]))+" "+K(parseFloat(J.coords[1]))+" ";J.type===2?Jt+=K(parseFloat(J.coords[2]))+" "+K(parseFloat(J.coords[3])):Jt+=K(parseFloat(J.coords[2]))+" "+K(parseFloat(J.coords[3]))+" "+K(parseFloat(J.coords[4]))+" "+K(parseFloat(J.coords[5])),Fe(Jt+="]"),J.matrix&&Fe("/Matrix ["+J.matrix.toString()+"]"),Fe("/Function "+We+" 0 R"),Fe("/Extend [true true]"),Fe(">>"),Fe("endobj")},on=function(J,ye){var We=Yr(),et=Rr();ye.push({resourcesOid:We,objectOid:et}),J.objectNumber=et;var mt=[];mt.push({key:"Type",value:"/Pattern"}),mt.push({key:"PatternType",value:"1"}),mt.push({key:"PaintType",value:"1"}),mt.push({key:"TilingType",value:"1"}),mt.push({key:"BBox",value:"["+J.boundingBox.map(K).join(" ")+"]"}),mt.push({key:"XStep",value:K(J.xStep)}),mt.push({key:"YStep",value:K(J.yStep)}),mt.push({key:"Resources",value:We+" 0 R"}),J.matrix&&mt.push({key:"Matrix",value:"["+J.matrix.toString()+"]"}),Tt({data:J.stream,additionalKeyValues:mt,objectId:J.objectNumber}),Fe("endobj")},fn=function(J){for(var ye in J.objectNumber=Rr(),Fe("<<"),J)switch(ye){case"opacity":Fe("/ca "+G(J[ye]));break;case"stroke-opacity":Fe("/CA "+G(J[ye]))}Fe(">>"),Fe("endobj")},vn=function(J){Ee(J.resourcesOid,!0),Fe("<<"),Fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ye in Fe("/Font <<"),ut)ut.hasOwnProperty(ye)&&(f===!1||f===!0&&p.hasOwnProperty(ye))&&Fe("/"+ye+" "+ut[ye].objectNumber+" 0 R");Fe(">>")})(),(function(){if(Object.keys(cn).length>0){for(var ye in Fe("/Shading <<"),cn)cn.hasOwnProperty(ye)&&cn[ye]instanceof W0&&cn[ye].objectNumber>=0&&Fe("/"+ye+" "+cn[ye].objectNumber+" 0 R");kr.publish("putShadingPatternDict"),Fe(">>")}})(),(function(ye){if(Object.keys(cn).length>0){for(var We in Fe("/Pattern <<"),cn)cn.hasOwnProperty(We)&&cn[We]instanceof m.TilingPattern&&cn[We].objectNumber>=0&&cn[We].objectNumber<ye&&Fe("/"+We+" "+cn[We].objectNumber+" 0 R");kr.publish("putTilingPatternDict"),Fe(">>")}})(J.objectOid),(function(){if(Object.keys(zn).length>0){var ye;for(ye in Fe("/ExtGState <<"),zn)zn.hasOwnProperty(ye)&&zn[ye].objectNumber>=0&&Fe("/"+ye+" "+zn[ye].objectNumber+" 0 R");kr.publish("putGStateDict"),Fe(">>")}})(),(function(){for(var ye in Fe("/XObject <<"),mi)mi.hasOwnProperty(ye)&&mi[ye].objectNumber>=0&&Fe("/"+ye+" "+mi[ye].objectNumber+" 0 R");kr.publish("putXobjectDict"),Fe(">>")})(),Fe(">>"),Fe("endobj")},On=function(J){yn[J.fontName]=yn[J.fontName]||{},yn[J.fontName][J.fontStyle]=J.id},Pt=function(J,ye,We,et,mt){var Jt={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:J,fontName:ye,fontStyle:We,encoding:et,isStandardFont:mt||!1,metadata:{}};return kr.publish("addFont",{font:Jt,instance:this}),ut[Jt.id]=Jt,On(Jt),Jt.id},Un=m.__private__.pdfEscape=m.pdfEscape=function(J,ye){return(function(We,et){var mt,Jt,pn,nr,Ln,Ir,sr,ti,Mi;if(pn=(et=et||{}).sourceEncoding||"Unicode",Ln=et.outputEncoding,(et.autoencode||Ln)&&ut[Ht].metadata&&ut[Ht].metadata[pn]&&ut[Ht].metadata[pn].encoding&&(nr=ut[Ht].metadata[pn].encoding,!Ln&&ut[Ht].encoding&&(Ln=ut[Ht].encoding),!Ln&&nr.codePages&&(Ln=nr.codePages[0]),typeof Ln=="string"&&(Ln=nr[Ln]),Ln)){for(sr=!1,Ir=[],mt=0,Jt=We.length;mt<Jt;mt++)(ti=Ln[We.charCodeAt(mt)])?Ir.push(String.fromCharCode(ti)):Ir.push(We[mt]),Ir[mt].charCodeAt(0)>>8&&(sr=!0);We=Ir.join("")}for(mt=We.length;sr===void 0&&mt!==0;)We.charCodeAt(mt-1)>>8&&(sr=!0),mt--;if(!sr)return We;for(Ir=et.noBOM?[]:[254,255],mt=0,Jt=We.length;mt<Jt;mt++){if((Mi=(ti=We.charCodeAt(mt))>>8)>>8)throw new Error("Character at position "+mt+" of string '"+We+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ir.push(Mi),Ir.push(ti-(Mi<<8))}return String.fromCharCode.apply(void 0,Ir)})(J,ye).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ir=m.__private__.beginPage=function(J){Ye[++Hn]=[],kn[Hn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(J[0]),topRightY:Number(J[1])}},Dr(Hn),yt(Ye[Y])},vi=function(J,ye){var We,et,mt;switch(n=ye||n,typeof J=="string"&&(We=T(J.toLowerCase()),Array.isArray(We)&&(et=We[0],mt=We[1])),Array.isArray(J)&&(et=J[0]*hn,mt=J[1]*hn),isNaN(et)&&(et=i[0],mt=i[1]),(et>14400||mt>14400)&&(ys.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),et=Math.min(14400,et),mt=Math.min(14400,mt)),i=[et,mt],n.substr(0,1)){case"l":mt>et&&(i=[mt,et]);break;case"p":et>mt&&(i=[mt,et])}ir(i),ur(xo),Fe(Lt),gs!==0&&Fe(gs+" J"),ci!==0&&Fe(ci+" j"),kr.publish("addPage",{pageNumber:Hn})},ca=function(J){J>0&&J<=Hn&&(Ye.splice(J,1),kn.splice(J,1),Hn--,Y>Hn&&(Y=Hn),this.setPage(Y))},Dr=function(J){J>0&&J<=Hn&&(Y=J)},yr=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ye.length-1},Br=function(J,ye,We){var et,mt=void 0;return We=We||{},J=J!==void 0?J:ut[Ht].fontName,ye=ye!==void 0?ye:ut[Ht].fontStyle,et=J.toLowerCase(),yn[et]!==void 0&&yn[et][ye]!==void 0?mt=yn[et][ye]:yn[J]!==void 0&&yn[J][ye]!==void 0?mt=yn[J][ye]:We.disableWarning===!1&&ys.warn("Unable to look up font label for font '"+J+"', '"+ye+"'. Refer to getFontList() for available fonts."),mt||We.noFallback||(mt=yn.times[ye])==null&&(mt=yn.times.normal),mt},wi=m.__private__.putInfo=function(){var J=Rr(),ye=function(et){return et};for(var We in d!==null&&(ye=en.encryptor(J,0)),Fe("<<"),Fe("/Producer ("+Un(ye("jsPDF "+wr.version))+")"),xn)xn.hasOwnProperty(We)&&xn[We]&&Fe("/"+We.substr(0,1).toUpperCase()+We.substr(1)+" ("+Un(ye(xn[We]))+")");Fe("/CreationDate ("+Un(ye(ie))+")"),Fe(">>"),Fe("endobj")},Pe=m.__private__.putCatalog=function(J){var ye=(J=J||{}).rootDictionaryObjId||Le;switch(Rr(),Fe("<<"),Fe("/Type /Catalog"),Fe("/Pages "+ye+" 0 R"),Qt||(Qt="fullwidth"),Qt){case"fullwidth":Fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Fe("/OpenAction [3 0 R /Fit]");break;case"original":Fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var We=""+Qt;We.substr(We.length-1)==="%"&&(Qt=parseInt(Qt)/100),typeof Qt=="number"&&Fe("/OpenAction [3 0 R /XYZ null null "+G(Qt)+"]")}switch(Vn||(Vn="continuous"),Vn){case"continuous":Fe("/PageLayout /OneColumn");break;case"single":Fe("/PageLayout /SinglePage");break;case"two":case"twoleft":Fe("/PageLayout /TwoColumnLeft");break;case"tworight":Fe("/PageLayout /TwoColumnRight")}bn&&Fe("/PageMode /"+bn),kr.publish("putCatalog"),Fe(">>"),Fe("endobj")},$e=m.__private__.putTrailer=function(){Fe("trailer"),Fe("<<"),Fe("/Size "+(oe+1)),Fe("/Root "+oe+" 0 R"),Fe("/Info "+(oe-1)+" 0 R"),d!==null&&Fe("/Encrypt "+en.oid+" 0 R"),Fe("/ID [ <"+ue+"> <"+ue+"> ]"),Fe(">>")},Oe=m.__private__.putHeader=function(){Fe("%PDF-"+w),Fe("%")},st=m.__private__.putXRef=function(){var J="0000000000";Fe("xref"),Fe("0 "+(oe+1)),Fe("0000000000 65535 f ");for(var ye=1;ye<=oe;ye++)typeof Ce[ye]=="function"?Fe((J+Ce[ye]()).slice(-10)+" 00000 n "):Ce[ye]!==void 0?Fe((J+Ce[ye]).slice(-10)+" 00000 n "):Fe("0000000000 00000 n ")},rt=m.__private__.buildDocument=function(){var J;oe=0,Ne=0,ke=[],Ce=[],Ue=[],Le=Yr(),Me=Yr(),yt(ke),kr.publish("buildDocument"),Oe(),vt(),(function(){kr.publish("putAdditionalObjects");for(var We=0;We<Ue.length;We++){var et=Ue[We];Ee(et.objId,!0),Fe(et.content),Fe("endobj")}kr.publish("postPutAdditionalObjects")})(),J=[],(function(){for(var We in ut)ut.hasOwnProperty(We)&&(f===!1||f===!0&&p.hasOwnProperty(We))&&bt(ut[We])})(),(function(){var We;for(We in zn)zn.hasOwnProperty(We)&&fn(zn[We])})(),(function(){for(var We in mi)mi.hasOwnProperty(We)&&Xt(mi[We])})(),(function(We){var et;for(et in cn)cn.hasOwnProperty(et)&&(cn[et]instanceof W0?an(cn[et]):cn[et]instanceof Sm&&on(cn[et],We))})(J),kr.publish("putResources"),J.forEach(vn),vn({resourcesOid:Me,objectOid:Number.MAX_SAFE_INTEGER}),kr.publish("postPutResources"),d!==null&&(en.oid=Rr(),Fe("<<"),Fe("/Filter /Standard"),Fe("/V "+en.v),Fe("/R "+en.r),Fe("/U <"+en.toHexString(en.U)+">"),Fe("/O <"+en.toHexString(en.O)+">"),Fe("/P "+en.P),Fe(">>"),Fe("endobj")),wi(),Pe();var ye=Ne;return st(),$e(),Fe("startxref"),Fe(""+ye),Fe("%%EOF"),yt(Ye[Y]),ke.join(`
`)},Xe=m.__private__.getBlob=function(J){return new Blob([nt(J)],{type:"application/pdf"})},jt=m.output=m.__private__.output=(Si=function(J,ye){switch(typeof(ye=ye||{})=="string"?ye={filename:ye}:ye.filename=ye.filename||"generated.pdf",J){case void 0:return rt();case"save":m.save(ye.filename);break;case"arraybuffer":return nt(rt());case"blob":return Xe(rt());case"bloburi":case"bloburl":if(Gr.URL!==void 0&&typeof Gr.URL.createObjectURL=="function")return Gr.URL&&Gr.URL.createObjectURL(Xe(rt()))||void 0;ys.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var We="",et=rt();try{We=TH(et)}catch{We=TH(unescape(encodeURIComponent(et)))}return"data:application/pdf;filename="+ye.filename+";base64,"+We;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var mt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ye.pdfObjectUrl&&(mt=ye.pdfObjectUrl,Jt="");var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+mt+'"'+Jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ye)+");<\/script></body></html>",nr=Gr.open();return nr!==null&&nr.document.write(pn),nr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var Ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ye.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ye.filename+'" width="500px" height="400px" /></body></html>',Ir=Gr.open();if(Ir!==null){Ir.document.write(Ln);var sr=this;Ir.document.documentElement.querySelector("#pdfViewer").onload=function(){Ir.document.title=ye.filename,Ir.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return Ir}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ti='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ye)+'"></iframe></body></html>',Mi=Gr.open();if(Mi!==null&&(Mi.document.write(ti),Mi.document.title=ye.filename),Mi||typeof safari>"u")return Mi;break;case"datauri":case"dataurl":return Gr.document.location.href=this.output("datauristring",ye);default:return null}},Si.foo=function(){try{return Si.apply(this,arguments)}catch(We){var J=We.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var ye="Error in function "+J.split(`
`)[0].split("<")[0]+": "+We.message;if(!Gr.console)throw new Error(ye);Gr.console.error(ye,We),Gr.alert&&alert(ye)}},Si.foo.bar=Si,Si.foo),Zt=function(J){return Array.isArray(ei)===!0&&ei.indexOf(J)>-1};switch(r){case"pt":hn=1;break;case"mm":hn=72/25.4;break;case"cm":hn=72/2.54;break;case"in":hn=72;break;case"px":hn=Zt("px_scaling")==1?.75:96/72;break;case"pc":case"em":hn=12;break;case"ex":hn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);hn=r}var en=null;ce(),xe();var dt=m.__private__.getPageInfo=m.getPageInfo=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:kn[J].objId,pageNumber:J,pageContext:kn[J]}},pe=m.__private__.getPageInfoByObjId=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ye in kn)if(kn[ye].objId===J)break;return dt(ye)},me=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:kn[Y].objId,pageNumber:Y,pageContext:kn[Y]}};m.addPage=function(){return vi.apply(this,arguments),this},m.setPage=function(){return Dr.apply(this,arguments),yt.call(this,Ye[Y]),this},m.insertPage=function(J){return this.addPage(),this.movePage(Y,J),this},m.movePage=function(J,ye){var We,et;if(J>ye){We=Ye[J],et=kn[J];for(var mt=J;mt>ye;mt--)Ye[mt]=Ye[mt-1],kn[mt]=kn[mt-1];Ye[ye]=We,kn[ye]=et,this.setPage(ye)}else if(J<ye){We=Ye[J],et=kn[J];for(var Jt=J;Jt<ye;Jt++)Ye[Jt]=Ye[Jt+1],kn[Jt]=kn[Jt+1];Ye[ye]=We,kn[ye]=et,this.setPage(ye)}return this},m.deletePage=function(){return ca.apply(this,arguments),this},m.__private__.text=m.text=function(J,ye,We,et,mt){var Jt,pn,nr,Ln,Ir,sr,ti,Mi,Pr,jn=(et=et||{}).scope||this;if(typeof J=="number"&&typeof ye=="number"&&(typeof We=="string"||Array.isArray(We))){var ta=We;We=ye,ye=J,J=ta}if(arguments[3]instanceof qn==0?(nr=arguments[4],Ln=arguments[5],ss(ti=arguments[3])==="object"&&ti!==null||(typeof nr=="string"&&(Ln=nr,nr=null),typeof ti=="string"&&(Ln=ti,ti=null),typeof ti=="number"&&(nr=ti,ti=null),et={flags:ti,angle:nr,align:Ln})):(j("The transform parameter of text() with a Matrix value"),Pr=mt),isNaN(ye)||isNaN(We)||J==null)throw new Error("Invalid arguments passed to jsPDF.text");if(J.length===0)return jn;var jr,ms="",wo=typeof et.lineHeightFactor=="number"?et.lineHeightFactor:di,Pl=jn.internal.scaleFactor;function ua(qt){return qt=qt.split("	").join(Array(et.TabLen||9).join(" ")),Un(qt,ti)}function Ku(qt){for(var $t,Wt=qt.concat(),vr=[],Er=Wt.length;Er--;)typeof($t=Wt.shift())=="string"?vr.push($t):Array.isArray(qt)&&($t.length===1||$t[1]===void 0&&$t[2]===void 0)?vr.push($t[0]):vr.push([$t[0],$t[1],$t[2]]);return vr}function qu(qt,$t){var Wt;if(typeof qt=="string")Wt=$t(qt)[0];else if(Array.isArray(qt)){for(var vr,Er,as=qt.concat(),ka=[],da=as.length;da--;)typeof(vr=as.shift())=="string"?ka.push($t(vr)[0]):Array.isArray(vr)&&typeof vr[0]=="string"&&(Er=$t(vr[0],vr[1],vr[2]),ka.push([Er[0],Er[1],Er[2]]));Wt=ka}return Wt}var al=!1,ol=!0;if(typeof J=="string")al=!0;else if(Array.isArray(J)){var su=J.concat();pn=[];for(var Oc,xs=su.length;xs--;)(typeof(Oc=su.shift())!="string"||Array.isArray(Oc)&&typeof Oc[0]!="string")&&(ol=!1);al=ol}if(al===!1)throw new Error('Type of text must be string or Array. "'+J+'" is not recognized.');typeof J=="string"&&(J=J.match(/[\r?\n]/)?J.split(/\r\n|\r|\n/g):[J]);var rc=lt/jn.internal.scaleFactor,au=rc*(wo-1);switch(et.baseline){case"bottom":We-=au;break;case"top":We+=rc-au;break;case"hanging":We+=rc-2*au;break;case"middle":We+=rc/2-au}if((sr=et.maxWidth||0)>0&&(typeof J=="string"?J=jn.splitTextToSize(J,sr):Object.prototype.toString.call(J)==="[object Array]"&&(J=J.reduce(function(qt,$t){return qt.concat(jn.splitTextToSize($t,sr))},[]))),Jt={text:J,x:ye,y:We,options:et,mutex:{pdfEscape:Un,activeFontKey:Ht,fonts:ut,activeFontSize:lt}},kr.publish("preProcessText",Jt),J=Jt.text,nr=(et=Jt.options).angle,Pr instanceof qn==0&&nr&&typeof nr=="number"){nr*=Math.PI/180,et.rotationDirection===0&&(nr=-nr),P===R&&(nr=-nr);var ic=Math.cos(nr),sc=Math.sin(nr);Pr=new qn(ic,sc,-sc,ic,0,0)}else nr&&nr instanceof qn&&(Pr=nr);P!==R||Pr||(Pr=ea),(Ir=et.charSpace||In)!==void 0&&(ms+=K(re(Ir))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mi=et.horizontalScale)!==void 0&&(ms+=K(100*Mi)+` Tz
`),et.lang;var Es=-1,ll=et.renderingMode!==void 0?et.renderingMode:et.stroke,Ta=jn.internal.getCurrentPageInfo().pageContext;switch(ll){case 0:case!1:case"fill":Es=0;break;case 1:case!0:case"stroke":Es=1;break;case 2:case"fillThenStroke":Es=2;break;case 3:case"invisible":Es=3;break;case 4:case"fillAndAddForClipping":Es=4;break;case 5:case"strokeAndAddPathForClipping":Es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Es=6;break;case 7:case"addToPathForClipping":Es=7}var _d=Ta.usedRenderingMode!==void 0?Ta.usedRenderingMode:-1;Es!==-1?ms+=Es+` Tr
`:_d!==-1&&(ms+=`0 Tr
`),Es!==-1&&(Ta.usedRenderingMode=Es),Ln=et.align||"left";var Ns,Ml=lt*wo,Ll=jn.internal.pageSize.getWidth(),Dh=ut[Ht];Ir=et.charSpace||In,sr=et.maxWidth||0,ti=Object.assign({autoencode:!0,noBOM:!0},et.flags);var cl=[],Ia=function(qt){return jn.getStringUnitWidth(qt,{font:Dh,charSpace:Ir,fontSize:lt,doKerning:!1})*lt/Pl};if(Object.prototype.toString.call(J)==="[object Array]"){var bo;pn=Ku(J),Ln!=="left"&&(Ns=pn.map(Ia));var Fa,yo=0;if(Ln==="right"){ye-=Ns[0],J=[],xs=pn.length;for(var Vr=0;Vr<xs;Vr++)Vr===0?(Fa=mr(ye),bo=Bn(We)):(Fa=re(yo-Ns[Vr]),bo=-Ml),J.push([pn[Vr],Fa,bo]),yo=Ns[Vr]}else if(Ln==="center"){ye-=Ns[0]/2,J=[],xs=pn.length;for(var ul=0;ul<xs;ul++)ul===0?(Fa=mr(ye),bo=Bn(We)):(Fa=re((yo-Ns[ul])/2),bo=-Ml),J.push([pn[ul],Fa,bo]),yo=Ns[ul]}else if(Ln==="left"){J=[],xs=pn.length;for(var we=0;we<xs;we++)J.push(pn[we])}else if(Ln==="justify"&&Dh.encoding==="Identity-H"){J=[],xs=pn.length,sr=sr!==0?sr:Ll;for(var A=0,x=0;x<xs;x++)if(bo=x===0?Bn(We):-Ml,Fa=x===0?mr(ye):A,x<xs-1){var v=re((sr-Ns[x])/(pn[x].split(" ").length-1)),S=pn[x].split(" ");J.push([S[0]+" ",Fa,bo]),A=0;for(var E=1;E<S.length;E++){var I=(Ia(S[E-1]+" "+S[E])-Ia(S[E]))*Pl+v;E==S.length-1?J.push([S[E],I,0]):J.push([S[E]+" ",I,0]),A-=I}}else J.push([pn[x],Fa,bo]);J.push(["",A,0])}else{if(Ln!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(J=[],xs=pn.length,sr=sr!==0?sr:Ll,x=0;x<xs;x++){bo=x===0?Bn(We):-Ml,Fa=x===0?mr(ye):0;var D=pn[x].split(" ").length-1,W=D>0?(sr-Ns[x])/D:0;x<xs-1?cl.push(K(re(W))):cl.push(0),J.push([pn[x],Fa,bo])}}}(typeof et.R2L=="boolean"?et.R2L:An)===!0&&(J=qu(J,function(qt,$t,Wt){return[qt.split("").reverse().join(""),$t,Wt]})),Jt={text:J,x:ye,y:We,options:et,mutex:{pdfEscape:Un,activeFontKey:Ht,fonts:ut,activeFontSize:lt}},kr.publish("postProcessText",Jt),J=Jt.text,jr=Jt.mutex.isHex||!1;var Z=ut[Ht].encoding;Z!=="WinAnsiEncoding"&&Z!=="StandardEncoding"||(J=qu(J,function(qt,$t,Wt){return[ua(qt),$t,Wt]})),pn=Ku(J),J=[];for(var de,be,Ie,ze=Array.isArray(pn[0])?1:0,Je="",tt=function(qt,$t,Wt){var vr="";return Wt instanceof qn?(Wt=typeof et.angle=="number"?Di(Wt,new qn(1,0,0,1,qt,$t)):Di(new qn(1,0,0,1,qt,$t),Wt),P===R&&(Wt=Di(new qn(1,0,0,-1,0,0),Wt)),vr=Wt.join(" ")+` Tm
`):vr=K(qt)+" "+K($t)+` Td
`,vr},pt=0;pt<pn.length;pt++){switch(Je="",ze){case 1:Ie=(jr?"<":"(")+pn[pt][0]+(jr?">":")"),de=parseFloat(pn[pt][1]),be=parseFloat(pn[pt][2]);break;case 0:Ie=(jr?"<":"(")+pn[pt]+(jr?">":")"),de=mr(ye),be=Bn(We)}cl!==void 0&&cl[pt]!==void 0&&(Je=cl[pt]+` Tw
`),pt===0?J.push(Je+tt(de,be,Pr)+Ie):ze===0?J.push(Je+Ie):ze===1&&J.push(Je+tt(de,be,Pr)+Ie)}J=ze===0?J.join(` Tj
T* `):J.join(` Tj
`),J+=` Tj
`;var Bt=`BT
/`;return Bt+=Ht+" "+lt+` Tf
`,Bt+=K(lt*wo)+` TL
`,Bt+=Fn+`
`,Bt+=ms,Bt+=J,Fe(Bt+="ET"),p[Ht]=!0,jn};var ae=m.__private__.clip=m.clip=function(J){return Fe(J==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ae("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Fe("n"),this};var Qe=m.__private__.isValidStyle=function(J){var ye=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(J)!==-1&&(ye=!0),ye};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(J){return Qe(J)&&(c=J),this};var Mt=m.__private__.getStyle=m.getStyle=function(J){var ye=c;switch(J){case"D":case"S":ye="S";break;case"F":ye="f";break;case"FD":case"DF":ye="B";break;case"f":case"f*":case"B":case"B*":ye=J}return ye},Gt=m.close=function(){return Fe("h"),this};m.stroke=function(){return Fe("S"),this},m.fill=function(J){return En("f",J),this},m.fillEvenOdd=function(J){return En("f*",J),this},m.fillStroke=function(J){return En("B",J),this},m.fillStrokeEvenOdd=function(J){return En("B*",J),this};var En=function(J,ye){ss(ye)==="object"?wn(ye,J):Fe(J)},Gn=function(J){J===null||P===R&&J===void 0||(J=Mt(J),Fe(J))};function Wn(J,ye,We,et,mt){var Jt=new Sm(ye||this.boundingBox,We||this.xStep,et||this.yStep,this.gState,mt||this.matrix);Jt.stream=this.stream;var pn=J+"$$"+this.cloneIndex+++"$$";return xi(pn,Jt),Jt}var wn=function(J,ye){var We=or[J.key],et=cn[We];if(et instanceof W0)Fe("q"),Fe(Mn(ye)),et.gState&&m.setGState(et.gState),Fe(J.matrix.toString()+" cm"),Fe("/"+We+" sh"),Fe("Q");else if(et instanceof Sm){var mt=new qn(1,0,0,-1,0,sl());J.matrix&&(mt=mt.multiply(J.matrix||ea),We=Wn.call(et,J.key,J.boundingBox,J.xStep,J.yStep,mt).id),Fe("q"),Fe("/Pattern cs"),Fe("/"+We+" scn"),et.gState&&m.setGState(et.gState),Fe(ye),Fe("Q")}},Mn=function(J){switch(J){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xr=m.moveTo=function(J,ye){return Fe(K(re(J))+" "+K(ee(ye))+" m"),this},Pi=m.lineTo=function(J,ye){return Fe(K(re(J))+" "+K(ee(ye))+" l"),this},oi=m.curveTo=function(J,ye,We,et,mt,Jt){return Fe([K(re(J)),K(ee(ye)),K(re(We)),K(ee(et)),K(re(mt)),K(ee(Jt)),"c"].join(" ")),this};m.__private__.line=m.line=function(J,ye,We,et,mt){if(isNaN(J)||isNaN(ye)||isNaN(We)||isNaN(et)||!Qe(mt))throw new Error("Invalid arguments passed to jsPDF.line");return P===k?this.lines([[We-J,et-ye]],J,ye,[1,1],mt||"S"):this.lines([[We-J,et-ye]],J,ye,[1,1]).stroke()},m.__private__.lines=m.lines=function(J,ye,We,et,mt,Jt){var pn,nr,Ln,Ir,sr,ti,Mi,Pr,jn,ta,jr,ms;if(typeof J=="number"&&(ms=We,We=ye,ye=J,J=ms),et=et||[1,1],Jt=Jt||!1,isNaN(ye)||isNaN(We)||!Array.isArray(J)||!Array.isArray(et)||!Qe(mt)||typeof Jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xr(ye,We),pn=et[0],nr=et[1],Ir=J.length,ta=ye,jr=We,Ln=0;Ln<Ir;Ln++)(sr=J[Ln]).length===2?(ta=sr[0]*pn+ta,jr=sr[1]*nr+jr,Pi(ta,jr)):(ti=sr[0]*pn+ta,Mi=sr[1]*nr+jr,Pr=sr[2]*pn+ta,jn=sr[3]*nr+jr,ta=sr[4]*pn+ta,jr=sr[5]*nr+jr,oi(ti,Mi,Pr,jn,ta,jr));return Jt&&Gt(),Gn(mt),this},m.path=function(J){for(var ye=0;ye<J.length;ye++){var We=J[ye],et=We.c;switch(We.op){case"m":Xr(et[0],et[1]);break;case"l":Pi(et[0],et[1]);break;case"c":oi.apply(this,et);break;case"h":Gt()}}return this},m.__private__.rect=m.rect=function(J,ye,We,et,mt){if(isNaN(J)||isNaN(ye)||isNaN(We)||isNaN(et)||!Qe(mt))throw new Error("Invalid arguments passed to jsPDF.rect");return P===k&&(et=-et),Fe([K(re(J)),K(ee(ye)),K(re(We)),K(re(et)),"re"].join(" ")),Gn(mt),this},m.__private__.triangle=m.triangle=function(J,ye,We,et,mt,Jt,pn){if(isNaN(J)||isNaN(ye)||isNaN(We)||isNaN(et)||isNaN(mt)||isNaN(Jt)||!Qe(pn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[We-J,et-ye],[mt-We,Jt-et],[J-mt,ye-Jt]],J,ye,[1,1],pn,!0),this},m.__private__.roundedRect=m.roundedRect=function(J,ye,We,et,mt,Jt,pn){if(isNaN(J)||isNaN(ye)||isNaN(We)||isNaN(et)||isNaN(mt)||isNaN(Jt)||!Qe(pn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nr=4/3*(Math.SQRT2-1);return mt=Math.min(mt,.5*We),Jt=Math.min(Jt,.5*et),this.lines([[We-2*mt,0],[mt*nr,0,mt,Jt-Jt*nr,mt,Jt],[0,et-2*Jt],[0,Jt*nr,-mt*nr,Jt,-mt,Jt],[2*mt-We,0],[-mt*nr,0,-mt,-Jt*nr,-mt,-Jt],[0,2*Jt-et],[0,-Jt*nr,mt*nr,-Jt,mt,-Jt]],J+mt,ye,[1,1],pn,!0),this},m.__private__.ellipse=m.ellipse=function(J,ye,We,et,mt){if(isNaN(J)||isNaN(ye)||isNaN(We)||isNaN(et)||!Qe(mt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Jt=4/3*(Math.SQRT2-1)*We,pn=4/3*(Math.SQRT2-1)*et;return Xr(J+We,ye),oi(J+We,ye-pn,J+Jt,ye-et,J,ye-et),oi(J-Jt,ye-et,J-We,ye-pn,J-We,ye),oi(J-We,ye+pn,J-Jt,ye+et,J,ye+et),oi(J+Jt,ye+et,J+We,ye+pn,J+We,ye),Gn(mt),this},m.__private__.circle=m.circle=function(J,ye,We,et){if(isNaN(J)||isNaN(ye)||isNaN(We)||!Qe(et))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(J,ye,We,We,et)},m.setFont=function(J,ye,We){return We&&(ye=L(ye,We)),Ht=Br(J,ye,{disableWarning:!1}),this};var Lr=m.__private__.getFont=m.getFont=function(){return ut[Br.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var J,ye,We={};for(J in yn)if(yn.hasOwnProperty(J))for(ye in We[J]=[],yn[J])yn[J].hasOwnProperty(ye)&&We[J].push(ye);return We},m.addFont=function(J,ye,We,et,mt){var Jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Jt.indexOf(arguments[3])!==-1?mt=arguments[3]:arguments[3]&&Jt.indexOf(arguments[3])==-1&&(We=L(We,et)),Pt.call(this,J,ye,We,mt=mt||"Identity-H")};var di,xo=e.lineWidth||.200025,li=m.__private__.getLineWidth=m.getLineWidth=function(){return xo},ur=m.__private__.setLineWidth=m.setLineWidth=function(J){return xo=J,Fe(K(re(J))+" w"),this};m.__private__.setLineDash=wr.API.setLineDash=wr.API.setLineDashPattern=function(J,ye){if(J=J||[],ye=ye||0,isNaN(ye)||!Array.isArray(J))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return J=J.map(function(We){return K(re(We))}).join(" "),ye=K(re(ye)),Fe("["+J+"] "+ye+" d"),this};var Ji=m.__private__.getLineHeight=m.getLineHeight=function(){return lt*di};m.__private__.getLineHeight=m.getLineHeight=function(){return lt*di};var gr=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(J){return typeof(J=J||1.15)=="number"&&(di=J),this},Mc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return di};gr(e.lineHeight);var mr=m.__private__.getHorizontalCoordinate=function(J){return re(J)},Bn=m.__private__.getVerticalCoordinate=function(J){return P===R?J:kn[Y].mediaBox.topRightY-kn[Y].mediaBox.bottomLeftY-re(J)},Te=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(J){return K(mr(J))},it=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(J){return K(Bn(J))},Lt=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return He(Lt)},m.__private__.setStrokeColor=m.setDrawColor=function(J,ye,We,et){return Lt=Ve({ch1:J,ch2:ye,ch3:We,ch4:et,pdfColorType:"draw",precision:2}),Fe(Lt),this};var sn=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return He(sn)},m.__private__.setFillColor=m.setFillColor=function(J,ye,We,et){return sn=Ve({ch1:J,ch2:ye,ch3:We,ch4:et,pdfColorType:"fill",precision:2}),Fe(sn),this};var Fn=e.textColor||"0 g",Rn=m.__private__.getTextColor=m.getTextColor=function(){return He(Fn)};m.__private__.setTextColor=m.setTextColor=function(J,ye,We,et){return Fn=Ve({ch1:J,ch2:ye,ch3:We,ch4:et,pdfColorType:"text",precision:3}),this};var In=e.charSpace,si=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(In||0)};m.__private__.setCharSpace=m.setCharSpace=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return In=J,this};var gs=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(J){var ye=m.CapJoinStyles[J];if(ye===void 0)throw new Error("Line cap style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gs=ye,Fe(ye+" J"),this};var ci=0;m.__private__.setLineJoin=m.setLineJoin=function(J){var ye=m.CapJoinStyles[J];if(ye===void 0)throw new Error("Line join style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ci=ye,Fe(ye+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(J){if(J=J||0,isNaN(J))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Fe(K(re(J))+" M"),this},m.GState=KS,m.setGState=function(J){(J=typeof J=="string"?zn[Kn[J]]:Bs(null,J)).equals(Qn)||(Fe("/"+J.id+" gs"),Qn=J)};var Bs=function(J,ye){if(!J||!Kn[J]){var We=!1;for(var et in zn)if(zn.hasOwnProperty(et)&&zn[et].equals(ye)){We=!0;break}if(We)ye=zn[et];else{var mt="GS"+(Object.keys(zn).length+1).toString(10);zn[mt]=ye,ye.id=mt}return J&&(Kn[J]=ye.id),kr.publish("addGState",ye),ye}};m.addGState=function(J,ye){return Bs(J,ye),this},m.saveGraphicsState=function(){return Fe("q"),un.push({key:Ht,size:lt,color:Fn}),this},m.restoreGraphicsState=function(){Fe("Q");var J=un.pop();return Ht=J.key,lt=J.size,Fn=J.color,Qn=null,this},m.setCurrentTransformationMatrix=function(J){return Fe(J.toString()+" cm"),this},m.comment=function(J){return Fe("#"+J),this};var hi=function(J,ye){var We=J||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return We},set:function(Jt){isNaN(Jt)||(We=parseFloat(Jt))}});var et=ye||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return et},set:function(Jt){isNaN(Jt)||(et=parseFloat(Jt))}});var mt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return mt},set:function(Jt){mt=Jt.toString()}}),this},Na=function(J,ye,We,et){hi.call(this,J,ye),this.type="rect";var mt=We||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return mt},set:function(pn){isNaN(pn)||(mt=parseFloat(pn))}});var Jt=et||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Jt},set:function(pn){isNaN(pn)||(Jt=parseFloat(pn))}}),this},tc=function(){this.page=Hn,this.currentPage=Y,this.pages=Ye.slice(0),this.pagesContext=kn.slice(0),this.x=rn,this.y=br,this.matrix=Tn,this.width=Dl(Y),this.height=ai(Y),this.outputDestination=gt,this.id="",this.objectNumber=-1};tc.prototype.restore=function(){Hn=this.page,Y=this.currentPage,kn=this.pagesContext,Ye=this.pages,rn=this.x,br=this.y,Tn=this.matrix,Lc(Y,this.width),Vo(Y,this.height),gt=this.outputDestination};var nc=function(J,ye,We,et,mt){Ki.push(new tc),Hn=Y=0,Ye=[],rn=J,br=ye,Tn=mt,ir([We,et])};for(var il in m.beginFormObject=function(J,ye,We,et,mt){return nc(J,ye,We,et,mt),this},m.endFormObject=function(J){return(function(ye){if(ii[ye])Ki.pop().restore();else{var We=new tc,et="Xo"+(Object.keys(mi).length+1).toString(10);We.id=et,ii[ye]=et,mi[et]=We,kr.publish("addFormObject",We),Ki.pop().restore()}})(J),this},m.doFormObject=function(J,ye){var We=mi[ii[J]];return Fe("q"),Fe(ye.toString()+" cm"),Fe("/"+We.id+" Do"),Fe("Q"),this},m.getFormObject=function(J){var ye=mi[ii[J]];return{x:ye.x,y:ye.y,width:ye.width,height:ye.height,matrix:ye.matrix}},m.save=function(J,ye){return J=J||"generated.pdf",(ye=ye||{}).returnPromise=ye.returnPromise||!1,ye.returnPromise===!1?(G0(Xe(rt()),J),typeof G0.unload=="function"&&Gr.setTimeout&&setTimeout(G0.unload,911),this):new Promise(function(We,et){try{var mt=G0(Xe(rt()),J);typeof G0.unload=="function"&&Gr.setTimeout&&setTimeout(G0.unload,911),We(mt)}catch(Jt){et(Jt.message)}})},wr.API)wr.API.hasOwnProperty(il)&&(il==="events"&&wr.API.events.length?(function(J,ye){var We,et,mt;for(mt=ye.length-1;mt!==-1;mt--)We=ye[mt][0],et=ye[mt][1],J.subscribe.apply(J,[We].concat(typeof et=="function"?[et]:et))})(kr,wr.API.events):m[il]=wr.API[il]);function Dl(J){return kn[J].mediaBox.topRightX-kn[J].mediaBox.bottomLeftX}function Lc(J,ye){kn[J].mediaBox.topRightX=ye+kn[J].mediaBox.bottomLeftX}function ai(J){return kn[J].mediaBox.topRightY-kn[J].mediaBox.bottomLeftY}function Vo(J,ye){kn[J].mediaBox.topRightY=ye+kn[J].mediaBox.bottomLeftY}var vo=m.getPageWidth=function(J){return Dl(J=J||Y)/hn},Qo=m.setPageWidth=function(J,ye){Lc(J,ye*hn)},sl=m.getPageHeight=function(J){return ai(J=J||Y)/hn},_t=m.setPageHeight=function(J,ye){Vo(J,ye*hn)};return m.internal={pdfEscape:Un,getStyle:Mt,getFont:Lr,getFontSize:ot,getCharSpace:si,getTextColor:Rn,getLineHeight:Ji,getLineHeightFactor:Mc,getLineWidth:li,write:Nt,getHorizontalCoordinate:mr,getVerticalCoordinate:Bn,getCoordinateString:Te,getVerticalCoordinateString:it,collections:{},newObject:Rr,newAdditionalObject:_e,newObjectDeferred:Yr,newObjectDeferredBegin:Ee,getFilters:At,putStream:Tt,events:kr,scaleFactor:hn,pageSize:{getWidth:function(){return vo(Y)},setWidth:function(J){Qo(Y,J)},getHeight:function(){return sl(Y)},setHeight:function(J){_t(Y,J)}},encryptionOptions:d,encryption:en,getEncryptor:function(J){return d!==null?en.encryptor(J,0):function(ye){return ye}},output:jt,getNumberOfPages:yr,get pages(){return Ye},out:Fe,f2:G,f3:V,getPageInfo:dt,getPageInfoByObjId:pe,getCurrentPageInfo:me,getPDFVersion:y,Point:hi,Rectangle:Na,Matrix:qn,hasHotfix:Zt},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return vo(Y)},set:function(J){Qo(Y,J)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return sl(Y)},set:function(J){_t(Y,J)},enumerable:!0,configurable:!0}),(function(J){for(var ye=0,We=Ct.length;ye<We;ye++){var et=Pt.call(this,J[ye][0],J[ye][1],J[ye][2],Ct[ye][3],!0);f===!1&&(p[et]=!0);var mt=J[ye][0].split("-");On({id:et,fontName:mt[0],fontStyle:mt[1]||""})}kr.publish("addFonts",{fonts:ut,dictionary:yn})}).call(m,Ct),Ht="F1",vi(i,n),kr.publish("initialized"),m}hm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},hm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hm.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},hm.prototype.processOwnerPassword=function(e,t){return Zk(Jk(t).substr(0,5),e)},hm.prototype.encryptor=function(e,t){var n=Jk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Zk(n,r)}},KS.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||ss(e)!==ss(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},wr.API={events:[]},wr.version="4.0.0";var va=wr.API,ED=1,rg=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},im=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kr=function(e){return e.toFixed(2)},wA=function(e){return e.toFixed(5)};va.__acroform__={};var Dc=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},BH=function(e){return e*ED},eh=function(e){var t=new DZ,n=Ar.internal.getHeight(e)||0,r=Ar.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Kr(r)),Number(Kr(n))],t},jBe=va.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},UBe=va.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},HBe=va.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Oa=va.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HBe(e,t-1)},ja=va.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jBe(e,t-1)},Ua=va.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UBe(e,t-1)},GBe=va.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Kr(l.lowerLeft_X)),Number(Kr(l.lowerLeft_Y)),Number(Kr(l.upperRight_X)),Number(Kr(l.upperRight_Y))]},VBe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=eB(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Kr(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=eh(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},eB=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(G){return G.split(`
`)}):i.map(function(G){return[G]});var s=n,a=Ar.internal.getHeight(e)||0;a=a<0?-a:a;var o=Ar.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(G,V,re){if(G+1<i.length){var ee=V+" "+i[G+1][0];return mC(ee,e,re).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,f=mC("3",e,s).height,p=e.multiline?a-s:(a-f)/2,m=p+=2,w=0,y=0,C=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+mC(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var T="",k=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var P=!1;if(i[R].length!==1&&C!==i[R].length-1){if((f+2)*(k+2)+2>a)continue e;T+=i[R][C],P=!0,y=R,R--}else{T=(T+=i[R][C]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var U=parseInt(R),O=l(U,T,s),L=R>=i.length-1;if(O&&!L){T+=" ",C=0;continue}if(O||L){if(L)y=U;else if(e.multiline&&(f+2)*(k+2)+2>a)continue e}else{if(!e.multiline||(f+2)*(k+2)+2>a)continue e;y=U}}for(var K="",j=w;j<=y;j++){var te=i[j];if(e.multiline){if(j===y){K+=te[C]+" ",C=(C+1)%te.length;continue}if(j===w){K+=te[te.length-1]+" ";continue}}K+=te[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,d=mC(K,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Kr(c)+" "+Kr(m)+` Td
`,t+="("+rg(K)+`) Tj
`,t+=-Kr(c)+` 0 Td
`,m=-(s+2),d=0,w=P?y:y+1,k++,T=""}break}return r.text=t,r.fontSize=s,r},mC=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},QBe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zBe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},WBe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Id.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(QBe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ED=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new PZ,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&zBe(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=GBe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ar.createDefaultAppearanceStream(o),ss(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=VBe(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var w=m[a];typeof w=="function"&&(w=w.call(i,o)),f+="/"+a+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=m)=="function"&&(w=w.call(i,o)),f+="/"+a+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&(function(y,C){for(var T in y)if(y.hasOwnProperty(T)){var k=T,R=y[T];C.internal.newObjectDeferredBegin(R.objId,!0),ss(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete y[k]}})(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},_Z=va.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),ss(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+rg(r(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lF=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+rg(r(e))+")"},hh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hh.prototype.toString=function(){return this.objId+" 0 R"},hh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},hh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:_Z(i,this.objId,this.scope)}):i instanceof hh?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var DZ=function(){hh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Dc(DZ,hh);var PZ=function(){hh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+rg(n(e))+")"}},set:function(n){e=n}})};Dc(PZ,hh);var Id=function e(){hh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');t=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oa(t,3)},set:function(T){T?this.F=ja(t,3):this.F=Ua(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof qS)return;s="FieldObject"+e.FieldNum++}var T=function(k){return k};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+rg(T(s))+")"},set:function(T){s=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(T){s=T}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(T){a=T}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(T){o=T}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(T){l=T}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ED:c},set:function(T){c=T}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(T){d=T}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof qS||this instanceof gp))return lF(f,this.objId,this.scope)},set:function(T){T=T.toString(),f=T}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Po==0?lF(p,this.objId,this.scope):p},set:function(T){T=T.toString(),p=this instanceof Po==0?T.substr(0,1)==="("?im(T.substr(1,T.length-2)):im(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Po==1?im(p.substr(1,p.length-1)):p},set:function(T){T=T.toString(),p=this instanceof Po==1?"/"+T:T}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Po==0?lF(m,this.objId,this.scope):m},set:function(T){T=T.toString(),m=this instanceof Po==0?T.substr(0,1)==="("?im(T.substr(1,T.length-2)):im(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Po==1?im(m.substr(1,m.length-1)):m},set:function(T){T=T.toString(),m=this instanceof Po==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(T){T=!!T,y=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(T){w=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,1)},set:function(T){T?this.Ff=ja(this.Ff,1):this.Ff=Ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,2)},set:function(T){T?this.Ff=ja(this.Ff,2):this.Ff=Ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,3)},set:function(T){T?this.Ff=ja(this.Ff,3):this.Ff=Ua(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');C=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(C){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Dc(Id,hh);var Um=function(){Id.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _Z(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,18)},set:function(n){n?this.Ff=ja(this.Ff,18):this.Ff=Ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ja(this.Ff,19):this.Ff=Ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,20)},set:function(n){n?(this.Ff=ja(this.Ff,20),t.sort()):this.Ff=Ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,22)},set:function(n){n?this.Ff=ja(this.Ff,22):this.Ff=Ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(n){n?this.Ff=ja(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,27)},set:function(n){n?this.Ff=ja(this.Ff,27):this.Ff=Ua(this.Ff,27)}}),this.hasAppearanceStream=!1};Dc(Um,Id);var Hm=function(){Um.call(this),this.fontName="helvetica",this.combo=!1};Dc(Hm,Um);var Gm=function(){Hm.call(this),this.combo=!0};Dc(Gm,Hm);var l2=function(){Gm.call(this),this.edit=!0};Dc(l2,Gm);var Po=function(){Id.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,15)},set:function(n){n?this.Ff=ja(this.Ff,15):this.Ff=Ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,16)},set:function(n){n?this.Ff=ja(this.Ff,16):this.Ff=Ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,17)},set:function(n){n?this.Ff=ja(this.Ff,17):this.Ff=Ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(n){n?this.Ff=ja(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+rg(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ss(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Dc(Po,Id);var c2=function(){Po.call(this),this.pushButton=!0};Dc(c2,Po);var Vm=function(){Po.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Dc(Vm,Po);var qS=function(){var e,t;Id.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+rg(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){ss(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ar.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Dc(qS,Id),Vm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Vm.prototype.createOption=function(e){var t=new qS;return t.Parent=this,t.optionName=e,this.Kids.push(t),KBe.call(this.scope,t),t};var u2=function(){Po.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ar.CheckBox.createAppearanceStream()};Dc(u2,Po);var gp=function(){Id.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,13)},set:function(t){t?this.Ff=ja(this.Ff,13):this.Ff=Ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,21)},set:function(t){t?this.Ff=ja(this.Ff,21):this.Ff=Ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(t){t?this.Ff=ja(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,24)},set:function(t){t?this.Ff=ja(this.Ff,24):this.Ff=Ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,25)},set:function(t){t?this.Ff=ja(this.Ff,25):this.Ff=Ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(t){t?this.Ff=ja(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Dc(gp,Id);var d2=function(){gp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,14)},set:function(e){e?this.Ff=ja(this.Ff,14):this.Ff=Ua(this.Ff,14)}}),this.password=!0};Dc(d2,gp);var Ar={CheckBox:{createAppearanceStream:function(){return{N:{On:Ar.CheckBox.YesNormal},D:{On:Ar.CheckBox.YesPushDown,Off:Ar.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=eh(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=eB(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Kr(Ar.internal.getWidth(e))+" "+Kr(Ar.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Kr(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=eh(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ar.internal.getHeight(e),a=Ar.internal.getWidth(e),o=eB(e,e.caption);return i.push("1 g"),i.push("0 0 "+Kr(a)+" "+Kr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Kr(a-1)+" "+Kr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Kr(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=eh(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kr(Ar.internal.getWidth(e))+" "+Kr(Ar.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ar.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ar.RadioButton.Circle.YesNormal,t.D[e]=Ar.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=eh(e);t.scope=e.scope;var n=[],r=Ar.internal.getWidth(e)<=Ar.internal.getHeight(e)?Ar.internal.getWidth(e)/4:Ar.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ar.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+wA(Ar.internal.getWidth(e)/2)+" "+wA(Ar.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=eh(e);t.scope=e.scope;var n=[],r=Ar.internal.getWidth(e)<=Ar.internal.getHeight(e)?Ar.internal.getWidth(e)/4:Ar.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ar.internal.Bezier_C).toFixed(5)),a=Number((r*Ar.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wA(Ar.internal.getWidth(e)/2)+" "+wA(Ar.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+wA(Ar.internal.getWidth(e)/2)+" "+wA(Ar.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=eh(e);t.scope=e.scope;var n=[],r=Ar.internal.getWidth(e)<=Ar.internal.getHeight(e)?Ar.internal.getWidth(e)/4:Ar.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ar.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wA(Ar.internal.getWidth(e)/2)+" "+wA(Ar.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ar.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ar.RadioButton.Cross.YesNormal,t.D[e]=Ar.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=eh(e);t.scope=e.scope;var n=[],r=Ar.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Kr(Ar.internal.getWidth(e)-2)+" "+Kr(Ar.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Kr(r.x1.x)+" "+Kr(r.x1.y)+" m"),n.push(Kr(r.x2.x)+" "+Kr(r.x2.y)+" l"),n.push(Kr(r.x4.x)+" "+Kr(r.x4.y)+" m"),n.push(Kr(r.x3.x)+" "+Kr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=eh(e);t.scope=e.scope;var n=Ar.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Kr(Ar.internal.getWidth(e))+" "+Kr(Ar.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Kr(Ar.internal.getWidth(e)-2)+" "+Kr(Ar.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Kr(n.x1.x)+" "+Kr(n.x1.y)+" m"),r.push(Kr(n.x2.x)+" "+Kr(n.x2.y)+" l"),r.push(Kr(n.x4.x)+" "+Kr(n.x4.y)+" m"),r.push(Kr(n.x3.x)+" "+Kr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=eh(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kr(Ar.internal.getWidth(e))+" "+Kr(Ar.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ar.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ar.internal.getWidth(e),n=Ar.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ar.internal.getWidth=function(e){var t=0;return ss(e)==="object"&&(t=BH(e.Rect[2])),t},Ar.internal.getHeight=function(e){var t=0;return ss(e)==="object"&&(t=BH(e.Rect[3])),t};var KBe=va.addField=function(e){if(WBe(this,e),!(e instanceof Id))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};va.AcroFormChoiceField=Um,va.AcroFormListBox=Hm,va.AcroFormComboBox=Gm,va.AcroFormEditBox=l2,va.AcroFormButton=Po,va.AcroFormPushButton=c2,va.AcroFormRadioButton=Vm,va.AcroFormCheckBox=u2,va.AcroFormTextField=gp,va.AcroFormPasswordField=d2,va.AcroFormAppearance=Ar,va.AcroForm={ChoiceField:Um,ListBox:Hm,ComboBox:Gm,EditBox:l2,Button:Po,PushButton:c2,RadioButton:Vm,CheckBox:u2,TextField:gp,PasswordField:d2,Appearance:Ar},wr.AcroForm={ChoiceField:Um,ListBox:Hm,ComboBox:Gm,EditBox:l2,Button:Po,PushButton:c2,RadioButton:Vm,CheckBox:u2,TextField:gp,PasswordField:d2,Appearance:Ar};wr.AcroForm;function MZ(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(G,V){var re,ee,ie,ue,le,xe=n;if((V=V||n)==="RGBA"||G.data!==void 0&&G.data instanceof Uint8ClampedArray&&"height"in G&&"width"in G)return"RGBA";if(O(G))for(le in r)for(ie=r[le],re=0;re<ie.length;re+=1){for(ue=!0,ee=0;ee<ie[re].length;ee+=1)if(ie[re][ee]!==void 0&&ie[re][ee]!==G[ee]){ue=!1;break}if(ue===!0){xe=le;break}}else for(le in r)for(ie=r[le],re=0;re<ie.length;re+=1){for(ue=!0,ee=0;ee<ie[re].length;ee+=1)if(ie[re][ee]!==void 0&&ie[re][ee]!==G.charCodeAt(ee)){ue=!1;break}if(ue===!0){xe=le;break}}return xe===n&&V!==n&&(xe=V),xe},s=function G(V){for(var re=this.internal.write,ee=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:V.width}),ue.push({key:"Height",value:V.height}),V.colorSpace===T.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===T.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var le="",xe=0,ge=V.transparency.length;xe<ge;xe++)le+=V.transparency[xe]+" "+V.transparency[xe]+" ";ue.push({key:"Mask",value:"["+le+"]"})}V.sMask!==void 0&&ue.push({key:"SMask",value:V.objectId+1+" 0 R"});var fe=V.filter!==void 0?["/"+V.filter]:void 0;if(ee({data:V.data,additionalKeyValues:ue,alreadyAppliedFilters:fe,objectId:V.objectId}),re("endobj"),"sMask"in V&&V.sMask!==void 0){var ce,Q=(ce=V.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:V.bitsPerComponent,Y={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:Q,data:V.sMask};"filter"in V&&(Y.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(Q," /Columns ").concat(V.width),Y.filter=V.filter),G.call(this,Y)}if(V.colorSpace===T.INDEXED){var X=this.internal.newObject();ee({data:K(new Uint8Array(V.palette)),objectId:X}),re("endobj")}},a=function(){var G=this.internal.collections[t+"images"];for(var V in G)s.call(this,G[V])},o=function(){var G,V=this.internal.collections[t+"images"],re=this.internal.write;for(var ee in V)re("/I"+(G=V[ee]).index,G.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var G=this.internal.collections[t+"images"];return l.call(this),G},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(G){return typeof e["process"+G.toUpperCase()]=="function"},p=function(G){return ss(G)==="object"&&G.nodeType===1},m=function(G,V){if(G.nodeName==="IMG"&&G.hasAttribute("src")){var re=""+G.getAttribute("src");if(re.indexOf("data:image/")===0)return o2(unescape(re).split("base64,").pop());var ee=e.loadFile(re,!0);if(ee!==void 0)return ee}if(G.nodeName==="CANVAS"){if(G.width===0||G.height===0)throw new Error("Given canvas must have data. Canvas width: "+G.width+", height: "+G.height);var ie;switch(V){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return o2(G.toDataURL(ie,1).split("base64,").pop())}},w=function(G){var V=this.internal.collections[t+"images"];if(V){for(var re in V)if(G===V[re].alias)return V[re]}},y=function(G,V,re){return G||V||(G=-96,V=-96),G<0&&(G=-1*re.width*72/G/this.internal.scaleFactor),V<0&&(V=-1*re.height*72/V/this.internal.scaleFactor),G===0&&(G=V*re.width/re.height),V===0&&(V=G*re.height/re.width),[G,V]},C=function(G,V,re,ee,ie,ue){var le=y.call(this,re,ee,ie),xe=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,fe=c.call(this);if(re=le[0],ee=le[1],fe[ie.index]=ie,ue){ue*=Math.PI/180;var ce=Math.cos(ue),Q=Math.sin(ue),Y=function(ne){return ne.toFixed(4)},X=[Y(ce),Y(Q),Y(-1*Q),Y(ce),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,xe(G),ge(V+ee),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([xe(re),"0","0",xe(ee),"0","0","cm"].join(" "))):this.internal.write([xe(re),"0","0",xe(ee),xe(G),ge(V+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},T=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=e.__addimage__.sHashCode=function(G){var V,re,ee=0;if(typeof G=="string")for(re=G.length,V=0;V<re;V++)ee=(ee<<5)-ee+G.charCodeAt(V),ee|=0;else if(O(G))for(re=G.byteLength/2,V=0;V<re;V++)ee=(ee<<5)-ee+G[V],ee|=0;return ee},P=e.__addimage__.validateStringAsBase64=function(G){(G=G||"").toString().trim();var V=!0;return G.length===0&&(V=!1),G.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(G.substr(0,G.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(G.substr(-2))===!1&&(V=!1),V},U=e.__addimage__.extractImageFromDataUrl=function(G){if(G==null||!(G=G.trim()).startsWith("data:"))return null;var V=G.indexOf(",");return V<0?null:G.substring(0,V).trim().endsWith("base64")?G.substring(V+1):null};e.__addimage__.isArrayBuffer=function(G){return G instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(G){return G instanceof Int8Array||G instanceof Uint8Array||G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(G){for(var V=G.length,re=new Uint8Array(V),ee=0;ee<V;ee++)re[ee]=G.charCodeAt(ee);return re},K=e.__addimage__.arrayBufferToBinaryString=function(G){for(var V="",re=O(G)?G:new Uint8Array(G),ee=0;ee<re.length;ee+=8192)V+=String.fromCharCode.apply(null,re.subarray(ee,ee+8192));return V};e.addImage=function(){var G,V,re,ee,ie,ue,le,xe,ge;if(typeof arguments[1]=="number"?(V=n,re=arguments[1],ee=arguments[2],ie=arguments[3],ue=arguments[4],le=arguments[5],xe=arguments[6],ge=arguments[7]):(V=arguments[1],re=arguments[2],ee=arguments[3],ie=arguments[4],ue=arguments[5],le=arguments[6],xe=arguments[7],ge=arguments[8]),ss(G=arguments[0])==="object"&&!p(G)&&"imageData"in G){var fe=G;G=fe.imageData,V=fe.format||V||n,re=fe.x||re||0,ee=fe.y||ee||0,ie=fe.w||fe.width||ie,ue=fe.h||fe.height||ue,le=fe.alias||le,xe=fe.compression||xe,ge=fe.rotation||fe.angle||ge}var ce=this.internal.getFilters();if(xe===void 0&&ce.indexOf("FlateEncode")!==-1&&(xe="SLOW"),isNaN(re)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var Q=j.call(this,G,V,le,xe);return C.call(this,re,ee,ie,ue,Q,ge),this};var j=function(G,V,re,ee){var ie,ue,le;if(typeof G=="string"&&i(G)===n){G=unescape(G);var xe=te(G,!1);(xe!==""||(xe=e.loadFile(G,!0))!==void 0)&&(G=xe)}if(p(G)&&(G=m(G,V)),V=i(G,V),!f(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((le=re)==null||le.length===0)&&(re=(function(ge){return typeof ge=="string"||O(ge)?R(ge):O(ge.data)?R(ge.data):null})(G)),(ie=w.call(this,re))||(G instanceof Uint8Array||V==="RGBA"||(ue=G,G=L(G)),ie=this["process"+V.toUpperCase()](G,d.call(this),re,(function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in e.image_compression?ge:k.NONE})(ee),ue)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},te=e.__addimage__.convertBase64ToBinaryString=function(G,V){V=typeof V!="boolean"||V;var re,ee="";if(typeof G=="string"){var ie;re=(ie=U(G))!==null&&ie!==void 0?ie:G;try{ee=o2(re)}catch(ue){if(V)throw P(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(G){var V,re,ee="";if(p(G)&&(G=m(G)),typeof G=="string"&&i(G)===n&&((ee=te(G,!1))===""&&(ee=e.loadFile(G)||""),G=ee),re=i(G),!f(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(G instanceof Uint8Array||(G=L(G)),!(V=this["process"+re.toUpperCase()](G)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=re,V}})(wr.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};wr.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((r=c[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var m=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(y.objId),k=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(T(r.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(T(k))+") >>",y.content=s;var R=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(y.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(w(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var U=this.annotations._nameMap[r.options.name];r.options.pageNumber=U.page,r.options.top=U.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var O=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},e.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(c*d)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(wr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var C=0,T=n,k="",R=0;for(C=0;C<y.length;C+=1)T[y.charCodeAt(C)]!==void 0?(R++,typeof(T=T[y.charCodeAt(C)])=="number"&&(k+=String.fromCharCode(T),T=n,R=0),C===y.length-1&&(T=n,k+=y.charAt(C-(R-1)),C-=R-1,R=0)):(T=n,k+=y.charAt(C-R),C-=R,R=0);return k};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,C,T){return a(y)?s(y)===!1?-1:!c(y)||!a(C)&&!a(T)||!a(T)&&o(C)||o(y)&&!a(C)||o(y)&&l(C)||o(y)&&o(C)?0:d(y)&&a(C)&&!o(C)&&a(T)&&c(T)?3:o(y)||!a(T)?1:2:-1},m=function(y){var C=0,T=0,k=0,R="",P="",U="",O=(y=y||"").split("\\s+"),L=[];for(C=0;C<O.length;C+=1){for(L.push(""),T=0;T<O[C].length;T+=1)R=O[C][T],P=O[C][T-1],U=O[C][T+1],a(R)?(k=p(R,P,U),L[C]+=k!==-1?String.fromCharCode(t[R.charCodeAt(0)][k]):R):L[C]+=R;L[C]=f(L[C])}return L.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var y,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(C)){var k=0;for(T=[],k=0;k<C.length;k+=1)Array.isArray(C[k])?T.push([m(C[k][0]),C[k][1],C[k][2]]):T.push([m(C[k])]);y=T}else y=m(C);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",w])})(wr.API),wr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(wr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,m=0,w=0,y=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var T=c.maxWidth;T>0?typeof l=="string"?l=this.splitTextToSize(l,T):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,P){return R.concat(C.splitTextToSize(P,T))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)m<(y=this.getStringUnitWidth(l[k],{font:f})*d)&&(m=y);return m!==0&&(w=l.length),{w:m/=p,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,m&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,f,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,w,y,C,T=[],k=[],R=[],P={},U={},O=[],L=[],K=(p=p||{}).autoSize||!1,j=p.printHeaders!==!1,te=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,G=p.margins||Object.assign({width:this.getPageWidth()},t),V=typeof p.padding=="number"?p.padding:3,re=p.headerBackgroundColor||"#c8c8c8",ee=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=G,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=ee,this.setFontSize(te),f==null)k=T=Object.keys(d[0]),R=T.map(function(){return"left"});else if(Array.isArray(f)&&ss(f[0])==="object")for(T=f.map(function(fe){return fe.name}),k=f.map(function(fe){return fe.prompt||fe.name||""}),R=f.map(function(fe){return fe.align||"left"}),m=0;m<f.length;m+=1)U[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(k=T=f,R=T.map(function(){return"left"}));if(K||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<T.length;m+=1){for(P[C=T[m]]=d.map(function(fe){return fe[C]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(k[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=P[C],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)O.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[C]=Math.max.apply(null,O)+V+V,O=[]}if(j){var ie={};for(m=0;m<T.length;m+=1)ie[T[m]]={},ie[T[m]].text=k[m],ie[T[m]].align=R[m];var ue=o.call(this,ie,U);L=T.map(function(fe){return new s(l,c,U[fe],ue,ie[fe].text,void 0,ie[fe].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var le=f.reduce(function(fe,ce){return fe[ce.name]=ce.align,fe},{});for(m=0;m<d.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:d[m]},this);var xe=o.call(this,d[m],U);for(y=0;y<T.length;y+=1){var ge=d[m][T[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:y,data:ge},this),a.call(this,new s(l,c,U[T[y]],xe,ge,m+2,le[T[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(m){var w=l[m];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/p+d+d},this).reduce(function(m,w){return Math.max(m,w)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}})(wr.API);var LZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},OZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tB=MZ(OZ),jZ=[100,200,300,400,500,600,700,800,900],qBe=MZ(jZ);function cF(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return LZ[s=s||"normal"]?s:"normal"})(e.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(e.weight),i=(function(s){return typeof tB[s=s||"normal"]=="number"?s:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function RH(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var $Be={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_H={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function DH(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function PH(e){return e.trimLeft()}function YBe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function XBe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var xC,MH,LH,sm,vC,OH,jH,UH,uF=["times"];function HH(e,t,n,r,i){var s=4,a=VH;switch(i){case wr.API.image_compression.FAST:s=1,a=GH;break;case wr.API.image_compression.MEDIUM:s=6,a=QH;break;case wr.API.image_compression.SLOW:s=9,a=zH}e=(function(l,c,d,f){for(var p,m=l.length/c,w=new Uint8Array(l.length+m),y=[JBe,GH,VH,QH,zH],C=0;C<m;C+=1){var T=C*c,k=l.subarray(T,T+c);if(f)w.set(f(k,d,p),T+C);else{for(var R=y.length,P=[],U=0;U<R;U+=1)P[U]=y[U](k,d,p);var O=eRe(P.concat());w.set(P[O],T+C)}p=k}return w})(e,t,Math.ceil(n*r/8),a);var o=qk(e,{level:s});return wr.API.__addimage__.arrayBufferToBinaryString(o)}function JBe(e){var t=Array.apply([],e);return t.unshift(0),t}function GH(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function VH(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=e[s]-a+256&255}return i}function QH(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=e[s-t]||0,o=n&&n[s]||0;i[s+1]=e[s]+256-(a+o>>>1)&255}return i}function zH(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=ZBe(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function ZBe(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function eRe(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function dF(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return UZ(e,i)>>s&a}function WH(e,t,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(t&o)<<a;(function(c,d,f){if(d+1<c.byteLength)c.setUint16(d,f,!1);else{var p=f>>8&255;c.setUint8(d,p)}})(e,s,UZ(e,s)&~(o<<a)&65535|l)}function UZ(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function tRe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,d=[],f=0,p=null,m=0,w=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&y||(p=null),m=y>>2&7,t++;break;case 254:for(;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,P=e[t++],U=P>>6&1,O=1<<1+(7&P),L=o,K=l,j=!1;P>>7&&(j=!0,L=t,K=O,t+=3*O);var te=t;for(t++;;){var G;if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}d.push({x:C,y:T,width:k,height:R,has_local_palette:j,palette_offset:L,palette_size:K,data_offset:te,data_length:t-te,transparent_index:p,interlaced:!!U,delay:f,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(V){if(V<0||V>=d.length)throw new Error("Frame index out of range.");return d[V]},this.decodeAndBlitFrameBGRA=function(V,re){var ee=this.frameInfo(V),ie=ee.width*ee.height,ue=new Uint8Array(ie);KH(e,ee.data_offset,ue,ie);var le=ee.palette_offset,xe=ee.transparent_index;xe===null&&(xe=256);var ge=ee.width,fe=n-ge,ce=ge,Q=4*(ee.y*n+ee.x),Y=4*((ee.y+ee.height)*n+ee.x),X=Q,ne=4*fe;ee.interlaced===!0&&(ne+=4*n*7);for(var oe=8,Ce=0,ke=ue.length;Ce<ke;++Ce){var Ne=ue[Ce];if(ce===0&&(ce=ge,(X+=ne)>=Y&&(ne=4*fe+4*n*(oe-1),X=Q+(ge+fe)*(oe<<1),oe>>=1)),Ne===xe)X+=4;else{var Ue=e[le+3*Ne],Ye=e[le+3*Ne+1],ve=e[le+3*Ne+2];re[X++]=ve,re[X++]=Ye,re[X++]=Ue,re[X++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(V,re){var ee=this.frameInfo(V),ie=ee.width*ee.height,ue=new Uint8Array(ie);KH(e,ee.data_offset,ue,ie);var le=ee.palette_offset,xe=ee.transparent_index;xe===null&&(xe=256);var ge=ee.width,fe=n-ge,ce=ge,Q=4*(ee.y*n+ee.x),Y=4*((ee.y+ee.height)*n+ee.x),X=Q,ne=4*fe;ee.interlaced===!0&&(ne+=4*n*7);for(var oe=8,Ce=0,ke=ue.length;Ce<ke;++Ce){var Ne=ue[Ce];if(ce===0&&(ce=ge,(X+=ne)>=Y&&(ne=4*fe+4*n*(oe-1),X=Q+(ge+fe)*(oe<<1),oe>>=1)),Ne===xe)X+=4;else{var Ue=e[le+3*Ne],Ye=e[le+3*Ne+1],ve=e[le+3*Ne+2];re[X++]=Ue,re[X++]=Ye,re[X++]=ve,re[X++]=255}--ce}}}function KH(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,d=0,f=0,p=0,m=e[t++],w=new Int32Array(4096),y=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<l)break;var C=f&c;if(f>>=l,d-=l,C!==s){if(C===a)break;for(var T=C<o?C:y,k=0,R=T;R>s;)R=w[R]>>8,++k;var P=R;if(p+k+(T!==C?1:0)>r)return void ys.log("Warning, gif stream longer than expected.");n[p++]=P;var U=p+=k;for(T!==C&&(n[p++]=P),R=T;k--;)R=w[R],n[--U]=255&R,R>>=8;y!==null&&o<4096&&(w[o++]=y<<8|P,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=C}else o=a+1,c=(1<<(l=i+1))-1,y=null}return p!==r&&ys.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hF(e){var t,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),m=new Array(64),w=new Array(64),y=[],C=0,T=7,k=new Array(64),R=new Array(64),P=new Array(64),U=new Array(256),O=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(Q,Y){for(var X=0,ne=0,oe=new Array,Ce=1;Ce<=16;Ce++){for(var ke=1;ke<=Q[Ce];ke++)oe[Y[ne]]=[],oe[Y[ne]][0]=X,oe[Y[ne]][1]=Ce,ne++,X++;X*=2}return oe}function le(Q){for(var Y=Q[0],X=Q[1]-1;X>=0;)Y&1<<X&&(C|=1<<T),X--,--T<0&&(C==255?(xe(255),xe(0)):xe(C),T=7,C=0)}function xe(Q){y.push(Q)}function ge(Q){xe(Q>>8&255),xe(255&Q)}function fe(Q,Y,X,ne,oe){for(var Ce,ke=oe[0],Ne=oe[240],Ue=(function(lt,Qt){var ot,An,bn,Cn,Vn,Sn,tr,xn,Ht,hn,rn=0;for(Ht=0;Ht<8;++Ht){ot=lt[rn],An=lt[rn+1],bn=lt[rn+2],Cn=lt[rn+3],Vn=lt[rn+4],Sn=lt[rn+5],tr=lt[rn+6];var br=ot+(xn=lt[rn+7]),Tn=ot-xn,ut=An+tr,yn=An-tr,un=bn+Sn,cn=bn-Sn,or=Cn+Vn,zn=Cn-Vn,Kn=br+or,Qn=br-or,Hn=ut+un,kn=ut-un;lt[rn]=Kn+Hn,lt[rn+4]=Kn-Hn;var kr=.707106781*(kn+Qn);lt[rn+2]=Qn+kr,lt[rn+6]=Qn-kr;var ei=.382683433*((Kn=zn+cn)-(kn=yn+Tn)),mi=.5411961*Kn+ei,ii=1.306562965*kn+ei,Ki=.707106781*(Hn=cn+yn),qn=Tn+Ki,Di=Tn-Ki;lt[rn+5]=Di+mi,lt[rn+3]=Di-mi,lt[rn+1]=qn+ii,lt[rn+7]=qn-ii,rn+=8}for(rn=0,Ht=0;Ht<8;++Ht){ot=lt[rn],An=lt[rn+8],bn=lt[rn+16],Cn=lt[rn+24],Vn=lt[rn+32],Sn=lt[rn+40],tr=lt[rn+48];var ea=ot+(xn=lt[rn+56]),xi=ot-xn,Si=An+tr,Rr=An-tr,Yr=bn+Sn,Ee=bn-Sn,_e=Cn+Vn,Le=Cn-Vn,Me=ea+_e,He=ea-_e,Ve=Si+Yr,At=Si-Yr;lt[rn]=Me+Ve,lt[rn+32]=Me-Ve;var Tt=.707106781*(At+He);lt[rn+16]=He+Tt,lt[rn+48]=He-Tt;var ft=.382683433*((Me=Le+Ee)-(At=Rr+xi)),vt=.5411961*Me+ft,bt=1.306562965*At+ft,Xt=.707106781*(Ve=Ee+Rr),an=xi+Xt,on=xi-Xt;lt[rn+40]=on+vt,lt[rn+24]=on-vt,lt[rn+8]=an+bt,lt[rn+56]=an-bt,rn++}for(Ht=0;Ht<64;++Ht)hn=lt[Ht]*Qt[Ht],m[Ht]=hn>0?hn+.5|0:hn-.5|0;return m})(Q,Y),Ye=0;Ye<64;++Ye)w[L[Ye]]=Ue[Ye];var ve=w[0]-X;X=w[0],ve==0?le(ne[0]):(le(ne[p[Ce=32767+ve]]),le(f[Ce]));for(var gt=63;gt>0&&w[gt]==0;)gt--;if(gt==0)return le(ke),X;for(var yt,Fe=1;Fe<=gt;){for(var Nt=Fe;w[Fe]==0&&Fe<=gt;)++Fe;var nt=Fe-Nt;if(nt>=16){yt=nt>>4;for(var Ct=1;Ct<=yt;++Ct)le(Ne);nt&=15}Ce=32767+w[Fe],le(oe[(nt<<4)+p[Ce]]),le(f[Ce]),Fe++}return gt!=63&&le(ke),X}function ce(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&((function(Y){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var oe=a((X[ne]*Y+50)/100);oe=Math.min(Math.max(oe,1),255),o[L[ne]]=oe}for(var Ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Ne=a((Ce[ke]*Y+50)/100);Ne=Math.min(Math.max(Ne,1),255),l[L[ke]]=Ne}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,ve=0;ve<8;ve++)for(var gt=0;gt<8;gt++)c[Ye]=1/(o[L[Ye]]*Ue[ve]*Ue[gt]*8),d[Ye]=1/(l[L[Ye]]*Ue[ve]*Ue[gt]*8),Ye++})(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,Y){Y&&ce(Y),y=new Array,C=0,T=7,ge(65496),ge(65504),ge(16),xe(74),xe(70),xe(73),xe(70),xe(0),xe(1),xe(1),xe(0),ge(1),ge(1),xe(0),xe(0),(function(){ge(65499),ge(132),xe(0);for(var An=0;An<64;An++)xe(o[An]);xe(1);for(var bn=0;bn<64;bn++)xe(l[bn])})(),(function(An,bn){ge(65472),ge(17),xe(8),ge(bn),ge(An),xe(3),xe(1),xe(17),xe(0),xe(2),xe(17),xe(1),xe(3),xe(17),xe(1)})(Q.width,Q.height),(function(){ge(65476),ge(418),xe(0);for(var An=0;An<16;An++)xe(K[An+1]);for(var bn=0;bn<=11;bn++)xe(j[bn]);xe(16);for(var Cn=0;Cn<16;Cn++)xe(te[Cn+1]);for(var Vn=0;Vn<=161;Vn++)xe(G[Vn]);xe(1);for(var Sn=0;Sn<16;Sn++)xe(V[Sn+1]);for(var tr=0;tr<=11;tr++)xe(re[tr]);xe(17);for(var xn=0;xn<16;xn++)xe(ee[xn+1]);for(var Ht=0;Ht<=161;Ht++)xe(ie[Ht])})(),ge(65498),ge(12),xe(3),xe(1),xe(0),xe(2),xe(17),xe(3),xe(17),xe(0),xe(63),xe(0);var X=0,ne=0,oe=0;C=0,T=7,this.encode.displayName="_encode_";for(var Ce,ke,Ne,Ue,Ye,ve,gt,yt,Fe,Nt=Q.data,nt=Q.width,Ct=Q.height,lt=4*nt,Qt=0;Qt<Ct;){for(Ce=0;Ce<lt;){for(Ye=lt*Qt+Ce,gt=-1,yt=0,Fe=0;Fe<64;Fe++)ve=Ye+(yt=Fe>>3)*lt+(gt=4*(7&Fe)),Qt+yt>=Ct&&(ve-=lt*(Qt+1+yt-Ct)),Ce+gt>=lt&&(ve-=Ce+gt-lt+4),ke=Nt[ve++],Ne=Nt[ve++],Ue=Nt[ve++],k[Fe]=(O[ke]+O[Ne+256|0]+O[Ue+512|0]>>16)-128,R[Fe]=(O[ke+768|0]+O[Ne+1024|0]+O[Ue+1280|0]>>16)-128,P[Fe]=(O[ke+1280|0]+O[Ne+1536|0]+O[Ue+1792|0]>>16)-128;X=fe(k,c,X,t,r),ne=fe(R,d,ne,n,i),oe=fe(P,d,oe,n,i),Ce+=32}Qt+=8}if(T>=0){var ot=[];ot[1]=T+1,ot[0]=(1<<T+1)-1,le(ot)}return ge(65497),new Uint8Array(y)},e=e||50,(function(){for(var Q=String.fromCharCode,Y=0;Y<256;Y++)U[Y]=Q(Y)})(),t=ue(K,j),n=ue(V,re),r=ue(te,G),i=ue(ee,ie),(function(){for(var Q=1,Y=2,X=1;X<=15;X++){for(var ne=Q;ne<Y;ne++)p[32767+ne]=X,f[32767+ne]=[],f[32767+ne][1]=X,f[32767+ne][0]=ne;for(var oe=-(Y-1);oe<=-Q;oe++)p[32767+oe]=X,f[32767+oe]=[],f[32767+oe][1]=X,f[32767+oe][0]=Y-1+oe;Q<<=1,Y<<=1}})(),(function(){for(var Q=0;Q<256;Q++)O[Q]=19595*Q,O[Q+256|0]=38470*Q,O[Q+512|0]=7471*Q+32768,O[Q+768|0]=-11059*Q,O[Q+1024|0]=-21709*Q,O[Q+1280|0]=32768*Q+8421375,O[Q+1536|0]=-27439*Q,O[Q+1792|0]=-5329*Q})(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function sd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qH(e){function t(j){if(!j)throw Error("assert :P")}function n(j,te,G){for(var V=0;4>V;V++)if(j[te+V]!=G.charCodeAt(V))return!0;return!1}function r(j,te,G,V,re){for(var ee=0;ee<re;ee++)j[te+ee]=G[V+ee]}function i(j,te,G,V){for(var re=0;re<V;re++)j[te+re]=G}function s(j){return new Int32Array(j)}function a(j,te){for(var G=[],V=0;V<j;V++)G.push(new te);return G}function o(j,te){var G=[];return(function V(re,ee,ie){for(var ue=ie[ee],le=0;le<ue&&(re.push(ie.length>ee+1?[]:new te),!(ie.length<ee+1));le++)V(re[le],ee+1,ie)})(G,0,j),G}var l=function(){var j=this;function te(_,z){for(var se=1<<z-1>>>0;_&se;)se>>>=1;return se?(_&se-1)+se:_}function G(_,z,se,he,Se){t(!(he%se));do _[z+(he-=se)]=Se;while(0<he)}function V(_,z,se,he,Se){if(t(2328>=Se),512>=Se)var Be=s(512);else if((Be=s(Se))==null)return 0;return(function(Re,je,Ge,qe,at,Et){var Ke,ht,wt=je,zt=1<<Ge,St=s(16),Vt=s(16);for(t(at!=0),t(qe!=null),t(Re!=null),t(0<Ge),ht=0;ht<at;++ht){if(15<qe[ht])return 0;++St[qe[ht]]}if(St[0]==at)return 0;for(Vt[1]=0,Ke=1;15>Ke;++Ke){if(St[Ke]>1<<Ke)return 0;Vt[Ke+1]=Vt[Ke]+St[Ke]}for(ht=0;ht<at;++ht)Ke=qe[ht],0<qe[ht]&&(Et[Vt[Ke]++]=ht);if(Vt[15]==1)return(qe=new re).g=0,qe.value=Et[0],G(Re,wt,1,zt,qe),zt;var tn,Nn=-1,dn=zt-1,fr=0,Jn=1,Hr=1,lr=1<<Ge;for(ht=0,Ke=1,at=2;Ke<=Ge;++Ke,at<<=1){if(Jn+=Hr<<=1,0>(Hr-=St[Ke]))return 0;for(;0<St[Ke];--St[Ke])(qe=new re).g=Ke,qe.value=Et[ht++],G(Re,wt+fr,at,lr,qe),fr=te(fr,Ke)}for(Ke=Ge+1,at=2;15>=Ke;++Ke,at<<=1){if(Jn+=Hr<<=1,0>(Hr-=St[Ke]))return 0;for(;0<St[Ke];--St[Ke]){if(qe=new re,(fr&dn)!=Nn){for(wt+=lr,tn=1<<(Nn=Ke)-Ge;15>Nn&&!(0>=(tn-=St[Nn]));)++Nn,tn<<=1;zt+=lr=1<<(tn=Nn-Ge),Re[je+(Nn=fr&dn)].g=tn+Ge,Re[je+Nn].value=wt-je-Nn}qe.g=Ke-Ge,qe.value=Et[ht++],G(Re,wt+(fr>>Ge),at,lr,qe),fr=te(fr,Ke)}}return Jn!=2*Vt[15]-1?0:zt})(_,z,se,he,Se,Be)}function re(){this.value=this.g=0}function ee(){this.value=this.g=0}function ie(){this.G=a(5,re),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ia,ee)}function ue(_,z,se,he){t(_!=null),t(z!=null),t(2147483648>he),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=z,_.pa=se,_.Jd=z,_.Yc=se+he,_.Zc=4<=he?se+he-4+1:se,ke(_)}function le(_,z){for(var se=0;0<z--;)se|=Ue(_,128)<<z;return se}function xe(_,z){var se=le(_,z);return Ne(_)?-se:se}function ge(_,z,se,he){var Se,Be=0;for(t(_!=null),t(z!=null),t(4294967288>he),_.Sb=he,_.Ra=0,_.u=0,_.h=0,4<he&&(he=4),Se=0;Se<he;++Se)Be+=z[se+Se]<<8*Se;_.Ra=Be,_.bb=he,_.oa=z,_.pa=se}function fe(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<yo-8>>>0,++_.bb,_.u-=8;ne(_)&&(_.h=1,_.u=0)}function ce(_,z){if(t(0<=z),!_.h&&z<=Fa){var se=X(_)&bo[z];return _.u+=z,fe(_),se}return _.h=1,_.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(_){return _.Ra>>>(_.u&yo-1)>>>0}function ne(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>yo}function oe(_,z){_.u=z,_.h=ne(_)}function Ce(_){_.u>=Vr&&(t(_.u>=Vr),fe(_))}function ke(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function Ne(_){return le(_,1)}function Ue(_,z){var se=_.Ca;0>_.b&&ke(_);var he=_.b,Se=se*z>>>8,Be=(_.I>>>he>Se)+0;for(Be?(se-=Se,_.I-=Se+1<<he>>>0):se=Se+1,he=se,Se=0;256<=he;)Se+=8,he>>=8;return he=7^Se+ul[he],_.b-=he,_.Ca=(se<<he)-1,Be}function Ye(_,z,se){_[z+0]=se>>24&255,_[z+1]=se>>16&255,_[z+2]=se>>8&255,_[z+3]=255&se}function ve(_,z){return _[z+0]|_[z+1]<<8}function gt(_,z){return ve(_,z)|_[z+2]<<16}function yt(_,z){return ve(_,z)|ve(_,z+2)<<16}function Fe(_,z){var se=1<<z;return t(_!=null),t(0<z),_.X=s(se),_.X==null?0:(_.Mb=32-z,_.Xa=z,1)}function Nt(_,z){t(_!=null),t(z!=null),t(_.Xa==z.Xa),r(z.X,0,_.X,0,1<<z.Xa)}function nt(){this.X=[],this.Xa=this.Mb=0}function Ct(_,z,se,he){t(se!=null),t(he!=null);var Se=se[0],Be=he[0];return Se==0&&(Se=(_*Be+z/2)/z),Be==0&&(Be=(z*Se+_/2)/_),0>=Se||0>=Be?0:(se[0]=Se,he[0]=Be,1)}function lt(_,z){return _+(1<<z)-1>>>z}function Qt(_,z){return((4278255360&_)+(4278255360&z)>>>0&4278255360)+((16711935&_)+(16711935&z)>>>0&16711935)>>>0}function ot(_,z){j[z]=function(se,he,Se,Be,Re,je,Ge){var qe;for(qe=0;qe<Re;++qe){var at=j[_](je[Ge+qe-1],Se,Be+qe);je[Ge+qe]=Qt(se[he+qe],at)}}}function An(){this.ud=this.hd=this.jd=0}function bn(_,z){return((4278124286&(_^z))>>>1)+(_&z)>>>0}function Cn(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Vn(_,z){return Cn(_+(_-z+.5>>1))}function Sn(_,z,se){return Math.abs(z-se)-Math.abs(_-se)}function tr(_,z,se,he,Se,Be,Re){for(he=Be[Re-1],se=0;se<Se;++se)Be[Re+se]=he=Qt(_[z+se],he)}function xn(_,z,se,he,Se){var Be;for(Be=0;Be<se;++Be){var Re=_[z+Be],je=Re>>8&255,Ge=16711935&(Ge=(Ge=16711935&Re)+((je<<16)+je));he[Se+Be]=(4278255360&Re)+Ge>>>0}}function Ht(_,z){z.jd=255&_,z.hd=_>>8&255,z.ud=_>>16&255}function hn(_,z,se,he,Se,Be){var Re;for(Re=0;Re<he;++Re){var je=z[se+Re],Ge=je>>>8,qe=je,at=255&(at=(at=je>>>16)+((_.jd<<24>>24)*(Ge<<24>>24)>>>5));qe=255&(qe=(qe+=(_.hd<<24>>24)*(Ge<<24>>24)>>>5)+((_.ud<<24>>24)*(at<<24>>24)>>>5)),Se[Be+Re]=(4278255360&je)+(at<<16)+qe}}function rn(_,z,se,he,Se){j[z]=function(Be,Re,je,Ge,qe,at,Et,Ke,ht){for(Ge=Et;Ge<Ke;++Ge)for(Et=0;Et<ht;++Et)qe[at++]=Se(je[he(Be[Re++])])},j[_]=function(Be,Re,je,Ge,qe,at,Et){var Ke=8>>Be.b,ht=Be.Ea,wt=Be.K[0],zt=Be.w;if(8>Ke)for(Be=(1<<Be.b)-1,zt=(1<<Ke)-1;Re<je;++Re){var St,Vt=0;for(St=0;St<ht;++St)St&Be||(Vt=he(Ge[qe++])),at[Et++]=Se(wt[Vt&zt]),Vt>>=Ke}else j["VP8LMapColor"+se](Ge,qe,wt,zt,at,Et,Re,je,ht)}}function br(_,z,se,he,Se){for(se=z+se;z<se;){var Be=_[z++];he[Se++]=Be>>16&255,he[Se++]=Be>>8&255,he[Se++]=255&Be}}function Tn(_,z,se,he,Se){for(se=z+se;z<se;){var Be=_[z++];he[Se++]=Be>>16&255,he[Se++]=Be>>8&255,he[Se++]=255&Be,he[Se++]=Be>>24&255}}function ut(_,z,se,he,Se){for(se=z+se;z<se;){var Be=(Re=_[z++])>>16&240|Re>>12&15,Re=240&Re|Re>>28&15;he[Se++]=Be,he[Se++]=Re}}function yn(_,z,se,he,Se){for(se=z+se;z<se;){var Be=(Re=_[z++])>>16&248|Re>>13&7,Re=Re>>5&224|Re>>3&31;he[Se++]=Be,he[Se++]=Re}}function un(_,z,se,he,Se){for(se=z+se;z<se;){var Be=_[z++];he[Se++]=255&Be,he[Se++]=Be>>8&255,he[Se++]=Be>>16&255}}function cn(_,z,se,he,Se,Be){if(Be==0)for(se=z+se;z<se;)Ye(he,((Be=_[z++])[0]>>24|Be[1]>>8&65280|Be[2]<<8&16711680|Be[3]<<24)>>>0),Se+=32;else r(he,Se,_,z,se)}function or(_,z){j[z][0]=j[_+"0"],j[z][1]=j[_+"1"],j[z][2]=j[_+"2"],j[z][3]=j[_+"3"],j[z][4]=j[_+"4"],j[z][5]=j[_+"5"],j[z][6]=j[_+"6"],j[z][7]=j[_+"7"],j[z][8]=j[_+"8"],j[z][9]=j[_+"9"],j[z][10]=j[_+"10"],j[z][11]=j[_+"11"],j[z][12]=j[_+"12"],j[z][13]=j[_+"13"],j[z][14]=j[_+"0"],j[z][15]=j[_+"0"]}function zn(_){return _==T0||_==vg||_==Xf||_==wg}function Kn(){this.eb=[],this.size=this.A=this.fb=0}function Qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Hn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kn,this.f.kb=new Qn,this.sd=null}function kn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ei(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function mi(_,z){var se=_.T,he=z.ba.f.RGBA,Se=he.eb,Be=he.fb+_.ka*he.A,Re=ro[z.ba.S],je=_.y,Ge=_.O,qe=_.f,at=_.N,Et=_.ea,Ke=_.W,ht=z.cc,wt=z.dc,zt=z.Mc,St=z.Nc,Vt=_.ka,tn=_.ka+_.T,Nn=_.U,dn=Nn+1>>1;for(Vt==0?Re(je,Ge,null,null,qe,at,Et,Ke,qe,at,Et,Ke,Se,Be,null,null,Nn):(Re(z.ec,z.fc,je,Ge,ht,wt,zt,St,qe,at,Et,Ke,Se,Be-he.A,Se,Be,Nn),++se);Vt+2<tn;Vt+=2)ht=qe,wt=at,zt=Et,St=Ke,at+=_.Rc,Ke+=_.Rc,Be+=2*he.A,Re(je,(Ge+=2*_.fa)-_.fa,je,Ge,ht,wt,zt,St,qe,at,Et,Ke,Se,Be-he.A,Se,Be,Nn);return Ge+=_.fa,_.j+tn<_.o?(r(z.ec,z.fc,je,Ge,Nn),r(z.cc,z.dc,qe,at,dn),r(z.Mc,z.Nc,Et,Ke,dn),se--):1&tn||Re(je,Ge,null,null,qe,at,Et,Ke,qe,at,Et,Ke,Se,Be+he.A,null,null,Nn),se}function ii(_,z,se){var he=_.F,Se=[_.J];if(he!=null){var Be=_.U,Re=z.ba.S,je=Re==N0||Re==Xf;z=z.ba.f.RGBA;var Ge=[0],qe=_.ka;Ge[0]=_.T,_.Kb&&(qe==0?--Ge[0]:(--qe,Se[0]-=_.width),_.j+_.ka+_.T==_.o&&(Ge[0]=_.o-_.j-qe));var at=z.eb;qe=z.fb+qe*z.A,_=y0(he,Se[0],_.width,Be,Ge,at,qe+(je?0:3),z.A),t(se==Ge),_&&zn(Re)&&Yu(at,qe,je,Be,Ge,z.A)}return 0}function Ki(_){var z=_.ma,se=z.ba.S,he=11>se,Se=se==Eo||se==oc||se==N0||se==Yf||se==12||zn(se);if(z.memory=null,z.Ib=null,z.Jb=null,z.Nd=null,!Ll(z.Oa,_,Se?11:12))return 0;if(Se&&zn(se)&&Ku(),_.da)alert("todo:use_scaling");else{if(he){if(z.Ib=ei,_.Kb){if(se=_.U+1>>1,z.memory=s(_.U+2*se),z.memory==null)return 0;z.ec=z.memory,z.fc=0,z.cc=z.ec,z.dc=z.fc+_.U,z.Mc=z.cc,z.Nc=z.dc+se,z.Ib=mi,Ku()}}else alert("todo:EmitYUV");Se&&(z.Jb=ii,he&&Pl())}if(he&&!Ud){for(_=0;256>_;++_)io[_]=89858*(_-128)+eA>>fc,SN[_]=-22014*(_-128)+eA,Ob[_]=-45773*(_-128),Eg[_]=113618*(_-128)+eA>>fc;for(_=Oh;_<jd;++_)z=76283*(_-16)+eA>>fc,EN[_-Oh]=wi(z,255),NN[_-Oh]=wi(z+8>>4,15);Ud=1}return 1}function qn(_){var z=_.ma,se=_.U,he=_.T;return t(!(1&_.ka)),0>=se||0>=he?0:(se=z.Ib(_,z),z.Jb!=null&&z.Jb(_,z,se),z.Dc+=se,1)}function Di(_){_.ma.memory=null}function ea(_,z,se,he){return ce(_,8)!=47?0:(z[0]=ce(_,14)+1,se[0]=ce(_,14)+1,he[0]=ce(_,1),ce(_,3)!=0?0:!_.h)}function xi(_,z){if(4>_)return _+1;var se=_-2>>1;return(2+(1&_)<<se)+ce(z,se)+1}function Si(_,z){return 120<z?z-120:1<=(se=((se=cc[z-1])>>4)*_+(8-(15&se)))?se:1;var se}function Rr(_,z,se){var he=X(se),Se=_[z+=255&he].g-8;return 0<Se&&(oe(se,se.u+8),he=X(se),z+=_[z].value,z+=he&(1<<Se)-1),oe(se,se.u+_[z].g),_[z].value}function Yr(_,z,se){return se.g+=_.g,se.value+=_.value<<z>>>0,t(8>=se.g),_.g}function Ee(_,z,se){var he=_.xc;return t((z=he==0?0:_.vc[_.md*(se>>he)+(z>>he)])<_.Wb),_.Ya[z]}function _e(_,z,se,he){var Se=_.ab,Be=_.c*z,Re=_.C;z=Re+z;var je=se,Ge=he;for(he=_.Ta,se=_.Ua;0<Se--;){var qe=_.gc[Se],at=Re,Et=z,Ke=je,ht=Ge,wt=(Ge=he,je=se,qe.Ea);switch(t(at<Et),t(Et<=qe.nc),qe.hc){case 2:x(Ke,ht,(Et-at)*wt,Ge,je);break;case 0:var zt=at,St=Et,Vt=Ge,tn=je,Nn=(lr=qe).Ea;zt==0&&(we(Ke,ht,null,null,1,Vt,tn),tr(Ke,ht+1,0,0,Nn-1,Vt,tn+1),ht+=Nn,tn+=Nn,++zt);for(var dn=1<<lr.b,fr=dn-1,Jn=lt(Nn,lr.b),Hr=lr.K,lr=lr.w+(zt>>lr.b)*Jn;zt<St;){var ui=Hr,ws=lr,zr=1;for(A(Ke,ht,Vt,tn-Nn,1,Vt,tn);zr<Nn;){var Zn=(zr&~fr)+dn;Zn>Nn&&(Zn=Nn),(0,D[ui[ws++]>>8&15])(Ke,ht+ +zr,Vt,tn+zr-Nn,Zn-zr,Vt,tn+zr),zr=Zn}ht+=Nn,tn+=Nn,++zt&fr||(lr+=Jn)}Et!=qe.nc&&r(Ge,je-wt,Ge,je+(Et-at-1)*wt,wt);break;case 1:for(wt=Ke,St=ht,Nn=(Ke=qe.Ea)-(tn=Ke&~(Vt=(ht=1<<qe.b)-1)),zt=lt(Ke,qe.b),dn=qe.K,qe=qe.w+(at>>qe.b)*zt;at<Et;){for(fr=dn,Jn=qe,Hr=new An,lr=St+tn,ui=St+Ke;St<lr;)Ht(fr[Jn++],Hr),W(Hr,wt,St,ht,Ge,je),St+=ht,je+=ht;St<ui&&(Ht(fr[Jn++],Hr),W(Hr,wt,St,Nn,Ge,je),St+=Nn,je+=Nn),++at&Vt||(qe+=zt)}break;case 3:if(Ke==Ge&&ht==je&&0<qe.b){for(St=Ge,Ke=wt=je+(Et-at)*wt-(tn=(Et-at)*lt(qe.Ea,qe.b)),ht=Ge,Vt=je,zt=[],tn=(Nn=tn)-1;0<=tn;--tn)zt[tn]=ht[Vt+tn];for(tn=Nn-1;0<=tn;--tn)St[Ke+tn]=zt[tn];v(qe,at,Et,Ge,wt,Ge,je)}else v(qe,at,Et,Ke,ht,Ge,je)}je=he,Ge=se}Ge!=se&&r(he,se,je,Ge,Be)}function Le(_,z){var se=_.V,he=_.Ba+_.c*_.C,Se=z-_.C;if(t(z<=_.l.o),t(16>=Se),0<Se){var Be=_.l,Re=_.Ta,je=_.Ua,Ge=Be.width;if(_e(_,Se,se,he),Se=je=[je],t((se=_.C)<(he=z)),t(Be.v<Be.va),he>Be.o&&(he=Be.o),se<Be.j){var qe=Be.j-se;se=Be.j,Se[0]+=qe*Ge}if(se>=he?se=0:(Se[0]+=4*Be.v,Be.ka=se-Be.j,Be.U=Be.va-Be.v,Be.T=he-se,se=1),se){if(je=je[0],11>(se=_.ca).S){var at=se.f.RGBA,Et=(he=se.S,Se=Be.U,Be=Be.T,qe=at.eb,at.A),Ke=Be;for(at=at.fb+_.Ma*at.A;0<Ke--;){var ht=Re,wt=je,zt=Se,St=qe,Vt=at;switch(he){case mg:Z(ht,wt,zt,St,Vt);break;case Eo:de(ht,wt,zt,St,Vt);break;case T0:de(ht,wt,zt,St,Vt),Yu(St,Vt,0,zt,1,0);break;case xg:ze(ht,wt,zt,St,Vt);break;case oc:cn(ht,wt,zt,St,Vt,1);break;case vg:cn(ht,wt,zt,St,Vt,1),Yu(St,Vt,0,zt,1,0);break;case N0:cn(ht,wt,zt,St,Vt,0);break;case Xf:cn(ht,wt,zt,St,Vt,0),Yu(St,Vt,1,zt,1,0);break;case Yf:be(ht,wt,zt,St,Vt);break;case wg:be(ht,wt,zt,St,Vt),ac(St,Vt,zt,1,0);break;case Dd:Ie(ht,wt,zt,St,Vt);break;default:t(0)}je+=Ge,at+=Et}_.Ma+=Be}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=se.height)}}_.C=z,t(_.C<=_.i)}function Me(_){var z;if(0<_.ua)return 0;for(z=0;z<_.Wb;++z){var se=_.Ya[z].G,he=_.Ya[z].H;if(0<se[1][he[1]+0].g||0<se[2][he[2]+0].g||0<se[3][he[3]+0].g)return 0}return 1}function He(_,z,se,he,Se,Be){if(_.Z!=0){var Re=_.qd,je=_.rd;for(t(Ju[_.Z]!=null);z<se;++z)Ju[_.Z](Re,je,he,Se,he,Se,Be),Re=he,je=Se,Se+=Be;_.qd=Re,_.rd=je}}function Ve(_,z){var se=_.l.ma,he=se.Z==0||se.Z==1?_.l.j:_.C;if(he=_.C<he?he:_.C,t(z<=_.l.o),z>he){var Se=_.l.width,Be=se.ca,Re=se.tb+Se*he,je=_.V,Ge=_.Ba+_.c*he,qe=_.gc;t(_.ab==1),t(qe[0].hc==3),E(qe[0],he,z,je,Ge,Be,Re),He(se,he,z,Be,Re,Se)}_.C=_.Ma=z}function At(_,z,se,he,Se,Be,Re){var je=_.$/he,Ge=_.$%he,qe=_.m,at=_.s,Et=se+_.$,Ke=Et;Se=se+he*Se;var ht=se+he*Be,wt=280+at.ua,zt=_.Pb?je:16777216,St=0<at.ua?at.Wa:null,Vt=at.wc,tn=Et<ht?Ee(at,Ge,je):null;t(_.C<Be),t(ht<=Se);var Nn=!1;e:for(;;){for(;Nn||Et<ht;){var dn=0;if(je>=zt){var fr=Et-se;t((zt=_).Pb),zt.wd=zt.m,zt.xd=fr,0<zt.s.ua&&Nt(zt.s.Wa,zt.s.vb),zt=je+Pd}if(Ge&Vt||(tn=Ee(at,Ge,je)),t(tn!=null),tn.Qb&&(z[Et]=tn.qb,Nn=!0),!Nn)if(Ce(qe),tn.jc){dn=qe,fr=z;var Jn=Et,Hr=tn.pd[X(dn)&Ia-1];t(tn.jc),256>Hr.g?(oe(dn,dn.u+Hr.g),fr[Jn]=Hr.value,dn=0):(oe(dn,dn.u+Hr.g-256),t(256<=Hr.value),dn=Hr.value),dn==0&&(Nn=!0)}else dn=Rr(tn.G[0],tn.H[0],qe);if(qe.h)break;if(Nn||256>dn){if(!Nn)if(tn.nd)z[Et]=(tn.qb|dn<<8)>>>0;else{if(Ce(qe),Nn=Rr(tn.G[1],tn.H[1],qe),Ce(qe),fr=Rr(tn.G[2],tn.H[2],qe),Jn=Rr(tn.G[3],tn.H[3],qe),qe.h)break;z[Et]=(Jn<<24|Nn<<16|dn<<8|fr)>>>0}if(Nn=!1,++Et,++Ge>=he&&(Ge=0,++je,Re!=null&&je<=Be&&!(je%16)&&Re(_,je),St!=null))for(;Ke<Et;)dn=z[Ke++],St.X[(506832829*dn&4294967295)>>>St.Mb]=dn}else if(280>dn){if(dn=xi(dn-256,qe),fr=Rr(tn.G[4],tn.H[4],qe),Ce(qe),fr=Si(he,fr=xi(fr,qe)),qe.h)break;if(Et-se<fr||Se-Et<dn)break e;for(Jn=0;Jn<dn;++Jn)z[Et+Jn]=z[Et+Jn-fr];for(Et+=dn,Ge+=dn;Ge>=he;)Ge-=he,++je,Re!=null&&je<=Be&&!(je%16)&&Re(_,je);if(t(Et<=Se),Ge&Vt&&(tn=Ee(at,Ge,je)),St!=null)for(;Ke<Et;)dn=z[Ke++],St.X[(506832829*dn&4294967295)>>>St.Mb]=dn}else{if(!(dn<wt))break e;for(Nn=dn-280,t(St!=null);Ke<Et;)dn=z[Ke++],St.X[(506832829*dn&4294967295)>>>St.Mb]=dn;dn=Et,t(!(Nn>>>(fr=St).Xa)),z[dn]=fr.X[Nn],Nn=!0}Nn||t(qe.h==ne(qe))}if(_.Pb&&qe.h&&Et<Se)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Nt(_.s.vb,_.s.Wa);else{if(qe.h)break e;Re!=null&&Re(_,je>Be?Be:je),_.a=0,_.$=Et-se}return 1}return _.a=3,0}function Tt(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var z=_.Wa;z!=null&&(z.X=null),_.vb=null,t(_!=null)}function ft(){var _=new Ir;return _==null?null:(_.a=0,_.xb=sx,or("Predictor","VP8LPredictors"),or("Predictor","VP8LPredictors_C"),or("PredictorAdd","VP8LPredictorsAdd"),or("PredictorAdd","VP8LPredictorsAdd_C"),x=xn,W=hn,Z=br,de=Tn,be=ut,Ie=yn,ze=un,j.VP8LMapColor32b=S,j.VP8LMapColor8b=I,_)}function vt(_,z,se,he,Se){var Be=1,Re=[_],je=[z],Ge=he.m,qe=he.s,at=null,Et=0;e:for(;;){if(se)for(;Be&&ce(Ge,1);){var Ke=Re,ht=je,wt=he,zt=1,St=wt.m,Vt=wt.gc[wt.ab],tn=ce(St,2);if(wt.Oc&1<<tn)Be=0;else{switch(wt.Oc|=1<<tn,Vt.hc=tn,Vt.Ea=Ke[0],Vt.nc=ht[0],Vt.K=[null],++wt.ab,t(4>=wt.ab),tn){case 0:case 1:Vt.b=ce(St,3)+2,zt=vt(lt(Vt.Ea,Vt.b),lt(Vt.nc,Vt.b),0,wt,Vt.K),Vt.K=Vt.K[0];break;case 3:var Nn,dn=ce(St,8)+1,fr=16<dn?0:4<dn?1:2<dn?2:3;if(Ke[0]=lt(Vt.Ea,fr),Vt.b=fr,Nn=zt=vt(dn,1,0,wt,Vt.K)){var Jn,Hr=dn,lr=Vt,ui=1<<(8>>lr.b),ws=s(ui);if(ws==null)Nn=0;else{var zr=lr.K[0],Zn=lr.w;for(ws[0]=lr.K[0][0],Jn=1;Jn<1*Hr;++Jn)ws[Jn]=Qt(zr[Zn+Jn],ws[Jn-1]);for(;Jn<4*ui;++Jn)ws[Jn]=0;lr.K[0]=null,lr.K[0]=ws,Nn=1}}zt=Nn;break;case 2:break;default:t(0)}Be=zt}}if(Re=Re[0],je=je[0],Be&&ce(Ge,1)&&!(Be=1<=(Et=ce(Ge,4))&&11>=Et)){he.a=3;break e}var Pn;if(Pn=Be)t:{var Rs,_r,$r,qi=he,Ba=Re,so=je,os=Et,fa=se,No=qi.m,Aa=qi.s,ni=[null],Fi=1,_s=0,Oi=uc[os];n:for(;;){if(fa&&ce(No,1)){var Ra=ce(No,3)+2,Ds=lt(Ba,Ra),ki=lt(so,Ra),ra=Ds*ki;if(!vt(Ds,ki,0,qi,ni))break n;for(ni=ni[0],Aa.xc=Ra,Rs=0;Rs<ra;++Rs){var $i=ni[Rs]>>8&65535;ni[Rs]=$i,$i>=Fi&&(Fi=$i+1)}}if(No.h)break n;for(_r=0;5>_r;++_r){var pa=Mh[_r];!_r&&0<os&&(pa+=1<<os),_s<pa&&(_s=pa)}var ga=a(Fi*Oi,re),ts=Fi,Ei=a(ts,ie);if(Ei==null)var To=null;else t(65536>=ts),To=Ei;var Gs=s(_s);if(To==null||Gs==null||ga==null){qi.a=1;break n}var Sr=ga;for(Rs=$r=0;Rs<Fi;++Rs){var Nr=To[Rs],Bi=Nr.G,dl=Nr.H,Ac=0,Wo=1,ma=0;for(_r=0;5>_r;++_r){pa=Mh[_r],Bi[_r]=Sr,dl[_r]=$r,!_r&&0<os&&(pa+=1<<os);i:{var Hd,Gd=pa,Tg=qi,ls=Gs,ox=Sr,lx=$r,Ig=0,Zu=Tg.m,TN=ce(Zu,1);if(i(ls,0,0,Gd),TN){var cx=ce(Zu,1)+1,ux=ce(Zu,1),Fg=ce(Zu,ux==0?1:8);ls[Fg]=1,cx==2&&(ls[Fg=ce(Zu,8)]=1);var Ga=1}else{var Vs=s(19),B0=ce(Zu,4)+4;if(19<B0){Tg.a=3;var Vd=0;break i}for(Hd=0;Hd<B0;++Hd)Vs[I0[Hd]]=ce(Zu,3);var nA=void 0,jh=void 0,cu=Tg,kg=Vs,rA=Gd,Bg=ls,Rg=0,ed=cu.m,dx=8,hx=a(128,re);r:for(;V(hx,0,7,kg,19);){if(ce(ed,1)){var jb=2+2*ce(ed,3);if((nA=2+ce(ed,jb))>rA)break r}else nA=rA;for(jh=0;jh<rA&&nA--;){Ce(ed);var fx=hx[0+(127&X(ed))];oe(ed,ed.u+fx.g);var Qd=fx.value;if(16>Qd)Bg[jh++]=Qd,Qd!=0&&(dx=Qd);else{var Ub=Qd==16,Hb=Qd-16,Gb=Jf[Hb],Ax=ce(ed,lc[Hb])+Gb;if(jh+Ax>rA)break r;for(var Vb=Ub?dx:0;0<Ax--;)Bg[jh++]=Vb}}Rg=1;break r}Rg||(cu.a=3),Ga=Rg}(Ga=Ga&&!Zu.h)&&(Ig=V(ox,lx,8,ls,Gd)),Ga&&Ig!=0?Vd=Ig:(Tg.a=3,Vd=0)}if(Vd==0)break n;if(Wo&&bg[_r]==1&&(Wo=Sr[$r].g==0),Ac+=Sr[$r].g,$r+=Vd,3>=_r){var Uh,_g=Gs[0];for(Uh=1;Uh<pa;++Uh)Gs[Uh]>_g&&(_g=Gs[Uh]);ma+=_g}}if(Nr.nd=Wo,Nr.Qb=0,Wo&&(Nr.qb=(Bi[3][dl[3]+0].value<<24|Bi[1][dl[1]+0].value<<16|Bi[2][dl[2]+0].value)>>>0,Ac==0&&256>Bi[0][dl[0]+0].value&&(Nr.Qb=1,Nr.qb+=Bi[0][dl[0]+0].value<<8)),Nr.jc=!Nr.Qb&&6>ma,Nr.jc){var R0,uu=Nr;for(R0=0;R0<Ia;++R0){var td=R0,nd=uu.pd[td],Dg=uu.G[0][uu.H[0]+td];256<=Dg.value?(nd.g=Dg.g+256,nd.value=Dg.value):(nd.g=0,nd.value=0,td>>=Yr(Dg,8,nd),td>>=Yr(uu.G[1][uu.H[1]+td],16,nd),td>>=Yr(uu.G[2][uu.H[2]+td],0,nd),Yr(uu.G[3][uu.H[3]+td],24,nd))}}}Aa.vc=ni,Aa.Wb=Fi,Aa.Ya=To,Aa.yc=ga,Pn=1;break t}Pn=0}if(!(Be=Pn)){he.a=3;break e}if(0<Et){if(qe.ua=1<<Et,!Fe(qe.Wa,Et)){he.a=1,Be=0;break e}}else qe.ua=0;var Pg=he,Hh=Re,Qb=je,iA=Pg.s,sA=iA.xc;if(Pg.c=Hh,Pg.i=Qb,iA.md=lt(Hh,sA),iA.wc=sA==0?-1:(1<<sA)-1,se){he.xb=Md;break e}if((at=s(Re*je))==null){he.a=1,Be=0;break e}Be=(Be=At(he,at,0,Re,je,je,null))&&!Ge.h;break e}return Be?(Se!=null?Se[0]=at:(t(at==null),t(se)),he.$=0,se||Tt(qe)):Tt(qe),Be}function bt(_,z){var se=_.c*_.i,he=se+z+16*z;return t(_.c<=z),_.V=s(he),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+se+z,1)}function Xt(_,z){var se=_.C,he=z-se,Se=_.V,Be=_.Ba+_.c*se;for(t(z<=_.l.o);0<he;){var Re=16<he?16:he,je=_.l.ma,Ge=_.l.width,qe=Ge*Re,at=je.ca,Et=je.tb+Ge*se,Ke=_.Ta,ht=_.Ua;_e(_,Re,Se,Be),Ol(Ke,ht,at,Et,qe),He(je,se,se+Re,at,Et,Ge),he-=Re,Se+=Re*_.c,se+=Re}t(se==z),_.C=_.Ma=z}function an(){this.ub=this.yd=this.td=this.Rb=0}function on(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fn(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vn(){this.Yb=(function(){var _=[];return(function z(se,he,Se){for(var Be=Se[he],Re=0;Re<Be&&(se.push(Se.length>he+1?[]:0),!(Se.length<he+1));Re++)z(se[Re],he+1,Se)})(_,0,[3,11]),_})()}function On(){this.jb=s(3),this.Wc=o([4,8],vn),this.Xc=o([4,17],vn)}function Pt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Un(){this.ld=this.La=this.dd=this.tc=0}function ir(){this.Na=this.la=0}function vi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ca(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Un),this.Y=0,this.ya=Array(new ca),this.aa=0,this.l=new Pe}function yr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Br(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new an,this.Kc=new on,this.ed=new Pt,this.Qa=new fn,this.Ic=this.$c=this.Aa=0,this.D=new Dr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Q),this.ia=0,this.pb=a(4,vi),this.Pa=new On,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yr),this.Hd=0,this.rb=Array(new ir),this.sb=0,this.wa=Array(new Un),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ca),this.L=this.aa=0,this.gd=o([4,2],Un),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wi(_,z){return 0>_?0:_>z?z:_}function Pe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $e(){var _=new Br;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,jl||(jl=Xe)),_}function Oe(_,z,se){return _.a==0&&(_.a=z,_.sc=se,_.cb=0),0}function st(_,z,se){return 3<=se&&_[z+0]==157&&_[z+1]==1&&_[z+2]==42}function rt(_,z){if(_==null)return 0;if(_.a=0,_.sc="OK",z==null)return Oe(_,2,"null VP8Io passed to VP8GetHeaders()");var se=z.data,he=z.w,Se=z.ha;if(4>Se)return Oe(_,7,"Truncated header.");var Be=se[he+0]|se[he+1]<<8|se[he+2]<<16,Re=_.Od;if(Re.Rb=!(1&Be),Re.td=Be>>1&7,Re.yd=Be>>4&1,Re.ub=Be>>5,3<Re.td)return Oe(_,3,"Incorrect keyframe parameters.");if(!Re.yd)return Oe(_,4,"Frame not displayable.");he+=3,Se-=3;var je=_.Kc;if(Re.Rb){if(7>Se)return Oe(_,7,"cannot parse picture header");if(!st(se,he,Se))return Oe(_,3,"Bad code word");je.c=16383&(se[he+4]<<8|se[he+3]),je.Td=se[he+4]>>6,je.i=16383&(se[he+6]<<8|se[he+5]),je.Ud=se[he+6]>>6,he+=7,Se-=7,_.za=je.c+15>>4,_.Ub=je.i+15>>4,z.width=je.c,z.height=je.i,z.Da=0,z.j=0,z.v=0,z.va=z.width,z.o=z.height,z.da=0,z.ib=z.width,z.hb=z.height,z.U=z.width,z.T=z.height,i((Be=_.Pa).jb,0,255,Be.jb.length),t((Be=_.Qa)!=null),Be.Cb=0,Be.Bb=0,Be.Fb=1,i(Be.Zb,0,0,Be.Zb.length),i(Be.Lb,0,0,Be.Lb)}if(Re.ub>Se)return Oe(_,7,"bad partition length");ue(Be=_.m,se,he,Re.ub),he+=Re.ub,Se-=Re.ub,Re.Rb&&(je.Ld=Ne(Be),je.Kd=Ne(Be)),je=_.Qa;var Ge,qe=_.Pa;if(t(Be!=null),t(je!=null),je.Cb=Ne(Be),je.Cb){if(je.Bb=Ne(Be),Ne(Be)){for(je.Fb=Ne(Be),Ge=0;4>Ge;++Ge)je.Zb[Ge]=Ne(Be)?xe(Be,7):0;for(Ge=0;4>Ge;++Ge)je.Lb[Ge]=Ne(Be)?xe(Be,6):0}if(je.Bb)for(Ge=0;3>Ge;++Ge)qe.jb[Ge]=Ne(Be)?le(Be,8):255}else je.Bb=0;if(Be.Ka)return Oe(_,3,"cannot parse segment header");if((je=_.ed).zd=Ne(Be),je.Tb=le(Be,6),je.wb=le(Be,3),je.Pc=Ne(Be),je.Pc&&Ne(Be)){for(qe=0;4>qe;++qe)Ne(Be)&&(je.vd[qe]=xe(Be,6));for(qe=0;4>qe;++qe)Ne(Be)&&(je.od[qe]=xe(Be,6))}if(_.L=je.Tb==0?0:je.zd?1:2,Be.Ka)return Oe(_,3,"cannot parse filter header");var at=Se;if(Se=Ge=he,he=Ge+at,je=at,_.Xb=(1<<le(_.m,2))-1,at<3*(qe=_.Xb))se=7;else{for(Ge+=3*qe,je-=3*qe,at=0;at<qe;++at){var Et=se[Se+0]|se[Se+1]<<8|se[Se+2]<<16;Et>je&&(Et=je),ue(_.Jc[+at],se,Ge,Et),Ge+=Et,je-=Et,Se+=3}ue(_.Jc[+qe],se,Ge,je),se=Ge<he?0:5}if(se!=0)return Oe(_,se,"cannot parse partitions");for(se=le(Ge=_.m,7),Se=Ne(Ge)?xe(Ge,4):0,he=Ne(Ge)?xe(Ge,4):0,je=Ne(Ge)?xe(Ge,4):0,qe=Ne(Ge)?xe(Ge,4):0,Ge=Ne(Ge)?xe(Ge,4):0,at=_.Qa,Et=0;4>Et;++Et){if(at.Cb){var Ke=at.Zb[Et];at.Fb||(Ke+=se)}else{if(0<Et){_.pb[Et]=_.pb[0];continue}Ke=se}var ht=_.pb[Et];ht.Sc[0]=dc[wi(Ke+Se,127)],ht.Sc[1]=hc[wi(Ke+0,127)],ht.Eb[0]=2*dc[wi(Ke+he,127)],ht.Eb[1]=101581*hc[wi(Ke+je,127)]>>16,8>ht.Eb[1]&&(ht.Eb[1]=8),ht.Qc[0]=dc[wi(Ke+qe,117)],ht.Qc[1]=hc[wi(Ke+Ge,127)],ht.lc=Ke+Ge}if(!Re.Rb)return Oe(_,4,"Not a key frame.");for(Ne(Be),Re=_.Pa,se=0;4>se;++se){for(Se=0;8>Se;++Se)for(he=0;3>he;++he)for(je=0;11>je;++je)qe=Ue(Be,vs[se][Se][he][je])?le(Be,8):Lb[se][Se][he][je],Re.Wc[se][Se].Yb[he][je]=qe;for(Se=0;17>Se;++Se)Re.Xc[se][Se]=Re.Wc[se][fi[Se]]}return _.kc=Ne(Be),_.kc&&(_.Bd=le(Be,8)),_.cb=1}function Xe(_,z,se,he,Se,Be,Re){var je=z[Se].Yb[se];for(se=0;16>Se;++Se){if(!Ue(_,je[se+0]))return Se;for(;!Ue(_,je[se+1]);)if(je=z[++Se].Yb[0],se=0,Se==16)return 16;var Ge=z[Se+1].Yb;if(Ue(_,je[se+2])){var qe=_,at=0;if(Ue(qe,(Ke=je)[(Et=se)+3]))if(Ue(qe,Ke[Et+6])){for(je=0,Et=2*(at=Ue(qe,Ke[Et+8]))+(Ke=Ue(qe,Ke[Et+9+at])),at=0,Ke=Mb[Et];Ke[je];++je)at+=at+Ue(qe,Ke[je]);at+=3+(8<<Et)}else Ue(qe,Ke[Et+7])?(at=7+2*Ue(qe,165),at+=Ue(qe,145)):at=5+Ue(qe,159);else at=Ue(qe,Ke[Et+4])?3+Ue(qe,Ke[Et+5]):2;je=Ge[2]}else at=1,je=Ge[1];Ge=Re+ix[Se],0>(qe=_).b&&ke(qe);var Et,Ke=qe.b,ht=(Et=qe.Ca>>1)-(qe.I>>Ke)>>31;--qe.b,qe.Ca+=ht,qe.Ca|=1,qe.I-=(Et+1&ht)<<Ke,Be[Ge]=((at^ht)-ht)*he[(0<Se)+0]}return 16}function jt(_){var z=_.rb[_.sb-1];z.la=0,z.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function Zt(_,z,se,he,Se){Se=_[z+se+32*he]+(Se>>3),_[z+se+32*he]=-256&Se?0>Se?0:255:Se}function en(_,z,se,he,Se,Be){Zt(_,z,0,se,he+Se),Zt(_,z,1,se,he+Be),Zt(_,z,2,se,he-Be),Zt(_,z,3,se,he-Se)}function dt(_){return(20091*_>>16)+_}function pe(_,z,se,he){var Se,Be=0,Re=s(16);for(Se=0;4>Se;++Se){var je=_[z+0]+_[z+8],Ge=_[z+0]-_[z+8],qe=(35468*_[z+4]>>16)-dt(_[z+12]),at=dt(_[z+4])+(35468*_[z+12]>>16);Re[Be+0]=je+at,Re[Be+1]=Ge+qe,Re[Be+2]=Ge-qe,Re[Be+3]=je-at,Be+=4,z++}for(Se=Be=0;4>Se;++Se)je=(_=Re[Be+0]+4)+Re[Be+8],Ge=_-Re[Be+8],qe=(35468*Re[Be+4]>>16)-dt(Re[Be+12]),Zt(se,he,0,0,je+(at=dt(Re[Be+4])+(35468*Re[Be+12]>>16))),Zt(se,he,1,0,Ge+qe),Zt(se,he,2,0,Ge-qe),Zt(se,he,3,0,je-at),Be++,he+=32}function me(_,z,se,he){var Se=_[z+0]+4,Be=35468*_[z+4]>>16,Re=dt(_[z+4]),je=35468*_[z+1]>>16;en(se,he,0,Se+Re,_=dt(_[z+1]),je),en(se,he,1,Se+Be,_,je),en(se,he,2,Se-Be,_,je),en(se,he,3,Se-Re,_,je)}function ae(_,z,se,he,Se){pe(_,z,se,he),Se&&pe(_,z+16,se,he+4)}function Qe(_,z,se,he){tt(_,z+0,se,he,1),tt(_,z+32,se,he+128,1)}function Mt(_,z,se,he){var Se;for(_=_[z+0]+4,Se=0;4>Se;++Se)for(z=0;4>z;++z)Zt(se,he,z,Se,_)}function Gt(_,z,se,he){_[z+0]&&qt(_,z+0,se,he),_[z+16]&&qt(_,z+16,se,he+4),_[z+32]&&qt(_,z+32,se,he+128),_[z+48]&&qt(_,z+48,se,he+128+4)}function En(_,z,se,he){var Se,Be=s(16);for(Se=0;4>Se;++Se){var Re=_[z+0+Se]+_[z+12+Se],je=_[z+4+Se]+_[z+8+Se],Ge=_[z+4+Se]-_[z+8+Se],qe=_[z+0+Se]-_[z+12+Se];Be[0+Se]=Re+je,Be[8+Se]=Re-je,Be[4+Se]=qe+Ge,Be[12+Se]=qe-Ge}for(Se=0;4>Se;++Se)Re=(_=Be[0+4*Se]+3)+Be[3+4*Se],je=Be[1+4*Se]+Be[2+4*Se],Ge=Be[1+4*Se]-Be[2+4*Se],qe=_-Be[3+4*Se],se[he+0]=Re+je>>3,se[he+16]=qe+Ge>>3,se[he+32]=Re-je>>3,se[he+48]=qe-Ge>>3,he+=64}function Gn(_,z,se){var he,Se=z-32,Be=So,Re=255-_[Se-1];for(he=0;he<se;++he){var je,Ge=Be,qe=Re+_[z-1];for(je=0;je<se;++je)_[z+je]=Ge[qe+_[Se+je]];z+=32}}function Wn(_,z){Gn(_,z,4)}function wn(_,z){Gn(_,z,8)}function Mn(_,z){Gn(_,z,16)}function Xr(_,z){var se;for(se=0;16>se;++se)r(_,z+32*se,_,z-32,16)}function Pi(_,z){var se;for(se=16;0<se;--se)i(_,z,_[z-1],16),z+=32}function oi(_,z,se){var he;for(he=0;16>he;++he)i(z,se+32*he,_,16)}function Lr(_,z){var se,he=16;for(se=0;16>se;++se)he+=_[z-1+32*se]+_[z+se-32];oi(he>>5,_,z)}function di(_,z){var se,he=8;for(se=0;16>se;++se)he+=_[z-1+32*se];oi(he>>4,_,z)}function xo(_,z){var se,he=8;for(se=0;16>se;++se)he+=_[z+se-32];oi(he>>4,_,z)}function li(_,z){oi(128,_,z)}function ur(_,z,se){return _+2*z+se+2>>2}function Ji(_,z){var se,he=z-32;for(he=new Uint8Array([ur(_[he-1],_[he+0],_[he+1]),ur(_[he+0],_[he+1],_[he+2]),ur(_[he+1],_[he+2],_[he+3]),ur(_[he+2],_[he+3],_[he+4])]),se=0;4>se;++se)r(_,z+32*se,he,0,he.length)}function gr(_,z){var se=_[z-1],he=_[z-1+32],Se=_[z-1+64],Be=_[z-1+96];Ye(_,z+0,16843009*ur(_[z-1-32],se,he)),Ye(_,z+32,16843009*ur(se,he,Se)),Ye(_,z+64,16843009*ur(he,Se,Be)),Ye(_,z+96,16843009*ur(Se,Be,Be))}function Mc(_,z){var se,he=4;for(se=0;4>se;++se)he+=_[z+se-32]+_[z-1+32*se];for(he>>=3,se=0;4>se;++se)i(_,z+32*se,he,4)}function mr(_,z){var se=_[z-1+0],he=_[z-1+32],Se=_[z-1+64],Be=_[z-1-32],Re=_[z+0-32],je=_[z+1-32],Ge=_[z+2-32],qe=_[z+3-32];_[z+0+96]=ur(he,Se,_[z-1+96]),_[z+1+96]=_[z+0+64]=ur(se,he,Se),_[z+2+96]=_[z+1+64]=_[z+0+32]=ur(Be,se,he),_[z+3+96]=_[z+2+64]=_[z+1+32]=_[z+0+0]=ur(Re,Be,se),_[z+3+64]=_[z+2+32]=_[z+1+0]=ur(je,Re,Be),_[z+3+32]=_[z+2+0]=ur(Ge,je,Re),_[z+3+0]=ur(qe,Ge,je)}function Bn(_,z){var se=_[z+1-32],he=_[z+2-32],Se=_[z+3-32],Be=_[z+4-32],Re=_[z+5-32],je=_[z+6-32],Ge=_[z+7-32];_[z+0+0]=ur(_[z+0-32],se,he),_[z+1+0]=_[z+0+32]=ur(se,he,Se),_[z+2+0]=_[z+1+32]=_[z+0+64]=ur(he,Se,Be),_[z+3+0]=_[z+2+32]=_[z+1+64]=_[z+0+96]=ur(Se,Be,Re),_[z+3+32]=_[z+2+64]=_[z+1+96]=ur(Be,Re,je),_[z+3+64]=_[z+2+96]=ur(Re,je,Ge),_[z+3+96]=ur(je,Ge,Ge)}function Te(_,z){var se=_[z-1+0],he=_[z-1+32],Se=_[z-1+64],Be=_[z-1-32],Re=_[z+0-32],je=_[z+1-32],Ge=_[z+2-32],qe=_[z+3-32];_[z+0+0]=_[z+1+64]=Be+Re+1>>1,_[z+1+0]=_[z+2+64]=Re+je+1>>1,_[z+2+0]=_[z+3+64]=je+Ge+1>>1,_[z+3+0]=Ge+qe+1>>1,_[z+0+96]=ur(Se,he,se),_[z+0+64]=ur(he,se,Be),_[z+0+32]=_[z+1+96]=ur(se,Be,Re),_[z+1+32]=_[z+2+96]=ur(Be,Re,je),_[z+2+32]=_[z+3+96]=ur(Re,je,Ge),_[z+3+32]=ur(je,Ge,qe)}function it(_,z){var se=_[z+0-32],he=_[z+1-32],Se=_[z+2-32],Be=_[z+3-32],Re=_[z+4-32],je=_[z+5-32],Ge=_[z+6-32],qe=_[z+7-32];_[z+0+0]=se+he+1>>1,_[z+1+0]=_[z+0+64]=he+Se+1>>1,_[z+2+0]=_[z+1+64]=Se+Be+1>>1,_[z+3+0]=_[z+2+64]=Be+Re+1>>1,_[z+0+32]=ur(se,he,Se),_[z+1+32]=_[z+0+96]=ur(he,Se,Be),_[z+2+32]=_[z+1+96]=ur(Se,Be,Re),_[z+3+32]=_[z+2+96]=ur(Be,Re,je),_[z+3+64]=ur(Re,je,Ge),_[z+3+96]=ur(je,Ge,qe)}function Lt(_,z){var se=_[z-1+0],he=_[z-1+32],Se=_[z-1+64],Be=_[z-1+96];_[z+0+0]=se+he+1>>1,_[z+2+0]=_[z+0+32]=he+Se+1>>1,_[z+2+32]=_[z+0+64]=Se+Be+1>>1,_[z+1+0]=ur(se,he,Se),_[z+3+0]=_[z+1+32]=ur(he,Se,Be),_[z+3+32]=_[z+1+64]=ur(Se,Be,Be),_[z+3+64]=_[z+2+64]=_[z+0+96]=_[z+1+96]=_[z+2+96]=_[z+3+96]=Be}function sn(_,z){var se=_[z-1+0],he=_[z-1+32],Se=_[z-1+64],Be=_[z-1+96],Re=_[z-1-32],je=_[z+0-32],Ge=_[z+1-32],qe=_[z+2-32];_[z+0+0]=_[z+2+32]=se+Re+1>>1,_[z+0+32]=_[z+2+64]=he+se+1>>1,_[z+0+64]=_[z+2+96]=Se+he+1>>1,_[z+0+96]=Be+Se+1>>1,_[z+3+0]=ur(je,Ge,qe),_[z+2+0]=ur(Re,je,Ge),_[z+1+0]=_[z+3+32]=ur(se,Re,je),_[z+1+32]=_[z+3+64]=ur(he,se,Re),_[z+1+64]=_[z+3+96]=ur(Se,he,se),_[z+1+96]=ur(Be,Se,he)}function Fn(_,z){var se;for(se=0;8>se;++se)r(_,z+32*se,_,z-32,8)}function Rn(_,z){var se;for(se=0;8>se;++se)i(_,z,_[z-1],8),z+=32}function In(_,z,se){var he;for(he=0;8>he;++he)i(z,se+32*he,_,8)}function si(_,z){var se,he=8;for(se=0;8>se;++se)he+=_[z+se-32]+_[z-1+32*se];In(he>>4,_,z)}function gs(_,z){var se,he=4;for(se=0;8>se;++se)he+=_[z+se-32];In(he>>3,_,z)}function ci(_,z){var se,he=4;for(se=0;8>se;++se)he+=_[z-1+32*se];In(he>>3,_,z)}function Bs(_,z){In(128,_,z)}function hi(_,z,se){var he=_[z-se],Se=_[z+0],Be=3*(Se-he)+Xu[1020+_[z-2*se]-_[z+se]],Re=E0[112+(Be+4>>3)];_[z-se]=So[255+he+E0[112+(Be+3>>3)]],_[z+0]=So[255+Se-Re]}function Na(_,z,se,he){var Se=_[z+0],Be=_[z+se];return to[255+_[z-2*se]-_[z-se]]>he||to[255+Be-Se]>he}function tc(_,z,se,he){return 4*to[255+_[z-se]-_[z+0]]+to[255+_[z-2*se]-_[z+se]]<=he}function nc(_,z,se,he,Se){var Be=_[z-3*se],Re=_[z-2*se],je=_[z-se],Ge=_[z+0],qe=_[z+se],at=_[z+2*se],Et=_[z+3*se];return 4*to[255+je-Ge]+to[255+Re-qe]>he?0:to[255+_[z-4*se]-Be]<=Se&&to[255+Be-Re]<=Se&&to[255+Re-je]<=Se&&to[255+Et-at]<=Se&&to[255+at-qe]<=Se&&to[255+qe-Ge]<=Se}function il(_,z,se,he){var Se=2*he+1;for(he=0;16>he;++he)tc(_,z+he,se,Se)&&hi(_,z+he,se)}function Dl(_,z,se,he){var Se=2*he+1;for(he=0;16>he;++he)tc(_,z+he*se,1,Se)&&hi(_,z+he*se,1)}function Lc(_,z,se,he){var Se;for(Se=3;0<Se;--Se)il(_,z+=4*se,se,he)}function ai(_,z,se,he){var Se;for(Se=3;0<Se;--Se)Dl(_,z+=4,se,he)}function Vo(_,z,se,he,Se,Be,Re,je){for(Be=2*Be+1;0<Se--;){if(nc(_,z,se,Be,Re))if(Na(_,z,se,je))hi(_,z,se);else{var Ge=_,qe=z,at=se,Et=Ge[qe-2*at],Ke=Ge[qe-at],ht=Ge[qe+0],wt=Ge[qe+at],zt=Ge[qe+2*at],St=27*(tn=Xu[1020+3*(ht-Ke)+Xu[1020+Et-wt]])+63>>7,Vt=18*tn+63>>7,tn=9*tn+63>>7;Ge[qe-3*at]=So[255+Ge[qe-3*at]+tn],Ge[qe-2*at]=So[255+Et+Vt],Ge[qe-at]=So[255+Ke+St],Ge[qe+0]=So[255+ht-St],Ge[qe+at]=So[255+wt-Vt],Ge[qe+2*at]=So[255+zt-tn]}z+=he}}function vo(_,z,se,he,Se,Be,Re,je){for(Be=2*Be+1;0<Se--;){if(nc(_,z,se,Be,Re))if(Na(_,z,se,je))hi(_,z,se);else{var Ge=_,qe=z,at=se,Et=Ge[qe-at],Ke=Ge[qe+0],ht=Ge[qe+at],wt=E0[112+(4+(zt=3*(Ke-Et))>>3)],zt=E0[112+(zt+3>>3)],St=wt+1>>1;Ge[qe-2*at]=So[255+Ge[qe-2*at]+St],Ge[qe-at]=So[255+Et+zt],Ge[qe+0]=So[255+Ke-wt],Ge[qe+at]=So[255+ht-St]}z+=he}}function Qo(_,z,se,he,Se,Be){Vo(_,z,se,1,16,he,Se,Be)}function sl(_,z,se,he,Se,Be){Vo(_,z,1,se,16,he,Se,Be)}function _t(_,z,se,he,Se,Be){var Re;for(Re=3;0<Re;--Re)vo(_,z+=4*se,se,1,16,he,Se,Be)}function J(_,z,se,he,Se,Be){var Re;for(Re=3;0<Re;--Re)vo(_,z+=4,1,se,16,he,Se,Be)}function ye(_,z,se,he,Se,Be,Re,je){Vo(_,z,Se,1,8,Be,Re,je),Vo(se,he,Se,1,8,Be,Re,je)}function We(_,z,se,he,Se,Be,Re,je){Vo(_,z,1,Se,8,Be,Re,je),Vo(se,he,1,Se,8,Be,Re,je)}function et(_,z,se,he,Se,Be,Re,je){vo(_,z+4*Se,Se,1,8,Be,Re,je),vo(se,he+4*Se,Se,1,8,Be,Re,je)}function mt(_,z,se,he,Se,Be,Re,je){vo(_,z+4,1,Se,8,Be,Re,je),vo(se,he+4,1,Se,8,Be,Re,je)}function Jt(){this.ba=new Hn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ln(){this.ua=0,this.Wa=new nt,this.vb=new nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new re}function Ir(){this.xb=this.a=0,this.l=new Pe,this.ca=new Hn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ln,this.ab=0,this.gc=a(4,nr),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ti(_,z,se,he,Se,Be,Re){for(_=_==null?0:_[z+0],z=0;z<Re;++z)Se[Be+z]=_+se[he+z]&255,_=Se[Be+z]}function Mi(_,z,se,he,Se,Be,Re){var je;if(_==null)ti(null,null,se,he,Se,Be,Re);else for(je=0;je<Re;++je)Se[Be+je]=_[z+je]+se[he+je]&255}function Pr(_,z,se,he,Se,Be,Re){if(_==null)ti(null,null,se,he,Se,Be,Re);else{var je,Ge=_[z+0],qe=Ge,at=Ge;for(je=0;je<Re;++je)qe=at+(Ge=_[z+je])-qe,at=se[he+je]+(-256&qe?0>qe?0:255:qe)&255,qe=Ge,Se[Be+je]=at}}function jn(_,z,se,he){var Se=z.width,Be=z.o;if(t(_!=null&&z!=null),0>se||0>=he||se+he>Be)return null;if(!_.Cc){if(_.ga==null){var Re;if(_.ga=new sr,(Re=_.ga==null)||(Re=z.width*z.o,t(_.Gb.length==0),_.Gb=s(Re),_.Uc=0,_.Gb==null?Re=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,Re=1),Re=!Re),!Re){Re=_.ga;var je=_.Fa,Ge=_.P,qe=_.qc,at=_.mb,Et=_.nb,Ke=Ge+1,ht=qe-1,wt=Re.l;if(t(je!=null&&at!=null&&z!=null),Ju[0]=null,Ju[1]=ti,Ju[2]=Mi,Ju[3]=Pr,Re.ca=at,Re.tb=Et,Re.c=z.width,Re.i=z.height,t(0<Re.c&&0<Re.i),1>=qe)z=0;else if(Re.$a=3&je[Ge+0],Re.Z=je[Ge+0]>>2&3,Re.Lc=je[Ge+0]>>4&3,Ge=je[Ge+0]>>6&3,0>Re.$a||1<Re.$a||4<=Re.Z||1<Re.Lc||Ge)z=0;else if(wt.put=qn,wt.ac=Ki,wt.bc=Di,wt.ma=Re,wt.width=z.width,wt.height=z.height,wt.Da=z.Da,wt.v=z.v,wt.va=z.va,wt.j=z.j,wt.o=z.o,Re.$a)e:{t(Re.$a==1),z=ft();t:for(;;){if(z==null){z=0;break e}if(t(Re!=null),Re.mc=z,z.c=Re.c,z.i=Re.i,z.l=Re.l,z.l.ma=Re,z.l.width=Re.c,z.l.height=Re.i,z.a=0,ge(z.m,je,Ke,ht),!vt(Re.c,Re.i,1,z,null)||(z.ab==1&&z.gc[0].hc==3&&Me(z.s)?(Re.ic=1,je=z.c*z.i,z.Ta=null,z.Ua=0,z.V=s(je),z.Ba=0,z.V==null?(z.a=1,z=0):z=1):(Re.ic=0,z=bt(z,Re.c)),!z))break t;z=1;break e}Re.mc=null,z=0}else z=ht>=Re.c*Re.i;Re=!z}if(Re)return null;_.ga.Lc!=1?_.Ga=0:he=Be-se}t(_.ga!=null),t(se+he<=Be);e:{if(z=(je=_.ga).c,Be=je.l.o,je.$a==0){if(Ke=_.rc,ht=_.Vc,wt=_.Fa,Ge=_.P+1+se*z,qe=_.mb,at=_.nb+se*z,t(Ge<=_.P+_.qc),je.Z!=0)for(t(Ju[je.Z]!=null),Re=0;Re<he;++Re)Ju[je.Z](Ke,ht,wt,Ge,qe,at,z),Ke=qe,ht=at,at+=z,Ge+=z;else for(Re=0;Re<he;++Re)r(qe,at,wt,Ge,z),Ke=qe,ht=at,at+=z,Ge+=z;_.rc=Ke,_.Vc=ht}else{if(t(je.mc!=null),z=se+he,t((Re=je.mc)!=null),t(z<=Re.i),Re.C>=z)z=1;else if(je.ic||Pl(),je.ic){je=Re.V,Ke=Re.Ba,ht=Re.c;var zt=Re.i,St=(wt=1,Ge=Re.$/ht,qe=Re.$%ht,at=Re.m,Et=Re.s,Re.$),Vt=ht*zt,tn=ht*z,Nn=Et.wc,dn=St<tn?Ee(Et,qe,Ge):null;t(St<=Vt),t(z<=zt),t(Me(Et));t:for(;;){for(;!at.h&&St<tn;){if(qe&Nn||(dn=Ee(Et,qe,Ge)),t(dn!=null),Ce(at),256>(zt=Rr(dn.G[0],dn.H[0],at)))je[Ke+St]=zt,++St,++qe>=ht&&(qe=0,++Ge<=z&&!(Ge%16)&&Ve(Re,Ge));else{if(!(280>zt)){wt=0;break t}zt=xi(zt-256,at);var fr,Jn=Rr(dn.G[4],dn.H[4],at);if(Ce(at),!(St>=(Jn=Si(ht,Jn=xi(Jn,at)))&&Vt-St>=zt)){wt=0;break t}for(fr=0;fr<zt;++fr)je[Ke+St+fr]=je[Ke+St+fr-Jn];for(St+=zt,qe+=zt;qe>=ht;)qe-=ht,++Ge<=z&&!(Ge%16)&&Ve(Re,Ge);St<tn&&qe&Nn&&(dn=Ee(Et,qe,Ge))}t(at.h==ne(at))}Ve(Re,Ge>z?z:Ge);break t}!wt||at.h&&St<Vt?(wt=0,Re.a=at.h?5:3):Re.$=St,z=wt}else z=At(Re,Re.V,Re.Ba,Re.c,Re.i,z,Xt);if(!z){he=0;break e}}se+he>=Be&&(_.Cc=1),he=1}if(!he)return null;if(_.Cc&&((he=_.ga)!=null&&(he.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+se*Se}function ta(_,z,se,he,Se,Be){for(;0<Se--;){var Re,je=_,Ge=z+(se?1:0),qe=_,at=z+(se?0:3);for(Re=0;Re<he;++Re){var Et=qe[at+4*Re];Et!=255&&(Et*=32897,je[Ge+4*Re+0]=je[Ge+4*Re+0]*Et>>23,je[Ge+4*Re+1]=je[Ge+4*Re+1]*Et>>23,je[Ge+4*Re+2]=je[Ge+4*Re+2]*Et>>23)}z+=Be}}function jr(_,z,se,he,Se){for(;0<he--;){var Be;for(Be=0;Be<se;++Be){var Re=_[z+2*Be+0],je=15&(qe=_[z+2*Be+1]),Ge=4369*je,qe=(240&qe|qe>>4)*Ge>>16;_[z+2*Be+0]=(240&Re|Re>>4)*Ge>>16&240|(15&Re|Re<<4)*Ge>>16>>4&15,_[z+2*Be+1]=240&qe|je}z+=Se}}function ms(_,z,se,he,Se,Be,Re,je){var Ge,qe,at=255;for(qe=0;qe<Se;++qe){for(Ge=0;Ge<he;++Ge){var Et=_[z+Ge];Be[Re+4*Ge]=Et,at&=Et}z+=se,Re+=je}return at!=255}function wo(_,z,se,he,Se){var Be;for(Be=0;Be<Se;++Be)se[he+Be]=_[z+Be]>>8}function Pl(){Yu=ta,ac=jr,y0=ms,Ol=wo}function ua(_,z,se){j[_]=function(he,Se,Be,Re,je,Ge,qe,at,Et,Ke,ht,wt,zt,St,Vt,tn,Nn){var dn,fr=Nn-1>>1,Jn=je[Ge+0]|qe[at+0]<<16,Hr=Et[Ke+0]|ht[wt+0]<<16;t(he!=null);var lr=3*Jn+Hr+131074>>2;for(z(he[Se+0],255&lr,lr>>16,zt,St),Be!=null&&(lr=3*Hr+Jn+131074>>2,z(Be[Re+0],255&lr,lr>>16,Vt,tn)),dn=1;dn<=fr;++dn){var ui=je[Ge+dn]|qe[at+dn]<<16,ws=Et[Ke+dn]|ht[wt+dn]<<16,zr=Jn+ui+Hr+ws+524296,Zn=zr+2*(ui+Hr)>>3;lr=Zn+Jn>>1,Jn=(zr=zr+2*(Jn+ws)>>3)+ui>>1,z(he[Se+2*dn-1],255&lr,lr>>16,zt,St+(2*dn-1)*se),z(he[Se+2*dn-0],255&Jn,Jn>>16,zt,St+(2*dn-0)*se),Be!=null&&(lr=zr+Hr>>1,Jn=Zn+ws>>1,z(Be[Re+2*dn-1],255&lr,lr>>16,Vt,tn+(2*dn-1)*se),z(Be[Re+2*dn+0],255&Jn,Jn>>16,Vt,tn+(2*dn+0)*se)),Jn=ui,Hr=ws}1&Nn||(lr=3*Jn+Hr+131074>>2,z(he[Se+Nn-1],255&lr,lr>>16,zt,St+(Nn-1)*se),Be!=null&&(lr=3*Hr+Jn+131074>>2,z(Be[Re+Nn-1],255&lr,lr>>16,Vt,tn+(Nn-1)*se)))}}function Ku(){ro[mg]=Lh,ro[Eo]=Zf,ro[xg]=ax,ro[oc]=Cg,ro[N0]=Ld,ro[Yf]=lu,ro[Dd]=Od,ro[T0]=Zf,ro[vg]=Cg,ro[Xf]=Ld,ro[wg]=lu}function qu(_){return _&-16384?0>_?0:255:_>>Sg}function al(_,z){return qu((19077*_>>8)+(26149*z>>8)-14234)}function ol(_,z,se){return qu((19077*_>>8)-(6419*z>>8)-(13320*se>>8)+8708)}function su(_,z){return qu((19077*_>>8)+(33050*z>>8)-17685)}function Oc(_,z,se,he,Se){he[Se+0]=al(_,se),he[Se+1]=ol(_,z,se),he[Se+2]=su(_,z)}function xs(_,z,se,he,Se){he[Se+0]=su(_,z),he[Se+1]=ol(_,z,se),he[Se+2]=al(_,se)}function rc(_,z,se,he,Se){var Be=ol(_,z,se);z=Be<<3&224|su(_,z)>>3,he[Se+0]=248&al(_,se)|Be>>5,he[Se+1]=z}function au(_,z,se,he,Se){var Be=240&su(_,z)|15;he[Se+0]=240&al(_,se)|ol(_,z,se)>>4,he[Se+1]=Be}function ic(_,z,se,he,Se){he[Se+0]=255,Oc(_,z,se,he,Se+1)}function sc(_,z,se,he,Se){xs(_,z,se,he,Se),he[Se+3]=255}function Es(_,z,se,he,Se){Oc(_,z,se,he,Se),he[Se+3]=255}function ll(_,z,se){j[_]=function(he,Se,Be,Re,je,Ge,qe,at,Et){for(var Ke=at+(-2&Et)*se;at!=Ke;)z(he[Se+0],Be[Re+0],je[Ge+0],qe,at),z(he[Se+1],Be[Re+0],je[Ge+0],qe,at+se),Se+=2,++Re,++Ge,at+=2*se;1&Et&&z(he[Se+0],Be[Re+0],je[Ge+0],qe,at)}}function Ta(_,z,se){return se==0?_==0?z==0?6:5:z==0?4:0:se}function _d(_,z,se,he,Se){switch(_>>>30){case 3:tt(z,se,he,Se,0);break;case 2:pt(z,se,he,Se);break;case 1:qt(z,se,he,Se)}}function Ns(_,z){var se,he,Se=z.M,Be=z.Nb,Re=_.oc,je=_.pc+40,Ge=_.oc,qe=_.pc+584,at=_.oc,Et=_.pc+600;for(se=0;16>se;++se)Re[je+32*se-1]=129;for(se=0;8>se;++se)Ge[qe+32*se-1]=129,at[Et+32*se-1]=129;for(0<Se?Re[je-1-32]=Ge[qe-1-32]=at[Et-1-32]=129:(i(Re,je-32-1,127,21),i(Ge,qe-32-1,127,9),i(at,Et-32-1,127,9)),he=0;he<_.za;++he){var Ke=z.ya[z.aa+he];if(0<he){for(se=-1;16>se;++se)r(Re,je+32*se-4,Re,je+32*se+12,4);for(se=-1;8>se;++se)r(Ge,qe+32*se-4,Ge,qe+32*se+4,4),r(at,Et+32*se-4,at,Et+32*se+4,4)}var ht=_.Gd,wt=_.Hd+he,zt=Ke.ad,St=Ke.Hc;if(0<Se&&(r(Re,je-32,ht[wt].y,0,16),r(Ge,qe-32,ht[wt].f,0,8),r(at,Et-32,ht[wt].ea,0,8)),Ke.Za){var Vt=Re,tn=je-32+16;for(0<Se&&(he>=_.za-1?i(Vt,tn,ht[wt].y[15],4):r(Vt,tn,ht[wt+1].y,0,4)),se=0;4>se;se++)Vt[tn+128+se]=Vt[tn+256+se]=Vt[tn+384+se]=Vt[tn+0+se];for(se=0;16>se;++se,St<<=2)Vt=Re,tn=je+na[se],Hs[Ke.Ob[se]](Vt,tn),_d(St,zt,16*+se,Vt,tn)}else if(Vt=Ta(he,Se,Ke.Ob[0]),zo[Vt](Re,je),St!=0)for(se=0;16>se;++se,St<<=2)_d(St,zt,16*+se,Re,je+na[se]);for(se=Ke.Gc,Vt=Ta(he,Se,Ke.Dd),jc[Vt](Ge,qe),jc[Vt](at,Et),St=zt,Vt=Ge,tn=qe,255&(Ke=0|se)&&(170&Ke?Bt(St,256,Vt,tn):$t(St,256,Vt,tn)),Ke=at,St=Et,255&(se>>=8)&&(170&se?Bt(zt,320,Ke,St):$t(zt,320,Ke,St)),Se<_.Ub-1&&(r(ht[wt].y,0,Re,je+480,16),r(ht[wt].f,0,Ge,qe+224,8),r(ht[wt].ea,0,at,Et+224,8)),se=8*Be*_.B,ht=_.sa,wt=_.ta+16*he+16*Be*_.R,zt=_.qa,Ke=_.ra+8*he+se,St=_.Ha,Vt=_.Ia+8*he+se,se=0;16>se;++se)r(ht,wt+se*_.R,Re,je+32*se,16);for(se=0;8>se;++se)r(zt,Ke+se*_.B,Ge,qe+32*se,8),r(St,Vt+se*_.B,at,Et+32*se,8)}}function Ml(_,z,se,he,Se,Be,Re,je,Ge){var qe=[0],at=[0],Et=0,Ke=Ge!=null?Ge.kd:0,ht=Ge??new pn;if(_==null||12>se)return 7;ht.data=_,ht.w=z,ht.ha=se,z=[z],se=[se],ht.gb=[ht.gb];e:{var wt=z,zt=se,St=ht.gb;if(t(_!=null),t(zt!=null),t(St!=null),St[0]=0,12<=zt[0]&&!n(_,wt[0],"RIFF")){if(n(_,wt[0]+8,"WEBP")){St=3;break e}var Vt=yt(_,wt[0]+4);if(12>Vt||4294967286<Vt){St=3;break e}if(Ke&&Vt>zt[0]-8){St=7;break e}St[0]=Vt,wt[0]+=12,zt[0]-=12}St=0}if(St!=0)return St;for(Vt=0<ht.gb[0],se=se[0];;){e:{var tn=_;zt=z,St=se;var Nn=qe,dn=at,fr=wt=[0];if((lr=Et=[Et])[0]=0,8>St[0])St=7;else{if(!n(tn,zt[0],"VP8X")){if(yt(tn,zt[0]+4)!=10){St=3;break e}if(18>St[0]){St=7;break e}var Jn=yt(tn,zt[0]+8),Hr=1+gt(tn,zt[0]+12);if(2147483648<=Hr*(tn=1+gt(tn,zt[0]+15))){St=3;break e}fr!=null&&(fr[0]=Jn),Nn!=null&&(Nn[0]=Hr),dn!=null&&(dn[0]=tn),zt[0]+=18,St[0]-=18,lr[0]=1}St=0}}if(Et=Et[0],wt=wt[0],St!=0)return St;if(zt=!!(2&wt),!Vt&&Et)return 3;if(Be!=null&&(Be[0]=!!(16&wt)),Re!=null&&(Re[0]=zt),je!=null&&(je[0]=0),Re=qe[0],wt=at[0],Et&&zt&&Ge==null){St=0;break}if(4>se){St=7;break}if(Vt&&Et||!Vt&&!Et&&!n(_,z[0],"ALPH")){se=[se],ht.na=[ht.na],ht.P=[ht.P],ht.Sa=[ht.Sa];e:{Jn=_,St=z,Vt=se;var lr=ht.gb;Nn=ht.na,dn=ht.P,fr=ht.Sa,Hr=22,t(Jn!=null),t(Vt!=null),tn=St[0];var ui=Vt[0];for(t(Nn!=null),t(fr!=null),Nn[0]=null,dn[0]=null,fr[0]=0;;){if(St[0]=tn,Vt[0]=ui,8>ui){St=7;break e}var ws=yt(Jn,tn+4);if(4294967286<ws){St=3;break e}var zr=8+ws+1&-2;if(Hr+=zr,0<lr&&Hr>lr){St=3;break e}if(!n(Jn,tn,"VP8 ")||!n(Jn,tn,"VP8L")){St=0;break e}if(ui[0]<zr){St=7;break e}n(Jn,tn,"ALPH")||(Nn[0]=Jn,dn[0]=tn+8,fr[0]=ws),tn+=zr,ui-=zr}}if(se=se[0],ht.na=ht.na[0],ht.P=ht.P[0],ht.Sa=ht.Sa[0],St!=0)break}se=[se],ht.Ja=[ht.Ja],ht.xa=[ht.xa];e:if(lr=_,St=z,Vt=se,Nn=ht.gb[0],dn=ht.Ja,fr=ht.xa,Jn=St[0],tn=!n(lr,Jn,"VP8 "),Hr=!n(lr,Jn,"VP8L"),t(lr!=null),t(Vt!=null),t(dn!=null),t(fr!=null),8>Vt[0])St=7;else{if(tn||Hr){if(lr=yt(lr,Jn+4),12<=Nn&&lr>Nn-12){St=3;break e}if(Ke&&lr>Vt[0]-8){St=7;break e}dn[0]=lr,St[0]+=8,Vt[0]-=8,fr[0]=Hr}else fr[0]=5<=Vt[0]&&lr[Jn+0]==47&&!(lr[Jn+4]>>5),dn[0]=Vt[0];St=0}if(se=se[0],ht.Ja=ht.Ja[0],ht.xa=ht.xa[0],z=z[0],St!=0)break;if(4294967286<ht.Ja)return 3;if(je==null||zt||(je[0]=ht.xa?2:1),Re=[Re],wt=[wt],ht.xa){if(5>se){St=7;break}je=Re,Ke=wt,zt=Be,_==null||5>se?_=0:5<=se&&_[z+0]==47&&!(_[z+4]>>5)?(Vt=[0],lr=[0],Nn=[0],ge(dn=new Y,_,z,se),ea(dn,Vt,lr,Nn)?(je!=null&&(je[0]=Vt[0]),Ke!=null&&(Ke[0]=lr[0]),zt!=null&&(zt[0]=Nn[0]),_=1):_=0):_=0}else{if(10>se){St=7;break}je=wt,_==null||10>se||!st(_,z+3,se-3)?_=0:(Ke=_[z+0]|_[z+1]<<8|_[z+2]<<16,zt=16383&(_[z+7]<<8|_[z+6]),_=16383&(_[z+9]<<8|_[z+8]),1&Ke||3<(Ke>>1&7)||!(Ke>>4&1)||Ke>>5>=ht.Ja||!zt||!_?_=0:(Re&&(Re[0]=zt),je&&(je[0]=_),_=1))}if(!_||(Re=Re[0],wt=wt[0],Et&&(qe[0]!=Re||at[0]!=wt)))return 3;Ge!=null&&(Ge[0]=ht,Ge.offset=z-Ge.w,t(4294967286>z-Ge.w),t(Ge.offset==Ge.ha-se));break}return St==0||St==7&&Et&&Ge==null?(Be!=null&&(Be[0]|=ht.na!=null&&0<ht.na.length),he!=null&&(he[0]=Re),Se!=null&&(Se[0]=wt),0):St}function Ll(_,z,se){var he=z.width,Se=z.height,Be=0,Re=0,je=he,Ge=Se;if(z.Da=_!=null&&0<_.Da,z.Da&&(je=_.cd,Ge=_.bd,Be=_.v,Re=_.j,11>se||(Be&=-2,Re&=-2),0>Be||0>Re||0>=je||0>=Ge||Be+je>he||Re+Ge>Se))return 0;if(z.v=Be,z.j=Re,z.va=Be+je,z.o=Re+Ge,z.U=je,z.T=Ge,z.da=_!=null&&0<_.da,z.da){if(!Ct(je,Ge,se=[_.ib],Be=[_.hb]))return 0;z.ib=se[0],z.hb=Be[0]}return z.ob=_!=null&&_.ob,z.Kb=_==null||!_.Sd,z.da&&(z.ob=z.ib<3*he/4&&z.hb<3*Se/4,z.Kb=0),1}function Dh(_){if(_==null)return 2;if(11>_.S){var z=_.f.RGBA;z.fb+=(_.height-1)*z.A,z.A=-z.A}else z=_.f.kb,_=_.height,z.O+=(_-1)*z.fa,z.fa=-z.fa,z.N+=(_-1>>1)*z.Ab,z.Ab=-z.Ab,z.W+=(_-1>>1)*z.Db,z.Db=-z.Db,z.F!=null&&(z.J+=(_-1)*z.lb,z.lb=-z.lb);return 0}function cl(_,z,se,he){if(he==null||0>=_||0>=z)return 2;if(se!=null){if(se.Da){var Se=se.cd,Be=se.bd,Re=-2&se.v,je=-2&se.j;if(0>Re||0>je||0>=Se||0>=Be||Re+Se>_||je+Be>z)return 2;_=Se,z=Be}if(se.da){if(!Ct(_,z,Se=[se.ib],Be=[se.hb]))return 2;_=Se[0],z=Be[0]}}he.width=_,he.height=z;e:{var Ge=he.width,qe=he.height;if(_=he.S,0>=Ge||0>=qe||!(_>=mg&&13>_))_=2;else{if(0>=he.Rd&&he.sd==null){Re=Be=Se=z=0;var at=(je=Ge*Ng[_])*qe;if(11>_||(Be=(qe+1)/2*(z=(Ge+1)/2),_==12&&(Re=(Se=Ge)*qe)),(qe=s(at+2*Be+Re))==null){_=1;break e}he.sd=qe,11>_?((Ge=he.f.RGBA).eb=qe,Ge.fb=0,Ge.A=je,Ge.size=at):((Ge=he.f.kb).y=qe,Ge.O=0,Ge.fa=je,Ge.Fd=at,Ge.f=qe,Ge.N=0+at,Ge.Ab=z,Ge.Cd=Be,Ge.ea=qe,Ge.W=0+at+Be,Ge.Db=z,Ge.Ed=Be,_==12&&(Ge.F=qe,Ge.J=0+at+2*Be),Ge.Tc=Re,Ge.lb=Se)}if(z=1,Se=he.S,Be=he.width,Re=he.height,Se>=mg&&13>Se)if(11>Se)_=he.f.RGBA,z&=(je=Math.abs(_.A))*(Re-1)+Be<=_.size,z&=je>=Be*Ng[Se],z&=_.eb!=null;else{_=he.f.kb,je=(Be+1)/2,at=(Re+1)/2,Ge=Math.abs(_.fa),qe=Math.abs(_.Ab);var Et=Math.abs(_.Db),Ke=Math.abs(_.lb),ht=Ke*(Re-1)+Be;z&=Ge*(Re-1)+Be<=_.Fd,z&=qe*(at-1)+je<=_.Cd,z=(z&=Et*(at-1)+je<=_.Ed)&Ge>=Be&qe>=je&Et>=je,z&=_.y!=null,z&=_.f!=null,z&=_.ea!=null,Se==12&&(z&=Ke>=Be,z&=ht<=_.Tc,z&=_.F!=null)}else z=0;_=z?0:2}}return _!=0||se!=null&&se.fd&&(_=Dh(he)),_}var Ia=64,bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fa=24,yo=32,Vr=8,ul=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(_){return _},j.Predictor2=function(_,z,se){return z[se+0]},j.Predictor3=function(_,z,se){return z[se+1]},j.Predictor4=function(_,z,se){return z[se-1]},j.Predictor5=function(_,z,se){return bn(bn(_,z[se+1]),z[se+0])},j.Predictor6=function(_,z,se){return bn(_,z[se-1])},j.Predictor7=function(_,z,se){return bn(_,z[se+0])},j.Predictor8=function(_,z,se){return bn(z[se-1],z[se+0])},j.Predictor9=function(_,z,se){return bn(z[se+0],z[se+1])},j.Predictor10=function(_,z,se){return bn(bn(_,z[se-1]),bn(z[se+0],z[se+1]))},j.Predictor11=function(_,z,se){var he=z[se+0];return 0>=Sn(he>>24&255,_>>24&255,(z=z[se-1])>>24&255)+Sn(he>>16&255,_>>16&255,z>>16&255)+Sn(he>>8&255,_>>8&255,z>>8&255)+Sn(255&he,255&_,255&z)?he:_},j.Predictor12=function(_,z,se){var he=z[se+0];return(Cn((_>>24&255)+(he>>24&255)-((z=z[se-1])>>24&255))<<24|Cn((_>>16&255)+(he>>16&255)-(z>>16&255))<<16|Cn((_>>8&255)+(he>>8&255)-(z>>8&255))<<8|Cn((255&_)+(255&he)-(255&z)))>>>0},j.Predictor13=function(_,z,se){var he=z[se-1];return(Vn((_=bn(_,z[se+0]))>>24&255,he>>24&255)<<24|Vn(_>>16&255,he>>16&255)<<16|Vn(_>>8&255,he>>8&255)<<8|Vn(255&_,255&he))>>>0};var we=j.PredictorAdd0;j.PredictorAdd1=tr,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var A=j.PredictorAdd2;rn("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),rn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var x,v=j.ColorIndexInverseTransform,S=j.MapARGB,E=j.VP8LColorIndexInverseTransformAlpha,I=j.MapAlpha,D=j.VP8LPredictorsAdd=[];D.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var W,Z,de,be,Ie,ze,Je,tt,pt,Bt,qt,$t,Wt,vr,Er,as,ka,da,Li,ha,Co,$u,ou,b0,Yu,ac,y0,Ol,Ph=s(511),pg=s(2041),C0=s(225),S0=s(767),gg=0,Xu=pg,E0=C0,So=S0,to=Ph,mg=0,Eo=1,xg=2,oc=3,N0=4,Yf=5,Dd=6,T0=7,vg=8,Xf=9,wg=10,lc=[2,3,7],Jf=[3,3,11],Mh=[280,256,256,256,40],bg=[0,1,1,1,0],I0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],uc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pd=8,dc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jl=null,Mb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ix=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],no=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zo=[],Hs=[],jc=[],Md=1,sx=2,Ju=[],ro=[];ua("UpsampleRgbLinePair",Oc,3),ua("UpsampleBgrLinePair",xs,3),ua("UpsampleRgbaLinePair",Es,4),ua("UpsampleBgraLinePair",sc,4),ua("UpsampleArgbLinePair",ic,4),ua("UpsampleRgba4444LinePair",au,2),ua("UpsampleRgb565LinePair",rc,2);var Lh=j.UpsampleRgbLinePair,ax=j.UpsampleBgrLinePair,Zf=j.UpsampleRgbaLinePair,Cg=j.UpsampleBgraLinePair,Ld=j.UpsampleArgbLinePair,lu=j.UpsampleRgba4444LinePair,Od=j.UpsampleRgb565LinePair,fc=16,eA=1<<fc-1,Oh=-227,jd=482,Sg=6,Ud=0,io=s(256),Eg=s(256),Ob=s(256),SN=s(256),EN=s(jd-Oh),NN=s(jd-Oh);ll("YuvToRgbRow",Oc,3),ll("YuvToBgrRow",xs,3),ll("YuvToRgbaRow",Es,4),ll("YuvToBgraRow",sc,4),ll("YuvToArgbRow",ic,4),ll("YuvToRgba4444Row",au,2),ll("YuvToRgb565Row",rc,2);var na=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tA=[0,2,8],F0=[8,7,6,4,4,2,2,2,1,1,1,1],k0=1;this.WebPDecodeRGBA=function(_,z,se,he,Se){var Be=Eo,Re=new Jt,je=new Hn;Re.ba=je,je.S=Be,je.width=[je.width],je.height=[je.height];var Ge=je.width,qe=je.height,at=new kn;if(at==null||_==null)var Et=2;else t(at!=null),Et=Ml(_,z,se,at.width,at.height,at.Pd,at.Qd,at.format,null);if(Et!=0?Ge=0:(Ge!=null&&(Ge[0]=at.width[0]),qe!=null&&(qe[0]=at.height[0]),Ge=1),Ge){je.width=je.width[0],je.height=je.height[0],he!=null&&(he[0]=je.width),Se!=null&&(Se[0]=je.height);e:{if(he=new Pe,(Se=new pn).data=_,Se.w=z,Se.ha=se,Se.kd=1,z=[0],t(Se!=null),((_=Ml(Se.data,Se.w,Se.ha,null,null,null,z,null,Se))==0||_==7)&&z[0]&&(_=4),(z=_)==0){if(t(Re!=null),he.data=Se.data,he.w=Se.w+Se.offset,he.ha=Se.ha-Se.offset,he.put=qn,he.ac=Ki,he.bc=Di,he.ma=Re,Se.xa){if((_=ft())==null){Re=1;break e}if((function(Ke,ht){var wt=[0],zt=[0],St=[0];t:for(;;){if(Ke==null)return 0;if(ht==null)return Ke.a=2,0;if(Ke.l=ht,Ke.a=0,ge(Ke.m,ht.data,ht.w,ht.ha),!ea(Ke.m,wt,zt,St)){Ke.a=3;break t}if(Ke.xb=sx,ht.width=wt[0],ht.height=zt[0],!vt(wt[0],zt[0],1,Ke,null))break t;return 1}return t(Ke.a!=0),0})(_,he)){if(he=(z=cl(he.width,he.height,Re.Oa,Re.ba))==0){t:{he=_;n:for(;;){if(he==null){he=0;break t}if(t(he.s.yc!=null),t(he.s.Ya!=null),t(0<he.s.Wb),t((se=he.l)!=null),t((Se=se.ma)!=null),he.xb!=0){if(he.ca=Se.ba,he.tb=Se.tb,t(he.ca!=null),!Ll(Se.Oa,se,oc)){he.a=2;break n}if(!bt(he,se.width)||se.da)break n;if((se.da||zn(he.ca.S))&&Pl(),11>he.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),he.ca.f.kb.F!=null&&Pl()),he.Pb&&0<he.s.ua&&he.s.vb.X==null&&!Fe(he.s.vb,he.s.Wa.Xa)){he.a=1;break n}he.xb=0}if(!At(he,he.V,he.Ba,he.c,he.i,se.o,Le))break n;Se.Dc=he.Ma,he=1;break t}t(he.a!=0),he=0}he=!he}he&&(z=_.a)}else z=_.a}else{if((_=new $e)==null){Re=1;break e}if(_.Fa=Se.na,_.P=Se.P,_.qc=Se.Sa,rt(_,he)){if((z=cl(he.width,he.height,Re.Oa,Re.ba))==0){if(_.Aa=0,se=Re.Oa,t((Se=_)!=null),se!=null){if(0<(Ge=0>(Ge=se.Md)?0:100<Ge?255:255*Ge/100)){for(qe=at=0;4>qe;++qe)12>(Et=Se.pb[qe]).lc&&(Et.ia=Ge*F0[0>Et.lc?0:Et.lc]>>3),at|=Et.ia;at&&(alert("todo:VP8InitRandom"),Se.ia=1)}Se.Ga=se.Id,100<Se.Ga?Se.Ga=100:0>Se.Ga&&(Se.Ga=0)}(function(Ke,ht){if(Ke==null)return 0;if(ht==null)return Oe(Ke,2,"NULL VP8Io parameter in VP8Decode().");if(!Ke.cb&&!rt(Ke,ht))return 0;if(t(Ke.cb),ht.ac==null||ht.ac(ht)){ht.ob&&(Ke.L=0);var wt=tA[Ke.L];if(Ke.L==2?(Ke.yb=0,Ke.zb=0):(Ke.yb=ht.v-wt>>4,Ke.zb=ht.j-wt>>4,0>Ke.yb&&(Ke.yb=0),0>Ke.zb&&(Ke.zb=0)),Ke.Va=ht.o+15+wt>>4,Ke.Hb=ht.va+15+wt>>4,Ke.Hb>Ke.za&&(Ke.Hb=Ke.za),Ke.Va>Ke.Ub&&(Ke.Va=Ke.Ub),0<Ke.L){var zt=Ke.ed;for(wt=0;4>wt;++wt){var St;if(Ke.Qa.Cb){var Vt=Ke.Qa.Lb[wt];Ke.Qa.Fb||(Vt+=zt.Tb)}else Vt=zt.Tb;for(St=0;1>=St;++St){var tn=Ke.gd[wt][St],Nn=Vt;if(zt.Pc&&(Nn+=zt.vd[0],St&&(Nn+=zt.od[0])),0<(Nn=0>Nn?0:63<Nn?63:Nn)){var dn=Nn;0<zt.wb&&(dn=4<zt.wb?dn>>2:dn>>1)>9-zt.wb&&(dn=9-zt.wb),1>dn&&(dn=1),tn.dd=dn,tn.tc=2*Nn+dn,tn.ld=40<=Nn?2:15<=Nn?1:0}else tn.tc=0;tn.La=St}}}wt=0}else Oe(Ke,6,"Frame setup failed"),wt=Ke.a;if(wt=wt==0){if(wt){Ke.$c=0,0<Ke.Aa||(Ke.Ic=k0);t:{wt=Ke.Ic,zt=4*(dn=Ke.za);var fr=32*dn,Jn=dn+1,Hr=0<Ke.L?dn*(0<Ke.Aa?2:1):0,lr=(Ke.Aa==2?2:1)*dn;if((tn=zt+832+(St=3*(16*wt+tA[Ke.L])/2*fr)+(Vt=Ke.Fa!=null&&0<Ke.Fa.length?Ke.Kc.c*Ke.Kc.i:0))!=tn)wt=0;else{if(tn>Ke.Vb){if(Ke.Vb=0,Ke.Ec=s(tn),Ke.Fc=0,Ke.Ec==null){wt=Oe(Ke,1,"no memory during frame initialization.");break t}Ke.Vb=tn}tn=Ke.Ec,Nn=Ke.Fc,Ke.Ac=tn,Ke.Bc=Nn,Nn+=zt,Ke.Gd=a(fr,yr),Ke.Hd=0,Ke.rb=a(Jn+1,ir),Ke.sb=1,Ke.wa=Hr?a(Hr,Un):null,Ke.Y=0,Ke.D.Nb=0,Ke.D.wa=Ke.wa,Ke.D.Y=Ke.Y,0<Ke.Aa&&(Ke.D.Y+=dn),t(!0),Ke.oc=tn,Ke.pc=Nn,Nn+=832,Ke.ya=a(lr,ca),Ke.aa=0,Ke.D.ya=Ke.ya,Ke.D.aa=Ke.aa,Ke.Aa==2&&(Ke.D.aa+=dn),Ke.R=16*dn,Ke.B=8*dn,dn=(fr=tA[Ke.L])*Ke.R,fr=fr/2*Ke.B,Ke.sa=tn,Ke.ta=Nn+dn,Ke.qa=Ke.sa,Ke.ra=Ke.ta+16*wt*Ke.R+fr,Ke.Ha=Ke.qa,Ke.Ia=Ke.ra+8*wt*Ke.B+fr,Ke.$c=0,Nn+=St,Ke.mb=Vt?tn:null,Ke.nb=Vt?Nn:null,t(Nn+Vt<=Ke.Fc+Ke.Vb),jt(Ke),i(Ke.Ac,Ke.Bc,0,zt),wt=1}}if(wt){if(ht.ka=0,ht.y=Ke.sa,ht.O=Ke.ta,ht.f=Ke.qa,ht.N=Ke.ra,ht.ea=Ke.Ha,ht.Vd=Ke.Ia,ht.fa=Ke.R,ht.Rc=Ke.B,ht.F=null,ht.J=0,!gg){for(wt=-255;255>=wt;++wt)Ph[255+wt]=0>wt?-wt:wt;for(wt=-1020;1020>=wt;++wt)pg[1020+wt]=-128>wt?-128:127<wt?127:wt;for(wt=-112;112>=wt;++wt)C0[112+wt]=-16>wt?-16:15<wt?15:wt;for(wt=-255;510>=wt;++wt)S0[255+wt]=0>wt?0:255<wt?255:wt;gg=1}Je=En,tt=ae,Bt=Qe,qt=Mt,$t=Gt,pt=me,Wt=Qo,vr=sl,Er=ye,as=We,ka=_t,da=J,Li=et,ha=mt,Co=il,$u=Dl,ou=Lc,b0=ai,Hs[0]=Mc,Hs[1]=Wn,Hs[2]=Ji,Hs[3]=gr,Hs[4]=mr,Hs[5]=Te,Hs[6]=Bn,Hs[7]=it,Hs[8]=sn,Hs[9]=Lt,zo[0]=Lr,zo[1]=Mn,zo[2]=Xr,zo[3]=Pi,zo[4]=di,zo[5]=xo,zo[6]=li,jc[0]=si,jc[1]=wn,jc[2]=Fn,jc[3]=Rn,jc[4]=ci,jc[5]=gs,jc[6]=Bs,wt=1}else wt=0}wt&&(wt=(function(ui,ws){for(ui.M=0;ui.M<ui.Va;++ui.M){var zr,Zn=ui.Jc[ui.M&ui.Xb],Pn=ui.m,Rs=ui;for(zr=0;zr<Rs.za;++zr){var _r=Pn,$r=Rs,qi=$r.Ac,Ba=$r.Bc+4*zr,so=$r.zc,os=$r.ya[$r.aa+zr];if($r.Qa.Bb?os.$b=Ue(_r,$r.Pa.jb[0])?2+Ue(_r,$r.Pa.jb[2]):Ue(_r,$r.Pa.jb[1]):os.$b=0,$r.kc&&(os.Ad=Ue(_r,$r.Bd)),os.Za=!Ue(_r,145)+0,os.Za){var fa=os.Ob,No=0;for($r=0;4>$r;++$r){var Aa,ni=so[0+$r];for(Aa=0;4>Aa;++Aa){ni=no[qi[Ba+Aa]][ni];for(var Fi=yg[Ue(_r,ni[0])];0<Fi;)Fi=yg[2*Fi+Ue(_r,ni[Fi])];ni=-Fi,qi[Ba+Aa]=ni}r(fa,No,qi,Ba,4),No+=4,so[0+$r]=ni}}else ni=Ue(_r,156)?Ue(_r,128)?1:3:Ue(_r,163)?2:0,os.Ob[0]=ni,i(qi,Ba,ni,4),i(so,0,ni,4);os.Dd=Ue(_r,142)?Ue(_r,114)?Ue(_r,183)?1:3:2:0}if(Rs.m.Ka)return Oe(ui,7,"Premature end-of-partition0 encountered.");for(;ui.ja<ui.za;++ui.ja){if(Rs=Zn,_r=(Pn=ui).rb[Pn.sb-1],qi=Pn.rb[Pn.sb+Pn.ja],zr=Pn.ya[Pn.aa+Pn.ja],Ba=Pn.kc?zr.Ad:0)_r.la=qi.la=0,zr.Za||(_r.Na=qi.Na=0),zr.Hc=0,zr.Gc=0,zr.ia=0;else{var _s,Oi;if(_r=qi,qi=Rs,Ba=Pn.Pa.Xc,so=Pn.ya[Pn.aa+Pn.ja],os=Pn.pb[so.$b],$r=so.ad,fa=0,No=Pn.rb[Pn.sb-1],ni=Aa=0,i($r,fa,0,384),so.Za)var Ra=0,Ds=Ba[3];else{Fi=s(16);var ki=_r.Na+No.Na;if(ki=jl(qi,Ba[1],ki,os.Eb,0,Fi,0),_r.Na=No.Na=(0<ki)+0,1<ki)Je(Fi,0,$r,fa);else{var ra=Fi[0]+3>>3;for(Fi=0;256>Fi;Fi+=16)$r[fa+Fi]=ra}Ra=1,Ds=Ba[0]}var $i=15&_r.la,pa=15&No.la;for(Fi=0;4>Fi;++Fi){var ga=1&pa;for(ra=Oi=0;4>ra;++ra)$i=$i>>1|(ga=(ki=jl(qi,Ds,ki=ga+(1&$i),os.Sc,Ra,$r,fa))>Ra)<<7,Oi=Oi<<2|(3<ki?3:1<ki?2:$r[fa+0]!=0),fa+=16;$i>>=4,pa=pa>>1|ga<<7,Aa=(Aa<<8|Oi)>>>0}for(Ds=$i,Ra=pa>>4,_s=0;4>_s;_s+=2){for(Oi=0,$i=_r.la>>4+_s,pa=No.la>>4+_s,Fi=0;2>Fi;++Fi){for(ga=1&pa,ra=0;2>ra;++ra)ki=ga+(1&$i),$i=$i>>1|(ga=0<(ki=jl(qi,Ba[2],ki,os.Qc,0,$r,fa)))<<3,Oi=Oi<<2|(3<ki?3:1<ki?2:$r[fa+0]!=0),fa+=16;$i>>=2,pa=pa>>1|ga<<5}ni|=Oi<<4*_s,Ds|=$i<<4<<_s,Ra|=(240&pa)<<_s}_r.la=Ds,No.la=Ra,so.Hc=Aa,so.Gc=ni,so.ia=43690&ni?0:os.ia,Ba=!(Aa|ni)}if(0<Pn.L&&(Pn.wa[Pn.Y+Pn.ja]=Pn.gd[zr.$b][zr.Za],Pn.wa[Pn.Y+Pn.ja].La|=!Ba),Rs.Ka)return Oe(ui,7,"Premature end-of-file encountered.")}if(jt(ui),Pn=ws,Rs=1,zr=(Zn=ui).D,_r=0<Zn.L&&Zn.M>=Zn.zb&&Zn.M<=Zn.Va,Zn.Aa==0)t:{if(zr.M=Zn.M,zr.uc=_r,Ns(Zn,zr),Rs=1,zr=(Oi=Zn.D).Nb,_r=(ni=tA[Zn.L])*Zn.R,qi=ni/2*Zn.B,Fi=16*zr*Zn.R,ra=8*zr*Zn.B,Ba=Zn.sa,so=Zn.ta-_r+Fi,os=Zn.qa,$r=Zn.ra-qi+ra,fa=Zn.Ha,No=Zn.Ia-qi+ra,pa=($i=Oi.M)==0,Aa=$i>=Zn.Va-1,Zn.Aa==2&&Ns(Zn,Oi),Oi.uc)for(ga=(ki=Zn).D.M,t(ki.D.uc),Oi=ki.yb;Oi<ki.Hb;++Oi){Ra=Oi,Ds=ga;var ts=(Ei=(ma=ki).D).Nb;_s=ma.R;var Ei=Ei.wa[Ei.Y+Ra],To=ma.sa,Gs=ma.ta+16*ts*_s+16*Ra,Sr=Ei.dd,Nr=Ei.tc;if(Nr!=0)if(t(3<=Nr),ma.L==1)0<Ra&&$u(To,Gs,_s,Nr+4),Ei.La&&b0(To,Gs,_s,Nr),0<Ds&&Co(To,Gs,_s,Nr+4),Ei.La&&ou(To,Gs,_s,Nr);else{var Bi=ma.B,dl=ma.qa,Ac=ma.ra+8*ts*Bi+8*Ra,Wo=ma.Ha,ma=ma.Ia+8*ts*Bi+8*Ra;ts=Ei.ld,0<Ra&&(vr(To,Gs,_s,Nr+4,Sr,ts),as(dl,Ac,Wo,ma,Bi,Nr+4,Sr,ts)),Ei.La&&(da(To,Gs,_s,Nr,Sr,ts),ha(dl,Ac,Wo,ma,Bi,Nr,Sr,ts)),0<Ds&&(Wt(To,Gs,_s,Nr+4,Sr,ts),Er(dl,Ac,Wo,ma,Bi,Nr+4,Sr,ts)),Ei.La&&(ka(To,Gs,_s,Nr,Sr,ts),Li(dl,Ac,Wo,ma,Bi,Nr,Sr,ts))}}if(Zn.ia&&alert("todo:DitherRow"),Pn.put!=null){if(Oi=16*$i,$i=16*($i+1),pa?(Pn.y=Zn.sa,Pn.O=Zn.ta+Fi,Pn.f=Zn.qa,Pn.N=Zn.ra+ra,Pn.ea=Zn.Ha,Pn.W=Zn.Ia+ra):(Oi-=ni,Pn.y=Ba,Pn.O=so,Pn.f=os,Pn.N=$r,Pn.ea=fa,Pn.W=No),Aa||($i-=ni),$i>Pn.o&&($i=Pn.o),Pn.F=null,Pn.J=null,Zn.Fa!=null&&0<Zn.Fa.length&&Oi<$i&&(Pn.J=jn(Zn,Pn,Oi,$i-Oi),Pn.F=Zn.mb,Pn.F==null&&Pn.F.length==0)){Rs=Oe(Zn,3,"Could not decode alpha data.");break t}Oi<Pn.j&&(ni=Pn.j-Oi,Oi=Pn.j,t(!(1&ni)),Pn.O+=Zn.R*ni,Pn.N+=Zn.B*(ni>>1),Pn.W+=Zn.B*(ni>>1),Pn.F!=null&&(Pn.J+=Pn.width*ni)),Oi<$i&&(Pn.O+=Pn.v,Pn.N+=Pn.v>>1,Pn.W+=Pn.v>>1,Pn.F!=null&&(Pn.J+=Pn.v),Pn.ka=Oi-Pn.j,Pn.U=Pn.va-Pn.v,Pn.T=$i-Oi,Rs=Pn.put(Pn))}zr+1!=Zn.Ic||Aa||(r(Zn.sa,Zn.ta-_r,Ba,so+16*Zn.R,_r),r(Zn.qa,Zn.ra-qi,os,$r+8*Zn.B,qi),r(Zn.Ha,Zn.Ia-qi,fa,No+8*Zn.B,qi))}if(!Rs)return Oe(ui,6,"Output aborted.")}return 1})(Ke,ht)),ht.bc!=null&&ht.bc(ht),wt&=1}return wt?(Ke.cb=0,wt):0})(_,he)||(z=_.a)}}else z=_.a}z==0&&Re.Oa!=null&&Re.Oa.fd&&(z=Dh(Re.ba))}Re=z}Be=Re!=0?null:11>Be?je.f.RGBA.eb:je.f.kb.y}else Be=null;return Be};var Ng=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,te){for(var G="",V=0;V<4;V++)G+=String.fromCharCode(j[te++]);return G}function d(j,te){return j[te+0]|j[te+1]<<8}function f(j,te){return(j[te+0]|j[te+1]<<8|j[te+2]<<16)>>>0}function p(j,te){return(j[te+0]|j[te+1]<<8|j[te+2]<<16|j[te+3]<<24)>>>0}new l;var m=[0],w=[0],y=[],C=new l,T=e,k=(function(j,te){var G={},V=0,re=!1,ee=0,ie=0;if(G.frames=[],!(function(Q,Y){for(var X=0;X<4;X++)if(Q[Y+X]!="RIFF".charCodeAt(X))return!0;return!1})(j,te)){for(p(j,te+=4),te+=8;te<j.length;){var ue=c(j,te),le=p(j,te+=4);te+=4;var xe=le+(1&le);switch(ue){case"VP8 ":case"VP8L":G.frames[V]===void 0&&(G.frames[V]={}),(ce=G.frames[V]).src_off=re?ie:te-8,ce.src_size=ee+le+8,V++,re&&(re=!1,ee=0,ie=0);break;case"VP8X":(ce=G.header={}).feature_flags=j[te];var ge=te+4;ce.canvas_width=1+f(j,ge),ge+=3,ce.canvas_height=1+f(j,ge),ge+=3;break;case"ALPH":re=!0,ee=xe+8,ie=te-8;break;case"ANIM":(ce=G.header).bgcolor=p(j,te),ge=te+4,ce.loop_count=d(j,ge),ge+=2;break;case"ANMF":var fe,ce;(ce=G.frames[V]={}).offset_x=2*f(j,te),te+=3,ce.offset_y=2*f(j,te),te+=3,ce.width=1+f(j,te),te+=3,ce.height=1+f(j,te),te+=3,ce.duration=f(j,te),te+=3,fe=j[te++],ce.dispose=1&fe,ce.blend=fe>>1&1}ue!="ANMF"&&(te+=xe)}return G}})(T,0);k.response=T,k.rgbaoutput=!0,k.dataurl=!1;var R=k.header?k.header:null,P=k.frames?k.frames:null;if(R){R.loop_counter=R.loop_count,m=[R.canvas_height],w=[R.canvas_width];for(var U=0;U<P.length&&P[U].blend!=0;U++);}var O=P[0],L=C.WebPDecodeRGBA(T,O.src_off,O.src_size,w,m);O.rgba=L,O.imgwidth=w[0],O.imgheight=m[0];for(var K=0;K<w[0]*m[0]*4;K++)y[K]=L[K];return this.width=w,this.height=m,this.data=y,this}(function(e){var t,n,r,i,s,a,o,l,c,d=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new a,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new a,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=Q;Object.defineProperty(this,"pdf",{get:function(){return Y}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Fe){X=!!Fe}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Fe){ne=!!Fe}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Fe){isNaN(Fe)||(oe=Fe)}});var Ce=0;Object.defineProperty(this,"posY",{get:function(){return Ce},set:function(Fe){isNaN(Fe)||(Ce=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Fe){var Nt;typeof Fe=="number"?Nt=[Fe,Fe,Fe,Fe]:((Nt=new Array(4))[0]=Fe[0],Nt[1]=Fe.length>=2?Fe[1]:Nt[0],Nt[2]=Fe.length>=3?Fe[2]:Nt[0],Nt[3]=Fe.length>=4?Fe[3]:Nt[1]),c.margin=Nt}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(Fe){ke=Fe}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Fe){Ne=Fe}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(Fe){Ue=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Fe){Fe instanceof d&&(c=Fe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Fe){c.path=Fe}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(Fe){Ye=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var Nt;Nt=p(Fe),this.ctx.fillStyle=Nt.style,this.ctx.isFillTransparent=Nt.a===0,this.ctx.fillOpacity=Nt.a,this.pdf.setFillColor(Nt.r,Nt.g,Nt.b,{a:Nt.a}),this.pdf.setTextColor(Nt.r,Nt.g,Nt.b,{a:Nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var Nt=p(Fe);this.ctx.strokeStyle=Nt.style,this.ctx.isStrokeTransparent=Nt.a===0,this.ctx.strokeOpacity=Nt.a,Nt.a===0?this.pdf.setDrawColor(255,255,255):(Nt.a,this.pdf.setDrawColor(Nt.r,Nt.g,Nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var ve=null,gt=null,yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return yt},set:function(Fe){ve=null,gt=null,yt=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var Nt;if(this.ctx.font=Fe,(Nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Fe))!==null){var nt=Nt[1];Nt[2];var Ct=Nt[3],lt=Nt[4];Nt[5];var Qt=Nt[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(lt)[2];lt=Math.floor(ot==="px"?parseFloat(lt)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(lt)*this.pdf.getFontSize():parseFloat(lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(lt);var An=(function(rn){var br,Tn,ut=[],yn=rn.trim();if(yn==="")return uF;if(yn in _H)return[_H[yn]];for(;yn!=="";){switch(Tn=null,br=(yn=PH(yn)).charAt(0)){case'"':case"'":Tn=YBe(yn.substring(1),br);break;default:Tn=XBe(yn)}if(Tn===null||(ut.push(Tn[0]),(yn=PH(Tn[1]))!==""&&yn.charAt(0)!==","))return uF;yn=yn.replace(/^,/,"")}return ut})(Qt);if(this.fontFaces){var bn=(function(rn,br){var Tn=rn.getFontList(),ut=JSON.stringify(Tn);if(ve===null||gt!==ut){var yn=(function(un){var cn=[];return Object.keys(un).forEach(function(or){un[or].forEach(function(zn){var Kn=null;switch(zn){case"bold":Kn={family:or,weight:"bold"};break;case"italic":Kn={family:or,style:"italic"};break;case"bolditalic":Kn={family:or,weight:"bold",style:"italic"};break;case"":case"normal":Kn={family:or}}Kn!==null&&(Kn.ref={name:or,style:zn},cn.push(Kn))})}),cn})(Tn);ve=(function(un){for(var cn={},or=0;or<un.length;++or){var zn=cF(un[or]),Kn=zn.family,Qn=zn.stretch,Hn=zn.style,kn=zn.weight;cn[Kn]=cn[Kn]||{},cn[Kn][Qn]=cn[Kn][Qn]||{},cn[Kn][Qn][Hn]=cn[Kn][Qn][Hn]||{},cn[Kn][Qn][Hn][kn]=zn}return cn})(yn.concat(br)),gt=ut}return ve})(this.pdf,this.fontFaces),Cn=An.map(function(rn){return{family:rn,stretch:"normal",weight:Ct,style:nt}}),Vn=(function(rn,br,Tn){for(var ut=(Tn=Tn||{}).defaultFontFamily||"times",yn=Object.assign({},$Be,Tn.genericFontFamilies||{}),un=null,cn=null,or=0;or<br.length;++or)if(yn[(un=cF(br[or])).family]&&(un.family=yn[un.family]),rn.hasOwnProperty(un.family)){cn=rn[un.family];break}if(!(cn=cn||rn[ut]))throw new Error("Could not find a font-family for the rule '"+DH(un)+"' and default family '"+ut+"'.");if(cn=(function(zn,Kn){if(Kn[zn])return Kn[zn];var Qn=tB[zn],Hn=Qn<=tB.normal?-1:1,kn=RH(Kn,OZ,Qn,Hn);if(!kn)throw new Error("Could not find a matching font-stretch value for "+zn);return kn})(un.stretch,cn),cn=(function(zn,Kn){if(Kn[zn])return Kn[zn];for(var Qn=LZ[zn],Hn=0;Hn<Qn.length;++Hn)if(Kn[Qn[Hn]])return Kn[Qn[Hn]];throw new Error("Could not find a matching font-style for "+zn)})(un.style,cn),!(cn=(function(zn,Kn){if(Kn[zn])return Kn[zn];if(zn===400&&Kn[500])return Kn[500];if(zn===500&&Kn[400])return Kn[400];var Qn=qBe[zn],Hn=RH(Kn,jZ,Qn,zn<400?-1:1);if(!Hn)throw new Error("Could not find a matching font-weight for value "+zn);return Hn})(un.weight,cn)))throw new Error("Failed to resolve a font for the rule '"+DH(un)+"'.");return cn})(bn,Cn);this.pdf.setFont(Vn.ref.name,Vn.ref.style)}else{var Sn="";(Ct==="bold"||parseInt(Ct,10)>=700||nt==="bold")&&(Sn="bold"),nt==="italic"&&(Sn+="italic"),Sn.length===0&&(Sn="normal");for(var tr="",xn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ht=0;Ht<An.length;Ht++){if(this.pdf.internal.getFont(An[Ht],Sn,{noFallback:!0,disableWarning:!0})!==void 0){tr=An[Ht];break}if(Sn==="bolditalic"&&this.pdf.internal.getFont(An[Ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tr=An[Ht],Sn="bold";else if(this.pdf.internal.getFont(An[Ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tr=An[Ht],Sn="normal";break}}if(tr===""){for(var hn=0;hn<An.length;hn++)if(xn[An[hn]]){tr=xn[An[hn]];break}}tr=tr===""?"Times":tr,this.pdf.setFont(tr,Sn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};f.prototype.setLineDash=function(Q){this.lineDash=Q},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){P.call(this,"fill",!1)},f.prototype.stroke=function(){P.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(Q,Y){if(isNaN(Q)||isNaN(Y))throw ys.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(Q,Y));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(Q,Y)},f.prototype.closePath=function(){var Q=new a(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&ss(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){Q=new a(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(Q.x,Q.y)},f.prototype.lineTo=function(Q,Y){if(isNaN(Q)||isNaN(Y))throw ys.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(Q,Y));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},f.prototype.quadraticCurveTo=function(Q,Y,X,ne){if(isNaN(X)||isNaN(ne)||isNaN(Q)||isNaN(Y))throw ys.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new a(X,ne)),Ce=this.ctx.transform.applyToPoint(new a(Q,Y));this.path.push({type:"qct",x1:Ce.x,y1:Ce.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},f.prototype.bezierCurveTo=function(Q,Y,X,ne,oe,Ce){if(isNaN(oe)||isNaN(Ce)||isNaN(Q)||isNaN(Y)||isNaN(X)||isNaN(ne))throw ys.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new a(oe,Ce)),Ne=this.ctx.transform.applyToPoint(new a(Q,Y)),Ue=this.ctx.transform.applyToPoint(new a(X,ne));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Ue.x,y2:Ue.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new a(ke.x,ke.y)},f.prototype.arc=function(Q,Y,X,ne,oe,Ce){if(isNaN(Q)||isNaN(Y)||isNaN(X)||isNaN(ne)||isNaN(oe))throw ys.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ce=!!Ce,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new a(Q,Y));Q=ke.x,Y=ke.y;var Ne=this.ctx.transform.applyToPoint(new a(0,X)),Ue=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(Ne.x-Ue.x,2)+Math.pow(Ne.y-Ue.y,2))}Math.abs(oe-ne)>=2*Math.PI&&(ne=0,oe=2*Math.PI),this.path.push({type:"arc",x:Q,y:Y,radius:X,startAngle:ne,endAngle:oe,counterclockwise:Ce})},f.prototype.arcTo=function(Q,Y,X,ne,oe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(Q,Y,X,ne){if(isNaN(Q)||isNaN(Y)||isNaN(X)||isNaN(ne))throw ys.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,Y),this.lineTo(Q+X,Y),this.lineTo(Q+X,Y+ne),this.lineTo(Q,Y+ne),this.lineTo(Q,Y),this.lineTo(Q+X,Y),this.lineTo(Q,Y)},f.prototype.fillRect=function(Q,Y,X,ne){if(isNaN(Q)||isNaN(Y)||isNaN(X)||isNaN(ne))throw ys.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,Y,X,ne),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},f.prototype.strokeRect=function(Q,Y,X,ne){if(isNaN(Q)||isNaN(Y)||isNaN(X)||isNaN(ne))throw ys.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(Q,Y,X,ne),this.stroke())},f.prototype.clearRect=function(Q,Y,X,ne){if(isNaN(Q)||isNaN(Y)||isNaN(X)||isNaN(ne))throw ys.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,Y,X,ne))},f.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(Q){var Y,X,ne,oe;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))Y=0,X=0,ne=0,oe=0;else{var Ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(Ce!==null)Y=parseInt(Ce[1]),X=parseInt(Ce[2]),ne=parseInt(Ce[3]),oe=1;else if((Ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)Y=parseInt(Ce[1]),X=parseInt(Ce[2]),ne=parseInt(Ce[3]),oe=parseFloat(Ce[4]);else{if(oe=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var ke=new kZ(Q);Q=ke.ok?ke.toHex():"#000000"}Q.length===4?(Y=Q.substring(1,2),Y+=Y,X=Q.substring(2,3),X+=X,ne=Q.substring(3,4),ne+=ne):(Y=Q.substring(1,3),X=Q.substring(3,5),ne=Q.substring(5,7)),Y=parseInt(Y,16),X=parseInt(X,16),ne=parseInt(ne,16)}}return{r:Y,g:X,b:ne,a:oe,style:Q}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(Q,Y,X,ne){if(isNaN(Y)||isNaN(X)||typeof Q!="string")throw ys.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var oe=xe(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;V.call(this,{text:Q,x:Y,y:X,scale:Ce,angle:oe,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(Q,Y,X,ne){if(isNaN(Y)||isNaN(X)||typeof Q!="string")throw ys.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ne=isNaN(ne)?void 0:ne;var oe=xe(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;V.call(this,{text:Q,x:Y,y:X,scale:Ce,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(Q){if(typeof Q!="string")throw ys.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,X=this.pdf.internal.scaleFactor,ne=Y.internal.getFontSize(),oe=Y.getStringUnitWidth(Q)*ne/Y.internal.scaleFactor;return new function(Ce){var ke=(Ce=Ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:oe*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(Q,Y){if(isNaN(Q)||isNaN(Y))throw ys.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(Q,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(Q){if(isNaN(Q))throw ys.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(Q,Y){if(isNaN(Q)||isNaN(Y))throw ys.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,Q,Y);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(Q,Y,X,ne,oe,Ce){if(isNaN(Q)||isNaN(Y)||isNaN(X)||isNaN(ne)||isNaN(oe)||isNaN(Ce))throw ys.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new l(Q,Y,X,ne,oe,Ce);this.ctx.transform=this.ctx.transform.multiply(ke)},f.prototype.setTransform=function(Q,Y,X,ne,oe,Ce){Q=isNaN(Q)?1:Q,Y=isNaN(Y)?0:Y,X=isNaN(X)?0:X,ne=isNaN(ne)?1:ne,oe=isNaN(oe)?0:oe,Ce=isNaN(Ce)?0:Ce,this.ctx.transform=new l(Q,Y,X,ne,oe,Ce)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(Q,Y,X,ne,oe,Ce,ke,Ne,Ue){var Ye=this.pdf.getImageProperties(Q),ve=1,gt=1,yt=1,Fe=1;ne!==void 0&&Ne!==void 0&&(yt=Ne/ne,Fe=Ue/oe,ve=Ye.width/ne*Ne/ne,gt=Ye.height/oe*Ue/oe),Ce===void 0&&(Ce=Y,ke=X,Y=0,X=0),ne!==void 0&&Ne===void 0&&(Ne=ne,Ue=oe),ne===void 0&&Ne===void 0&&(Ne=Ye.width,Ue=Ye.height);var Nt=this.ctx.transform.decompose(),nt=xe(Nt.rotate.shx),Ct=new l,lt=(Ct=(Ct=(Ct=Ct.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new o(Ce-Y*yt,ke-X*Fe,ne*ve,oe*gt));if(this.autoPaging){for(var Qt,ot=C.call(this,lt),An=[],bn=0;bn<ot.length;bn+=1)An.indexOf(ot[bn])===-1&&An.push(ot[bn]);R(An);for(var Cn=An[0],Vn=An[An.length-1],Sn=Cn;Sn<Vn+1;Sn++){this.pdf.setPage(Sn);var tr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xn=Sn===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rn=Sn===1?0:Ht+(Sn-2)*hn;if(this.ctx.clip_path.length!==0){var br=this.path;Qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Qt,this.posX+this.margin[3],-rn+xn+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=br}var Tn=JSON.parse(JSON.stringify(lt));Tn=k([Tn],this.posX+this.margin[3],-rn+xn+this.ctx.prevPageLastElemOffset)[0];var ut=(Sn>Cn||Sn<Vn)&&y.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tr,hn,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Tn.x,Tn.y,Tn.w,Tn.h,null,null,nt),ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Q,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,nt)};var C=function(Q,Y,X){var ne=[];Y=Y||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ne.push(Math.floor((Q.y+oe)/X)+1);break;case"arc":ne.push(Math.floor((Q.y+oe-Q.radius)/X)+1),ne.push(Math.floor((Q.y+oe+Q.radius)/X)+1);break;case"qct":var Ce=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ne.push(Math.floor((Ce.y+oe)/X)+1),ne.push(Math.floor((Ce.y+Ce.h+oe)/X)+1);break;case"bct":var ke=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ne.push(Math.floor((ke.y+oe)/X)+1),ne.push(Math.floor((ke.y+ke.h+oe)/X)+1);break;case"rect":ne.push(Math.floor((Q.y+oe)/X)+1),ne.push(Math.floor((Q.y+Q.h+oe)/X)+1)}for(var Ne=0;Ne<ne.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ne];)T.call(this);return ne},T=function(){var Q=this.fillStyle,Y=this.strokeStyle,X=this.font,ne=this.lineCap,oe=this.lineWidth,Ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=Y,this.font=X,this.lineCap=ne,this.lineWidth=oe,this.lineJoin=Ce},k=function(Q,Y,X){for(var ne=0;ne<Q.length;ne++)switch(Q[ne].type){case"bct":Q[ne].x2+=Y,Q[ne].y2+=X;case"qct":Q[ne].x1+=Y,Q[ne].y1+=X;default:Q[ne].x+=Y,Q[ne].y+=X}return Q},R=function(Q){return Q.sort(function(Y,X){return Y-X})},P=function(Q,Y){var X=this.fillStyle,ne=this.strokeStyle,oe=this.lineCap,Ce=this.lineWidth,ke=Math.abs(Ce*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var Ue,Ye,ve=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),yt=[],Fe=0;Fe<gt.length;Fe++)if(gt[Fe].x!==void 0)for(var Nt=C.call(this,gt[Fe]),nt=0;nt<Nt.length;nt+=1)yt.indexOf(Nt[nt])===-1&&yt.push(Nt[nt]);for(var Ct=0;Ct<yt.length;Ct++)for(;this.pdf.internal.getNumberOfPages()<yt[Ct];)T.call(this);R(yt);for(var lt=yt[0],Qt=yt[yt.length-1],ot=lt;ot<Qt+1;ot++){this.pdf.setPage(ot),this.fillStyle=X,this.strokeStyle=ne,this.lineCap=oe,this.lineWidth=ke,this.lineJoin=Ne;var An=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bn=ot===1?this.posY+this.margin[0]:this.margin[0],Cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Sn=ot===1?0:Cn+(ot-2)*Vn;if(this.ctx.clip_path.length!==0){var tr=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ue,this.posX+this.margin[3],-Sn+bn+this.ctx.prevPageLastElemOffset),U.call(this,Q,!0),this.path=tr}if(Ye=JSON.parse(JSON.stringify(ve)),this.path=k(Ye,this.posX+this.margin[3],-Sn+bn+this.ctx.prevPageLastElemOffset),Y===!1||ot===0){var xn=(ot>lt||ot<Qt)&&y.call(this);xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],An,Vn,null).clip().discardPath()),U.call(this,Q,Y),xn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}this.path=ve}else this.lineWidth=ke,U.call(this,Q,Y),this.lineWidth=Ce},U=function(Q,Y){if((Q!=="stroke"||Y||!w.call(this))&&(Q==="stroke"||Y||!m.call(this))){for(var X,ne,oe=[],Ce=this.path,ke=0;ke<Ce.length;ke++){var Ne=Ce[ke];switch(Ne.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Ue=oe.length;if(Ce[ke-1]&&!isNaN(Ce[ke-1].x)&&(X=[Ne.x-Ce[ke-1].x,Ne.y-Ce[ke-1].y],Ue>0)){for(;Ue>=0;Ue--)if(oe[Ue-1].close!==!0&&oe[Ue-1].begin!==!0){oe[Ue-1].deltas.push(X),oe[Ue-1].abs.push(Ne);break}}break;case"bct":X=[Ne.x1-Ce[ke-1].x,Ne.y1-Ce[ke-1].y,Ne.x2-Ce[ke-1].x,Ne.y2-Ce[ke-1].y,Ne.x-Ce[ke-1].x,Ne.y-Ce[ke-1].y],oe[oe.length-1].deltas.push(X);break;case"qct":var Ye=Ce[ke-1].x+2/3*(Ne.x1-Ce[ke-1].x),ve=Ce[ke-1].y+2/3*(Ne.y1-Ce[ke-1].y),gt=Ne.x+2/3*(Ne.x1-Ne.x),yt=Ne.y+2/3*(Ne.y1-Ne.y),Fe=Ne.x,Nt=Ne.y;X=[Ye-Ce[ke-1].x,ve-Ce[ke-1].y,gt-Ce[ke-1].x,yt-Ce[ke-1].y,Fe-Ce[ke-1].x,Nt-Ce[ke-1].y],oe[oe.length-1].deltas.push(X);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Ne)}}ne=Y?null:Q==="stroke"?"stroke":"fill";for(var nt=!1,Ct=0;Ct<oe.length;Ct++)if(oe[Ct].arc)for(var lt=oe[Ct].abs,Qt=0;Qt<lt.length;Qt++){var ot=lt[Qt];ot.type==="arc"?K.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,Y,!nt):re.call(this,ot.x,ot.y),nt=!0}else if(oe[Ct].close===!0)this.pdf.internal.out("h"),nt=!1;else if(oe[Ct].begin!==!0){var An=oe[Ct].start.x,bn=oe[Ct].start.y;ee.call(this,oe[Ct].deltas,An,bn),nt=!0}ne&&j.call(this,ne),Y&&te.call(this)}},O=function(Q){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-X;case"top":return Q+Y-X;case"hanging":return Q+Y-2*X;case"middle":return Q+Y/2-X;default:return Q}},L=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(Y,X){this.colorStops.push([Y,X])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(Q,Y,X,ne,oe,Ce,ke,Ne,Ue){for(var Ye=ue.call(this,X,ne,oe,Ce),ve=0;ve<Ye.length;ve++){var gt=Ye[ve];ve===0&&(Ue?G.call(this,gt.x1+Q,gt.y1+Y):re.call(this,gt.x1+Q,gt.y1+Y)),ie.call(this,Q,Y,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}Ne?te.call(this):j.call(this,ke)},j=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},G=function(Q,Y){this.pdf.internal.out(n(Q)+" "+r(Y)+" m")},V=function(Q){var Y;switch(Q.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var X,ne,oe,Ce=this.pdf.getTextDimensions(Q.text),ke=O.call(this,Q.y),Ne=L.call(this,ke)-Ce.h,Ue=this.ctx.transform.applyToPoint(new a(Q.x,ke));if(this.autoPaging){var Ye=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale);for(var gt=this.ctx.transform.applyToRectangle(new o(Q.x,ke,Ce.w,Ce.h)),yt=ve.applyToRectangle(new o(Q.x,Ne,Ce.w,Ce.h)),Fe=C.call(this,yt),Nt=[],nt=0;nt<Fe.length;nt+=1)Nt.indexOf(Fe[nt])===-1&&Nt.push(Fe[nt]);R(Nt);for(var Ct=Nt[0],lt=Nt[Nt.length-1],Qt=Ct;Qt<lt+1;Qt++){this.pdf.setPage(Qt);var ot=Qt===1?this.posY+this.margin[0]:this.margin[0],An=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bn=this.pdf.internal.pageSize.height-this.margin[2],Cn=bn-this.margin[0],Vn=this.pdf.internal.pageSize.width-this.margin[1],Sn=Vn-this.margin[3],tr=Qt===1?0:An+(Qt-2)*Cn;if(this.ctx.clip_path.length!==0){var xn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(X,this.posX+this.margin[3],-1*tr+ot),U.call(this,"fill",!0),this.path=xn}var Ht=k([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-tr+ot+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*Q.scale),oe=this.lineWidth,this.lineWidth=oe*Q.scale);var hn=this.autoPaging!=="text";if(hn||Ht.y+Ht.h<=bn){if(hn||Ht.y>=ot&&Ht.x<=Vn){var rn=hn?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Vn-Ht.x)[0],br=k([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-tr+ot+this.ctx.prevPageLastElemOffset)[0],Tn=hn&&(Qt>Ct||Qt<lt)&&y.call(this);Tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sn,Cn,null).clip().discardPath()),this.pdf.text(rn,br.x,br.y,{angle:Q.angle,align:Y,renderingMode:Q.renderingMode}),Tn&&this.pdf.restoreGraphicsState()}}else Ht.y<bn&&(this.ctx.prevPageLastElemOffset+=bn-Ht.y);Q.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=oe)}}else Q.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*Q.scale),oe=this.lineWidth,this.lineWidth=oe*Q.scale),this.pdf.text(Q.text,Ue.x+this.posX,Ue.y+this.posY,{angle:Q.angle,align:Y,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=oe)},re=function(Q,Y,X,ne){X=X||0,ne=ne||0,this.pdf.internal.out(n(Q+X)+" "+r(Y+ne)+" l")},ee=function(Q,Y,X){return this.pdf.lines(Q,Y,X,null,null)},ie=function(Q,Y,X,ne,oe,Ce,ke,Ne){this.pdf.internal.out([t(i(X+Q)),t(s(ne+Y)),t(i(oe+Q)),t(s(Ce+Y)),t(i(ke+Q)),t(s(Ne+Y)),"c"].join(" "))},ue=function(Q,Y,X,ne){for(var oe=2*Math.PI,Ce=Math.PI/2;Y>X;)Y-=oe;var ke=Math.abs(X-Y);ke<oe&&ne&&(ke=oe-ke);for(var Ne=[],Ue=ne?-1:1,Ye=Y;ke>1e-5;){var ve=Ye+Ue*Math.min(ke,Ce);Ne.push(le.call(this,Q,Ye,ve)),ke-=Math.abs(ve-Ye),Ye=ve}return Ne},le=function(Q,Y,X){var ne=(X-Y)/2,oe=Q*Math.cos(ne),Ce=Q*Math.sin(ne),ke=oe,Ne=-Ce,Ue=ke*ke+Ne*Ne,Ye=Ue+ke*oe+Ne*Ce,ve=4/3*(Math.sqrt(2*Ue*Ye)-Ye)/(ke*Ce-Ne*oe),gt=ke-ve*Ne,yt=Ne+ve*ke,Fe=gt,Nt=-yt,nt=ne+Y,Ct=Math.cos(nt),lt=Math.sin(nt);return{x1:Q*Math.cos(Y),y1:Q*Math.sin(Y),x2:gt*Ct-yt*lt,y2:gt*lt+yt*Ct,x3:Fe*Ct-Nt*lt,y3:Fe*lt+Nt*Ct,x4:Q*Math.cos(X),y4:Q*Math.sin(X)}},xe=function(Q){return 180*Q/Math.PI},ge=function(Q,Y,X,ne,oe,Ce){var ke=Q+.5*(X-Q),Ne=Y+.5*(ne-Y),Ue=oe+.5*(X-oe),Ye=Ce+.5*(ne-Ce),ve=Math.min(Q,oe,ke,Ue),gt=Math.max(Q,oe,ke,Ue),yt=Math.min(Y,Ce,Ne,Ye),Fe=Math.max(Y,Ce,Ne,Ye);return new o(ve,yt,gt-ve,Fe-yt)},fe=function(Q,Y,X,ne,oe,Ce,ke,Ne){var Ue,Ye,ve,gt,yt,Fe,Nt,nt,Ct,lt,Qt,ot,An,bn,Cn=X-Q,Vn=ne-Y,Sn=oe-X,tr=Ce-ne,xn=ke-oe,Ht=Ne-Ce;for(Ye=0;Ye<41;Ye++)Ct=(Nt=(ve=Q+(Ue=Ye/40)*Cn)+Ue*((yt=X+Ue*Sn)-ve))+Ue*(yt+Ue*(oe+Ue*xn-yt)-Nt),lt=(nt=(gt=Y+Ue*Vn)+Ue*((Fe=ne+Ue*tr)-gt))+Ue*(Fe+Ue*(Ce+Ue*Ht-Fe)-nt),Ye==0?(Qt=Ct,ot=lt,An=Ct,bn=lt):(Qt=Math.min(Qt,Ct),ot=Math.min(ot,lt),An=Math.max(An,Ct),bn=Math.max(bn,lt));return new o(Math.round(Qt),Math.round(ot),Math.round(An-Qt),Math.round(bn-ot))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,Y,X=(Q=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:Y}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(wr.API),(function(e){var t=function(a){var o,l,c,d,f,p,m,w,y,C;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(C=f%85))/85)-(y=f%85))/85)-(w=f%85))/85)-(m=f%85))/85)%85,l.push(p+33,m+33,w+33,y+33,C+33)):l.push(122);return(function(T,k){for(var R=k;R>0;R--)T.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,d,f,p=String,m="length",w=255,y="charCodeAt",C="slice",T="replace";for(a[C](-2),a=a[C](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),c=[],d=0,f=(a+=o="uuuuu"[C](a[m]%5||5))[m];f>d;d+=5)l=52200625*(a[y](d)-33)+614125*(a[y](d+1)-33)+7225*(a[y](d+2)-33)+85*(a[y](d+3)-33)+(a[y](d+4)-33),c.push(w&l>>24,w&l>>16,w&l>>8,w&l);return(function(k,R){for(var P=R;P>0;P--)k.pop()})(c,o[m]),p.fromCharCode.apply(p,c)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=qk(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})(wr.API),(function(e){e.loadFile=function(t,n,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,d){var f=new XMLHttpRequest,p=0,m=function(w){var y=w.length,C=[],T=String.fromCharCode;for(p=0;p<y;p+=1)C.push(T(255&w.charCodeAt(p)));return C.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return m(f.responseText)})(i,s,a)}catch{}return o})(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(wr.API),(function(e){function t(){return(Gr.html2canvas?Promise.resolve(Gr.html2canvas):XC(()=>Promise.resolve().then(()=>I3e),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Gr.DOMPurify?Promise.resolve(Gr.DOMPurify):XC(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=ss(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var w=d[m],y=w.src.find(function(C){return C.format==="truetype"});y&&c.addFont(y.url,w.ref.name,w.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||wr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,f).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),p=c.call(f,o,l);return a.convert(p,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,wr.getPageSize=function(o,l,c){if(ss(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var w,y=0,C=0;if(m.hasOwnProperty(p))y=m[p][1]/f,C=m[p][0]/f;else try{y=c[1],C=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",C>y&&(w=C,C=y,y=w);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>C&&(w=C,C=y,y=w)}return{width:C,height:y,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(cF):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(wr.API),wr.API.addJS=function(e){return LH=e,this.internal.events.subscribe("postPutResources",function(){xC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),MH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xC!==void 0&&MH!==void 0&&this.internal.out("/Names <</JavaScript "+xC+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var f=n.internal.newObject();d.push(f);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(wr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=(function(f){for(var p,m=256*f.charCodeAt(4)+f.charCodeAt(5),w=f.length,y={width:0,height:0,numcomponents:1},C=4;C<w;C+=2){if(C+=m,t.indexOf(f.charCodeAt(C+1))!==-1){p=256*f.charCodeAt(C+5)+f.charCodeAt(C+6),y={width:256*f.charCodeAt(C+7)+f.charCodeAt(C+8),height:p,numcomponents:f.charCodeAt(C+9)};break}m=256*f.charCodeAt(C+2)+f.charCodeAt(C+3)}return y})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}})(wr.API),wr.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=DBe(e,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;i=c&&l===1?(function(K){for(var j=K.width,te=K.height,G=K.data,V=K.palette,re=K.depth,ee=!1,ie=[],ue=[],le=void 0,xe=!1,ge=0,fe=0;fe<V.length;fe++){var ce=H9(V[fe],4),Q=ce[0],Y=ce[1],X=ce[2],ne=ce[3];ie.push(Q,Y,X),ne!=null&&(ne===0?(ge++,ue.length<1&&ue.push(fe)):ne<255&&(xe=!0))}if(xe||ge>1){ee=!0,ue=void 0;var oe=j*te;le=new Uint8Array(oe);for(var Ce=new DataView(G.buffer),ke=0;ke<oe;ke++){var Ne=dF(Ce,ke,re),Ue=H9(V[Ne],4)[3];le[ke]=Ue}}else ge===0&&(ue=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:G,alphaBytes:le,needSMask:ee,palette:ie,mask:ue}})(s):l===2||l===4?(function(K){for(var j=K.data,te=K.width,G=K.height,V=K.channels,re=K.depth,ee=V===2?"DeviceGray":"DeviceRGB",ie=V-1,ue=te*G,le=ie,xe=ue*le,ge=1*ue,fe=Math.ceil(xe*re/8),ce=Math.ceil(ge*re/8),Q=new Uint8Array(fe),Y=new Uint8Array(ce),X=new DataView(j.buffer),ne=new DataView(Q.buffer),oe=new DataView(Y.buffer),Ce=!1,ke=0;ke<ue;ke++){for(var Ne=ke*V,Ue=0;Ue<le;Ue++)WH(ne,dF(X,Ne+Ue,re),ke*le+Ue,re);var Ye=dF(X,Ne+le,re);Ye<(1<<re)-1&&(Ce=!0),WH(oe,Ye,1*ke,re)}return{colorSpace:ee,colorsPerPixel:ie,sMaskBitsPerComponent:Ce?re:void 0,colorBytes:Q,alphaBytes:Y,needSMask:Ce}})(s):(function(K){var j=K.data,te=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:te,colorsPerPixel:te==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?(function(G){for(var V=G.length,re=new Uint8Array(2*V),ee=new DataView(re.buffer,re.byteOffset,re.byteLength),ie=0;ie<V;ie++)ee.setUint16(2*ie,G[ie],!1);return re})(j):j,needSMask:!1}})(s);var f,p,m,w=i,y=w.colorSpace,C=w.colorsPerPixel,T=w.sMaskBitsPerComponent,k=w.colorBytes,R=w.alphaBytes,P=w.needSMask,U=w.palette,O=w.mask,L=null;return r!==wr.API.image_compression.NONE&&typeof qk=="function"?(L=(function(K){var j;switch(K){case wr.API.image_compression.FAST:j=11;break;case wr.API.image_compression.MEDIUM:j=13;break;case wr.API.image_compression.SLOW:j=14;break;default:j=12}return j})(r),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(L," /Colors ").concat(C," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=HH(k,Math.ceil(a*C*d/8),C,d,r),P&&(m=HH(R,Math.ceil(a*T/8),1,T,r))):(f=void 0,p=void 0,e=k,P&&(m=R)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:e,index:t,filter:f,decodeParameters:p,transparency:O,palette:U,sMask:m,predictor:L,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:T,colorSpace:y}}},(function(e){e.processGIF89A=function(t,n,r,i){var s=new tRe(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new hF(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A})(wr.API),sd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ys.log("bit decode error:"+n)}},sd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},sd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},sd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},sd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=e}},sd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},sd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},sd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},sd.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var s=new sd(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new hF(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}})(wr.API),qH.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var s=new qH(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new hF(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}})(wr.API),wr.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=r[c],f=r[c+1],p=r[c+2],m=r[c+3];s[o++]=d,s[o++]=f,s[o++]=p,a[l++]=m}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sm=wr.API,vC=sm.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=t.doKerning!==!1,p=0,m=e.length,w=0,y=o[0]||l,C=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(p=f&&ss(c[r])==="object"&&!isNaN(parseInt(c[r][w],10))?c[r][w]/d:0,C.push((o[r]||y)/l+p)),w=r;return C},OH=sm.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return sm.processArabic&&(e=sm.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:vC.apply(this,arguments).reduce(function(s,a){return s+a},0)},jH=function(e,t,n,r){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<n;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>r&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},UH=function(e,t,n){n||(n={});var r,i,s,a,o,l,c,d=[],f=[d],p=n.textIndent||0,m=0,w=0,y=e.split(" "),C=vC.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var T=Array(l).join(" "),k=[];y.map(function(P){(P=P.split(/\s*\n/)).length>1?k=k.concat(P.map(function(U,O){return(O&&U.length?`
`:"")+U})):k.push(P[0])}),y=k,l=OH.apply(this,[T,n])}for(s=0,a=y.length;s<a;s++){var R=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),R=1),p+m+(w=(i=vC.apply(this,[r,n])).reduce(function(P,U){return P+U},0))>t||R){if(w>t){for(o=jH.apply(this,[r,i,t-(p+m),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);w=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(P,U){return P+U},0)}else d=[r];f.push(d),p=w+l,m=C}else d.push(r),p+=m+w,m=C}return c=l?function(P,U){return(U?T:"")+P.join(" ")}:function(P){return P.join(" ")},f.map(c)},sm.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(UH.apply(this,[r[o],a,s]));return c},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var m,w,y,C,T=["{"];for(var k in p){if(m=p[k],isNaN(parseInt(k,10))?w="'"+k+"'":(k=parseInt(k,10),w=(w=a(k).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof m=="number")m<0?(y=a(m).slice(3),C="-"):(y=a(m).slice(2),C=""),y=C+y.slice(0,-1)+i[y.slice(-1)];else{if(ss(m)!=="object")throw new Error("Don't know what to do with value type "+ss(m)+".");y=o(m)}T.push(w+y)}return T.push("}"),T.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,w,y,C,T={},k=1,R=T,P=[],U="",O="",L=p.length-1,K=1;K<L;K+=1)(C=p[K])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(C):C=="{"?(P.push([R,y]),R={},y=void 0):C=="}"?((w=P.pop())[0][w[1]]=R,y=void 0,R=w[0]):C=="-"?k=-1:y===void 0?r.hasOwnProperty(C)?(U+=r[C],y=parseInt(U,16)*k,k=1,U=""):U+=C:r.hasOwnProperty(C)?(O+=r[C],R[y]=parseInt(O,16)*k,k=1,y=void 0,O=""):O+=C;return T},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var m=p.font,w=f.Unicode[m.postScriptName];w&&(m.metadata.Unicode={},m.metadata.Unicode.widths=w.widths,m.metadata.Unicode.kerning=w.kerning);var y=d.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(wr.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(o2(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(wr),wr.API.addSvgAsImage=function(e,t,n,r,i,s,a,o){if(isNaN(t)||isNaN(n))throw ys.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ys.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Gr.canvg?Promise.resolve(Gr.canvg):XC(()=>import("./index.es-PzYevYL9.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,a,o)})},wr.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},wr.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,f=0;function p(w,y){var C,T=!1;for(C=0;C<w.length;C+=1)w[C]===y&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(f=0;f<m;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(ss(e)==="object"){for(i in e)if(s=e[i],p(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?y.push("/"+w+" /"+n[w].value):y.push("/"+w+" "+n[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(wr.API),(function(e){var t=e.API,n=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,p=s.length;f<p;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},r=function(s){var a,o,l,c,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(s).sort(function(m,w){return m-w})).length;f<p;f++)a=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",w=0;w<p.length;w++)m+=String.fromCharCode(p[w]);var y=c();d({data:m,addLength1:!0,objectId:y}),l("endobj");var C=c();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var T=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+fm(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var k=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+fm(o.fontName)),l("/FontDescriptor "+T+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+fm(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+k+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var w=c();d({data:p,addLength1:!0,objectId:w}),l("endobj");var y=c();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var C=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+fm(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var T=0;T<o.metadata.hmtx.widths.length;T++)o.metadata.hmtx.widths[T]=parseInt(o.metadata.hmtx.widths[T]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+fm(o.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,d=s.options||{},f=s.mutex||{},p=f.pdfEscape,m=f.activeFontKey,w=f.fonts,y=m,C="",T=0,k="",R=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:f};for(k=o,y=m,Array.isArray(o)&&(k=o[0]),T=0;T<k.length;T+=1)w[y].metadata.hasOwnProperty("cmap")&&(a=w[y].metadata.cmap.unicode.codeMap[k[T].charCodeAt(0)]),a||k[T].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?C+=k[T]:C+="";var P="";return parseInt(y.slice(1))<14||R==="WinAnsiEncoding"?P=p(C,y).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(P=n(C,w[y])),f.isHex=!0,{text:P,x:l,y:c,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(wr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(wr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,R=0;this.__bidiEngine__={};var P=function(G){var V=G.charCodeAt(),re=V>>8,ee=y[re];return ee!==void 0?f[256*ee+(255&V)]:re===252||re===253?"AL":T.test(re)?"L":re===8?"R":"N"},U=function(G){for(var V,re=0;re<G.length;re++){if((V=P(G.charAt(re)))==="L")return!1;if(V==="R")return!0}return!1},O=function(G,V,re,ee){var ie,ue,le,xe,ge=V[ee];switch(ge){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(ge="AN");break;case"AL":k=!0,ge="R";break;case"WS":case"BN":ge="N";break;case"CS":ee<1||ee+1>=V.length||(ie=re[ee-1])!=="EN"&&ie!=="AN"||(ue=V[ee+1])!=="EN"&&ue!=="AN"?ge="N":k&&(ue="AN"),ge=ue===ie?ue:"N";break;case"ES":ge=(ie=ee>0?re[ee-1]:"B")==="EN"&&ee+1<V.length&&V[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&re[ee-1]==="EN"){ge="EN";break}if(k){ge="N";break}for(le=ee+1,xe=V.length;le<xe&&V[le]==="ET";)le++;ge=le<xe&&V[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(xe=V.length,le=ee+1;le<xe&&V[le]==="NSM";)le++;if(le<xe){var fe=G[ee],ce=fe>=1425&&fe<=2303||fe===64286;if(ie=V[le],ce&&(ie==="R"||ie==="AL")){ge="R";break}}}ge=ee<1||(ie=V[ee-1])==="B"?"N":re[ee-1];break;case"B":k=!1,i=!0,ge=R;break;case"S":s=!0,ge="N"}return ge},L=function(G,V,re){var ee=G.split("");return re&&K(ee,re,{hiLevel:R}),ee.reverse(),V&&V.reverse(),ee.join("")},K=function(G,V,re){var ee,ie,ue,le,xe,ge=-1,fe=G.length,ce=0,Q=[],Y=R?m:p,X=[];for(k=!1,i=!1,s=!1,ie=0;ie<fe;ie++)X[ie]=P(G[ie]);for(ue=0;ue<fe;ue++){if(xe=ce,Q[ue]=O(G,X,Q,ue),ee=240&(ce=Y[xe][w[Q[ue]]]),ce&=15,V[ue]=le=Y[ce][5],ee>0)if(ee===16){for(ie=ge;ie<ue;ie++)V[ie]=1;ge=-1}else ge=-1;if(Y[ce][6])ge===-1&&(ge=ue);else if(ge>-1){for(ie=ge;ie<ue;ie++)V[ie]=le;ge=-1}X[ue]==="B"&&(V[ue]=0),re.hiLevel|=le}s&&(function(ne,oe,Ce){for(var ke=0;ke<Ce;ke++)if(ne[ke]==="S"){oe[ke]=R;for(var Ne=ke-1;Ne>=0&&ne[Ne]==="WS";Ne--)oe[Ne]=R}})(X,V,fe)},j=function(G,V,re,ee,ie){if(!(ie.hiLevel<G)){if(G===1&&R===1&&!i)return V.reverse(),void(re&&re.reverse());for(var ue,le,xe,ge,fe=V.length,ce=0;ce<fe;){if(ee[ce]>=G){for(xe=ce+1;xe<fe&&ee[xe]>=G;)xe++;for(ge=ce,le=xe-1;ge<le;ge++,le--)ue=V[ge],V[ge]=V[le],V[le]=ue,re&&(ue=re[ge],re[ge]=re[le],re[le]=ue);ce=xe}ce++}}},te=function(G,V,re){var ee=G.split(""),ie={hiLevel:R};return re||(re=[]),K(ee,re,ie),(function(ue,le,xe){if(xe.hiLevel!==0&&d)for(var ge,fe=0;fe<ue.length;fe++)le[fe]===1&&(ge=C.indexOf(ue[fe]))>=0&&(ue[fe]=C[ge+1])})(ee,re,ie),j(2,ee,V,re,ie),j(1,ee,V,re,ie),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(G,V,re){if((function(ie,ue){if(ue)for(var le=0;le<ie.length;le++)ue[le]=le;o===void 0&&(o=U(ie)),c===void 0&&(c=U(ie))})(G,V),a||!l||c)if(a&&l&&o^c)R=o?1:0,G=L(G,V,re);else if(!a&&l&&c)R=o?1:0,G=te(G,V,re),G=L(G,V);else if(!a||o||l||c){if(a&&!l&&o^c)G=L(G,V),o?(R=0,G=te(G,V,re)):(R=1,G=te(G,V,re),G=L(G,V));else if(a&&o&&!l&&c)R=1,G=te(G,V,re),G=L(G,V);else if(!a&&!l&&o^c){var ee=d;o?(R=1,G=te(G,V,re),R=0,d=!1,G=te(G,V,re),d=ee):(R=0,G=te(G,V,re),G=L(G,V),R=1,d=!1,G=te(G,V,re),d=ee,G=L(G,V))}}else R=0,G=te(G,V,re);else R=o?1:0,G=te(G,V,re);return G},this.__bidiEngine__.setOptions=function(G){G&&(a=G.isInputVisual,l=G.isOutputVisual,o=G.isInputRtl,c=G.isOutputRtl,d=G.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(wr),wr.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new i0(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new gRe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new nRe(this.contents),this.head=new iRe(this),this.name=new cRe(this),this.cmap=new HZ(this),this.toUnicode={},this.hhea=new sRe(this),this.maxp=new uRe(this),this.hmtx=new dRe(this),this.post=new oRe(this),this.os2=new aRe(this),this.loca=new pRe(this),this.glyf=new hRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var Fd,i0=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,a,o,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e})(),nRe=(function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,a,o,l,c,d,f,p,m,w,y;for(y in m=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(m)/l),a=Math.floor(f/l),d=16*m-f,(i=new i0).writeInt(this.scalarType),i.writeShort(m),i.writeShort(f),i.writeShort(a),i.writeShort(d),s=16*m,c=i.pos+s,o=null,w=[],n)for(p=n[y],i.writeString(y),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),w=w.concat(p),y==="head"&&(o=c),c+=p.length;c%4;)w.push(0),c++;return i.write(w),r=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,a;for(n=GZ.call(n);n.length%4;)n.push(0);for(s=new i0(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},t})(),rRe={}.hasOwnProperty,Bh=function(e,t){for(var n in t)rRe.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Fd=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var iRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new i0).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),$H=(function(){function e(t,n){var r,i,s,a,o,l,c,d,f,p,m,w,y,C,T,k,R;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,s=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(t.readUInt16());return U})(),t.pos+=2,y=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(t.readUInt16());return U})(),c=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(t.readUInt16());return U})(),d=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(t.readUInt16());return U})(),i=(this.length-t.pos+this.offset)/2,o=(function(){var P,U;for(U=[],l=P=0;0<=i?P<i:P>i;l=0<=i?++P:--P)U.push(t.readUInt16());return U})(),l=T=0,R=s.length;T<R;l=++T)for(C=s[l],r=k=w=y[l];w<=C?k<=C:k>=C;r=w<=C?++k:--k)d[l]===0?a=r+c[l]:(a=o[d[l]/2+(r-w)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}t.pos=f}return e.encode=function(t,n){var r,i,s,a,o,l,c,d,f,p,m,w,y,C,T,k,R,P,U,O,L,K,j,te,G,V,re,ee,ie,ue,le,xe,ge,fe,ce,Q,Y,X,ne,oe,Ce,ke,Ne,Ue,Ye,ve;switch(ee=new i0,a=Object.keys(t).sort(function(gt,yt){return gt-yt}),n){case"macroman":for(y=0,C=(function(){var gt=[];for(w=0;w<256;++w)gt.push(0);return gt})(),k={0:0},s={},ie=0,ge=a.length;ie<ge;ie++)k[Ne=t[i=a[ie]]]==null&&(k[Ne]=++y),s[i]={old:t[i],new:k[t[i]]},C[i]=k[t[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(C),{charMap:s,subtable:ee.data,maxGlyphID:y+1};case"unicode":for(V=[],f=[],R=0,k={},r={},T=c=null,ue=0,fe=a.length;ue<fe;ue++)k[U=t[i=a[ue]]]==null&&(k[U]=++R),r[i]={old:U,new:k[U]},o=k[U]-i,T!=null&&o===c||(T&&f.push(T),V.push(i),c=o),T=i;for(T&&f.push(T),f.push(65535),V.push(65535),te=2*(j=V.length),K=2*Math.pow(Math.log(j)/Math.LN2,2),p=Math.log(K/2)/Math.LN2,L=2*j-K,l=[],O=[],m=[],w=le=0,ce=V.length;le<ce;w=++le){if(G=V[w],d=f[w],G===65535){l.push(0),O.push(0);break}if(G-(re=r[G].new)>=32768)for(l.push(0),O.push(2*(m.length+j-w)),i=xe=G;G<=d?xe<=d:xe>=d;i=G<=d?++xe:--xe)m.push(r[i].new);else l.push(re-G),O.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*j+2*m.length),ee.writeUInt16(0),ee.writeUInt16(te),ee.writeUInt16(K),ee.writeUInt16(p),ee.writeUInt16(L),Ce=0,Q=f.length;Ce<Q;Ce++)i=f[Ce],ee.writeUInt16(i);for(ee.writeUInt16(0),ke=0,Y=V.length;ke<Y;ke++)i=V[ke],ee.writeUInt16(i);for(Ue=0,X=l.length;Ue<X;Ue++)o=l[Ue],ee.writeUInt16(o);for(Ye=0,ne=O.length;Ye<ne;Ye++)P=O[Ye],ee.writeUInt16(P);for(ve=0,oe=m.length;ve<oe;ve++)y=m[ve],ee.writeUInt16(y);return{charMap:r,subtable:ee.data,maxGlyphID:R+1}}},e})(),HZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new $H(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=$H.encode(t,n),(i=new i0).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e})(),sRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),aRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),oRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(t.readUInt32());return l}).call(this)}},e})(),lRe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},cRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,s,a,o,l,c,d,f,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),o=t.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},s=d=0,f=r.length;d<f;s=++d)i=r[s],t.pos=i.offset,c=t.readString(i.length),a=new lRe(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e})(),uRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),dRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,s,a,o,l;for(t.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,d;for(d=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)d.push(t.readInt16());return d})(),this.widths=(function(){var c,d,f,p;for(p=[],c=0,d=(f=this.metrics).length;c<d;c++)s=f[c],p.push(s.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),GZ=[].slice,hRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,s,a,o,l,c,d,f;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,a=(o=new i0(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[t]=a===-1?new ARe(o,c,f,l,d):new fRe(o,a,c,f,l,d),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=t[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},e})(),fRe=(function(){function e(t,n,r,i,s,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),ARe=(function(){function e(t,n,r,i,s){var a,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new i0(GZ.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),pRe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Fd),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),d=0;d<r.length;++d)c[4*d+3]=255&r[d],c[4*d+2]=(65280&r[d])>>8,c[4*d+1]=(16711680&r[d])>>16,c[4*d]=(4278190080&r[d])>>24;return c},e})(),gRe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,a,o,l;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,a,o,l,c,d,f,p,m,w,y,C,T;for(i in r=HZ.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),m={0:0},T=r.charMap)m[(l=T[i]).old]=l.new;for(w in p=r.maxGlyphID,a)w in m||(m[w]=p++);return d=(function(k){var R,P;for(R in P={},k)P[k[R]]=R;return P})(m),f=Object.keys(d).sort(function(k,R){return k-R}),y=(function(){var k,R,P;for(P=[],k=0,R=f.length;k<R;k++)o=f[k],P.push(d[o]);return P})(),s=this.font.glyf.encode(a,y,m),c=this.font.loca.encode(s.offsets,y),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e})();wr.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+(function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(t.convert(r));return c})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+n},t})();const mRe=({projects:e,onClose:t})=>{const n=e.filter(f=>f.defectRecords&&f.defectRecords.length>0),[r,i]=B.useState(n.map(f=>f.id)),[s,a]=B.useState(!1),o=B.useRef(null),l=f=>{i(p=>p.includes(f)?p.filter(m=>m!==f):[...p,f])},c=()=>{r.length===n.length?i([]):i(n.map(f=>f.id))},d=async()=>{if(!(!o.current||r.length===0)){a(!0);try{const f=new wr("p","mm","a4"),p=o.current.querySelectorAll("[data-project-id]");for(let m=0;m<p.length;m++){const w=p[m];if(!r.includes(w.dataset.projectId||""))continue;const y=await wD(w,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),C=y.toDataURL("image/png"),T=f.internal.pageSize.getWidth(),k=f.internal.pageSize.getHeight(),R=T,P=y.height*R/y.width;let U=P,O=0;for(m>0&&f.addPage(),f.addImage(C,"PNG",0,O,R,P),U-=k;U>=0;)O=U-P,f.addPage(),f.addImage(C,"PNG",0,O,R,P),U-=k}f.save(`_${new Date().toISOString().split("T")[0]}.pdf`),t()}catch(f){console.error("Export failed",f),alert("")}finally{a(!1)}}};return u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-stone-900/50 backdrop-blur-sm p-4 animate-in fade-in",children:[u.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"p-6 border-b border-stone-100 flex justify-between items-center bg-stone-50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-stone-900 text-white rounded-xl",children:u.jsx(ah,{size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-black text-stone-900",children:""}),u.jsx("p",{className:"text-xs text-stone-500 font-bold",children:"PDF Batch Export"})]})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-stone-200 rounded-full transition text-stone-400 hover:text-stone-600",children:u.jsx(ri,{size:20})})]}),u.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-sm font-bold text-stone-700",children:[" (",r.length,")"]}),u.jsxs("button",{onClick:c,className:"text-xs font-black text-blue-600 hover:bg-blue-50 px-3 py-1.5 rounded-lg transition flex items-center gap-1",children:[r.length===n.length?u.jsx(UL,{size:14}):u.jsx(cue,{size:14})," / "]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.length===0?u.jsxs("div",{className:"col-span-full py-12 text-center text-stone-400 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[u.jsx(ho,{size:32,className:"mx-auto mb-2 opacity-50"}),u.jsx("p",{className:"text-xs font-bold",children:""})]}):n.map(f=>{var p,m;return u.jsxs("div",{onClick:()=>l(f.id),className:`
                                        p-4 rounded-xl border cursor-pointer transition-all flex items-center gap-3 group
                                        ${r.includes(f.id)?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-stone-100 hover:border-blue-200 hover:bg-stone-50"}
                                    `,children:[u.jsx("div",{className:`
                                        w-5 h-5 rounded-md border flex items-center justify-center transition-colors
                                        ${r.includes(f.id)?"bg-blue-600 border-blue-600":"bg-white border-stone-300"}
                                    `,children:u.jsx(UL,{size:12,className:"text-white"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h4",{className:"font-black text-stone-800 text-sm truncate",children:f.name}),u.jsx("span",{className:"text-[10px] font-bold text-stone-400 bg-stone-100 px-1.5 py-0.5 rounded",children:f.id})]}),u.jsxs("div",{className:"flex gap-2 text-[10px] font-medium text-stone-500",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ho,{size:10,className:"text-stone-400"})," ",((p=f.defectRecords)==null?void 0:p.length)||0," "]}),u.jsxs("span",{className:"flex items-center gap-1 text-rose-500",children:[u.jsx(ho,{size:10})," ",((m=f.defectRecords)==null?void 0:m.reduce((w,y)=>w+y.items.filter(C=>C.status==="Pending").length,0))||0," "]})]})]})]},f.id)})})]}),u.jsxs("div",{className:"p-6 border-t border-stone-100 bg-stone-50 flex justify-end gap-3",children:[u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-2xl font-bold text-stone-500 hover:bg-stone-200 transition",children:""}),u.jsxs("button",{onClick:d,disabled:r.length===0||s,className:"px-8 py-3 bg-stone-900 text-white rounded-2xl font-black shadow-xl shadow-stone-200 disabled:opacity-50 hover:bg-black active:scale-95 transition-all flex items-center gap-2",children:[s?u.jsx(ia,{size:16,className:"animate-spin"}):u.jsx(Ip,{size:16})," PDF"]})]})]}),u.jsx("div",{className:"fixed left-[-9999px] top-0 w-[210mm] bg-white",ref:o,children:n.filter(f=>r.includes(f.id)).map(f=>{var p,m,w,y;return u.jsxs("div",{"data-project-id":f.id,className:"p-12 mb-8 bg-white",style:{minHeight:"297mm"},children:[u.jsx("div",{className:"border-b-2 border-stone-900 pb-6 mb-8",children:u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-black text-stone-400 uppercase tracking-[0.2em] mb-2 block",children:"Project Defect Report"}),u.jsx("h1",{className:"text-3xl font-black text-stone-900",children:f.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-bold text-stone-500",children:[": ",f.id]}),u.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:[": ",new Date().toLocaleDateString()]})]})]})}),u.jsxs("div",{className:"flex gap-4 mb-8",children:[u.jsxs("div",{className:"flex-1 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[u.jsx("p",{className:"text-[10px] text-stone-400 font-black uppercase tracking-widest mb-1",children:""}),u.jsx("p",{className:"text-2xl font-black text-stone-900",children:((p=f.defectRecords)==null?void 0:p.length)||0})]}),u.jsxs("div",{className:"flex-1 bg-rose-50 p-4 rounded-xl border border-rose-100",children:[u.jsx("p",{className:"text-[10px] text-rose-400 font-black uppercase tracking-widest mb-1",children:""}),u.jsx("p",{className:"text-2xl font-black text-rose-600",children:((m=f.defectRecords)==null?void 0:m.reduce((C,T)=>C+T.items.filter(k=>k.status==="Pending").length,0))||0})]}),u.jsxs("div",{className:"flex-1 bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[u.jsx("p",{className:"text-[10px] text-emerald-400 font-black uppercase tracking-widest mb-1",children:""}),u.jsx("p",{className:"text-2xl font-black text-emerald-600",children:((w=f.defectRecords)==null?void 0:w.reduce((C,T)=>C+T.items.filter(k=>k.status==="Completed").length,0))||0})]})]}),u.jsx("div",{className:"space-y-8",children:(y=f.defectRecords)==null?void 0:y.sort((C,T)=>new Date(T.date).getTime()-new Date(C.date).getTime()).map((C,T)=>u.jsxs("div",{className:"border border-stone-200 rounded-2xl overflow-hidden",children:[u.jsxs("div",{className:"bg-stone-100/50 px-6 py-3 border-b border-stone-200 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"bg-stone-900 text-white text-[10px] font-bold px-2 py-1 rounded",children:["#",T+1]}),u.jsx("span",{className:"font-black text-stone-800",children:C.date})]}),u.jsx("span",{className:"text-[10px] text-stone-400 font-mono",children:new Date(C.updatedAt).toLocaleString()})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-3 border-b border-stone-100 pb-2",children:""}),C.items.length>0?u.jsx("div",{className:"space-y-3",children:C.items.map(k=>u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:`mt-0.5 w-4 h-4 rounded-full border flex items-center justify-center shrink-0 ${k.status==="Completed"?"bg-emerald-500 border-emerald-500":"bg-white border-rose-300"}`,children:k.status==="Completed"&&u.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-bold text-stone-800 leading-relaxed",children:k.content}),k.improvement&&u.jsx("div",{className:"mt-1.5 bg-emerald-50/50 p-2 rounded-lg border border-emerald-100/50",children:u.jsxs("p",{className:"text-xs text-emerald-700",children:[u.jsx("span",{className:"font-black",children:""}),k.improvement]})})]}),u.jsx("div",{className:"shrink-0",children:u.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded-full uppercase tracking-wider ${k.status==="Completed"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:k.status==="Completed"?"COMPLETED":"PENDING"})})]},k.id))}):u.jsx("p",{className:"text-stone-400 text-sm italic",children:""})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:""}),u.jsx("p",{className:"text-sm text-stone-600 leading-relaxed bg-stone-50 p-4 rounded-xl border border-stone-100",children:C.suggestions||""})]})]})]},C.id))})]},f.id)})})]})},xRe=({projects:e,leads:t=[],cloudError:n,lastCloudSync:r,isMasterTab:i,onRetrySync:s,onConvertLead:a,onProjectClick:o,onStartTour:l,currentDept:c="FirstDept"})=>{const[d,f]=B.useState(new Date),[p,m]=B.useState("all"),[w,y]=B.useState("all"),[C,T]=B.useState(!1),[k,R]=B.useState(null),[P,U]=B.useState(!1),[O,L]=B.useState(!1),K=async()=>{T(!0);try{const{getPortfolioAnalysis:Y}=await XC(async()=>{const{getPortfolioAnalysis:oe}=await Promise.resolve().then(()=>zZe);return{getPortfolioAnalysis:oe}},void 0),X=e.filter(oe=>!oe.name.toLowerCase().includes("test")&&!oe.name.includes("")),ne=await Y(X);R(ne.text),U(!0)}catch{alert("AI ")}finally{T(!1)}},j=B.useMemo(()=>{const Y=e.map(ne=>ne.startDate?ne.startDate.split("-")[0]:null).filter(Boolean);return Array.from(new Set(Y)).sort((ne,oe)=>oe.localeCompare(ne))},[e]),te=[{value:"01",label:"1"},{value:"02",label:"2"},{value:"03",label:"3"},{value:"04",label:"4"},{value:"05",label:"5"},{value:"06",label:"6"},{value:"07",label:"7"},{value:"08",label:"8"},{value:"09",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"}],G=B.useMemo(()=>e.filter(Y=>{var X;return!Y.name.includes("")&&((X=Y.defectRecords)==null?void 0:X.some(ne=>ne.items.some(oe=>oe.status==="Pending")))}),[e]),V=B.useMemo(()=>e.filter(Y=>{if(Y.name.toLowerCase().includes("test")||Y.name.includes("")||!Y.startDate)return!1;const[ne,oe]=Y.startDate.split("-");return(p==="all"||ne===p)&&(w==="all"||oe===w)}),[e,p,w]),re=B.useMemo(()=>{const Y={};let X=0,ne=0,oe=0;V.forEach(ke=>{ke&&(Y[ke.status]=(Y[ke.status]||0)+1,X+=ke.budget||0,ne+=ke.spent||0,oe+=(ke.budget||0)-(ke.spent||0))});const Ce=X>0?oe/X*100:0;return{counts:Y,totalBudget:X,totalSpent:ne,totalNetProfit:oe,profitMargin:Ce}},[V]),ee=B.useMemo(()=>{const Y=new Date,X=V.filter(ke=>ke.startDate&&ke.endDate&&ke.status===hr.CONSTRUCTING).map(ke=>{const Ne=new Date(ke.startDate).getTime(),Ye=new Date(ke.endDate).getTime()-Ne,ve=Y.getTime()-Ne,yt=Math.max(0,Math.min(100,ve/Ye*100))-ke.progress;return{...ke,riskType:"schedule",riskValue:Math.round(yt)}}).filter(ke=>ke.riskValue>=20),ne=V.filter(ke=>ke.budget>0&&ke.status===hr.CONSTRUCTING).map(ke=>{const Ue=(ke.workAssignments||[]).reduce((Ye,ve)=>Ye+ve.totalCost,0)/ke.budget*100;return{...ke,riskType:"labor",riskValue:Math.round(Ue),progress:ke.progress}}).filter(ke=>ke.riskValue>50&&ke.progress<40),oe=V.filter(ke=>(ke.statusChangedAt||ke.createdDate)&&(ke.status===hr.NEGOTIATING||ke.status===hr.QUOTING)).map(ke=>{const Ne=ke.statusChangedAt||ke.createdDate,Ue=Y.getTime()-new Date(Ne).getTime();return{...ke,riskType:"delay",riskValue:Math.floor(Ue/(1e3*60*60*24))}}).filter(ke=>ke.riskValue>=5),Ce=V.filter(ke=>ke.budget>0).map(ke=>{const Ne=ke.spent/ke.budget;return{...ke,riskType:"budget",riskValue:Math.round(Ne*100)}}).filter(ke=>ke.riskValue>=90);return[...X,...ne,...oe,...Ce].sort((ke,Ne)=>Ne.riskValue-ke.riskValue)},[V]),ie=B.useMemo(()=>{const Y=ee.filter(ne=>ne.riskType==="delay"),X={};return Y.forEach(ne=>{const oe=ne.quotationManager||"";X[oe]=(X[oe]||0)+1}),Object.entries(X).map(([ne,oe])=>({name:ne,count:oe})).sort((ne,oe)=>oe.count-ne.count)},[ee]),ue=B.useMemo(()=>{const Y=V.filter(ke=>{const Ne=(ke.workAssignments||[]).reduce((Ue,Ye)=>Ue+Ye.totalCost,0);return ke.budget>0&&Ne/ke.budget>.4&&ke.progress<30}).length,X=ee.filter(ke=>ke.riskType==="schedule").length,ne=e.reduce((ke,Ne)=>ke+(Ne.workAssignments||[]).reduce((Ue,Ye)=>Ue+Ye.totalCost,0),0),oe=e.reduce((ke,Ne)=>ke+(Ne.budget||0),0),Ce=oe>0?Math.round(ne/oe*100):0;return{laborAtRisk:Y,scheduleAtRisk:X,avgLaborRatio:Ce}},[V,ee,e]),le=B.useMemo(()=>V.filter(Y=>Y.budget>0).slice(0,8).map(Y=>{const X=(Y.workAssignments||[]).reduce((oe,Ce)=>oe+Ce.totalCost,0),ne=Math.round(X/Y.budget*100);return{...Y,laborRatio:ne}}),[V]),xe=B.useMemo(()=>Object.entries(re.counts).map(([Y,X])=>({name:Y,value:X})).sort((Y,X)=>X.value-Y.value),[re]),ge=B.useMemo(()=>V.filter(Y=>Y.budget>0&&Y.status!==""&&Y.status!=="").sort((Y,X)=>X.budget-Y.budget).slice(0,5).map(Y=>({name:Y.name.length>6?Y.name.substring(0,6)+"...":Y.name,budget:Y.budget,spent:Y.spent,full_name:Y.name})),[V]),fe={[hr.NEGOTIATING]:"#64748b",[hr.QUOTING]:"#3b82f6",[hr.QUOTED]:"#6366f1",[hr.WAITING_SIGN]:"#8b5cf6",[hr.SIGNED_WAITING_WORK]:"#a855f7",[hr.CONSTRUCTING]:"#f97316",[hr.COMPLETED]:"#10b981",[hr.INSPECTION]:"#06b6d4",[hr.CLOSED]:"#059669",[hr.CANCELLED]:"#94a3b8",[hr.LOST]:"#cbd5e1"},ce=Y=>Y>=1e8?(Y/1e8).toFixed(1)+"":Y>=1e4?(Y/1e4).toFixed(0)+"":Y.toLocaleString(),Q=[{label:"",value:V.length,icon:Zv,color:"text-slate-600",bg:"bg-slate-50"},{label:"",value:`$${ce(re.totalBudget)}`,icon:Cc,color:"text-amber-600",bg:"bg-amber-50"},{label:"",value:`$${ce(re.totalNetProfit)}`,subValue:`${re.profitMargin.toFixed(1)}%`,icon:Eu,color:re.totalNetProfit>=0?"text-emerald-600":"text-rose-600",bg:re.totalNetProfit>=0?"bg-emerald-50":"bg-rose-50"},{label:"",value:ee.filter(Y=>Y.riskType==="delay").length,icon:LL,color:"text-rose-600",bg:"bg-rose-50"},{label:"",value:re.counts[hr.CONSTRUCTING]||0,icon:Cf,color:"text-blue-600",bg:"bg-blue-50"}];return u.jsxs("div",{className:"p-4 lg:p-8 space-y-8 animate-in fade-in duration-500",children:[u.jsxs("header",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h1",{className:"text-xl lg:text-2xl font-black text-stone-900 tracking-tight",children:[c==="ThirdDept"?"":c==="FourthDept"?"":"","  "]}),u.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-stone-900 text-white rounded-full",children:[u.jsx(Ui,{size:12,className:"text-orange-400"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Scale Optimized"})]})]}),u.jsxs("p",{className:"text-stone-500 text-xs font-medium",children:["",r||""," | ",i?" (Master)":" (Secondary)"]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-white p-2 rounded-2xl border border-stone-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 border-r border-stone-100",children:[u.jsx(O0,{size:14,className:"text-stone-400"}),u.jsxs("select",{className:"bg-transparent text-xs font-bold outline-none cursor-pointer",value:p,onChange:Y=>m(Y.target.value),children:[u.jsx("option",{value:"all",children:""}),j.map(Y=>u.jsxs("option",{value:Y,children:[Y,""]},Y))]})]}),u.jsxs("div",{className:"flex items-center gap-2 px-3",children:[u.jsx(Ru,{size:14,className:"text-stone-400"}),u.jsxs("select",{className:"bg-transparent text-xs font-bold outline-none cursor-pointer",value:w,onChange:Y=>y(Y.target.value),children:[u.jsx("option",{value:"all",children:""}),te.map(Y=>u.jsx("option",{value:Y.value,children:Y.label},Y.value))]})]}),u.jsxs("button",{onClick:K,disabled:C,className:"flex items-center gap-2 bg-slate-900 text-white px-4 py-2 rounded-xl text-[10px] font-black hover:bg-black transition-all shadow-lg shadow-slate-200 disabled:opacity-50",children:[C?u.jsx(ia,{size:14,className:"animate-spin"}):u.jsx(Ui,{size:14}),"AI "]}),u.jsxs("button",{onClick:l,className:"flex items-center gap-2 bg-indigo-50 text-indigo-600 px-4 py-2 rounded-xl text-[10px] font-black hover:bg-indigo-100 transition-all border border-indigo-100",children:[u.jsx(md,{size:14}),""]})]})]}),n===""&&u.jsxs("div",{className:"bg-amber-600 text-white p-6 rounded-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-pulse",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:u.jsx(Fp,{size:32})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black",children:""}),u.jsx("p",{className:"text-xs font-bold text-amber-100 mt-1",children:""})]})]}),u.jsxs("button",{onClick:s,className:"w-full md:w-auto px-8 py-4 bg-white text-amber-600 rounded-2xl font-black shadow-lg hover:bg-stone-50 transition-all active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(sp,{size:18})," "]})]}),P&&k&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[80vh] rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col p-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-2xl flex items-center justify-center text-white",children:u.jsx(Eu,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-slate-900",children:""}),u.jsx("p",{className:"text-xs text-stone-400 font-bold uppercase tracking-widest",children:"Global Operations Diagnosis"})]})]}),u.jsx("button",{onClick:()=>U(!1),className:"w-10 h-10 rounded-full bg-stone-100 text-stone-400 flex items-center justify-center hover:bg-stone-200",children:u.jsx(ri,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pr-4 no-scrollbar prose prose-stone max-w-none",children:u.jsx("div",{className:"bg-slate-50 p-6 rounded-3xl border border-stone-100 whitespace-pre-wrap text-sm leading-relaxed text-slate-700",children:k})}),u.jsx("div",{className:"mt-8 pt-8 border-t border-stone-50 flex justify-end",children:u.jsx("button",{onClick:()=>U(!1),className:"px-8 py-3 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all",children:""})})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6",children:Q.map((Y,X)=>u.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-2xl border border-stone-100 shadow-sm hover:shadow-lg hover:border-stone-200 transition-all group",children:u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsx("div",{className:`p-2.5 sm:p-3 rounded-xl ${Y.bg} ${Y.color} group-hover:scale-110 transition-transform`,children:u.jsx(Y.icon,{size:18,className:"sm:w-5 sm:h-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-stone-400 uppercase tracking-widest mb-0.5 sm:mb-1 truncate",children:Y.label}),u.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-black text-stone-900 leading-tight",children:Y.value}),Y.subValue&&u.jsx("p",{className:"text-xs font-bold text-emerald-600 mt-1",children:Y.subValue})]})]})},X))}),u.jsxs("div",{className:"bg-white rounded-[2rem] border border-stone-100 shadow-sm p-6 lg:p-8 animate-in slide-in-from-bottom-2",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[u.jsxs("h3",{className:"text-sm font-black text-stone-900 uppercase tracking-widest flex items-center gap-2 border-l-4 border-rose-500 pl-3",children:[u.jsx(ho,{size:18,className:"text-rose-500"}),"  ()"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 bg-white border border-stone-200 text-stone-600 px-3 py-1.5 rounded-full text-[10px] font-black hover:bg-stone-50 transition-all shadow-sm active:scale-95",children:[u.jsx(Ip,{size:12})," "]}),u.jsxs("span",{className:"text-[10px] bg-rose-50 text-rose-600 px-3 py-1 rounded-full font-black uppercase tracking-wider self-start sm:self-auto border border-rose-100",children:[" ",G.length," "]})]})]}),G.length>0?u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[G.slice(0,8).map(Y=>{var ne;const X=((ne=Y.defectRecords)==null?void 0:ne.reduce((oe,Ce)=>oe+Ce.items.filter(ke=>ke.status==="Pending").length,0))||0;return u.jsxs("div",{onClick:()=>o(Y.id),className:"cursor-pointer bg-stone-50 hover:bg-white hover:shadow-lg hover:-translate-y-1 hover:border-rose-200 border border-stone-100 rounded-2xl p-5 transition-all group duration-300",children:[u.jsxs("div",{className:"flex justify-between items-start mb-3 gap-2",children:[u.jsx("h4",{className:"font-black text-stone-800 text-xs line-clamp-1 flex-1",title:Y.name,children:Y.name}),u.jsxs("span",{className:"bg-rose-500 text-white shadow-sm text-[9px] font-black px-2 py-1 rounded-lg flex items-center gap-1 shrink-0",children:[u.jsx(ho,{size:10})," ",X]})]}),u.jsxs("div",{className:"flex items-center justify-between text-[9px] text-stone-400 font-bold uppercase tracking-wider",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Jp,{size:10})," ",Y.quotationManager||Y.engineeringManager||""]}),u.jsxs("span",{className:"group-hover:translate-x-1 group-hover:text-rose-500 transition-all flex items-center gap-1",children:[" ",u.jsx(Np,{size:10})]})]})]},Y.id)}),G.length>8&&u.jsx("div",{onClick:()=>{},className:"flex items-center justify-center p-12 border border-dashed border-stone-200 rounded-2xl text-stone-400 hover:text-stone-600 hover:bg-stone-50 cursor-pointer transition-all",children:u.jsxs("span",{className:"text-xs font-black uppercase tracking-widest",children:[" (",G.length-8,")..."]})})]}):u.jsxs("div",{className:"flex items-center justify-center p-12 text-stone-300 gap-3 bg-stone-50/50 rounded-3xl border border-dashed border-stone-200",children:[u.jsx(gd,{size:32,className:"text-emerald-400"}),u.jsx("span",{className:"font-bold text-xs uppercase tracking-widest text-emerald-600/50",children:""})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm flex flex-col",children:[u.jsx("h3",{className:"text-sm font-black text-stone-900 uppercase tracking-widest mb-6 border-l-4 border-indigo-500 pl-3",children:""}),u.jsx("div",{className:"flex-1 w-full min-h-[300px]",children:u.jsx(cp,{width:"100%",height:"100%",children:u.jsxs(qX,{children:[u.jsx(iD,{data:xe,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:xe.map((Y,X)=>u.jsx(t0,{fill:fe[Y.name]||"#94a3b8",stroke:"none"},`cell-${X}`))}),u.jsx(hp,{contentStyle:{borderRadius:"1rem",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontSize:"12px",fontWeight:"bold"}}),u.jsx(z3,{layout:"horizontal",verticalAlign:"bottom",align:"center",wrapperStyle:{fontSize:"10px",fontWeight:"bold",paddingTop:"20px"}})]})})})]}),u.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm flex flex-col",children:[u.jsx("h3",{className:"text-sm font-black text-stone-900 uppercase tracking-widest mb-6 border-l-4 border-emerald-500 pl-3",children:" (Top 5)"}),u.jsx("div",{className:"flex-1 w-full min-h-[300px]",children:u.jsx(cp,{width:"100%",height:"100%",children:u.jsxs(DS,{data:ge,barSize:20,children:[u.jsx(w1,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f5"}),u.jsx(b1,{dataKey:"name",fontSize:10,tick:{fontWeight:"bold",fill:"#78716c"},axisLine:!1,tickLine:!1}),u.jsx(y1,{fontSize:10,tick:{fontWeight:"bold",fill:"#78716c"},axisLine:!1,tickLine:!1,tickFormatter:Y=>ce(Y)}),u.jsx(hp,{cursor:{fill:"#fafaf9"},contentStyle:{borderRadius:"1rem",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},labelStyle:{fontSize:"12px",fontWeight:"900",color:"#1c1917",marginBottom:"8px"},formatter:Y=>[`$${Y.toLocaleString()}`,""]}),u.jsx(z3,{wrapperStyle:{fontSize:"10px",fontWeight:"bold",paddingTop:"20px"}}),u.jsx(zA,{dataKey:"budget",name:"",fill:"#e2e8f0",radius:[4,4,0,0]}),u.jsx(zA,{dataKey:"spent",name:"",fill:"#10b981",radius:[4,4,0,0]})]})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] lg:rounded-[2.5rem] border border-stone-100 shadow-sm overflow-hidden animate-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"px-8 py-6 border-b border-stone-50 flex items-center justify-between bg-stone-50/30",children:[u.jsxs("h3",{className:"text-sm font-black text-stone-900 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(LL,{size:18,className:"text-rose-600"})," "]}),u.jsxs("span",{className:"text-[10px] font-black text-rose-500 bg-rose-50 px-3 py-1 rounded-full border border-rose-100 uppercase",children:[" ",ee.filter(Y=>Y.riskType==="delay").length," "]})]}),u.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:""}),u.jsxs("div",{className:"space-y-2",children:[ee.map(Y=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-stone-50 rounded-2xl border border-stone-100 hover:bg-stone-100/50 transition-all group",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs font-black text-stone-900",children:Y.name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-[9px] font-bold text-stone-400 uppercase",children:["ID: ",Y.id]}),u.jsx("span",{className:`text-[9px] font-black px-1.5 py-0.5 rounded border uppercase flex items-center gap-1 ${Y.riskType==="delay"?"text-rose-500 bg-rose-50 border-rose-100":Y.riskType==="labor"?"text-orange-500 bg-orange-50 border-orange-100":Y.riskType==="schedule"?"text-amber-500 bg-amber-50 border-amber-100":"text-rose-500 bg-rose-50 border-rose-100"}`,children:Y.riskType==="delay"?` ${Y.riskValue} `:Y.riskType==="labor"?` ${Y.riskValue}%`:Y.riskType==="schedule"?` ${Y.riskValue}%`:` ${Y.riskValue}%`})]})]}),u.jsxs("div",{className:"text-right flex items-center gap-4",children:[u.jsxs("div",{className:"hidden sm:block",children:[u.jsx("p",{className:"text-[9px] font-black text-stone-400 uppercase tracking-tighter mb-0.5",children:""}),u.jsx("p",{className:"text-[10px] font-black text-stone-700",children:Y.quotationManager||Y.manager||""})]}),u.jsx("button",{onClick:()=>o(Y.id),className:"w-8 h-8 rounded-full bg-white border border-stone-200 flex items-center justify-center text-stone-400 hover:text-stone-900 hover:border-stone-400 transition-all shadow-sm",children:u.jsx(Np,{size:14})})]})]},`${Y.id}-${Y.riskType}`)),ee.length===0&&u.jsxs("div",{className:"py-12 border-2 border-dashed border-stone-100 rounded-[2rem] flex flex-col items-center justify-center text-stone-300 gap-3",children:[u.jsx(gd,{size:32}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:""}),u.jsxs("div",{className:"bg-stone-900 rounded-3xl p-6 text-white space-y-4",children:[ie.map((Y,X)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`w-5 h-5 rounded-lg flex items-center justify-center text-[10px] font-black ${X===0?"bg-rose-500 text-white":"bg-white/10 text-stone-400"}`,children:X+1}),u.jsx("span",{className:"text-[11px] font-black",children:Y.name})]}),u.jsxs("span",{className:"text-[11px] font-black text-rose-400",children:[Y.count," "]})]},Y.name)),ie.length===0&&u.jsx("p",{className:"text-[10px] text-stone-500 font-bold text-center py-4",children:""})]})]})]})]}),u.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-[2rem] lg:rounded-[2.5rem] border border-stone-100 shadow-sm",children:[u.jsx("h3",{className:"text-xs sm:text-sm font-black text-stone-900 mb-4 sm:mb-6 lg:mb-8 uppercase tracking-widest border-l-4 border-orange-500 pl-3 sm:pl-4",children:""}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3",children:Object.values(hr).map(Y=>u.jsxs("div",{className:"bg-stone-50 p-3 sm:p-4 rounded-xl sm:rounded-2xl border border-stone-100 hover:border-orange-200 hover:bg-orange-50/30 transition-all flex flex-col items-center justify-center text-center min-h-[70px] sm:min-h-[80px]",children:[u.jsx("span",{className:"text-base sm:text-lg lg:text-xl font-black text-stone-900",children:re.counts[Y]||0}),u.jsx("span",{className:"text-[8px] sm:text-[9px] font-black text-stone-400 uppercase tracking-tighter mt-1 leading-tight",children:Y})]},Y))})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] border border-stone-100 shadow-sm overflow-hidden p-8",children:[u.jsxs("h3",{className:"text-sm font-black text-stone-900 uppercase tracking-widest flex items-center gap-2 mb-6",children:[u.jsx(O2,{size:18,className:"text-emerald-600"})," "]}),u.jsx("div",{className:"h-[300px]",children:u.jsx(cp,{width:"100%",height:"100%",children:u.jsxs(DS,{data:le,children:[u.jsx(w1,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f5"}),u.jsx(b1,{dataKey:"name",fontSize:9,tick:{fontWeight:"bold",fill:"#a8a29e"},axisLine:!1,tickLine:!1}),u.jsx(y1,{fontSize:9,tick:{fontWeight:"bold",fill:"#a8a29e"},axisLine:!1,tickLine:!1,unit:"%"}),u.jsx(hp,{contentStyle:{borderRadius:"1rem",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"}}),u.jsx(zA,{dataKey:"laborRatio",name:"",radius:[4,4,0,0],children:le.map((Y,X)=>u.jsx(t0,{fill:Y.laborRatio>40?"#f43f5e":"#10b981"},`cell-${X}`))})]})})}),u.jsx("p",{className:"mt-4 text-[9px] font-bold text-stone-400 text-center uppercase tracking-widest leading-loose",children:" (>40%)"})]}),u.jsxs("div",{className:"bg-stone-900 rounded-[2rem] shadow-xl p-8 text-white",children:[u.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest flex items-center gap-2 mb-6",children:[u.jsx(md,{size:18,className:"text-amber-400"})," "]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-400/20 text-amber-400 flex items-center justify-center shrink-0",children:u.jsx(ho,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black uppercase",children:""}),u.jsxs("p",{className:"text-[10px] text-stone-400 mt-1",children:[" ",ue.laborAtRisk," "]})]})]}),u.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-400/20 text-blue-400 flex items-center justify-center shrink-0",children:u.jsx(Ru,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black uppercase",children:""}),u.jsxs("p",{className:"text-[10px] text-stone-400 mt-1",children:[" ",ue.scheduleAtRisk," "]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-2xl",children:[u.jsxs("p",{className:"text-[11px] font-black text-emerald-400 uppercase flex items-center gap-2",children:[u.jsx(gd,{size:14})," "]}),u.jsxs("p",{className:"text-[10px] text-emerald-500/80 mt-2 font-bold leading-relaxed",children:[" ",ue.avgLaborRatio,"%"]})]})})]})]})]})]}),u.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] border border-stone-200 shadow-sm overflow-hidden flex flex-col h-fit",children:[u.jsxs("div",{className:"px-6 py-5 border-b border-stone-100 bg-gradient-to-r from-indigo-50/50 to-white flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ui,{size:16,className:"text-indigo-600"}),u.jsx("h3",{className:"font-black text-[10px] uppercase tracking-widest text-stone-900",children:" (WEB)"})]}),u.jsx("span",{className:"bg-indigo-600 text-white px-2 py-0.5 rounded-lg text-[8px] font-black animate-pulse",children:"LIVE"})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[t.filter(Y=>Y.status==="new").length>0?t.filter(Y=>Y.status==="new").map(Y=>u.jsxs("div",{className:"p-4 rounded-2xl bg-indigo-50/30 border border-indigo-100 hover:border-indigo-300 transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("p",{className:"text-xs font-black text-stone-900",children:Y.customerName}),u.jsx("span",{className:"text-[8px] font-bold text-stone-400",children:Y.timestamp})]}),u.jsxs("div",{className:"space-y-1.5 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-stone-500 font-medium",children:[u.jsx(Zc,{size:10})," ",u.jsx("a",{href:`tel:${Y.phone}`,className:"hover:text-indigo-600 hover:underline transition-colors",children:Y.phone})]}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-stone-500 font-medium",children:[u.jsx(aa,{size:10})," ",Y.address]}),u.jsxs("div",{className:"mt-2 text-[10px] font-bold text-indigo-700 bg-indigo-100/50 p-2 rounded-lg leading-relaxed line-clamp-2",children:["AI ",Y.diagnosis]})]}),u.jsxs("button",{onClick:()=>a==null?void 0:a(Y.id),className:"w-full bg-indigo-600 text-white py-2 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-100 group-hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[" ",u.jsx(HE,{size:12})]})]},Y.id)):u.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-stone-300 opacity-50 gap-2",children:[u.jsx(md,{size:32}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),t.filter(Y=>Y.status==="new").length>0&&u.jsx("p",{className:"text-[9px] text-center text-stone-400 font-bold mt-2 cursor-pointer hover:text-indigo-600",children:" "})]})]}),u.jsx("div",{className:"bg-stone-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:u.jsxs("div",{className:"relative z-10 space-y-6",children:[u.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[u.jsx(Fp,{size:18,className:"text-orange-500"})," "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-5 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase mb-2",children:""}),u.jsxs("p",{className:"text-2xl font-black",children:[re.totalBudget>0?Math.round(re.totalSpent/re.totalBudget*100):0,"%"]}),u.jsx("p",{className:"text-[10px] text-stone-400 mt-2 font-medium",children:""})]}),u.jsxs("div",{className:"p-5 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx("p",{className:"text-[10px] font-black text-emerald-400 uppercase mb-2",children:""}),u.jsxs("p",{className:"text-2xl font-black",children:[Math.ceil(V.length/50)," /"]}),u.jsx("p",{className:"text-[10px] text-stone-400 mt-2 font-medium",children:""})]})]})]})})]})]}),O&&u.jsx(mRe,{projects:e,onClose:()=>L(!1)})]})};var Hp=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const o=e.event;o instanceof Event&&(e.eventPath=o.composedPath())}const{frameworkOverrides:r}=this,i=o=>{const l=r?()=>r.wrapIncoming(o):o;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if(((s==null?void 0:s.size)??0)>0){const o=new Set(s);for(const l of o)s!=null&&s.has(l)&&i(()=>l(e))}const a=this.getGlobalListeners(t);if(a.size>0){const o=new Set(a);for(const l of o)i(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}},mf=e=>e==null||e===""?null:e;function _n(e){return e!=null&&e!==""}function Us(e){return!_n(e)}var nB=e=>e!=null&&typeof e.toString=="function"?e.toString():null,yw=(e,t)=>{const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r},vRe=(e,t,n=!1)=>e==null?t==null?0:-1:t==null?1:(typeof e=="object"&&e.toNumber&&(e=e.toNumber()),typeof t=="object"&&t.toNumber&&(t=t.toNumber()),!n||typeof e!="string"?e>t?1:e<t?-1:0:e.localeCompare(t)),wRe=/[&<>"']/g,bRe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function K1(e){return(e==null?void 0:e.toString().toString())??null}function Dv(e){var t;return((t=K1(e))==null?void 0:t.replace(wRe,n=>bRe[n]))??null}function YH(e){return typeof e=="string"&&e.startsWith("=")&&e.length>1}function rh(e){return e.eRootDiv.getRootNode()}function Js(e){return rh(e).activeElement}function Oo(e){const{gos:t,eRootDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&_n(i)?r=i():n&&(r=n.ownerDocument),r&&_n(r)?r:document}function ND(e){const t=Js(e);return t===null||t===Oo(e).body}function VZ(e){return Oo(e).defaultView||window}function TD(e){let t=null,n=null;try{t=Oo(e).fullscreenElement}catch{}finally{t||(t=rh(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function yRe(e){const t=TD(e);return(t==null?void 0:t.clientWidth)??(window.innerWidth||-1)}function CRe(e){const t=TD(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function kd(e,t,n){n==null||typeof n=="string"&&n==""?QZ(e,t):Bd(e,t,n)}function Bd(e,t,n){e.setAttribute(zZ(t),n.toString())}function QZ(e,t){e.removeAttribute(zZ(t))}function zZ(e){return`aria-${e}`}function Gp(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function SRe(e){const t=e==null?void 0:e.direction;return t==="asc"?"ascending":t==="desc"?"descending":t==="mixed"?"other":"none"}function ERe(e){return e.getAttribute("aria-label")}function S1(e,t){kd(e,"label",t)}function Cw(e,t){kd(e,"labelledby",t)}function WZ(e,t){kd(e,"live",t)}function NRe(e,t){kd(e,"atomic",t)}function TRe(e,t){kd(e,"relevant",t)}function ID(e,t){kd(e,"invalid",t)}function IRe(e,t){kd(e,"disabled",t)}function KZ(e,t){kd(e,"hidden",t)}function rB(e,t){Bd(e,"expanded",t)}function FRe(e,t){Bd(e,"setsize",t)}function kRe(e,t){Bd(e,"posinset",t)}function BRe(e,t){Bd(e,"rowcount",t)}function qZ(e,t){Bd(e,"rowindex",t)}function RRe(e,t){Bd(e,"rowspan",t)}function _Re(e,t){Bd(e,"colcount",t)}function $Z(e,t){Bd(e,"colindex",t)}function DRe(e,t){Bd(e,"colspan",t)}function PRe(e,t){Bd(e,"sort",t)}function MRe(e){QZ(e,"sort")}function YZ(e,t){kd(e,"selected",t)}function LRe(e,t){kd(e,"controls",t)}function ORe(e,t){LRe(e,t.id),Cw(t,e.id)}function XH(e,t){kd(e,"owns",t)}function J5(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var jRe="[tabindex], input, select, button, textarea, [href]",XZ="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Pv(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(XZ)?!1:Qf(e)}function hs(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||KZ(e,!t)}function URe(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||KZ(e,!t)}function Sw(e,t){const n="disabled",r=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const s of i)r(s)}function mp(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function ig(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:a,paddingTop:o,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:f,marginRight:p,marginBottom:m,marginLeft:w,boxSizing:y}=window.getComputedStyle(e),C=Number.parseFloat;return{height:C(t||"0"),width:C(n||"0"),borderTopWidth:C(r||"0"),borderRightWidth:C(i||"0"),borderBottomWidth:C(s||"0"),borderLeftWidth:C(a||"0"),paddingTop:C(o||"0"),paddingRight:C(l||"0"),paddingBottom:C(c||"0"),paddingLeft:C(d||"0"),marginTop:C(f||"0"),marginRight:C(p||"0"),marginBottom:C(m||"0"),marginLeft:C(w||"0"),boxSizing:y}}function FD(e){const t=ig(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function Ew(e){const t=ig(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function JZ(e){const{height:t,marginBottom:n,marginTop:r}=ig(e);return Math.floor(t+n+r)}function $S(e){const{width:t,marginLeft:n,marginRight:r}=ig(e);return Math.floor(t+n+r)}function ZZ(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=ig(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function YS(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function XS(e,t,n){n&&(t*=-1),e.scrollLeft=t}function kc(e){for(;e!=null&&e.firstChild;)e.firstChild.remove()}function s0(e){e!=null&&e.parentNode&&e.remove()}function kD(e){return!!e.offsetParent}function Qf(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!kD(e)||window.getComputedStyle(e).visibility!=="visible")}function BD(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function h2(e){return()=>{const t=e();return t?RD(t)||eee(t):!0}}function RD(e){return e.clientWidth<e.scrollWidth}function eee(e){return e.clientHeight<e.scrollHeight}function JS(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):gh(e,t)}function gh(e,t){t=_D(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Mv(e,t){t=_D(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function _D(e){return typeof e=="number"?`${e}px`:e}function DD(e){return e instanceof Node||e instanceof HTMLElement}function Ec(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function zf(e,t,n){const i=VZ(e).ResizeObserver,s=i?new i(n):null;return s==null||s.observe(t),()=>s==null?void 0:s.disconnect()}function Wf(e,t){const n=VZ(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var tee="data-ref",fF;function JH(){return fF??(fF=document.createTextNode(" ")),fF.cloneNode()}function qA(e){const{attrs:t,children:n,cls:r,ref:i,role:s,tag:a}=e,o=document.createElement(a);if(r&&(o.className=r),i&&o.setAttribute(tee,i),s&&o.setAttribute("role",s),t)for(const l of Object.keys(t))o.setAttribute(l,t[l]);if(n)if(typeof n=="string")o.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(o.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?o.appendChild(c()):(l&&(o.appendChild(JH()),l=!1),o.append(qA(c)),o.appendChild(JH())))}return o}var HRe=["touchstart","touchend","touchmove","touchcancel","scroll"],GRe=["wheel"],AF={},nee=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof AF[n]=="boolean")return AF[n];const r=document.createElement(e[n]||"div");return n="on"+n,AF[n]=n in r}})();function VRe(e,t){return!t||!e?!1:zRe(t).indexOf(e)>=0}function QRe(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function zRe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():QRe(t)}function WRe(e,t,n){const r=KRe(t);let i;r!=null&&(i={passive:r}),e.addEventListener(t,n,i)}var KRe=e=>{const t=HRe.includes(e),n=GRe.includes(e);if(t)return!0;if(n)return!1};function ree(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var Qm=(e,t)=>{const n=e.identifier;for(let r=0,i=t.length;r<i;++r){const s=t[r];if(s.identifier===n)return s}return null};function Nw(e,t){return e.gos.isElementInThisInstance(t.target)}function qRe(e,t,n){const i=e.getBoundingClientRect().height,s=yRe(n)-2,a=CRe(n)-2;if(!e.offsetParent)return;const l=ZZ(e.offsetParent),{clientY:c,clientX:d}=t;let f=c-l.top-i/2,p=d-l.left-10;const m=Oo(n),w=m.defaultView||window,y=w.pageYOffset||m.documentElement.scrollTop,C=w.pageXOffset||m.documentElement.scrollLeft;s>0&&p+e.clientWidth>s+C&&(p=s+C-e.clientWidth),p<0&&(p=0),a>0&&f+e.clientHeight>a+y&&(f=a+y-e.clientHeight),f<0&&(f=0),e.style.left=`${p}px`,e.style.top=`${f}px`}var f2=(e,...t)=>{for(const n of t){const[r,i,s,a]=n;r.addEventListener(i,s,a),e.push(n)}},PD=e=>{if(e){for(const[t,n,r,i]of e)t.removeEventListener(n,r,i);e.length=0}},Em=e=>{e.cancelable&&e.preventDefault()};function $Re(e,t){return t}function iee(e){return(e==null?void 0:e.getLocaleTextFunc())??$Re}function YRe(e,t,n,r){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(r):i,r)}function XRe(e){return(t,n,r)=>e({key:t,defaultValue:n,variableValues:r})}function JRe(e){return(t,n,r)=>{let i=e==null?void 0:e[t];if(i&&(r!=null&&r.length)){let s=0;for(;!(s>=r.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",r[s++])}return i??n}}var ec=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Hp),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var r;(r=this.localEventService)==null||r.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;if(ZRe(e))e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null);else{const i=e_e(e);e instanceof HTMLElement?WRe(e,t,n):i?e.addListener(t,n):e.addEventListener(t,n),r=i?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupPropertyListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"propertyChanged",changeSet:i.changeSet,source:i.source};t(s)};for(const i of e)this.setupPropertyListener(i,r)}getLocaleTextFunc(){return iee(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function ZRe(e){return e.__addEventListener!==void 0}function e_e(e){return e.eventServiceType==="global"}var Kt=class extends ec{},iB=new Set,Z5=(e,t)=>{iB.has(t)||(iB.add(t),e())};Z5._set=iB;var t_e={pending:!1,funcs:[]},n_e={pending:!1,funcs:[]};function sB(e,t="setTimeout",n){const r=t==="raf"?n_e:t_e;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const s=r.funcs.slice();r.funcs.length=0,r.pending=!1;for(const a of s)a()};t==="raf"?Wf(n,i):window.setTimeout(i,0)}function jo(e,t,n){let r;return function(...i){const s=this;return window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n),r}}function ZH(e,t){let n=0;return function(...r){const i=this,s=Date.now();s-n<t||(n=s,e.apply(i,r))}}function r_e(e,t,n,r=100){const i=Date.now();let s=null,a=!1;const o=()=>{s!=null&&(window.clearInterval(s),s=null)};e.addDestroyFunc(o);const l=()=>{const c=Date.now()-i>r;(t()||c)&&(n(),a=!0,o())};l(),a||(s=window.setInterval(l,10))}var see=new Set(["__proto__","constructor","prototype"]);function i_e(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!see.has(r)))t(n,e[n])}}function ql(e,t,n=!0,r=!1){_n(t)&&i_e(t,(i,s)=>{let a=e[i];a!==s&&(r&&a==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(a={},e[i]=a),eG(s)&&eG(a)&&!Array.isArray(a)?ql(a,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function eG(e){return typeof e=="object"&&e!==null}var MD=class tf{static applyGlobalGridOptions(t){if(!tf.gridOptions)return{...t};let n={};return ql(n,tf.gridOptions,!0,!0),tf.mergeStrategy==="deep"?ql(n,t,!0,!0):n={...n,...t},tf.gridOptions.context&&(n.context=tf.gridOptions.context),t.context&&(tf.mergeStrategy==="deep"&&n.context&&ql(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(tf.mergeStrategy==="deep"){const r=aee(t);if(r&&typeof r=="object"&&typeof n=="object")return tf.applyGlobalGridOptions({[t]:n})[t]}return n}};MD.gridOptions=void 0;MD.mergeStrategy="shallow";var LD=MD;function aee(e){var t;return(t=LD.gridOptions)==null?void 0:t[e]}var oee={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,refreshAfterGroupEdit:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,enableFilterHandlers:!1},lee="https://www.ag-grid.com";function Vp(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Lv(e,...t){Z5(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function zm(e,...t){Z5(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var cee=new Set,ZS={},xp={},A2,uee=!1,dee=!1,s_e=!1;function a_e(e){const[t,n]=e.version.split(".")||[],[r,i]=A2.split(".")||[];return t===r&&n===i}function o_e(e){var r;A2||(A2=e.version);const t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;e.version?a_e(e)||zm(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${A2}.`)):zm(t(`'${e.moduleName}' is incompatible.`));const n=(r=e.validate)==null?void 0:r.call(e);n&&!n.isValid&&zm(`${n.message}`)}function Tw(e,t,n=!1){n||(uee=!0),o_e(e);const r=e.rowModels??["all"];cee.add(e);let i;t!==void 0?(dee=!0,xp[t]===void 0&&(xp[t]={}),i=xp[t]):i=ZS;for(const s of r)i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e;if(e.dependsOn)for(const s of e.dependsOn)Tw(s,t,n)}function l_e(e){delete xp[e]}function aB(e,t,n){const r=i=>{var s,a,o;return!!((s=ZS[i])!=null&&s[e])||!!((o=(a=xp[t])==null?void 0:a[i])!=null&&o[e])};return r(n)||r("all")}function OD(){return dee}function c_e(e,t){const n=xp[e]??{};return[...Object.values(ZS.all??{}),...Object.values(n.all??{}),...Object.values(ZS[t]??{}),...Object.values(n[t]??{})]}function u_e(){return new Set(cee)}function d_e(e,t){const n=xp[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function h_e(){return uee}function hee(){return s_e}var f_e=class{static register(e){Tw(e,void 0)}static registerModules(e){for(const t of e)Tw(t,void 0)}},Dn="35.0.1",tG=2e3,nG=100,fee="_version_",p2=null,Wm=`${lee}/javascript-data-grid`;function A_e(e){p2=e}function p_e(e){Wm=e}function Aee(e,t,n){return(p2==null?void 0:p2(e,t))??[v_e(e,t,n)]}function jD(e,t,n,r,i){e(`${r?"warning":"error"} #${t}`,...Aee(t,n,i))}function g_e(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function m_e(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=g_e(e)),t}function g2(e){return e===void 0?"undefined":e===null?"null":e}function oB(e,t){return`${e}?${t.toString()}`}function x_e(e,t,n){const r=Array.from(t.entries()).sort((s,a)=>a[1].length-s[1].length);let i=oB(e,t);for(const[s,a]of r){if(s===fee)continue;const o=i.length-n;if(o<=0)break;const l="...",c=o+l.length,d=a.length-c>nG?a.slice(0,a.length-c)+l:a.slice(0,nG)+l;t.set(s,d),i=oB(e,t)}return i}function pee(e,t){const n=new URLSearchParams;if(n.append(fee,Dn),t)for(const s of Object.keys(t))n.append(s,m_e(t[s]));const r=`${Wm}/errors/${e}`,i=oB(r,n);return i.length<=tG?i:x_e(r,n,tG)}var v_e=(e,t,n)=>{const r=pee(e,t);return`${`${n?n+` 
`:""}Visit ${r}`}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function gn(...e){jD(Lv,e[0],e[1],!0)}function es(...e){jD(zm,e[0],e[1],!1)}function gv(e,t,n){jD(zm,e,t,!1,n)}function w_e(e,t){const n=t[0];return`error #${n} `+Aee(n,t[1],e).join(" ")}function mh(...e){return w_e(void 0,e)}function gee(e,t){return e.get("rowModelType")===t}function sa(e,t){return gee(e,"clientSide")}function q1(e,t){return gee(e,"serverSide")}function el(e,t){return e.get("domLayout")===t}function vp(e){return tE(e)!==void 0}function mee(e){return typeof e.get("getRowHeight")=="function"}function b_e(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function y_e({gos:e,formula:t}){const n=e.get("rowNumbers");return n||!!(t!=null&&t.active)&&n!==!1}function a0(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),mee(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},c=i.getCallback("getRowHeight")(l);if(lB(c))return c===0&&gn(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&i.get("masterDetail"))return C_e(i);const a=i.get("rowHeight");return{height:a&&lB(a)?a:r,estimated:!1}}function C_e(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return lB(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function wp(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||Us(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(gn(24),t.getDefaultRowHeight())}function lB(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function xee(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function Qp(e,t,n,r){const i=e.getDomDataKey();let s=t[i];Us(s)&&(s={},t[i]=s),s[n]=r}function Km(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function vee(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||el(e,"print"))}function cf(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function cB(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function wee(e){return e.get("grandTotalRow")}function bee(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function yee(e,t,n){return!!t.group&&!t.footer&&bee(e,n)}function E1(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(Z5(()=>gn(25,{id:r}),"getRowIdString"),r=String(r)),r}}function S_e(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function E_e(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function qm(e){return(e==null?void 0:e.checkboxes)??!0}function m2(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function eE(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function pF(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function N_e(e){return typeof e.get("rowSelection")!="string"}function o0(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function $m(e){const t=e.get("cellSelection")??!1;return(typeof t=="object"&&t.enableColumnSelection)??!1}function Cee(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function T_e(e){const t=Cee(e);return t===!0||t==="enableSelection"}function I_e(e){const t=Cee(e);return t===!0||t==="enableDeselection"}function uB(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function tE(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function nE(e){return tE(e)==="multiRow"}function F_e(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function rE(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function See(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function k_e(e){const t=e.get("rowSelection");return typeof t=="string"?!1:(t==null?void 0:t.mode)==="multiRow"?t.ctrlASelectsRows??!1:!1}function Iw(e){const t=rE(e);return t==="descendants"||t==="filteredDescendants"}function rG(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function B_e(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Jc(e){return e.get("columnMenu")==="legacy"}function R_e(e){return!Jc(e)}function __e(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function D_e(e,t,n){typeof e!="object"&&(e={});const r={...e};for(const i of n){const s=t[i];typeof s<"u"&&(r[i]=s)}return r}function P_e(e,t){if(!e)return;const n={};let r=!1;for(const a of Object.keys(e))n[a]=e[a],r=!0;if(!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function Fr(e,t){return e.addCommon(t)}function x2(e,t){var n;return e[t]??((n=e.gridOptions)==null?void 0:n[t])??aee(t)??oee[t]}function M_e({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var L_e={resizable:!0,sortable:!0},O_e=0;function Eee(){return O_e++}function l0(e){return e instanceof sg}var j_e=["asc","desc",null],U_e=[{type:"absolute",direction:"asc"},{type:"absolute",direction:"desc"},null],sg=class extends Kt{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=Eee(),this.autoHeaderHeight=null,this.sortDef=fd(),this._wasSortExplicitlyRemoved=!1,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.formulaRef=null,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Hp,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Dv(n)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}initState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t==null||t.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n==null||n.initCol(this),r==null||r.initCol(this)}setColDef(e,t,n){var i;const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&((i=this.beans.rowSpanSvc)==null||i.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.initState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=_n(t)&&t.includes(".")&&!r,this.tooltipFieldContainsDots=_n(n)&&n.includes(".")&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var r,i,s;this.frameworkEventListenerService=(i=(r=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:i.call(r,this.frameworkEventListenerService,this.colEventSvc);const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(e,t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var r;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(e,t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Fr(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable({rowNode:e,column:this}))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??L_e[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Fr(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sortDef.direction}getSortDef(){return this.sortDef.direction?this.sortDef:null}getColDefAllowedSortTypes(){const e=[],{sort:t,initialSort:n}=this.colDef,r=t===null?t:Rf(t==null?void 0:t.type),i=n===null?n:Rf(n==null?void 0:n.type);return r&&e.push(r),i&&e.push(i),e}getSortingOrder(){const e=this.getColDefAllowedSortTypes().includes("absolute")?U_e:j_e;return(this.colDef.sortingOrder??this.gos.get("sortingOrder")??e).map(t=>fd(t))}getAvailableSortTypes(){const e=this.getSortingOrder().reduce((t,n)=>(n.direction&&t.push(n.type),t),this.getColDefAllowedSortTypes());return new Set(e)}get wasSortExplicitlyRemoved(){return this._wasSortExplicitlyRemoved}setSortDef(e,t=!1){t||(this._wasSortExplicitlyRemoved=!e.direction),this.sortDef=e}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.getSort()==="asc"}isSortDescending(){return this.getSort()==="desc"}isSortNone(){return Us(this.getSort())}isSorting(){return _n(this.getSort())}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return gn(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e!=null&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!(e!=null&&e.isPadding()))return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Fr(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Us(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Us(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}isAllowFormula(){return this.colDef.allowFormula===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&ql(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function fd(e){return Ym(e)?{direction:e.direction,type:e.type}:{direction:eN(e),type:Rf(e)}}function $A(e){return e==="asc"||e==="desc"||e===null}function UD(e){return e==="default"||e==="absolute"}function Ym(e){if(!e||typeof e!="object")return!1;const t=e;return UD(t.type)&&$A(t.direction)}function v2(e,t){return e?t?e.type===t.type&&e.direction===t.direction:e?e.direction===null:!0:t?t.direction===null:!0}function eN(e){return $A(e)?e:null}function Rf(e){return UD(e)?e:"default"}function bl(e){return e instanceof w2}var w2=class extends Kt{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=Eee(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)l0(t)?e(t):bl(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)l0(t)?e.push(t):bl(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,a=r.length;s<a;s++){const o=r[s];if(!o.isVisible())continue;const l=o.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{for(const r of n)bl(r)&&r.isPadding()?t(r.children):e.push(r)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},H_e={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function iG(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var G_e=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=nB(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const i=String(r);return e&&n>0&&gn(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}};function As(e){if(e!=null&&e.length)return e[e.length-1]}function A0(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i]&&!(n!=null&&n(e[i],t[i])))return!1;return!0}function Jx(e,t){if(e){for(const n of e)if(t(n))return!0}}function Ch(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function sG(e,t,n){for(let r=0;r<t.length;r++)Ch(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var tN="ag-Grid-AutoColumn",Nee="ag-Grid-SelectionColumn",Tee="ag-Grid-RowNumbersColumn";function Iee(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];l0(s)?t.push(s):bl(s)&&n(s.getChildren())}};return n(e),t}function af(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function iE(e,t,n){const r={};if(!t)return;vf(null,t,s=>{r[s.getInstanceId()]=s}),n&&vf(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function HD(e){return e.getId().startsWith(tN)}function p0(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(Nee))??!1}function xf(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(Tee))??!1}function V_e(e){return p0(e)||xf(e)}function sE(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Q_e(e,t){return A0(e,t,(n,r)=>n.getColId()===r.getColId())}function z_e(e){e.map={};for(const t of e.list)e.map[t.getId()]=t}function Xm(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function Ov(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var W_e=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),_n(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),_n(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function K_e(e,t){const n={...e,sort:void 0,colId:t},r=Fee(e);return r&&(n.sort=r.direction,n.sortType=r.type),n}function Fee(e){const{sort:t,initialSort:n}=e,r=Ym(t)||$A(t),i=Ym(n)||$A(n);return r?fd(t):i?fd(n):null}var q_e=(e,t)=>{bl(e)&&e.setupExpandable(),e.originalParent=t};function $_e(e,t=null,n,r,i){const s=new G_e,{existingCols:a,existingGroups:o,existingColKeys:l}=Y_e(r);s.addExistingKeys(l);const c=kee(e,t,0,n,a,s,o,i),{colGroupSvc:d}=e,f=(d==null?void 0:d.findMaxDepth(c,0))??0,p=d?d.balanceColumnTree(c,0,f,s):c;return vf(null,p,q_e),{columnTree:p,treeDepth:f}}function Y_e(e){const t=[],n=[],r=[];return e&&vf(null,e,i=>{if(bl(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function kee(e,t,n,r,i,s,a,o){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){const f=t[d];l&&nDe(f)?c[d]=l.createProvidedColumnGroup(r,f,n,i,s,a,o):c[d]=X_e(e,r,f,i,s,o)}return c}function X_e(e,t,n,r,i,s){var l;const a=Z_e(n,r);a&&(r==null||r.splice(a.idx,1));let o=a==null?void 0:a.column;if(o){const c=dB(e,n,o.getColId());o.setColDef(c,n,s),J_e(e,o,c,s)}else{const c=i.getUniqueKey(n.colId,n.field),d=dB(e,n,c);o=new sg(d,n,c,t),e.context.createBean(o)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(o),o}function Bee(e,t,n,r,i,s,a,o){const{sortSvc:l,pinnedCols:c,colFlex:d}=e;n!==void 0&&t.setVisible(!n,o),l&&(l.updateColSort(t,r,o),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&(c==null||c.setColPinned(t,s)),a!==void 0&&(d==null||d.setColFlex(t,a))}function J_e(e,t,n,r){Bee(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function Z_e(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function dB(e,t,n,r){const{gos:i,dataTypeSvc:s}=e,a={},o=i.get("defaultColDef");ql(a,o,!1,!0);const l=eDe(e,a,t,n);l&&tDe(e,l,a);const c=a.cellDataType;ql(a,t,!1,!0),c!==void 0&&(a.cellDataType=c);const d=i.get("autoGroupColumnDef"),f=cf(i);return t.rowGroup&&d&&f&&ql(a,{sort:d.sort,initialSort:d.initialSort},!1,!0),s==null||s.postProcess(a),s==null||s.validateColDef(a),i.validateColDef(a,n,r),a}function eDe(e,t,n,r){var a;const i=(a=e.dataTypeSvc)==null?void 0:a.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?sE(s):void 0}function tDe(e,t,n){if(!t.length)return;const r=Object.assign({},H_e),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const a=i[s];s in r?gn(34,{key:s}):(a.type&&gn(35),r[s]=a)}for(const s of t){const a=r[s.trim()];a?ql(n,a,!1,!0):gn(36,{t:s})}}function nDe(e){return e.children!==void 0}function vf(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];bl(i)&&vf(i,i.getChildren(),n),n(i,e)}}function Ree(e,t){const n=[],r=[],i=[];return e.forEach(a=>{const o=a.getColDef().lockPosition;o==="right"?i.push(a):o==="left"||o===!0?n.push(a):r.push(a)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function _ee(e,t){let n=!0;return vf(null,t,r=>{if(!bl(r))return;const i=r,s=i.getColGroupDef();if(!(s==null?void 0:s.marryChildren))return;const o=[];for(const p of i.getLeafColumns()){const m=e.indexOf(p);o.push(m)}const l=Math.max.apply(Math,o),c=Math.min.apply(Math,o),d=l-c,f=i.getLeafColumns().length-1;d>f&&(n=!1)}),n}function Dee(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function Pee(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=Dee(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function rDe(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=Dee(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function iDe(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function N1(e,t,n,r,i=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function vd(e,t,n){var U;const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:a,selectionColSvc:o,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:f,valueColsSvc:p,eventSvc:m,gos:w}=e,y=r.getColDefCols()??[],C=o==null?void 0:o.getColumns();if(!y.length&&!(C!=null&&C.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return gn(32),!1;const T=(O,L,K,j,te)=>{if(!O)return;const G=W_e(L,t.defaultState),V=G("flex").value1,re=G("sort").value1,ee=G("sortType").value1,ie=$A(re)||UD(ee),ue=Rf(ee),le=eN(re),xe=ie?{type:ue,direction:le}:void 0;if(Bee(e,O,G("hide").value1,xe,G("sortIndex").value1,G("pinned").value1,V,n),V==null){const ge=G("width").value1;if(ge!=null){const fe=O.getColDef().minWidth??f.getDefaultColumnMinWidth();fe!=null&&ge>=fe&&O.setActualWidth(ge,n)}}te||!O.isPrimary()||(p==null||p.syncColumnWithState(O,n,G),i==null||i.syncColumnWithState(O,n,G,K),s==null||s.syncColumnWithState(O,n,G,j))},k=(O,L,K)=>{var ce,Q;const j=Mee(e,n),te=L.slice(),G={},V={},re=[],ee=[],ie=[];let ue=0;const le=(i==null?void 0:i.columns.slice())??[],xe=(s==null?void 0:s.columns.slice())??[];for(const Y of O){const X=Y.colId;if(X.startsWith(tN)){re.push(Y),ie.push(Y);continue}if(p0(X)){ee.push(Y),ie.push(Y);continue}const oe=K(X);oe?(T(oe,Y,G,V,!1),Ch(te,oe)):(ie.push(Y),ue+=1)}const ge=Y=>T(Y,null,G,V,!1);te.forEach(ge),i==null||i.sortColumns(aG.bind(i,G,le)),s==null||s.sortColumns(aG.bind(s,V,xe)),r.refreshCols(!1,n);const fe=(Y,X,ne=[])=>{for(const oe of X){const Ce=Y(oe.colId);Ch(ne,Ce),T(Ce,oe,null,null,!0)}ne.forEach(ge)};return fe(Y=>(a==null?void 0:a.getColumn(Y))??null,re,(ce=a==null?void 0:a.getColumns())==null?void 0:ce.slice()),fe(Y=>(o==null?void 0:o.getColumn(Y))??null,ee,(Q=o==null?void 0:o.getColumns())==null?void 0:Q.slice()),aDe(t,r,w),c.refresh(n),m.dispatchEvent({type:"columnEverythingChanged",source:n}),j(),{unmatchedAndAutoStates:ie,unmatchedCount:ue}};l==null||l.start();let{unmatchedAndAutoStates:R,unmatchedCount:P}=k(t.state||[],y,O=>r.getColDefCol(O));if(R.length>0||_n(t.defaultState)){const O=((U=d==null?void 0:d.getPivotResultCols())==null?void 0:U.list)??[];P=k(R,O,L=>(d==null?void 0:d.getPivotResultCol(L))??null).unmatchedCount}return l==null||l.finish(),P===0}function sDe(e,t){var k,R;const{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:s,gos:a}=e,o=n.getColDefCols();if(!(o!=null&&o.length))return;const l=n.getColDefColTree(),c=Iee(l),d=[];let f=1e3,p=1e3;const m=P=>{const U=Lee(P);Us(U.rowGroupIndex)&&U.rowGroup&&(U.rowGroupIndex=f++),Us(U.pivotIndex)&&U.pivot&&(U.pivotIndex=p++),d.push(U)};(k=r==null?void 0:r.getColumns())==null||k.forEach(m),(R=i==null?void 0:i.getColumns())==null||R.forEach(m),c==null||c.forEach(m),vd(e,{state:d},t);const w=(r==null?void 0:r.getColumns())??[],T=[...(i==null?void 0:i.getColumns())??[],...w,...o].map(P=>({colId:P.colId}));vd(e,{state:T,applyOrder:!0},t),s.dispatchEvent(Fr(a,{type:"columnsReset",source:t}))}function Mee(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:a,eventSvc:o}=e,l={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(r==null?void 0:r.columns.slice())??[],valueColumns:(i==null?void 0:i.columns.slice())??[]},c=aE(e),d={};for(const f of c)d[f.colId]=f;return()=>{const f=(O,L,K,j)=>{const te=L.map(j),G=K.map(j);if(A0(te,G))return;const re=new Set(L);for(const ie of K)re.delete(ie)||re.add(ie);const ee=[...re];o.dispatchEvent({type:O,columns:ee,column:ee.length===1?ee[0]:null,source:t})},p=O=>{const L=[];return s.forAllCols(K=>{const j=d[K.getColId()];j&&O(j,K)&&L.push(K)}),L},m=O=>O.getColId();f("columnRowGroupChanged",l.rowGroupColumns,(n==null?void 0:n.columns)??[],m),f("columnPivotChanged",l.pivotColumns,(r==null?void 0:r.columns)??[],m);const y=p((O,L)=>{const K=O.aggFunc!=null,j=K!=L.isValueActive(),te=K&&O.aggFunc!=L.getAggFunc();return j||te});y.length>0&&iDe(o,"columnValueChanged",y,t),N1(o,p((O,L)=>O.width!=L.getActualWidth()),!0,t),Pee(o,p((O,L)=>O.pinned!=L.getPinned()),t),rDe(o,p((O,L)=>O.hide==L.isVisible()),t);const P=p((O,L)=>!v2(L.getSortDef(),{type:Rf(O.sortType),direction:eN(O.sort)})||O.sortIndex!=L.getSortIndex());P.length>0&&(a==null||a.dispatchSortChangedEvents(t,P));const U=aE(e);lDe(c,U,t,s,o)}}function aE(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(Us(i)||!t.isAlive())return[];const s=n==null?void 0:n.columns,a=r==null?void 0:r.columns,o=[],l=d=>{var y;const f=d.isRowGroupActive()&&s?s.indexOf(d):null,p=d.isPivotActive()&&a?a.indexOf(d):null,m=d.isValueActive()?d.getAggFunc():null,w=d.getSortIndex()!=null?d.getSortIndex():null;o.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:d.getSort(),sortType:(y=d.getSortDef())==null?void 0:y.type,sortIndex:w,aggFunc:m,rowGroup:d.isRowGroupActive(),rowGroupIndex:f,pivot:d.isPivotActive(),pivotIndex:p,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));const c=new Map(t.getCols().map((d,f)=>[d.getColId(),f]));return o.sort((d,f)=>{const p=c.has(d.colId)?c.get(d.colId):-1,m=c.has(f.colId)?c.get(f.colId):-1;return p-m}),o}function Lee(e){const t=(C,T)=>C??T??null,n=e.getColDef(),r=fd(t(n.sort,n.initialSort)),i=r.direction,s=r.type,a=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),l=t(n.pinned,n.initialPinned),c=t(n.width,n.initialWidth),d=t(n.flex,n.initialFlex);let f=t(n.rowGroupIndex,n.initialRowGroupIndex),p=t(n.rowGroup,n.initialRowGroup);f==null&&!p&&(f=null,p=null);let m=t(n.pivotIndex,n.initialPivotIndex),w=t(n.pivot,n.initialPivot);m==null&&!w&&(m=null,w=null);const y=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortType:s,sortIndex:a,hide:o,pinned:l,width:c,flex:d,rowGroup:p,rowGroupIndex:f,pivot:w,pivotIndex:m,aggFunc:y}}function aDe(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];for(const i of e.state)i.colId!=null&&r.push(i.colId);oDe(t.cols,r,t,n)}function oDe(e,t,n,r){if(e==null)return;let i=[];const s={};for(const o of t){if(s[o])continue;const l=e.map[o];l&&(i.push(l),s[o]=!0)}let a=0;for(const o of e.list){const l=o.getColId();if(s[l]!=null)continue;l.startsWith(tN)?i.splice(a++,0,o):i.push(o)}if(i=Ree(i,r),!_ee(i,n.getColTree())){gn(39);return}e.list=i}function lDe(e,t,n,r,i){const s={};for(const d of t)s[d.colId]=d;const a={};for(const d of e)s[d.colId]&&(a[d.colId]=!0);const o=e.filter(d=>a[d.colId]),l=t.filter(d=>a[d.colId]),c=[];l.forEach((d,f)=>{const p=o==null?void 0:o[f];if(p&&p.colId!==d.colId){const m=r.getCol(p.colId);m&&c.push(m)}}),c.length&&i.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var aG=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],a=i!=null,o=s!=null;if(a&&o)return i-s;if(a)return-1;if(o)return 1;const l=t.indexOf(n),c=t.indexOf(r),d=l>=0,f=c>=0;return d&&f?l-c:d?-1:1},cDe=class extends Kt{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(Xm(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Xm(e.source)))}createColsFromColDefs(e){var k,R,P;const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:a,visibleCols:o,eventSvc:l,groupHierarchyColSvc:c}=t,d=this.colDefs?Mee(t,e):void 0;n==null||n.expire();const f=(k=this.colDefCols)==null?void 0:k.list,p=(R=this.colDefCols)==null?void 0:R.tree,m=$_e(t,this.colDefs,!0,p,e);iE(t,(P=this.colDefCols)==null?void 0:P.tree,m.columnTree);const w=m.columnTree,y=m.treeDepth,C=Iee(w),T={};for(const U of C)T[U.getId()]=U;this.colDefCols={tree:w,treeDepth:y,list:C,map:T},this.createColumnsForService([c],this.colDefCols,e),i==null||i.extractCols(e,f),s==null||s.extractCols(e,f),a==null||a.extractCols(e,f),this.ready=!0,this.changeEventsDispatching=!0,this.refreshCols(!0,e),this.changeEventsDispatching=!1,o.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(r==null||r.applyAutosizeStrategy())}refreshCols(e,t){var C;if(!this.colDefCols)return;const n=(C=this.cols)==null?void 0:C.tree;this.saveColOrder();const{autoColSvc:r,selectionColSvc:i,rowNumbersSvc:s,quickFilter:a,pivotResultCols:o,showRowGroupCols:l,rowAutoHeight:c,visibleCols:d,colViewport:f,eventSvc:p,formula:m}=this.beans,w=this.selectCols(o,this.colDefCols);m==null||m.setFormulasActive(w),this.createColumnsForService([r,i,s],w,t);const y=b_e(this.gos,this.showingPivotResult);(!e||y)&&this.restoreColOrder(w),this.positionLockedCols(w),l==null||l.refresh(),a==null||a.refreshCols(),this.setColSpanActive(),c==null||c.setAutoHeightActive(w),d.clear(),f.clear(),A0(n,this.cols.tree)||p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,n){for(const r of e)r&&(r.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)},n),r.addColumns(t))}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:a}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:a},n&&(n.list.some(l=>{var c;return((c=this.cols)==null?void 0:c.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{beans:e,showingPivotResult:t,cols:n}=this,{valueColsSvc:r,selectionColSvc:i}=e,s=this.isPivotMode()&&!t,a=i==null?void 0:i.isSelectionColumnEnabled(),o=y_e(e),l=r==null?void 0:r.columns;return n.list.filter(d=>{const f=HD(d);if(s){const p=l==null?void 0:l.includes(d);return f||p||a&&p0(d)||o&&xf(d)}else return f||d.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){vd(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(f=>e.map[f.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=f=>{const p=f.getOriginalParent();return p?p.getChildren().length>1?!0:r(p):!1};if(!n.some(f=>r(f))){const f=new Set(n);for(const p of e.list)f.has(p)||n.push(p);e.list=n;return}const i=new Map;for(let f=0;f<n.length;f++){const p=n[f];i.set(p,f)}const s=e.list.filter(f=>!i.has(f));if(s.length===0){e.list=n;return}const a=(f,p)=>{const m=p?p.getOriginalParent():f.getOriginalParent();if(!m)return null;let w=null,y=null;for(const C of m.getChildren())if(!(C===p||C===f)){if(C instanceof sg){const T=i.get(C);if(T==null)continue;(w==null||w<T)&&(w=T,y=C);continue}C.forEachLeafColumn(T=>{const k=i.get(T);k!=null&&(w==null||w<k)&&(w=k,y=T)})}return y??a(f,m)},o=[],l=new Map;for(const f of s){const p=a(f,null);if(p==null){o.push(f);continue}const m=l.get(p);m===void 0?l.set(p,f):Array.isArray(m)?m.push(f):l.set(p,[m,f])}const c=new Array(e.list.length);let d=c.length-1;for(let f=o.length-1;f>=0;f--)c[d--]=o[f];for(let f=n.length-1;f>=0;f--){const p=n[f],m=l.get(p);if(m)if(Array.isArray(m))for(let w=m.length-1;w>=0;w--){const y=m[w];c[d--]=y}else c[d--]=m;c[d--]=p}e.list=c}positionLockedCols(e){e.list=Ree(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(e){var t,n;return this.colDefCols&&((n=this.beans.colDefFactory)==null?void 0:n.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((t=this.cols)==null?void 0:t.list)??[],e))}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var n;if(!this.cols)return;(n=this.beans.autoColSvc)==null||n.updateColumns(e);const t=Xm(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;iE(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var s,a,o,l,c;const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r,groupHierarchyColSvc:i}=this.beans;Jx((s=this.colDefCols)==null?void 0:s.list,e)||Jx((a=n==null?void 0:n.columns)==null?void 0:a.list,e)||Jx((o=r==null?void 0:r.columns)==null?void 0:o.list,e)||Jx((l=i==null?void 0:i.columns)==null?void 0:l.list,e)||Jx((c=t==null?void 0:t.getPivotResultCols())==null?void 0:c.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){var t;return((t=this.cols)==null?void 0:t.map[e])??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let o=0;o<r.length;o++)if(Ov(r[o],e))return r[o];const{autoColSvc:i,selectionColSvc:s,groupHierarchyColSvc:a}=this.beans;return(i==null?void 0:i.getColumn(e))??(s==null?void 0:s.getColumn(e))??(a==null?void 0:a.getColumn(e))??null}},Oee=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},$1=class extends Kt{};function wb(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var er=null;function oG(e){return typeof(e==null?void 0:e.getGui)=="function"}var bb=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){var r;if(!e)return;if(e.includes(" ")){const i=(e||"").split(" ");if(i.length>1){for(const s of i)this.toggleCss(s,t);return}}this.cssClassStates[e]!==t&&e.length&&((r=this.getGui())==null||r.classList.toggle(e,t),this.cssClassStates[e]=t)}},uDe=0,Y1=class extends ec{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=uDe++,this.cssManager=new bb(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);for(const r of this.css??[])this.beans.environment.addGlobalCSS(r,e)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(tee):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===er)this[t]=r??e;else{const s=n==null?void 0:n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);for(const r of n){if(!(r instanceof HTMLElement))continue;const i=this.createComponentFromElement(r,s=>{const a=s.getGui();if(a)for(const o of r.attributes??[])a.setAttribute(o.name,o.value)},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)}}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,a=s?this.componentSelectors.get(r):null;let o=null;if(a){const l=n&&i?n[i]:void 0;o=new a.component(l),o.setParentComponent(this),this.createBean(o,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,o),o}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e,t){const n=t??this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const r of e)r.setAttribute("tabindex",n.toString())}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=BD(e):r=qA(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),DD(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;URe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;hs(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Ea=class extends Y1{};function jee(e){return typeof e=="object"&&!!e.component}function dDe(e,t){return new gi(n=>{n(window.setInterval(e,t))})}var gi=class mv{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new mv(n=>{let r=t.length;const i=new Array(r);t.forEach((s,a)=>{s.then(o=>{i[a]=o,r--,r===0&&n(i)})})}):mv.resolve()}static resolve(t=null){return new mv(n=>n(t))}then(t){return new mv(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t;for(const n of this.waiters)n(t)}onReject(t){}};function hDe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function Uee(e,t,n,r){const{name:i}=n;let s,a,o,l,c,d;if(t){const f=t,p=f[i+"Selector"],m=p?p(r):null,w=y=>{typeof y=="string"?s=y:y!=null&&y!==!0&&(e.isFrameworkComponent(y)?o=y:a=y)};m?(w(m.component),l=m.params,c=m.popup,d=m.popupPosition):w(f[i])}return{compName:s,jsComp:a,fwComp:o,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var fDe=class extends Kt{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){var R;const{name:s,cellRenderer:a}=t;let{compName:o,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:f,popupPositionFromSelector:p}=Uee(this.beans.frameworkOverrides,e,t,r),m,w;const y=P=>{const U=this.registry.getUserComponent(s,P);U&&(l=U.componentFromFramework?void 0:U.component,c=U.componentFromFramework?U.component:void 0,m=U.params,w=U.processParams)};if(o!=null&&y(o),l==null&&c==null&&n!=null&&y(n),l&&a&&!hDe(l)&&(l=(R=this.agCompUtils)==null?void 0:R.adaptFunction(t,l)),!l&&!c){const{validation:P}=this.beans;i&&(o!==n||!n)?o?P!=null&&P.isProvidedUserComp(o)||es(50,{compName:o}):n?P||es(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):es(216,{name:s}):n&&!P&&es(146,{comp:n});return}const C=this.mergeParams(e,t,r,d,m,w),T=l==null,k=l??c;return{componentFromFramework:T,componentClass:k,params:C,type:t,popupFromSelector:f,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(k,T,C,t)}}newAgStackInstance(e,t,n,r){var o;const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const a=(o=s.init)==null?void 0:o.call(s,n);return a==null?gi.resolve(s):a.then(()=>s)}mergeParams(e,t,n,r=null,i,s){const a={...n,...i},o=e,l=o==null?void 0:o[t.name+"Params"];if(typeof l=="function"){const c=l(n);ql(a,c)}else typeof l=="object"&&ql(a,l);return ql(a,r),s?s(a):a}},ADe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},pDe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},gDe={name:"headerComponent",optionalMethods:["refresh"]},mDe={name:"innerHeaderComponent"},xDe={name:"innerHeaderGroupComponent"},vDe={name:"headerGroupComponent"},wDe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},bDe={name:"loadingCellRenderer",cellRenderer:!0},yDe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},CDe={name:"tooltipComponent"},GD={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},SDe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},EDe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},NDe={name:"loadingCellRenderer",cellRenderer:!0},TDe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},IDe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function FDe(e,t){return e.getCompDetailsFromGridOptions(pDe,"agDragAndDropImage",t,!0)}function kDe(e,t,n){return e.getCompDetails(t,gDe,"agColumnHeader",n)}function BDe(e,t,n){return e.getCompDetails(t,mDe,void 0,n)}function RDe(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,vDe,"agColumnGroupHeader",t)}function _De(e,t,n){return e.getCompDetails(t,xDe,void 0,n)}function DDe(e,t){return e.getCompDetailsFromGridOptions(EDe,void 0,t,!0)}function PDe(e,t){return e.getCompDetailsFromGridOptions(NDe,"agLoadingCellRenderer",t,!0)}function MDe(e,t){return e.getCompDetailsFromGridOptions(TDe,"agGroupRowRenderer",t,!0)}function LDe(e,t){return e.getCompDetailsFromGridOptions(IDe,"agDetailCellRenderer",t,!0)}function lG(e,t,n){return e.getCompDetails(t,wDe,void 0,n)}function cG(e,t,n){return e.getCompDetails(t,bDe,"agSkeletonCellRenderer",n,!0)}function Hee(e,t,n){return e.getCompDetails(t,yDe,"agCellEditor",n,!0)}function ODe(e,t,n,r){const i=t.filter;return jee(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,GD,r,n,!0)}function jDe(e,t,n){return e.getCompDetails(t,ADe,"agDateInput",n,!0)}function UDe(e,t){return e.getCompDetails(t.colDef,CDe,"agTooltipComponent",t,!0)}function HDe(e,t,n,r){return e.getCompDetails(t,SDe,r,n)}function Gee(e,t){return Uee(e,t,GD)}function gF(e,t,n){return e.mergeParams(t,GD,n)}function Fw(e){const t=e;return(t==null?void 0:t.getFrameworkComponentInstance)!=null?t.getFrameworkComponentInstance():e}function GDe(e){return typeof e=="object"&&!!e.getComp}var Rt={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},VDe=65,QDe=67,zDe=86,WDe=68,KDe=90,qDe=89;function Vee(e){const{keyCode:t}=e;let n;switch(t){case VDe:n=Rt.A;break;case QDe:n=Rt.C;break;case zDe:n=Rt.V;break;case WDe:n=Rt.D;break;case KDe:n=Rt.Z;break;case qDe:n=Rt.Y;break;default:n=e.code}return n}var VD=class extends Y1{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;(e==null?void 0:e.isAlive())&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},mF,xF,vF,wF,hB,fB,bF;function g0(){return mF===void 0&&(mF=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),mF}function kw(){return xF===void 0&&(xF=/(firefox)/i.test(navigator.userAgent)),xF}function Qee(){return vF===void 0&&(vF=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),vF}function bp(){return wF===void 0&&(wF=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),wF}function AB(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!kw())?null:t.toString()}function $De(){if(bF!==void 0)return bF;if(!document.body)return-1;let e=1e6;const t=kw()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return n.remove(),bF=e,e}function YDe(){return fB==null&&zee(),fB}function zee(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(fB=n,hB=n===0)}function Wee(){return hB==null&&zee(),hB}var pB=!1,oE=0;function XDe(e){oE>0||(e.addEventListener("keydown",lE),e.addEventListener("mousedown",lE))}function JDe(e){oE>0||(e.removeEventListener("keydown",lE),e.removeEventListener("mousedown",lE))}function lE(e){const t=pB,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(pB=n)}function ZDe(e){const t=Oo(e);return XDe(t),oE++,()=>{oE--,JDe(t)}}function Kee(){return pB}function Jm(e,t,n=!1){const r=jRe;let i=XZ;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>Qf(l)),a=Array.prototype.slice.apply(e.querySelectorAll(i));return a.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(s,a):s}function zp(e,t=!1,n=!1,r=!1){const i=Jm(e,r?".ag-tab-guard":null,n),s=t?As(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function ag(e,t,n,r){const i=Jm(t,n?':not([tabindex="-1"])':null),s=Js(e);let a;n?a=i.findIndex(l=>l.contains(s)):a=i.indexOf(s);const o=a+(r?-1:1);return o<0||o>=i.length?null:i[o]}function qee(e,t=5){let n=0;for(;e&&AB(e)===null&&++n<=t;)e=e.parentElement;return AB(e)===null?null:e}var ePe="ag-focus-managed",$ee=class extends ec{constructor(e,t={isStopPropagation:()=>!1,stopPropagation:()=>{}},n={}){super(),this.eFocusable=e,this.stopPropagationCallbacks=t,this.callbacks=n,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const i=ag(this.beans,this.eFocusable,!1,r.shiftKey);i&&(i.focus(),r.preventDefault())},...n}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(ePe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||this.stopPropagationCallbacks.isStopPropagation(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){this.stopPropagationCallbacks.stopPropagation(t);return}t.key===Rt.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},Zm={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},Yee=class extends ec{constructor(e,t){super(),this.stopPropagationCallbacks=t,this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:n,eTopGuard:r,eBottomGuard:i,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:a,isFocusableContainer:o,focusInnerElement:l,onFocusIn:c,onFocusOut:d,shouldStopEventPropagation:f,onTabKeyDown:p,handleKeyDown:m,isEmpty:w,eFocusableElement:y}=e;this.comp=n,this.eTopGuard=r,this.eBottomGuard=i,this.providedFocusInnerElement=l,this.eFocusableElement=y,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!a,this.isFocusableContainer=!!o,this.providedFocusIn=c,this.providedFocusOut=d,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=m,this.providedIsEmpty=w}postConstruct(){this.createManagedBean(new $ee(this.eFocusableElement,this.stopPropagationCallbacks,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Jm(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var l;const t=Oo(this.beans),n=Jm(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const a=n.slice(i,s),o=this.gos.get("tabIndex");a.sort((c,d)=>{const f=Number.parseInt(c.getAttribute("tabindex")||"0"),p=Number.parseInt(d.getAttribute("tabindex")||"0");return p===o?1:f===o?-1:f===0?1:p===0?-1:f-p}),(l=a[e?a.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Jm(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return ag(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},tPe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick??20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Xee="ag-resizer-wrapper",bA=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),nPe={tag:"div",cls:Xee,children:[bA("eTopLeft","topLeft"),bA("eTop","top"),bA("eTopRight","topRight"),bA("eRight","right"),bA("eBottomRight","bottomRight"),bA("eBottom","bottom"),bA("eBottomLeft","bottomLeft"),bA("eLeft","left")]},rPe=class extends ec{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config={popup:!1,...t}}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:s,height:a,x:o,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0;const f=Qf(this.element);if(f){const p=this.findBoundaryElement(),m=window.getComputedStyle(p);if(m.minWidth!=null){const w=p.offsetWidth-this.element.offsetWidth;d=Number.parseInt(m.minWidth,10)-w}if(m.minHeight!=null){const w=p.offsetHeight-this.element.offsetHeight;c=Number.parseInt(m.minHeight,10)-w}}if(this.minHeight=s||c,this.minWidth=r||d,i&&this.setWidth(i),a&&this.setHeight(a),(!i||!a)&&this.refreshSize(),t)this.center(e);else if(o||l)this.offsetElement(o,l,e);else if(f&&n){let p=this.boundaryEl,m=!0;if(p||(p=this.findBoundaryElement(),m=!1),p){const w=Number.parseFloat(p.style.top),y=Number.parseFloat(p.style.left);m?this.offsetElement(Number.isNaN(y)?0:y,Number.isNaN(w)?0:w,e):this.setPosition(y,w)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var r,i;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((r=this.dragSvc)==null||r.addDragSource(n),this.moveElementDragListener=n):((i=this.dragSvc)==null||i.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){var t;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}for(const n of Object.keys(e)){const r=!!e[n],i=this.getResizerElement(n),s={dragStartPixels:0,eElement:i,onDragStart:a=>this.onResizeStart(a,n),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,n)};(r||!this.isAlive()&&!r)&&(r?((t=this.dragSvc)==null||t.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[n]=r)}}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.includes("%"))Mv(n,e),e=JZ(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Mv(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,a=e?0:i.top;let o=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();o=d-r.bottom}}return n+a-s-o}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.includes("%"))gh(t,e),e=$S(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?gh(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){var s;const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&((s=this.popupSvc)==null||s.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(i.style.left),Number.parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){var n,r;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?((n=this.resizeObserverSubscriber)==null||n.call(this),this.resizeObserverSubscriber=zf(this.beans,(r=this.popupSvc)==null?void 0:r.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,a=t.clientX-this.dragStartPosition.x,o=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,a)?0:a,c=this.shouldSkipY(t,!!r,s,o)?0:o;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),o=this.config.popup?this.position.x:i.left;let l=o<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=a.right;return l?!0:(t?l=r<0&&e.clientX>o+s.left||r>0&&e.clientX<o+s.left:n?l=r<0&&e.clientX>a.right||r>0&&e.clientX<o+s.left:l=r<0&&e.clientX>a.right||r>0&&e.clientX<a.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),o=this.config.popup?this.position.y:i.top;let l=o<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=a.bottom;return l?!0:(t?l=r<0&&e.clientY>o+s.top+n||r>0&&e.clientY<o+s.top:l=r<0&&e.clientY>a.bottom||r>0&&e.clientY<a.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(qA(nPe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${Xee}`);e==null||e.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(const r of e){const i=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(i){const o=window.getComputedStyle(r);o.minHeight&&(s=Number.parseInt(o.minHeight,10)),o.minWidth&&(a=Number.parseInt(o.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:a}=this.currentResizer,o=i||a,l=s||r,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:a,isTop:r}),f=this.position.x,p=this.position.y;let m=0,w=0;if(o&&c){const y=a?-1:1,C=this.getWidth(),T=C+c*y;let k=!1;a&&(m=C-T,(f+m<=0||T<=this.minWidth)&&(k=!0,m=0)),k||this.setWidth(T)}if(l&&d){const y=r?-1:1,C=this.getHeight(),T=C+d*y;let k=!1;r?(w=C-T,(p+w<=0||T<=this.minHeight)&&(k=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<T&&this.getMinSizeOfSiblings().height+T>this.element.parentElement.offsetHeight&&(k=!0),k||this.setHeight(T)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&m||w)&&this.offsetElement(f+m,p+w)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},QD="T",iPe=new RegExp(`[${QD} ]`),sPe=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${QD}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function oh(e,t){return e.toString().padStart(t,"0")}function tu(e,t=!0,n=QD){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>oh(i,2)).join("-");return t&&(r+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>oh(i,2)).join(":")),r}function wC(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),oh(e.getDate(),2),oh(e.getHours(),2),`:${oh(e.getMinutes(),2)}`,`:${oh(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,oh(e.getDate(),2)].map(String):null}var yF=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},uG=["January","February","March","April","May","June","July","August","September","October","November","December"],CF=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function gB(e,t){if(t==null)return tu(e,!1);const n=oh(e.getFullYear(),4),r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>uG[e.getMonth()],MMM:()=>uG[e.getMonth()].slice(0,3),MM:()=>oh(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${yF(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${yF(e.getDate())}`,DD:()=>oh(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>CF[e.getDay()],ddd:()=>CF[e.getDay()].slice(0,3),dd:()=>CF[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${yF(e.getDay())}`,d:()=>`${e.getDay()}`},i=new RegExp(Object.keys(r).join("|"),"g");return t.replace(i,s=>s in r?r[s]():s)}function b2(e,t=!1){return!!Bc(e,t)}function aPe(e){return b2(e,!0)}function Bc(e,t=!1,n){if(!e||!n&&!sPe.test(e))return null;const[r,i]=e.split(iPe);if(!r)return null;const s=r.split("-").map(m=>Number.parseInt(m,10));if(s.filter(m=>!isNaN(m)).length!==3)return null;const[a,o,l]=s,c=new Date(a,o-1,l);if(c.getFullYear()!==a||c.getMonth()!==o-1||c.getDate()!==l||!i&&t)return null;if(!i||i==="00:00:00")return c;const[d,f,p]=i.split(":").map(m=>Number.parseInt(m,10));if(d>=0&&d<24)c.setHours(d);else if(t)return null;if(f>=0&&f<60)c.setMinutes(f);else if(t)return null;if(p>=0&&p<60)c.setSeconds(p);else if(t)return null;return c}function mB(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e;let s=(n??[]).map((l,c)=>({value:l,relevance:oPe(t,l),idx:c}));if(s.sort((l,c)=>l.relevance-c.relevance),r&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const c=s[0].relevance*i;s=s.filter(d=>c-d.relevance<0)}const a=[],o=[];for(const l of s)a.push(l.value),o.push(l.idx);return{values:a,indices:o}}function oPe(e,t){const n=e.length,r=t.length;if(r===0)return n||0;let i=e.toLocaleLowerCase(),s=t.toLocaleLowerCase(),a;e.length<t.length&&(a=s,s=i,i=a,a=t,t=e,e=a);let o=new Uint16Array(r+1),l=new Uint16Array(r+1);for(let f=0;f<=r;f++)o[f]=f;let c=0;const d=n/2-10;for(let f=1;f<=n;f++){const p=e[f-1],m=i[f-1];l[0]=f;for(let w=1;w<=r;w++){const y=t[w-1],C=s[w-1];if(m!==C){const T=l[w-1],k=o[w],R=o[w-1];let P=T<k?T:k;R<P&&(P=R),l[w]=P+1|0;continue}if(c++,p===y&&c++,f>1&&w>1){const T=e[f-2],k=i[f-2],R=t[w-2],P=s[w-2];k===P&&(c++,T===R&&c++)}f<d&&c++,l[w]=o[w-1]}a=o,o=l,l=a}return o[r]/(c+1)}function Jee(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}var lPe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",cPe=class extends Y1{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(lPe)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i,labelEllipsis:s}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),s!=null&&this.setLabelEllipsis(s),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;kc(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(hs(t,!1),Gp(t,"presentation")):(hs(t,!0),Gp(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(JS(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Sw(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Zee=class extends cPe{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n,ariaLabel:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),r!=null&&this.setAriaLabel(r),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||ERe(e)!==null?Cw(e,""):Cw(e,t??"")}setAriaLabel(e){return S1(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return gh(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function uPe(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var tp=class extends Zee{constructor(e,t,n="text",r="input"){super(e,(e==null?void 0:e.template)??uPe(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=er,this.eWrapper=er,this.eInput=er}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s,inputPlaceholder:a,autoComplete:o,tabIndex:l}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),a!=null&&this.setInputPlaceholder(a),o!=null&&this.setAutoComplete(o),this.addInputListeners(),this.activateTabIndex([n],l)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Ec(this.eInput,"type",e))}getInputElement(){return this.eInput}getWrapperElement(){return this.eWrapper}setInputWidth(e){return JS(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Ec(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return S1(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Sw(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Ec(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Ec(this.eInput,"autocomplete",t)}return this}},zD=class extends tp{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t,name:n}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t),n!=null&&this.setName(n)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},WD={selector:"AG-CHECKBOX",component:zD},dPe=class extends zD{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},og=class extends tp{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=_n(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}setCustomValidity(e){const t=this.eInput,n=e.length>0;t.setCustomValidity(e),n&&t.reportValidity(),ID(t,n)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{Jee(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var i;const r=(i=n.clipboardData)==null?void 0:i.getData("text");r!=null&&r.split("").some(s=>!e.test(s))&&n.preventDefault()}})}},nN={selector:"AG-INPUT-TEXT-FIELD",component:og},hPe=class extends tp{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},fPe={selector:"AG-INPUT-TEXT-AREA",component:hPe},KD=class extends og{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=Number.parseFloat(e.value),a=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==a&&this.setValue(a)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){Js(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=Number.parseFloat(e).toFixed(n);return Number.parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Ec(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Ec(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Ec(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(_n(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(e=!1){const t=this.eInput;if(!t.validity.valid&&!e)return;const n=t.value;return this.isScientificNotation(n)?this.adjustPrecision(n,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},APe={selector:"AG-INPUT-NUMBER-FIELD",component:KD},pPe=class extends og{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=g0();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Js(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?tu(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Ec(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?tu(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Ec(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Ec(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Bc(this.getValue())??void 0}setDate(e,t){this.setValue(tu(e??null,this.includeTime),t)}},ete={selector:"AG-INPUT-DATE-FIELD",component:pPe},gPe=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",mPe="ag-active-item",xPe=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",ref:"eText",children:t}]}),vPe=class extends Y1{constructor(e,t,n){super(xPe(e,t)),this.label=t,this.value=n,this.eText=er}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(mPe,e),YZ(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const n=this.getGui();kRe(n,e),FRe(n,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>RD(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},wPe=class extends Y1{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(gPe)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case Rt.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const n=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(n)}break;case Rt.DOWN:case Rt.UP:e.preventDefault(),this.navigate(t);break;case Rt.PAGE_DOWN:case Rt.PAGE_UP:case Rt.PAGE_HOME:case Rt.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(const e of this.listItems)e.destroy();kc(this.getGui()),this.listItems=[],this.refreshAriaRole()}updateOptions(e){const t=this.options!==e;return t&&(this.clearOptions(),this.addOptions(e)),t}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!Qf(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const n=this.getGui(),{scrollTop:r,clientHeight:i}=n,{offsetTop:s,offsetHeight:a}=t;(s+a>r+i||s<r)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){var e,t;(t=(e=this.highlightedItem)==null?void 0:e.tooltipFeature)==null||t.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){var e;(e=this.highlightedItem)==null||e.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const n=new vPe(this.cssIdentifier,t,e);n.setParentComponent(this);const r=this.createManagedBean(n);this.listItems.push(r),this.getGui().appendChild(r.getGui())}navigate(e){const t=e===Rt.DOWN;let n;const{listItems:r,highlightedItem:i}=this;if(!i)n=t?r[0]:As(r);else{let a=r.indexOf(i)+(t?1:-1);a=Math.min(Math.max(a,0),r.length-1),n=r[a]}this.highlightItem(n)}navigateToPage(e){const{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].getHeight(),a=Math.floor(this.getGui().clientHeight/s);let o=-1;e===Rt.PAGE_HOME?o=0:e===Rt.PAGE_END?o=i:e===Rt.PAGE_DOWN?o=Math.min(r+a,i):e===Rt.PAGE_UP&&(o=Math.max(r-a,0)),o!==-1&&this.highlightItem(t[o])}refreshAriaRole(){Gp(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((n,r)=>{n.setIndex(r+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},bPe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",yPe={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},CPe=class extends Zee{constructor(e){if(super(e,(e==null?void 0:e.template)||yPe,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=er,this.eWrapper=er,this.eDisplayField=er,this.eIcon=er,this.registerCSS(bPe),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=this.beans.iconSvc.createIconNoSpan(n);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),rB(e,!1),this.ariaRole&&Gp(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Rt.UP:case Rt.DOWN:case Rt.ENTER:case Rt.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Rt.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:a,maxPickerWidth:o,variableWidth:l,beans:c,eWrapper:d}=this,f={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const y=ND(c);this.beforeHidePicker(),y&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:d};e.style.position="absolute";const p=c.popupSvc,m=p.addPopup(f);l?(a&&(e.style.minWidth=a),e.style.width=_D($S(d)),o&&(e.style.maxWidth=o)):JS(e,o??$S(d));const w=s??`${FD(p.getPopupParent())}px`;return e.style.setProperty("max-height",w),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,a=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:a,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();rB(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return JS(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},SPe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}",qD=class extends CPe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(SPe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:h2(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new wPe("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),ORe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r==null||r.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){var e;(e=this.listComponent)==null||e.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){var n;const{key:t}=e;switch(t===Rt.TAB&&this.hidePicker(),t){case Rt.ENTER:case Rt.UP:case Rt.DOWN:case Rt.PAGE_UP:case Rt.PAGE_DOWN:case Rt.PAGE_HOME:case Rt.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case Rt.ESCAPE:super.onKeyDown(e);break;case Rt.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this.setValue(void 0,!0),this}updateOptions(e){var t;return(t=this.listComponent)!=null&&t.updateOptions(e)&&this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:a}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,a==null||a.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},EPe={selector:"AG-SELECT",component:qD},NPe=':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',CW,SW,$D=typeof window!="object"||!((SW=(CW=window==null?void 0:window.document)==null?void 0:CW.fonts)!=null&&SW.forEach),T1=(e,t,n,r,i,s)=>{if($D)return;r&&(e=`@layer ${CSS.escape(r).replaceAll("\\.",".")} { ${e} }`);let a=e1.map.get(t);if(a||(a=[],e1.map.set(t,a)),a.some(d=>d.css===e))return;const o=document.createElement("style");s&&o.setAttribute("nonce",s),o.dataset.agGlobalCss=n,o.textContent=e;const l={css:e,el:o,priority:i};let c;for(const d of a){if(d.priority>i)break;c=d}if(c){c.el.insertAdjacentElement("afterend",o);const d=a.indexOf(c);a.splice(d+1,0,l)}else t.insertBefore(o,t.querySelector(":not(title, meta)")),a.push(l)},tte=(e,t,n,r)=>{T1(NPe,e,"shared",t,0,n),r==null||r.forEach((i,s)=>i.forEach(a=>T1(a,e,s,t,0,n)))},TPe=e=>{e1.grids.add(e)},IPe=e=>{if(e1.grids.delete(e),e1.grids.size===0){e1.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},dG,e1=(dG=typeof window=="object"?window:{}).agStyleInjectionState??(dG.agStyleInjectionState={map:new WeakMap,grids:new Set}),Sh=e=>new nte(e),BA="$default",FPe=0,nte=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[BA]:{...n[BA]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++FPe}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const a of this.cssImports??[])i=`@import url(${JSON.stringify(a)});
${i}`;r={css:i,class:s}}else r=!1;this._inject=r}return r&&e&&T1(r.css,e,r.class,t,1,n),r?r.class:!1}},kPe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),rte=e=>`--ag-${kPe(e)}`,Eh=e=>`var(${rte(e)})`,BPe=(e,t,n)=>Math.max(t,Math.min(n,e)),RPe=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},ih=e=>({ref:"accentColor",mix:e}),vu=e=>({ref:"foregroundColor",mix:e}),Tu=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),_Pe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Nc={ref:"backgroundColor"},Nm={ref:"foregroundColor"},uf={ref:"accentColor"},cE={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:vu(.15),chromeBackgroundColor:Tu(.02),browserColorScheme:"light"},DPe={...cE,textColor:Nm,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:ih(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:Nc,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:uf,toggleButtonOffBackgroundColor:Tu(.3),toggleButtonSwitchBackgroundColor:Nc,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}},PPe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],MPe=RPe(e=>(e=e.toLowerCase(),PPe.find(t=>e.endsWith(t.toLowerCase()))??"length")),rN=e=>typeof e=="object"&&(e!=null&&e.ref)?Eh(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,YD=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Eh(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Eh(e.onto):"transparent"}, ${t} ${BPe(e.mix*100,0,100)}%)`}return!1},LPe=rN,Tm=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:" "+Eh(n)+" ")})`:e&&"ref"in e?Eh(e.ref):!1,OPe=rN,xB=(e,t)=>typeof e=="string"?e:e===!0?xB({},t):e===!1?t==="columnBorder"?xB({color:"transparent"},t):"none":e&&"ref"in e?Eh(e.ref):ite(e.style??"solid")+" "+Tm(e.width??{ref:"borderWidth"})+" "+YD(e.color??{ref:"borderColor"}),jPe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Eh(e.ref):[Tm(e.offsetX??0),Tm(e.offsetY??0),Tm(e.radius??0),Tm(e.spread??0),YD(e.color??{ref:"foregroundColor"})].join(" "),ite=rN,ste=e=>typeof e=="string"?e.includes(",")?e:hG(e):e&&"googleFont"in e?ste(e.googleFont):e&&"ref"in e?Eh(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),hG(t))).join(", "):!1,hG=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),UPe=rN,ate=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?ate({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Eh(e.ref):!1,HPe=(e,t,n)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Eh(e.ref):!1,GPe={color:YD,colorScheme:LPe,length:Tm,scale:OPe,border:xB,borderStyle:ite,shadow:jPe,image:ate,fontFamily:ste,fontWeight:UPe,duration:HPe},VPe=(e,t,n)=>{const r=MPe(e);return GPe[r](t,e,n)},QPe=e=>new ote(e),ote=class lte{constructor(t,n=[]){this.themeLogger=t,this.parts=n}withPart(t){return typeof t=="function"&&(t=t()),t instanceof nte?new lte(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(Sh({feature:t}))}withParams(t,n=BA){return this.withPart(Sh({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:i,moduleCss:s}){if($D)return;WPe(),tte(t,n,r,s);const a=zPe(this);if(a.length>0)for(const o of a)i&&KPe(o,r);for(const o of this.parts)o.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=fG(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[BA]:{...DPe}};for(const r of fG(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const a=n[i]??(n[i]={}),o=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(a[l]=c,o.add(l))}if(i===BA)for(const l of Object.keys(n)){const c=n[l];if(l!==BA)for(const d of o)delete c[d]}}}this._paramsCache=t=n}return t}_getPerInstanceCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const a=this._getModeParams();for(const l of Object.keys(a)){const c=a[l];if(l!==BA){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=f,s+=f}for(const d of Object.keys(c).sort()){const f=c[d],p=VPe(d,f,this.themeLogger);if(p===!1)this.themeLogger.error(107,{key:d,value:f});else{const m=rte(d),w=m.replace("--ag-","--ag-inherited-");i+=`	${m}: var(${w}, ${p});
`,s+=`	${w}: var(${m});
`}}l!==BA&&(i+=`}
`,s+=`}
`)}let o=`${n} {
${i}}
`;o+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=o}return r.replaceAll(n,`:where(.${t})`)}},fG=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},zPe=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const a=s==null?void 0:s.googleFont;typeof a=="string"&&t.add(a)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},AG=!1,WPe=()=>{if(!AG){AG=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},KPe=async(e,t)=>{const n=`@import url('https://${qPe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;T1(n,document.head,`googleFont:${e}`,void 0,0,t)},qPe="fonts.googleapis.com",$Pe=1,YPe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=$Pe++,e!=null&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}for(const t of e.derivedBeans??[]){const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){var r,i,s,a;const n=this.beans;for(const o of e)(r=o.preWireBeans)==null||r.call(o,n),(i=o.wireBeans)==null||i.call(o,n);for(const o of e)(s=o.preConstruct)==null||s.call(o);t&&e.forEach(t);for(const o of e)(a=o.postConstruct)==null||a.call(o)}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){var t;if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],(t=this.destroyCallback)==null||t.call(this)}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},XPe=0,pG={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},JPe=class extends ec{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++XPe}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t);const n=e.get("themeStyleContainer"),r=typeof ShadowRoot<"u",i=r&&t.getRootNode()instanceof ShadowRoot;this.eStyleContainer=(typeof n=="function"?n():n)??(i?t:document.head),!n&&!i&&r&&ZPe(t,this.shadowRootError.bind(this),this.addDestroyFunc.bind(this)),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.getSizeEl(pG),this.initVariables(),this.addDestroyFunc(()=>IPe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:n}=this;let r;n?r=`${this.paramsClass} ${n._getCssClass()}`:r=this.applyLegacyThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(r){const i=e.className;e.className=`${i}${i?" ":""}${r}${t!=null&&t.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(const r of Array.from(t.classList))r.startsWith("ag-theme-")&&(n=!0,e=e?`${e} ${r}`:r);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?T1(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(pG)}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===SF?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=qA({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=qA({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${SF}px)`)):t.style.width=`var(${e.cssName}, ${SF}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&this.varError(e);const a=zf(this.beans,t,()=>{const o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==s&&(s=o,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>a()),t}handleThemeChange(){const{gos:e,theme:t}=this,n=e.get("theme");let r;if(n==="legacy")r=void 0;else{const i=n??this.getDefaultTheme();i instanceof ote?r=i:this.themeError(i)}r!==t&&this.handleNewTheme(r),this.postProcessThemeChange(r,n)}handleNewTheme(e){const{gos:t,eRootDiv:n,globalCSS:r}=this,i=this.getAdditionalCss();if(e){TPe(this),tte(this.eStyleContainer,this.cssLayer,this.styleNonce,i);for(const[a,o]of r)T1(a,this.eStyleContainer,o,this.cssLayer,0,this.styleNonce);r.length=0}this.theme=e,e==null||e._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:i});let s=this.eParamsStyle;if(!s){s=this.eParamsStyle=qA({tag:"style"});const a=t.get("styleNonce");a&&s.setAttribute("nonce",a),n.appendChild(s)}$D||(s.textContent=(e==null?void 0:e._getPerInstanceCss(this.paramsClass))||""),this.applyThemeClasses(n),this.fireStylesChangedEvent("themeChanged")}fireStylesChangedEvent(e){this.eventSvc.dispatchEvent({type:"stylesChanged",[e]:!0})}},SF=15538,ZPe=(e,t,n)=>{let r=60;const i=setInterval(()=>{typeof ShadowRoot<"u"&&e.getRootNode()instanceof ShadowRoot&&(t(),clearInterval(i)),(kD(e)||--r<0)&&clearInterval(i)},1e3);n(()=>clearInterval(i))},eMe=class extends ec{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new r(...n)}},tMe=class extends ec{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new Hp}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},cte=class extends ec{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){var e;(e=this.tooltipManager)==null||e.prepareToShowTooltip()}attemptToHideTooltip(){var e;(e=this.tooltipManager)==null||e.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},nMe=1e3,rMe=1e3,gG=100,mG,bC=!1,iMe=class extends ec{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,r,i;return e==="show"?((n=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:n.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((i=(r=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:i.call(r))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!bp()&&(bC?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},gG):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&(r!=null&&r.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||bC)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-mG<nMe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var i,s;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!_n(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=this.gos.addCommon({location:((i=t.getLocation)==null?void 0:i.call(t))??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...(s=t.getAdditionalParams)==null?void 0:s.call(t)});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),mG=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var a;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=(a=this.popupSvc)==null?void 0:a.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:o}),this.setEventHandlers(o)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Oo(this.beans),{keydown:o=>{r.contains(o==null?void 0:o.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const e=(n=this.tooltipComp)==null?void 0:n.getGui(),t=Js(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,n;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(n=this.popupSvc)==null||n.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?rMe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(const e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){bC=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},gG)}unlockService(){bC=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},sMe=class extends cte{constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},yC=0,aMe=200,oMe=class extends ec{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.addManagedEventListeners({stylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:a="left",position:o="over",type:l}=e,c=s.getBoundingClientRect(),d=this.getParentRect();this.setAlignedTo(s,t);const f=()=>{let p=c.left-d.left;a==="right"&&(p-=t.offsetWidth-c.width);let m;return o==="over"?(m=c.top-d.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,c,d,e.nudgeY||0)==="under"?m=c.top-d.top+c.height:m=c.top-t.offsetHeight-(r||0)*2-d.top),{x:p,y:m}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:f,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,l,t,s,null)})}positionPopupForMenu(e){const{eventSource:t,ePopup:n,event:r}=e,i=t.getBoundingClientRect(),s=this.getParentRect();this.setAlignedTo(t,n);let a=!1;const o=()=>{const l=this.keepXYWithinBounds(n,i.top-s.top,0),c=n.clientWidth>0?n.clientWidth:200;a||(n.style.minWidth=`${c}px`,a=!0);const f=s.right-s.left-c;let p;return this.gos.get("enableRtl")?(p=w(),p<0&&(p=m(),this.setAlignedStyles(n,"left")),p>f&&(p=0,this.setAlignedStyles(n,"right"))):(p=m(),p>f&&(p=w(),this.setAlignedStyles(n,"right")),p<0&&(p=0,this.setAlignedStyles(n,"left"))),{x:p,y:l};function m(){return i.right-s.left-2}function w(){return i.left-s.left-c}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:o,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,"subMenu",n,t,r instanceof MouseEvent?r:void 0)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,a=e.offsetHeight+r;return i>a?"under":s>a||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;if(!i)return;const s=["right","left","over","above","under"];for(const a of s)i.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`);t&&(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:a}=e,o={width:0,height:0},l=(c=!1)=>{let{x:d,y:f}=a();c&&t.clientWidth===o.width&&t.clientHeight===o.height||(o.width=t.clientWidth,o.height=t.clientHeight,r&&(d+=r),i&&(f+=i),n&&(d=this.keepXYWithinBounds(t,d,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${d}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=zf(this.beans,t,()=>l(!0));setTimeout(()=>c(),aMe)}}getParentRect(){const e=Oo(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),ZZ(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",a=r?"height":"width",o=r?"scrollTop":"scrollLeft",l=Oo(this.beans),c=l.documentElement,d=this.getPopupParent(),f=e.getBoundingClientRect(),p=d.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),w=d===l.body,y=Math.ceil(f[a]);let T=w?(r?JZ:$S)(c)+c[o]:d[i];w&&(T-=Math.abs(m[s]-p[s]));const k=T-y;return Math.min(Math.max(t,0),Math.max(k,0))}addPopup(e){const{eChild:t,ariaLabel:n,ariaOwns:r,alwaysOnTop:i,positionCallback:s,anchorToElement:a}=e,o=this.getPopupIndex(t);if(o!==-1)return{hideFunc:this.popupList[o].hideFunc};this.initialisePopupPosition(t);const l=this.createPopupWrapper(t,!!i,n,r),c=this.addEventListenersToPopup({...e,wrapperEl:l});return s&&s(),this.addPopupToPopupList(t,l,c,a),{hideFunc:c}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();_n(e.style.top)||(e.style.top=`${n.top*-1}px`),_n(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const i=this.getPopupParent(),{environment:s,gos:a}=this.beans,o=qA({tag:"div"});return s.applyThemeClasses(o),o.classList.add("ag-popup"),e.classList.add(a.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Gp(e,"dialog"),n?S1(e,n):r&&(e.id||(e.id=`popup-component-${yC}`),XH(r,e.id)),o.appendChild(e),i.appendChild(o),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}addEventListenersToPopup(e){const t=this.beans,n=Oo(t),{wrapperEl:r,eChild:i,closedCallback:s,afterGuiAttached:a,closeOnEsc:o,modal:l,ariaOwns:c}=e;let d=!1;const f=y=>{if(!r.contains(Js(t)))return;y.key===Rt.ESCAPE&&!this.isStopPropagation(y)&&w({keyboardEvent:y})},p=y=>w({mouseEvent:y}),m=y=>w({touchEvent:y}),w=(y={})=>{const{mouseEvent:C,touchEvent:T,keyboardEvent:k,forceHide:R}=y;!R&&(this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:T},i)||d)||(d=!0,r.remove(),n.removeEventListener("keydown",f),n.removeEventListener("mousedown",p),n.removeEventListener("touchstart",m),n.removeEventListener("contextmenu",p),this.eventSvc.removeListener("dragStarted",p),s&&s(C||T||k),this.removePopupFromPopupList(i,c))};return a&&a({hidePopup:w}),window.setTimeout(()=>{o&&n.addEventListener("keydown",f),l&&(n.addEventListener("mousedown",p),this.eventSvc.addListener("dragStarted",p),n.addEventListener("touchstart",m),n.addEventListener("contextmenu",p))},0),w}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:yC,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),yC=yC+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&XH(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),a=f=>Number.parseInt(f.substring(0,f.length-1),10),o=(f,p)=>{const m=n[f]-s[f],w=a(i.style[f]);return{initialDiff:m,lastDiff:m,initial:w,last:w,direction:p}},l=o("top",0),c=o("left",1),d=this.beans.frameworkOverrides;return new gi(f=>{d.wrapIncoming(()=>{dDe(()=>{const p=t.getBoundingClientRect(),m=r.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const y=(C,T)=>{const k=a(i.style[T]);C.last!==k&&(C.initial=k,C.last=k);const R=p[T]-m[T];if(R!=C.lastDiff){const P=this.keepXYWithinBounds(i,C.initial+C.initialDiff-R,C.direction);i.style[T]=`${P}px`,C.last=P}C.lastDiff=R};y(l,"top"),y(c,"left")},200).then(p=>{f(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let a=s;a<this.popupList.length;a++){const o=this.popupList[a];if(VRe(o.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Oo(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],a=[];for(const p of n)p!==i&&(p.classList.contains("ag-always-on-top")?a.push(p):s.push(p));const o=[],l=a.length,f=i.classList.contains("ag-always-on-top")||!l?[...s,...a,i]:[...s,i,...a];for(let p=0;p<=r;p++){const m=f[p];if(n[p]===f[p]||m===i)continue;const w=m.querySelectorAll("div");for(const y of w)y.scrollTop!==0&&o.push([y,y.scrollTop]);p===0?t.insertAdjacentElement("afterbegin",m):f[p-1].insertAdjacentElement("afterend",m)}for(;o.length;){const p=o.pop();p[0].scrollTop=p[1]}}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}},lMe=class extends VD{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,n=this.getGui();n.textContent=K1(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},ute=(e,t)=>{if(t!=null&&(e!=null&&e.setPointerCapture))try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},cMe=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;const n=t.pointerId;if(!ute(e,n))return null;const r={eElement:e,pointerId:n,onLost(i){dMe(r,i)}};return e.addEventListener("lostpointercapture",r.onLost),r},uMe=e=>{if(!e)return;dte(e);const{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},dte=e=>{const{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener("lostpointercapture",n),e.onLost=null)},dMe=(e,t)=>{dte(e);const{eElement:n,pointerId:r}=e;n&&t.pointerId===r&&ute(n,r)},Yd,sh,EF={passive:!0},yA={passive:!1},Xd=e=>{if(!sh)sh=new WeakSet;else if(sh.has(e))return!1;return sh.add(e),!0},hMe=class extends ec{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){var e;return((e=this.drag)==null?void 0:e.start.target)??null}isPointer(){return!!(Yd!=null&&Yd.has(rh(this.beans)))}hasPointerCapture(){var t,n,r;const e=(t=this.drag)==null?void 0:t.pointerCapture;return!!(e&&((r=(n=this.beans.eRootDiv).hasPointerCapture)!=null&&r.call(n,e.pointerId)))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)xG(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let n=0,r=t.length;n<r;++n){const i=t[n];if(i.params===e){t.splice(n,1),xG(i);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:n}=e,r=[];let i;if(n){const c=t.style;c&&(i=c.touchAction,c.touchAction="none")}const s={handlers:r,params:e,oldTouchAction:i};this.dragSources.push(s),f2(r,[t,"pointerdown",c=>this.onPointerDown(e,c),yA],[t,"mousedown",c=>this.onMouseDown(e,c)]);const l=this.gos.get("suppressTouch");n&&!l&&f2(r,[t,"touchstart",d=>this.onTouchStart(e,d),yA])}cancelDrag(e){var n,r;const t=this.drag;e??(e=t==null?void 0:t.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(r=t==null?void 0:(n=t.params).onDragCancel)==null||r.call(n),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&Nw(this.beans,e)&&!Pv(TF(e))}initDrag(e,...t){this.drag=e;const n=this.beans,r=o=>this.onScroll(o),i=o=>this.onKeyDown(o),s=rh(n),a=Oo(n);f2(e.handlers,[s,"contextmenu",Em],[s,"keydown",i],[a,"scroll",r,{capture:!0}],[a.defaultView||window,"scroll",r],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;(Yd==null?void 0:Yd.get(t))===e&&Yd.delete(t),this.drag=null,uMe(e.pointerCapture),PD(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const n=this.beans;if(sh!=null&&sh.has(t))return;const r=t.pointerType;if(r==="touch"&&(n.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),Pv(TF(t))))||!t.isPrimary||r==="mouse"&&t.button!==0)return;this.destroyDrag();const i=rh(n),s=e.eElement,a=t.pointerId,o=new NF(i,e,t,a);Yd??(Yd=new WeakMap),Yd.set(i,o);const l=p=>{p.pointerId===a&&this.onMouseOrPointerMove(p)},c=p=>{p.pointerId===a&&this.onMouseOrPointerUp(p)},d=p=>{p.pointerId===a&&Xd(p)&&this.cancelDrag()},f=p=>this.draggingPreventDefault(p);this.initDrag(o,[i,"pointerup",c],[i,"pointercancel",d],[i,"pointermove",l,yA],[i,"touchmove",f,yA],[s,"mousemove",f,yA]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Xd(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!Xd(t)||Pv(TF(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){this.dragging&&Em(t);return}this.destroyDrag();const r=this.beans,i=rh(r),s=new NF(i,e,t.touches[0]),a=p=>this.onTouchMove(p),o=p=>this.onTouchUp(p),l=p=>this.onTouchCancel(p),c=p=>this.draggingPreventDefault(p),d=rh(r),f=t.target??e.eElement;this.initDrag(s,[f,"touchmove",a,EF],[f,"touchend",o,EF],[f,"touchcancel",l,EF],[d,"touchmove",c,yA],[d,"touchend",o,yA],[d,"touchcancel",l,yA]),e.dragStartPixels===0&&this.onMove(s.start)}draggingPreventDefault(e){this.dragging&&Em(e)}onMouseDown(e,t){if(t.button!==0||sh!=null&&sh.has(t)||this.isPointer())return;const n=this.beans;this.destroyDrag();const r=new NF(rh(n),e,t),i=o=>this.onMouseOrPointerMove(o),s=o=>this.onMouseOrPointerUp(o),a=rh(n);this.initDrag(r,[a,"mousemove",i],[a,"mouseup",s]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Xd(t)}onScroll(e){var r,i;if(!Xd(e))return;const t=this.drag,n=t==null?void 0:t.lastDrag;n&&this.dragging&&((i=(r=t.params)==null?void 0:r.onDragging)==null||i.call(r,n))}onMouseOrPointerMove(e){var t;Xd(e)&&(g0()&&((t=Oo(this.beans).getSelection())==null||t.removeAllRanges()),this.shouldPreventMouseEvent(e)&&Em(e),this.onMove(e))}onTouchCancel(e){const t=this.drag;!t||!Xd(e)||Qm(t.start,e.changedTouches)&&this.cancelDrag()}onTouchMove(e){const t=this.drag;if(!t||!Xd(e))return;const n=Qm(t.start,e.touches);n&&(this.onMove(n),this.draggingPreventDefault(e))}onMove(e){var r,i,s;const t=this.drag;if(!t)return;t.lastDrag=e;const n=t.params;if(!this.dragging){const a=t.start,l=n.dragStartPixels??4;if(ree(e,a,l)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=cMe(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:n.eElement}),(r=n.onDragStart)==null||r.call(n,a),this.drag!==t)||((i=n.onDragging)==null||i.call(n,a),this.drag!==t))return}(s=n.onDragging)==null||s.call(n,e)}onTouchUp(e){const t=this.drag;t&&Xd(e)&&this.onUp(Qm(t.start,e.changedTouches))}onMouseOrPointerUp(e){Xd(e)&&this.onUp(e)}onUp(e){var n,r;const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,(r=(n=t.params).onDragStop)==null||r.call(n,e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===Rt.ESCAPE&&this.cancelDrag()}},xG=e=>{PD(e.handlers);const t=e.oldTouchAction;if(t!=null){const n=e.params.eElement.style;n&&(n.touchAction=t)}},NF=class{constructor(e,t,n,r=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=r,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},TF=e=>{const t=e.target;return t instanceof Element?t:null},fMe=class extends ec{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.externalDropZoneCount=0,this.lastDropTarget=null}addDragSource(e,t=!1){const n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:r=>this.onDragStart(e,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){const n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){var r;const{dragSourceAndParamsList:t,beans:n}=this;for(let i=0,s=t.length;i<s;i++)if(t[i].dragSource===e){const a=t[i];(r=n.dragSvc)==null||r.removeDragSource(a),t.splice(i,1);break}}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,r=n.dragSvc;for(const i of e)r==null||r.removeDragSource(i);e.length=0,t.length=0,this.externalDropZoneCount=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){var r;this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,(r=e.onDragStarted)==null||r.call(e),this.createAndUpdateDragImageComp(e)}onDragStop(e){var r,i;const{dragSource:t,lastDropTarget:n}=this;if((r=t==null?void 0:t.onDragStopped)==null||r.call(t),n){const s=this.dropTargetEvent(n,e,!1);(i=n.onDragStop)==null||i.call(n,s)}this.clearDragAndDropProperties()}onDragCancel(){var r,i;const{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if((r=e==null?void 0:e.onDragCancelled)==null||r.call(e),t&&n){const s=this.dropTargetEvent(t,n,!1);(i=t.onDragCancel)==null||i.call(t,s)}this.clearDragAndDropProperties()}onDragging(e,t=!1){var o,l,c;this.positionDragImageComp(e);const n=this.findCurrentDropTarget(e),{lastDropTarget:r,dragSource:i,dragItem:s}=this;let a=!1;if(n!==r){if(a=!0,r){const d=this.dropTargetEvent(r,e,t);(o=r.onDragLeave)==null||o.call(r,d)}if(r!==null&&!n?this.handleExit(i,s):r===null&&n&&this.handleEnter(i,s),n){const d=this.dropTargetEvent(n,e,t);(l=n.onDragEnter)==null||l.call(n,d)}this.lastDropTarget=n}else if(n){const d=this.dropTargetEvent(n,e,t);(c=n.onDragging)==null||c.call(n,d),d!=null&&d.changed&&(a=!0)}this.lastMouseEvent=e,a&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){var s;const t=e.getContainer(),n=(s=e.getSecondaryContainers)==null?void 0:s.call(e),r=n==null?void 0:n.length;if(!r)return[[t]];const i=new Array(r+1);i[0]=[t];for(let a=0;a<r;++a)i[a+1]=n[a];return i}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(o,l)=>{for(const c of l){const{width:d,height:f,left:p,right:m,top:w,bottom:y}=c.getBoundingClientRect();if(d===0||f===0)return!1;const C=o.clientX>=p&&o.clientX<m,T=o.clientY>=w&&o.clientY<y;if(!C||!T)return!1}return!0};for(const o of n)if(i(e,o)){r=!0;break}const{eElement:s,type:a}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(a,s)}findCurrentDropTarget(e){const t=[],n=this.dropTargets;for(let a=0,o=n.length;a<o;++a){const l=n[a];this.isMouseOnDropTarget(e,l)&&t.push(l)}const r=t.length;if(r===0)return null;if(r===1)return t[0];const s=rh(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let a=0,o=s.length;a<o;++a){const l=s[a];for(let c=0,d=t.length;c<d;c++){const f=t[c],p=this.getAllContainersFromDropTarget(f);let m=!1;for(let w=0,y=p.length;w<y&&!m;w++){const C=p[w];for(let T=0,k=C.length;T<k;T++)if(C[T]===l){m=!0;break}}if(m)return f}}return null}addDropTarget(e){this.dropTargets.push(e),e.external&&this.externalDropZoneCount++}removeDropTarget(e){const t=e.getContainer(),n=this.dropTargets;let r=0;for(let i=0,s=n.length;i<s;++i){const a=n[i];if(a.getContainer()===t){a.external&&--this.externalDropZoneCount;continue}r!==i&&(n[r]=a),++r}n.length=r}hasExternalDropZones(){return this.externalDropZoneCount>0}findExternalZone(e){const t=this.dropTargets;for(let n=0,r=t.length;n<r;++n){const i=t[n];if(i.external&&i.getContainer()===e)return i}return null}dropTargetEvent(e,t,n){const{dragSource:r,dragItem:i,lastDraggingEvent:s,lastMouseEvent:a,dragInitialSourcePointerOffsetX:o,dragInitialSourcePointerOffsetY:l}=this,c=e.getContainer(),d=c.getBoundingClientRect(),{clientX:f,clientY:p}=t,m=f-((a==null?void 0:a.clientX)||0),w=p-((a==null?void 0:a.clientY)||0),y=this.createEvent({event:t,x:f-d.left,y:p-d.top,vDirection:w>0?"down":w<0?"up":null,hDirection:m<0?"left":m>0?"right":null,initialSourcePointerOffsetX:o,initialSourcePointerOffsetY:l,dragSource:r,fromNudge:n,dragItem:i,dropZoneTarget:c,dropTarget:(s==null?void 0:s.dropTarget)??null,changed:!!(s!=null&&s.changed)});return this.lastDraggingEvent=y,y}positionDragImageComp(e){var n;const t=(n=this.dragImageComp)==null?void 0:n.getGui();t&&qRe(t,e,this.beans)}removeDragImageComp(e){var t;this.dragImageComp===e&&(this.dragImageComp=null),e&&((t=e.getGui())==null||t.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t==null||t.then(n=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(n);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const r=this.dragImageComp;r!==n&&(this.dragImageComp=n,this.removeDragImageComp(r)),n&&(this.appendDragImageComp(n),this.updateDragImageComp())})}appendDragImageComp(e){var i;const t=e.getGui(),n=t.style;n.position="absolute",n.zIndex="9999",(i=this.beans.dragSvc)!=null&&i.hasPointerCapture()&&(n.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top="20px",n.left="20px";const r=TD(this.beans);r?r.appendChild(t):this.warnNoBody()}updateDragImageComp(){var a;const{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:r,dragImageLastLabel:i}=this;if(!e)return;this.setDragImageCompIcon(((a=n==null?void 0:n.getIconName)==null?void 0:a.call(n,r))??null);let s=t==null?void 0:t.dragItemName;typeof s=="function"&&(s=s(r)),s||(s=""),i!==s&&(this.dragImageLastLabel=s,e.setLabel(s))}},AMe=class extends ec{constructor(e,t){super(),this.comp=e,this.stopPropagationCallbacks=t}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r,stopPropagationCallbacks:i}=this,s=[t,n],a={setTabIndex:T=>{for(const k of s)T==null?k.removeAttribute("tabindex"):k.setAttribute("tabindex",T)}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:l,onFocusOut:c,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:w,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C}=e;this.tabGuardCtrl=this.createManagedBean(new Yee({comp:a,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:l,onFocusOut:c,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:w,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C},i))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Oo(this.beans).createElement("div"),n=e==="top"?Zm.TAB_GUARD_TOP:Zm.TAB_GUARD_BOTTOM;return t.classList.add(Zm.TAB_GUARD,n),Gp(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.prepend(e),n.append(t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];kc(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){DD(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.before(t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;s0(e),s0(t),super.destroy()}},pMe=class extends Y1{initialiseTabGuard(e,t){this.tabGuardFeature=this.createManagedBean(new AMe(this,t)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},gMe=class extends fMe{createEvent(e){return Fr(this.gos,e)}createDragImageComp(e){const{gos:t,beans:n}=this,r=FDe(n.userCompFactory,Fr(t,{dragSource:e}));return r==null?void 0:r.newAgStackInstance()}handleEnter(e,t){var n;(n=e==null?void 0:e.onGridEnter)==null||n.call(e,t)}handleExit(e,t){var n;(n=e==null?void 0:e.onGridExit)==null||n.call(e,t)}warnNoBody(){gn(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function hte(e,t){return e+"_"+t}function La(e){return e instanceof Bw}var Bw=class extends Kt{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=Dv(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return hte(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(const e of this.displayedChildren)La(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=As(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])l0(t)?e.push(t):La(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])l0(t)?e.push(t):La(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!(e!=null&&e.isPadding())?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){var n;this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(const r of this.children??[]){if(La(r)&&!((n=r.displayedChildren)!=null&&n.length))continue;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},vG="row-group-",XD="t-",JD="b-",mMe=0,c0=class{constructor(e){this.id=void 0,this.destroyed=!1,this._groupData=void 0,this.master=!1,this.detail=void 0,this.rowIndex=null,this.field=null,this.rowGroupColumn=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=mMe++,this.alreadyRendered=!1,this.formulaRowIndex=null,this.hovered=!1,this.__selected=!1,this.beans=e}get groupData(){var t,n;const e=this._groupData;return e!==void 0?e:this.footer?(t=this.sibling)==null?void 0:t.groupData:((n=this.beans.groupStage)==null?void 0:n.loadGroupData(this))??null}set groupData(e){this._groupData=e}get allLeafChildren(){var t,n;const e=this._leafs;return e===void 0?((n=(t=this.beans.groupStage)==null?void 0:t.loadLeafs)==null?void 0:n.call(t,this))??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var o,l,c;const{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n==null||n.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if((o=this.__localEventService)==null||o.dispatchEvent(s),this.sibling){this.sibling.data=e;const d=this.sibling.createDataChangedEvent(e,i,t);(l=this.sibling.__localEventService)==null||l.dispatchEvent(d)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const a=this.pinnedSibling;a&&(a.data=e,(c=a.__localEventService)==null||c.dispatchEvent(a.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:a}))}updateDataOnDetailNode(){const e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(es(13),null):this.rowPinned==="top"?XD+this.rowIndex:this.rowPinned==="bottom"?JD+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var a,o;const{selectionSvc:n}=this.beans,r=(a=n==null?void 0:n.createDaemonNode)==null?void 0:a.call(n,this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);(o=this.__localEventService)==null||o.dispatchEvent(s)}setId(e){var n;const t=E1(this.beans.gos);if(t)if(this.data){const r=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(vG)&&es(14,{groupPrefix:vG})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");const t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var r;(r=this.beans.expansionSvc)==null||r.setExpanded(this,e,t,n)}setDataValue(e,t,n){var d;const{colModel:r,valueSvc:i,gos:s,editSvc:a}=this.beans,o=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!o)return!1;const l=i.getValueForDisplay({column:o,node:this,source:"api"}).value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:f},data:p,rowIndex:m,rowPinned:w}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:w,column:o,colDef:o.colDef,data:p,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(a&&!a.committing){const f=a.setDataValue({rowNode:this,column:o},t,n);if(f!=null)return f}const c=i.setValue(this,o,t,n);return this.dispatchCellChangedEvent(o,t,l),c&&((d=this.pinnedSibling)==null||d.dispatchCellChangedEvent(o,t,l)),c}updateHasChildren(){var n;let e=this.group&&!this.footer||!!((n=this.childrenAfterGroup)!=null&&n.length);const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var i;const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(i=this.__localEventService)==null||i.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){if(this.footer)return this.sibling.isSelected();const e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){const t=this.childrenAfterGroup;if(t)for(let n=0,r=t.length;n<r;++n)t[n].depthFirstSearch(e);e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var r;(r=this.beans.selectionSvc)==null||r.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new Hp)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var i,s,a,o;(i=this.beans.validation)==null||i.checkRowEvents(e);const n=this.__localEventService??(this.__localEventService=new Hp);this.frameworkEventListenerService=(a=(s=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:a.call(s,this.frameworkEventListenerService,n);const r=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(e,t))??t;n.addEventListener(e,r)}removeEventListener(e,t){var r;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(e,t))??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){const n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(gn(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;(t==null?void 0:t.key)!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){var t;const e=this.childStore;return e?e.getFirstNode():((t=this.childrenAfterSort)==null?void 0:t[0])??null}_destroy(e){if(this.destroyed)return!1;if(this.destroyed=!0,e?this.clearRowTopAndRowIndex():(this.setRowTop(null),this.setRowIndex(null)),!this.footer){const t=this.detailNode;t&&t._destroy(e);const n=this.sibling;n&&n._destroy(e)}return!0}};function xMe(e,t,n){return Fr(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var vMe=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_groupData","_leafs","childStore","groupValue","oldRowTop","sticky","treeNodeFlags","treeParent"]),wMe=(e,t)=>{const n=new c0(t);for(const r of Object.keys(e))vMe.has(r)||(n[r]=e[r]);return n.oldRowTop=null,n},vB=(e,t,n)=>{if(!n)return;let r=n.rowIndex;if(r==null)return;r+=t;const i=e.getRowCount();for(;r>=0&&r<i;){const s=e.getRow(r);if(!s||!s.footer&&!s.detail)return s;r+=t}},fte={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},bMe=new Set(Object.values(fte));function CA(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function yMe(e,t,n,r,i,s,a){var o;return(o=t.refresh)==null||o.call(t,{...n,model:r,source:s,additionalEventAttributes:a}),e().then(l=>{if(l){const{filter:c,filterParams:d}=l;Ate(c,d,r,i,s,a)}})}function Ate(e,t,n,r,i,s){var a;(a=e==null?void 0:e.refresh)==null||a.call(e,{...t,model:n,state:r,source:i,additionalEventAttributes:s})}function pte(e,t,n,r){const i=e();i!=null&&i.created&&i.promise.then(s=>{const a=t();Ate(s,i.filterParams,a,n()??{model:a},"ui",r)})}function wG(e){var p;let t,n=!1,r;const{action:i,filterParams:s,getFilterUi:a,getModel:o,getState:l,updateState:c,updateModel:d,processModelToApply:f}=e;switch(i){case"apply":{const m=l();r=(m==null?void 0:m.model)??null,f&&(r=f(r)),t={state:m==null?void 0:m.state,model:r},n=!0;break}case"clear":{t={model:null},(p=s==null?void 0:s.buttons)!=null&&p.includes("apply")||(n=!0,r=null);break}case"reset":{t={model:null},n=!0,r=null;break}case"cancel":{t={model:o()};break}}c(t),n?d(r):pte(a,o,l,{fromAction:i})}function ko(e,t){return e[t]??null}function Uu(e){return qA(e)}function CMe(e){return{tag:"div",cls:e}}var SMe=class extends Ea{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(CMe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();kc(r);let i;this.destroyListeners();const s=document.createDocumentFragment(),a=this.className,o=({type:c,label:d})=>{const f=T=>{this.dispatchLocalEvent({type:c,event:T})};["apply","clear","reset","cancel"].includes(c)||gn(75);const p=c==="apply",w=Uu({tag:"button",attrs:{type:p&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${a}-button${p?" "+a+"-apply-button":""}`,children:d});this.activateTabIndex([w]),p&&(i=w);const y=T=>{T.key===Rt.ENTER&&(T.preventDefault(),f(T))},C=this.listeners;w.addEventListener("click",f),C.push(()=>w.removeEventListener("click",f)),w.addEventListener("keydown",y),C.push(()=>w.removeEventListener("keydown",y)),s.append(w)};for(const c of e)o(c);this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),r.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){var r;const n=this.eApply;n&&(Sw(n,!e),this.validationMessage=t,(r=this.validationTooltipFeature)==null||r.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(const e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},EMe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`,minDateValidation:e=>`Date must be after ${e[0]}`,maxDateValidation:e=>`Date must be before ${e[0]}`,strictMinValueValidation:e=>`Must be greater than ${e[0]}`,strictMaxValueValidation:e=>`Must be less than ${e[0]}`};function lh(e,t,n){return YRe(e,EMe,t,n)}function ZD(e,t){const{debounceMs:n}=e;return iN(e)?(n!=null&&gn(71),0):n??t}function iN(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}function gte(e,t,n,r){let i=lh(e,n);if(typeof t=="function"){const s=lh(e,r);i=t({filterOptionKey:r,filterOption:s,placeholder:i})}else typeof t=="string"&&(i=t);return i}var NMe=class extends Ea{constructor(e,t,n,r,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s==null||s.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:a})=>{s===this.column&&this.resetButtonsPanel(a,this.params)},filterStateChanged:({column:s,state:a})=>{var o;s===this.column&&((o=this.eButtons)==null||o.updateValidity(a.valid!==!1))},filterAction:({column:s,action:a,event:o})=>{s===this.column&&this.afterAction(a,o)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const a=this.params;this.resetButtonsPanel(a,a,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:i}=t??{},{buttons:s,readOnly:a,useForm:o}=e;if(!n&&i===a&&yw(r,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(l){const d=s.map(f=>{const p=`${f}Filter`;return{type:f,label:lh(this,p)}});if(this.applyActive=iN(this.params),!c){c=this.createBean(new SMe),this.appendChild(c.getGui());const f=this.column,p=m=>({event:w})=>{this.updateModel(f,m,{fromButtons:!0}),this.afterAction(m,w)};c==null||c.addManagedListeners(c,{apply:p("apply"),clear:p("clear"),reset:p("reset"),cancel:p("cancel")}),this.eButtons=c}c.updateButtons(d,o)}else this.applyActive=!1,c&&(s0(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n==null?void 0:n.key;let i;(r===Rt.ENTER||r===Rt.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,i=n==null?void 0:n.closeOnApply;switch(e){case"apply":{t==null||t.preventDefault(),i&&r&&this.close(t);break}case"reset":{i&&r&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===Rt.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},TMe={tag:"div",cls:"ag-filter"},IMe=class extends Ea{constructor(e,t,n){super(TMe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){var e;(e=this.beans.colFilter)==null||e.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){var e;return((e=this.wrapper)==null?void 0:e.then(t=>t.comp))??null}afterInit(){var e;return((e=this.wrapper)==null?void 0:e.then(()=>{}))??gi.resolve()}afterGuiAttached(e){var t;this.afterGuiAttachedParams=e,(t=this.wrapper)==null||t.then(n=>{var r,i,s;(r=this.comp)==null||r.afterGuiAttached(e),(s=(i=n==null?void 0:n.comp)==null?void 0:i.afterGuiAttached)==null||s.call(i,e)})}afterGuiDetached(){var e;(e=this.wrapper)==null||e.then(t=>{var n,r;(r=(n=t==null?void 0:t.comp)==null?void 0:n.afterGuiDetached)==null||r.call(n)})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i==null||i.then(s=>{var c;if(!s)return;const{isHandler:a,comp:o}=s;let l;if(a){const d=!!this.enableGlobalButtonCheck,f=this.createBean(new NMe(t,s,r,r.updateModel.bind(r),d&&r.isGlobalButtons,d));this.comp=f,l=f.getGui()}else l=o.getGui(),_n(l)||gn(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):(c=o.afterGuiAttached)==null||c.call(o,this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(kc(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){var e;(e=this.beans.colFilter)==null||e.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},bG={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},yG=["january","february","march","april","may","june","july","august","september","october","november","december"];function FMe(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function CG(e){return e instanceof Date&&!isNaN(e.getTime())}var wB={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:CG}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&CG(e.dateParser(t))}),dateTime:e=>wB.date(e),dateTimeString:e=>wB.dateString(e),object:()=>{},text:()=>{}},bB={number:()=>({comparator:FMe}),boolean:({t:e})=>({valueFormatter:t=>_n(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return _n(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const i=yG[Number(n)-1];return t(i,bG[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>wC(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const i=e(r);return _n(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>wC(t.dateParser(r??void 0),!1),treeListFormatter:(r,i)=>{if(i===1&&r!=null){const s=yG[Number(r)-1];return n(s,bG[s])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=bB.date(e);return t.treeListPathGetter=wC,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=bB.dateString(e);return n.treeListPathGetter=r=>wC(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return _n(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function kMe(e,t,n,r,i,s,a){let o=t,l=n;const c=e==="agSetColumnFilter";!l&&r.baseDataType==="object"&&!c&&(l=({column:m,node:w})=>i({column:m,node:w,value:s.valueSvc.getValue(m,w)}));const f=(c?bB:wB)[r.baseDataType],p=f({dataTypeDefinition:r,formatValue:i,t:a});return o=typeof t=="object"?{...p,...t}:p,{filterParams:o,filterValueGetter:l}}var BMe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},RMe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function _Me(e,t=!1){return(t?RMe:BMe)[e??"text"]}var DMe=class extends rPe{},mte="__ag_Grid_Stop_Propagation";function Wp(e){e[mte]=!0}function wf(e){return e[mte]===!0}var eP={isStopPropagation:wf,stopPropagation:Wp},yb=class extends $ee{constructor(e,t){super(e,eP,t)}},PMe=class extends Ea{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new yb(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new DMe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}areStatesEqual(e,t){return e===t}refresh(e){const t=e,n=this.params;this.params=t;const{source:r,state:i,additionalEventAttributes:s}=t;r==="colDef"&&this.updateParams(t,n);const a=this.state;this.state=i;const o=s==null?void 0:s.fromAction;return(o&&o!=="apply"||i.model!==a.model||!this.areStatesEqual(i.state,a.state))&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=iN(e),this.setupApplyDebounced()}doesFilterPass(e){gn(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return gn(284),this.params.model!=null}setupApplyDebounced(){const e=ZD(this.params,this.defaultDebounceMs),t=jo(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return gn(285),this.params.model}setModel(e){gn(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:{valid:n=!0,model:r}}=this;if(!n)return!1;const i=!this.areModelsEqual(t.model,r);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const{params:i,gos:s,eventSvc:a,applyActive:o}=this;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),s.get("enableFilterHandlers")||a.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),r.valid&&(e??(e=o?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced())}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e==null?void 0:e.container,this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e,t){return lh(this,e,t)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function xte(e){return!!e.operator}function MMe(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:a}=Gee(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&a==null&&t.filter===!0&&(r=n()),r}var y2={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},tP=class extends Kt{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?y2.AUTO_HEIGHT:t.print?y2.PRINT:y2.NORMAL;this.view.updateLayoutClasses(n,t)}},SA="Viewport",SG="fakeVScrollComp",IF=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],EG=100,FF=150,LMe=class extends Kt{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=jo(this,()=>this.lastScrollSource[1]=null,FF),this.resetLastVScrollDebounced=jo(this,()=>this.lastScrollSource[0]=null,FF)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,SA)});for(const e of IF){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?jo(this,this.onVScroll.bind(this,SA),EG):this.onVScroll.bind(this,SA),r=t?jo(this,this.onVScroll.bind(this,SG),EG):this.onVScroll.bind(this,SG);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...IF,SA]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);XS(n,e,this.enableRtl)}}getViewportForSource(e){return e===SA?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=YS(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===SA?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===SA?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n!=null&&n.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},FF)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!bp()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=FD(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of IF)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(SA)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),XS(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const a=n.getRow(s);if(typeof e=="function"){if(a&&e(a)){i=s;break}}else if(e===a||e===a.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(el(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!="number"||e<0||e>=i){gn(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:a,rowContainerHeight:o,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{var w,y;const c=this.ctrlsSvc.getGridBodyCtrl(),d=r.getRow(e);let f,p,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:C,stickyBottomHeight:T}=c,k=d.rowTop,R=d.rowHeight,P=a.getPixelOffset(),U=d.rowTop-P,O=U+d.rowHeight,L=this.getVScrollPosition(),K=o.divStretchOffset,j=L.top+K,te=L.bottom+K,G=te-j,V=o.getScrollPositionForPixel(U),re=o.getScrollPositionForPixel(O-G),ee=Math.min((V+re)/2,U),ie=j+C>U,ue=te-T<O;let le=null;t==="top"?le=V-C:t==="bottom"?le=re+T:t==="middle"?le=ee:ie?le=V-C:ue&&(re-V>G?le=V-C:le=re+T),le!==null&&(this.setVerticalScrollPosition(le),l.redraw({afterScroll:!0})),f=k!==d.rowTop||R!==d.rowHeight,p=C!==c.stickyTopHeight||T!==c.stickyBottomHeight,m++}while((f||p)&&m<10);if((w=this.animationFrameSvc)==null||w.flushAllFrames(),n<10&&(d!=null&&d.stub||!((y=this.beans.rowAutoHeight)!=null&&y.areRowsMeasured()))){const C=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const T=this.getVScrollPosition().top;C!==T&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{var a;s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),(a=this.animationFrameSvc)==null||a.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),a=this.enableRtl;let o=(a?n:r)||i,l=a?r:n;t!=="auto"&&(o=t==="start",l=t==="end");const c=t==="middle";if(o||l||c){const{colLeft:d,colMiddle:f,colRight:p}=this.getColumnBounds(e);return c?f-s/2:o?a?p:d:a?d-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,a=s?t>i:n<i,o=s?n<r:t>r;return{columnBeforeStart:a,columnAfterEnd:o}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,a=t?n-i:i,o=a+r*s,l=a+r/2*s;return{colLeft:a,colMiddle:l,colRight:o}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},nP=class extends Kt{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=el(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let a;e?a=r+i+s:(a=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(a+=n.getScrollbarWidth())),this.callback(a)}},OMe=class extends Kt{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{Wf(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=FD(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function C2(e,t,n,r){var s;const i=(s=t.getColDef().cellRendererParams)==null?void 0:s.suppressMouseEventHandling;return vte(e,t,n,r,i)}function jMe(e,t,n,r){const i=t==null?void 0:t.suppressMouseEventHandling;return vte(e,void 0,n,r,i)}function vte(e,t,n,r,i){return i?i(Fr(e,{column:t,node:n,event:r})):!1}function wte(e,t,n){let r=t;for(;r;){const i=xee(e,r,n);if(i)return i;r=r.parentElement}return null}var uE="cellCtrl";function rP(e,t){return wte(e,t,uE)}var dE="renderedRow";function UMe(e,t){return wte(e,t,dE)}function yB(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const a=Fr(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(a))}function HMe(e){const{pinnedRowModel:t,rowModel:n,rangeSvc:r,visibleCols:i}=e;if(!r||i.allCols.length===0)return;const s=(t==null?void 0:t.isEmpty("top"))??!0,a=(t==null?void 0:t.isEmpty("bottom"))??!0,o=s?null:"top";let l,c;a?(l=null,c=n.getRowCount()-1):(l="bottom",c=(t==null?void 0:t.getPinnedBottomRowCount())??-1),r.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:c,rowEndPinned:l})}var GMe=class extends Kt{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){const t=["dblclick","contextmenu","mouseover","mouseout","click",nee("touchstart")?"touchstart":"mousedown"];for(const n of t){const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})}}processMouseEvent(e,t){var i;if(!Nw(this.beans,t)||wf(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(i=this.beans.contextMenuSvc)==null||i.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:rP(t,e),rowCtrl:UMe(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r!=null&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){var s,a;const r=((s=this.editSvc)==null?void 0:s.isEditing(e,{withOpenEditor:!0}))??!1;!yB(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,r),Jee(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell(),o=a==null?void 0:a.column;if(!yB(this.gos,n,r,o,!1)){const c=n.key;if(t==="keydown")switch(c){case Rt.PAGE_HOME:case Rt.PAGE_END:case Rt.PAGE_UP:case Rt.PAGE_DOWN:s==null||s.handlePageScrollingKey(n,!0);break;case Rt.LEFT:case Rt.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Rt.UP:case Rt.DOWN:e.onKeyboardNavigate(n);break;case Rt.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Nw(this.beans,e))return;const n=Vee(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===Rt.A)return this.onCtrlAndA(e);if(n===Rt.C)return this.onCtrlAndC(r,e);if(n===Rt.D)return this.onCtrlAndD(r,e);if(n===Rt.V)return this.onCtrlAndV(r,e);if(n===Rt.X)return this.onCtrlAndX(r,e);if(n===Rt.Y)return this.onCtrlAndY(i);if(n===Rt.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&o0(i)&&!k_e(i)&&t.isRowsToRender()?HMe(this.beans):r&&r.selectAllRowNodes({source:"keyboardSelectAll",selectAll:See(i)}),e.preventDefault()}onCtrlAndC(e,t){var r;if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);(r=this.editSvc)!=null&&r.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){var r;if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);(r=this.editSvc)!=null&&r.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){var r;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);(r=this.editSvc)!=null&&r.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},bte=class extends Kt{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},CC=e=>e.topRowCtrls,SC=e=>e.getStickyTopRowCtrls(),EC=e=>e.getStickyBottomRowCtrls(),NC=e=>e.bottomRowCtrls,TC=e=>e.allRowCtrls,kF=e=>e.getCtrls("top"),BF=e=>e.getCtrls("center"),RF=e=>e.getCtrls("bottom"),VMe={center:{type:"center",name:"center-cols",getRowCtrls:TC,getSpannedRowCtrls:BF},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:TC,getSpannedRowCtrls:BF},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:TC,getSpannedRowCtrls:BF},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:TC},topCenter:{type:"center",name:"floating-top",getRowCtrls:CC,getSpannedRowCtrls:kF},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:CC,getSpannedRowCtrls:kF},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:CC,getSpannedRowCtrls:kF},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:CC},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:SC},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:SC},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:SC},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:SC},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:EC},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:EC},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:EC},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:EC},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:NC,getSpannedRowCtrls:RF},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:NC,getSpannedRowCtrls:RF},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:NC,getSpannedRowCtrls:RF},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:NC}};function yte(e){return`ag-${Cb(e).name}-viewport`}function S2(e){const t=Cb(e);return t.container??`ag-${t.name}-container`}function QMe(e){return`ag-${Cb(e).name}-spanned-cells-container`}function Cb(e){return VMe[e]}var zMe=["topCenter","topLeft","topRight"],WMe=["bottomCenter","bottomLeft","bottomRight"],KMe=["center","left","right"],qMe=["center","left","right","fullWidth"],$Me=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],YMe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],XMe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Cte=["stickyTopCenter","stickyTopLeft","stickyTopRight"],Ste=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],JMe=[...Cte,"stickyTopFullWidth",...Ste,"stickyBottomFullWidth"],ZMe=[...zMe,...WMe,...KMe,...Cte,...Ste],e6e=class extends Kt{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Cb(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new OMe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new GMe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,a=()=>this.onPinnedWidthChanged();this.forContainers(YMe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:a})}),this.forContainers(XMe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:a})}),this.forContainers(qMe,()=>this.createManagedBean(new bte(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(ZMe,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers($Me,()=>this.createManagedBean(new nP(o=>this.comp.setContainerWidth(`${o}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(JMe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=el(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ew(this.eViewport)}getCenterViewportScrollLeft(){return YS(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=zf(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return kD(this.eViewport)}getViewportScrollLeft(){return YS(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||RD(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){XS(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=el(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(a=>{const o=a.isFullWidth();return this.options.fullWidth?!i&&o:i||!o});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},t6e="ag-force-vertical-scroll",n6e="ag-selectable",r6e="ag-column-moving",i6e=class extends Kt{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,a){var o,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=a,this.eCenterColsViewport=n.querySelector(`.${yte("center")}`),this.eFullWidthContainer=n.querySelector(`.${S2("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${S2("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=a.querySelector(`.${S2("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",c=>this.setCellTextSelection(c.currentValue)),this.createManagedBean(new tP(this.comp)),this.scrollFeature=this.createManagedBean(new LMe(n)),(o=this.beans.rowDragSvc)==null||o.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,a]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=Wee()?16:0,i=`calc(100% + ${n+r}px)`;Wf(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t,gos:n}=this;let r=n.get("treeData");if(!r){const i=t.isPivotMode();r=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(r?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=mp(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),a=mp(i,"ag-root",t);mp(r,"ag-root",t)||(!s||a)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(r6e,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(n6e,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var i,s;const e=(((i=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:i.getRowCount())??0)+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?t6e:null,n=el(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&eee(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&Km(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({stylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:s,touchSvc:a}}=this,o=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:o}),a==null||a.mockBodyContextMenu(this,o),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const d of[t,n,r,i])this.addManagedElementListeners(d,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&Nw(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var i;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&((i=this.beans.contextMenuSvc)==null||i.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e==null?void 0:e.getPinnedTopTotalHeight(),r=e==null?void 0:e.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),a=i-s,o=n?a+n:0,l=r?a+r:0;this.comp.setTopHeight(o),this.comp.setBottomHeight(l),this.comp.setTopInvisible(o<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var i,s;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),n=((s=this.pinnedRowModel)==null?void 0:s.getPinnedTopTotalHeight())??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,a=r+s;n.setStickyBottomBottom(`${a}px`)}};function s6e(e,t){var n;return((n=rP(e,t.target))==null?void 0:n.getFocusedCellPosition())??null}function NG(e,t){const n=el(e.gos,"normal"),r=t;let i,s;r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y);const{pageFirstPixel:a}=e.pageBounds.getCurrentPagePixelRange();if(s+=a,n){const o=e.ctrlsSvc.getScrollFeature(),l=o.getVScrollPosition(),c=o.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var Ete=class extends Ea{constructor(e,t){super(),this.direction=t,this.eViewport=er,this.eContainer=er,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",Qee()||bp())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Wee(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Wf(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;r_e(this,()=>Qf(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},a6e={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},o6e=class extends Ete{constructor(){super(a6e,"horizontal"),this.eLeftSpacer=er,this.eRightSpacer=er,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new nP(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),gh(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),gh(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,a=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Mv(this.getGui(),s),Mv(this.eViewport,s),Mv(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(a,100):a()}getScrollPosition(){return YS(this.eViewport,this.enableRtl)}setScrollPosition(e){Qf(this.eViewport)||this.attemptSettingScrollPosition(e),XS(this.eViewport,e,this.enableRtl)}},l6e={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},c6e=class extends Ete{constructor(){super(l6e,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new bte(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),gh(this.getGui(),i),gh(this.eViewport,i),gh(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Qf(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},u6e="ag-column-first",d6e="ag-column-last";function Nte(e,t,n,r){return Us(e)?[]:f6e(e.headerClass,e,t,n,r)}function Tte(e,t,n){e.toggleCss(u6e,n.isColAtEdge(t,"first")),e.toggleCss(d6e,n.isColAtEdge(t,"last"))}function h6e(e,t,n,r){return Fr(t,{colDef:e,column:n,columnGroup:r})}function f6e(e,t,n,r,i){if(Us(e))return[];let s;if(typeof e=="function"){const a=h6e(t,n,r,i);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function A6e(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function iP(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function p6e(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(_n(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function g6e(e,t){return!e&&!t?!0:!e||!t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function m6e(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r!=null&&r.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r!=null&&r.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function x6e(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r==null?void 0:r.getPinnedBottomRowCount(),a=r==null?void 0:r.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?t=i.getLastRow():a&&(n="top",t=a-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function _f(e,t){var n,r;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(r=e.pinnedRowModel)==null?void 0:r.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Im(e,t){var i;const n=(i=e.spannedRowRenderer)==null?void 0:i.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function v6e(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let s;return s??(s=r==null?void 0:r.getRowNode(t)),n?s??(s=i==null?void 0:i.getPinnedRowById(t,n)):(s??(s=i==null?void 0:i.getPinnedRowById(t,"top")),s??(s=i==null?void 0:i.getPinnedRowById(t,"bottom"))),s}function hE(e,t,n=!1){const{rowIndex:r,rowPinned:i}=t,{pageBounds:s,pinnedRowModel:a,rowModel:o}=e;if(r===0)return i==="top"?null:i==="bottom"&&o.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:a!=null&&a.isRowsToRender("top")?{rowIndex:a.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(n){const l=i?void 0:o.getRow(r);return Ite(e,l,!0)??{rowIndex:r-1,rowPinned:i}}return{rowIndex:r-1,rowPinned:i}}function TG(e,t,n=!1){const{rowIndex:r,rowPinned:i}=t,{pageBounds:s,pinnedRowModel:a,rowModel:o}=e;if(w6e(e,t))return i==="bottom"?null:i==="top"&&o.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:a!=null&&a.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(n){const l=i?void 0:o.getRow(r);return Ite(e,l)??{rowIndex:r+1,rowPinned:i}}return{rowIndex:r+1,rowPinned:i}}function Ite(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!(t!=null&&t.sticky)||!vee(r))return;const s=i.getStickyTopRowCtrls(),a=i.getStickyBottomRowCtrls(),o=!a.some(f=>f.rowNode.rowIndex===t.rowIndex),l=o?s:a,c=(n?-1:1)*(o?-1:1);let d;for(let f=0;f<l.length;f++)if(l[f].rowNode.rowIndex===t.rowIndex){d=l[f+c];break}return d?{rowIndex:d.rowNode.rowIndex,rowPinned:null}:void 0}function w6e(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:s}=e;return n==="top"?((i==null?void 0:i.getPinnedTopRowCount())??0)-1<=r:n==="bottom"?((i==null?void 0:i.getPinnedBottomRowCount())??0)-1<=r:s.getLastRow()<=r}function b6e(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===Rt.TAB){const i=r.shiftKey;ag(e,n,!1,i)||I1(e,i)&&r.preventDefault()}}})}function y6e(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function yp(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.exclusive)}function sN(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.exclusive)}function I1(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function C6e(e,t){const n=e.focusSvc,r=n.getFocusedCell();if(r&&t&&iP(r,t)){const{rowIndex:i,rowPinned:s,column:a}=t;ND(e)&&n.setFocusedCell({rowIndex:i,column:a,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!Kee()})}}function fh(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function sP(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const a=r.getGroupRowCtrlAtIndex(s),o=t[s];if(a){const l=S6e(e,a);(o==null||l>o)&&(t[s]=l)}}}return t}function S6e(e,t){let r=e.colModel.isPivotMode()?N6e(e):kte(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:a}=s,o=a.getAutoHeaderHeight();o!=null&&o>r&&a.isAutoHeaderHeight()&&(r=o)}return r}function aP(e){let n=e.colModel.isPivotMode()?E6e(e):Sb(e);return e.colModel.forAllCols(r=>{const i=r.getAutoHeaderHeight();i!=null&&i>n&&r.isAutoHeaderHeight()&&(n=i)}),n}function Sb(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function Fte(e){return e.gos.get("floatingFiltersHeight")??Sb(e)}function kte(e){return e.gos.get("groupHeaderHeight")??Sb(e)}function E6e(e){return e.gos.get("pivotHeaderHeight")??Sb(e)}function N6e(e){return e.gos.get("pivotGroupHeaderHeight")??kte(e)}function T6e(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var I6e=class extends Kt{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:a}=r;i&&this.createManagedBean(new yb(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const o=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:o}),s==null||s.mockHeaderContextMenu(this,o),a.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Wf(this.beans,()=>e()),stylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var s;const{beans:e}=this;let t=0;const n=sP(e).reduce((a,o)=>a+o,0),r=aP(e);if((s=e.filterManager)!=null&&s.hasFloatingFilters()&&(t+=Fte(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:a}=i;(s.navigateHorizontally(r,!0,e)||!n&&a.focusOverlay(!1)||I1(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case Rt.LEFT:t="LEFT";case Rt.RIGHT:{_n(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Rt.UP:t="UP";case Rt.DOWN:{_n(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(Js(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var a;const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!(r!=null&&r.isHeaderContextMenuEnabled()))return;const{target:s}=e??t;(s===this.eGui||s===((a=i.getHeaderRowContainerCtrl())==null?void 0:a.eViewport))&&r.showHeaderContextMenu(void 0,e,n)}},oP=class extends Kt{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?As(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=_n(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!el(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const a=r.bodyWidth;return s+a+t}return s+t}setLeft(e){if(_n(e)&&(this.eCell.style.left=`${e}px`),La(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&DRe(this.ariaEl,t.length)}}},F6e=0,Bte="headerCtrl",lP=class extends Kt{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+F6e++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,r,i){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,n,r,i),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r==null?void 0:r.suppressHeaderKeyboardEvent;if(!_n(i))return!1;const s=Fr(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return Js(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=f=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:w,borderTopWidth:y}=ig(this.eGui),C=p+m+w+y,k=t.offsetHeight+C;if(f<5){const R=Oo(i),P=!(R!=null&&R.contains(t)),U=k==0;if(P||U){sB(()=>s(f+1),"raf",i);return}}this.setColHeaderHeight(this.column,k)};let a=!1,o;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!a&&c(),!f&&a&&d()},c=()=>{a=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),s(0),o=zf(this.beans,t,()=>s(0))},d=()=>{a=!1,o&&o(),this.comp.toggleCss("ag-header-cell-auto-height",!1),o=void 0};l(),r.addDestroyFunc(()=>d()),r.addManagedListeners(this.column,{widthChanged:()=>a&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{a&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(Tte(e,t,n.visibleCols),$Z(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=yp(this.beans);this.eGui&&Ec(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var a,o;const t=Js(this.beans),n=e.key===Rt.LEFT||e.key===Rt.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),(e.ctrlKey||e.metaKey)&&Vee(e)===Rt.C)return(a=this.beans.clipboardSvc)==null?void 0:a.copyToClipboard();if(!n)return;const s=e.key===Rt.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const l=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(l,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(s)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===Rt.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Rt.PAGE_DOWN:case Rt.PAGE_UP:case Rt.PAGE_HOME:case Rt.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=Bte,{eGui:n,gos:r}=this;Qp(r,n,t,this),e.addDestroyFunc(()=>Qp(r,n,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus()):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i!=null&&i.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},k6e=class extends lP{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:a,beans:o}=this,{colResize:l,context:c,colHover:d,rangeSvc:f}=o,p=wb(this,c,i);this.setGui(t,p),this.updateState(),this.setupWidth(p),this.setupMovingCss(p),this.setupMenuClass(p),this.setupSortableClass(p),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:w=>this.setRefreshFunction("measuring",w),compBean:p}),this.addColumnHoverListener(p),this.setupFilterClass(p),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(p),this.setupSelectAll(p),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=p.createManagedBean(l.createResizeFeature(s.pinned,a,n,e,this)):hs(n,!1),d==null||d.createHoverFeature(p,[a],t),f==null||f.createRangeHighlightFeature(p,a,e),p.createManagedBean(new oP(a,t,o)),p.createManagedBean(new yb(t,{shouldStopEventPropagation:w=>this.shouldStopEventPropagation(w),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(p),p.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),p.addManagedListeners(a,{colDefChanged:()=>this.refresh(),formulaRefChanged:()=>this.refresh(),headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();p.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),p.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Fr(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return kDe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return Fr(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||Jc(this.gos)),showColumnMenu:(s,a)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:a})},showColumnMenuAfterMouseClick:(s,a)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:a})},showFilter:s=>{e==null||e.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t==null||t.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,a)=>{t==null||t.setSortForColumn(this.column,fd(s),!!a,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,a)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,a)}})}setupSelectAll(e){var n;const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),(n=this.selectAllFeature)==null||n.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{var i;const r=t.createSelectAllFeature(this.column);r&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(r),(i=this.selectAllFeature)==null||i.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!r&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===Rt.SPACE?(t=this.selectAllFeature)==null||t.onSpaceKeyDown(e):e.key===Rt.ENTER?this.onEnterKeyDown(e):e.key===Rt.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var a,o;const{column:t,gos:n,sortable:r,beans:i}=this;let s=!1;(e.ctrlKey||e.metaKey)&&(s=this.showMenuOnKeyPress(e,!0)),s||(!e.altKey&&$m(n)?(a=i.rangeSvc)==null||a.handleColumnSelection(t,e):r&&((o=i.sortSvc)==null||o.progressSort(t,e.shiftKey,"uiColumnSorted")))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();return IG(n)&&n.onMenuKeyboardShortcut(t)?(e.preventDefault(),!0):!1}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Kee()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=Nte(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n);for(const i of n)r.has(i)?r.delete(i):this.comp.toggleCss(i,!0);for(const i of r)this.comp.toggleCss(i,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var n;(n=this.comp)==null||n.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){var p;const{eGui:e,column:t,comp:n,beans:r}=this,i=sP(this.beans),s=i.reduce((m,w)=>m+w,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:a,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",a>0);const l=aP(r);if(a===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",o);const c=(((p=this.column.getFirstRealParent())==null?void 0:p.getLevel())??-1)+1,d=i.length-c;let f=0;for(let m=0;m<d;m++)f+=i[i.length-1-m];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${l+f}px`)}refreshAriaSort(){var s;let e=null;const{beans:t,column:n,comp:r,sortable:i}=this;if(i){const a=this.getLocaleTextFunc(),o=((s=t.sortSvc)==null?void 0:s.getDisplaySortForColumn(n))??null;r.setAriaSort(SRe(o)),e=a("ariaSortableColumn","Press ENTER to sort")}else r.setAriaSort();this.setAriaDescriptionProperty("sort",e)}refreshAriaMenu(){let e=null;this.menuEnabled&&(e=this.getLocaleTextFunc()("ariaMenuColumn","Press ALT DOWN to open column menu")),this.setAriaDescriptionProperty("menu",e)}refreshAriaFilterButton(){let e=null;const{openFilterEnabled:t,gos:n}=this;t&&!Jc(n)&&(e=this.getLocaleTextFunc()("ariaFilterColumn","Press CTRL ENTER to open filter")),this.setAriaDescriptionProperty("filterButton",e)}refreshAriaFiltered(){let e=null;this.column.isFilterActive()&&(e=this.getLocaleTextFunc()("ariaColumnFiltered","Column Filtered")),this.setAriaDescriptionProperty("filter",e)}refreshAriaCellSelection(){var s;let e=null;const{gos:t,column:n,beans:r}=this;if($m(t)){const a=this.getLocaleTextFunc(),o=(s=r.rangeSvc)==null?void 0:s.isColumnInAnyRange(n);e=a("ariaColumnCellSelection",`Press CTRL+SPACE to ${o?"de":""}select all visible cells in this column`)}this.setAriaDescriptionProperty("cellSelection",e)}setAriaDescriptionProperty(e,t){const n=this.ariaDescriptionProperties;t!=null?n.set(e,t):n.delete(e)}announceAriaDescription(){var i;const{beans:e,eGui:t,ariaDescriptionProperties:n}=this;if(!t.contains(Js(e)))return;const r=Array.from(n.keys()).sort((s,a)=>s==="filter"?-1:a.charCodeAt(0)-s.charCodeAt(0)).map(s=>n.get(s)).join(". ");(i=e.ariaAnnounce)==null||i.announceValue(r,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered(),this.refreshAriaCellSelection()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return IG(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function IG(e){return typeof(e==null?void 0:e.getAnchorElementForMenu)=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var B6e=0,_F=class extends Kt{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=B6e++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){var t;this.rowIndex=e,(t=this.comp)==null||t.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=el(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=wb(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,stylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=el(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=sP(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=aP(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=Fte(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.ctrlsById.set(r,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new k6e(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},R6e=class extends Kt{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const a=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const o=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(o,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),a=()=>{const f=r.headerGroupRowCount;i=f,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const p=this.groupsRowCtrls.length;if(p!==f){if(p>f){for(let m=f;m<p;m++)this.destroyBean(this.groupsRowCtrls[m]);this.groupsRowCtrls.length=f;return}for(let m=p;m<f;m++){const w=this.createBean(new _F(m,this.pinned,"group"));this.groupsRowCtrls.push(w)}}},o=()=>{const f=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new _F(f,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==f&&this.columnsRowCtrl.setRowIndex(f)},l=()=>{this.includeFloatingFilter=!!(n!=null&&n.hasFloatingFilters())&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}e||f();const p=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==p&&this.filtersRowCtrl.setRowIndex(p):this.filtersRowCtrl=this.createBean(new _F(p,this.pinned,"filter"))},c=this.getAllCtrls();a(),o(),l();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,s),c.length!==d.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n==null?void 0:n.getHeaderCellCtrls().find(r=>r.column===e);if(l0(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new nP(e=>this.comp.setCenterWidth(`${e}px`),!0))}},_6e=class extends Kt{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(kG(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var r;(r=this.activeMenuFactory)==null||r.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}hideFilterMenu(){var e;(e=kG(this.beans))==null||e.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(Jc(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&l0(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(bp()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Jc(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!Jc(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Jc(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,a=t.column;if(i==="button"){const{buttonElement:o}=t;e==null||e.showMenuAfterButtonClick(a,o,n,s,r)}else if(i==="mouse"){const{mouseEvent:o}=t;e==null||e.showMenuAfterMouseEvent(a,o,n,s,r)}else if(a){const o=this.beans,l=o.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(a,"auto"),Wf(o,()=>{var d;const c=(d=l.getHeaderRowContainerCtrl(a.getPinned()))==null?void 0:d.getHeaderCtrlForColumn(a);c&&(e==null||e.showMenuAfterButtonClick(a,c.getAnchorElementForMenu(r),n,s,r))})}}};function FG(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function kG(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&Jc(r)?t:n}var aN=class extends VD{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},oN=class extends Ea{constructor(){super()}};function D6e(e,t,n){const r=Tc(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.includes("ag-icon")||typeof s=="object"&&s["ag-icon"])return r}const i=Uu({tag:"span"});return i.appendChild(r),i}function Tc(e,t,n){var s;let r=null;e==="smallDown"?gn(262):e==="smallLeft"?gn(263):e==="smallRight"&&gn(264);const i=n==null?void 0:n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const a=t.gos.get("icons");a&&(r=a[e])}if(r){let a;if(typeof r=="function")a=r();else if(typeof r=="string")a=r;else{gn(38,{iconName:e});return}if(typeof a=="string")return BD(a);if(DD(a))return a;gn(133,{iconName:e});return}else{const a=t.registry.getIcon(e);return a||(s=t.validation)==null||s.validateIcon(e),Uu({tag:"span",cls:`ag-icon ag-icon-${a??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var P6e={tag:"div",cls:"ag-overlay-loading-center",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},M6e=class extends oN{constructor(){super(...arguments),this.eLoadingIcon=er,this.eLoadingText=er}init(e){var i,s;const{beans:t,gos:n}=this,r=mf((i=n.get("overlayLoadingTemplate"))==null?void 0:i.trim());if(this.setTemplate(r??P6e),!r){const a=Tc("overlayLoading",t,null);a&&this.eLoadingIcon.appendChild(a);const o=((s=e.loading)==null?void 0:s.overlayText)??this.getLocaleTextFunc()("loadingOoo","Loading...");this.eLoadingText.textContent=o,t.ariaAnnounce.announceValue(o,"overlay")}}},L6e={tag:"div",cls:"ag-overlay-exporting-center",children:[{tag:"span",ref:"eExportingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eExportingText",cls:"ag-exporting-text"}]},O6e=class extends oN{constructor(){super(...arguments),this.eExportingIcon=er,this.eExportingText=er}init(e){var i;const{beans:t}=this;this.setTemplate(L6e);const n=Tc("overlayExporting",t,null);n&&this.eExportingIcon.appendChild(n);const r=((i=e.exporting)==null?void 0:i.overlayText)??this.getLocaleTextFunc()("exportingOoo","Exporting...");this.eExportingText.textContent=r,t.ariaAnnounce.announceValue(r,"overlay")}},j6e={tag:"span",cls:"ag-overlay-no-rows-center"},U6e=class extends oN{init(e){var i,s;const{beans:t,gos:n}=this,r=mf((i=n.get("overlayNoRowsTemplate"))==null?void 0:i.trim());if(this.setTemplate(r??j6e),!r){const a=((s=e.noRows)==null?void 0:s.overlayText)??this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=a,t.ariaAnnounce.announceValue(a,"overlay")}}},H6e={tag:"span",cls:"ag-overlay-no-matching-rows-center"},G6e=class extends oN{init(e){var r;const{beans:t}=this;this.setTemplate(H6e);const n=((r=e.noMatchingRows)==null?void 0:r.overlayText)??this.getLocaleTextFunc()("noMatchingRows","No Matching Rows");this.getGui().textContent=n,t.ariaAnnounce.announceValue(n,"overlay")}},V6e=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",Q6e={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},z6e=class extends Ea{constructor(){super(),this.dragSource=null,this.eIcon=er,this.eLabel=er,this.eGhost=er,this.registerCSS(V6e)}postConstruct(){const e=t=>D6e(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Q6e),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:n,eIcon:r,dragSource:i,dropIconMap:s,gos:a}=this;kc(r);let o=null;e||(e=i!=null&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=s[e],n.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),r.classList.toggle("ag-shake-left-to-right",t),!(o===s.hide&&a.get("suppressDragLeaveHidesColumns"))&&o&&r.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},W6e=".ag-checkbox-cell{height:100%}",K6e={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},q6e=class extends Ea{constructor(){super(K6e,[WD]),this.eCheckbox=er,this.registerCSS(W6e)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),WZ(r,"polite"),this.addManagedListeners(r,{click:i=>{if(Wp(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Wp(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===Rt.SPACE&&!t.isDisabled()){e.eGridCell===Js(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const f=i.getColId();f.startsWith(tN)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[f]!==void 0||s.sourceRowIndex>=0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:a}=this;if(!n){a.setDisplayed(!1);return}a.setValue(t);const o=e.disabled??!(i!=null&&i.isCellEditable(s));a.setDisabled(o);const l=this.getLocaleTextFunc(),c=J5(l,t),d=o?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;a.setInputAriaLabel(d)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:i}=t,{editSvc:s}=this.beans;if(!n)return;const a={rowNode:r,column:n};s==null||s.dispatchCellEvent(a,null,"cellEditingStarted",{value:i});const o=r.setDataValue(n,e,"ui");s==null||s.dispatchCellEvent(a,null,"cellEditingStopped",{oldValue:i,newValue:e,valueChanged:o}),o||this.updateCheckbox(t)}},BG=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Ch(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=(e==null?void 0:e.getSortOptions())??[],i=this.order,s=X6e(i);if(i.sort((o,l)=>{var c,d;return(t==null?void 0:t.compareRowNodes(r,o,l))||(((c=o.pinnedSibling)==null?void 0:c.rowIndex)??0)-(((d=l.pinnedSibling)==null?void 0:d.rowIndex)??0)}),!s)return;const a=wee(n);a==="bottom"||a==="pinnedBottom"?this.order.push(s):this.order.unshift(s)}hide(e){const{all:t,visible:n}=this,r=n.size;return t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort(),r!=n.size}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function Rte(e){var n;if(e.level===-1)return!0;const t=e.parent;return(n=t==null?void 0:t.childrenAfterSort)!=null&&n.some(r=>r==e)?Rte(t):!1}function DF(e,t){const{gos:n,rowModel:r,filterManager:i}=e;return q1(n)?!r.getRowNode(t.id):i!=null&&i.isAnyFilterPresent()?!Rte(t):n.get("pivotMode")?!t.group:!1}function $6e(e){return!!e.footer&&e.level===-1}function Y6e(e){return!!e.pinnedSibling&&$6e(e.pinnedSibling)}function X6e(e){var n;const t=e.findIndex(Y6e);if(t>-1)return(n=e.splice(t,1))==null?void 0:n[0]}var RG=class extends Kt{postConstruct(){const{gos:e,beans:t}=this;this.top=new BG(t,"top"),this.bottom=new BG(t,"bottom");const n=i=>DF(t,i.pinnedSibling),r=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow();let s=!1;this.forContainers(o=>{s||(s=o.hide(n))});const a=this.refreshRowPositions();(!i||a||s)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Z6e),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{const s=e.get("isRowPinnable");((s==null?void 0:s(i))??!0)||this.pinRow(i,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){var a;if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,tLe(this.beans);return}const r=e.rowPinned??((a=e.pinnedSibling)==null?void 0:a.rowPinned);if(r!=null&&t!=null&&t!=r){const o=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(l,t,n);return}const s=n&&eLe(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(o);if(!l)return;l.delete(o);const c=o.pinnedSibling;PF(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(c)}else{const o=_G(this.beans,e,t),l=this.getContainer(t);l.add(o),DF(this.beans,e)&&l.hide(c=>DF(this.beans,c.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=a0(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return DG(this.top)}getPinnedBottomTotalHeight(){return DG(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const i=this.beans.rowModel.getRowNode(r);i?this.pinRow(i,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const i=this.beans.rowModel.getRowNode(r);i&&n.add(i)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){var o;const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!sa(e))return;const i=(o=r.rootNode)==null?void 0:o.sibling;if(!i)return;const s=i.pinnedSibling,a=s&&this.findPinnedRowNode(s);if(n){if(a&&a.floating!==n&&(a.delete(s),PF(s)),!a||a.floating!==n){const l=_G(t,i,n);this.getContainer(n).add(l)}}else{if(!a)return;a.delete(s),PF(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=r=>J6e(this.beans,r);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(r=>{const i=t(r);n||(n=i)}),n}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e==null||e.dispatchRowEvent("rowPinned")}};function J6e(e,t){let n=0,r=!1;return t.forEach((i,s)=>{if(r||(r=i.rowTop!==n),i.setRowTop(n),i.rowHeightEstimated||i.rowHeight==null){const a=a0(e,i).height;r||(r=i.rowHeight!==a),i.setRowHeight(a)}i.setRowIndex(s),n+=i.rowHeight}),r}function _G(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=wMe(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const i=n==="top"?XD:JD;return r.id=`${i}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function PF(e){if(!e.pinnedSibling)return;e.rowPinned=null,e._destroy(!1);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Z6e(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function eLe(e,t,n){var s;const{rowSpanSvc:r}=e,i=(n&&(r==null?void 0:r.isCellSpanning(n,t)))??!1;if(n&&i)return(s=r==null?void 0:r.getCellSpan(n,t))==null?void 0:s.spannedNodes}function DG(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function tLe({gos:e,rowModel:t}){sa(e)&&t.refreshModel({step:"map"})}var PG=class extends Kt{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Zx(this.pinnedBottomRows,t),Zx(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=a0(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return Zx(this.pinnedBottomRows,n),t=0,Zx(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){var d;const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=E1(this.gos),i=t==="top"?XD:JD,s=new Set(n.order),a=[],o=new Set;let l=0,c=-1;for(const f of e){const p=(r==null?void 0:r({data:f,level:0,rowPinned:t}))??i+this.nextId++;if(o.has(p)){gn(96,{id:p,data:f});continue}c++,o.add(p),a.push(p);const m=jv(n,p);if(m!==void 0)m.data!==f&&m.updateData(f),l+=this.setRowTopAndRowIndex(m,l,c),s.delete(p);else{const w=new c0(this.beans);w.id=p,w.data=f,w.rowPinned=t,l+=this.setRowTopAndRowIndex(w,l,c),n.cache[p]=w,n.order.push(p)}}for(const f of s)(d=jv(n,f))==null||d.clearRowTopAndRowIndex(),delete n.cache[f];n.order=a}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(a0(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return MG(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return MG(this.pinnedBottomRows)}getPinnedTopRowCount(){return SB(this.pinnedTopRows)}getPinnedBottomRowCount(){return SB(this.pinnedBottomRows)}getPinnedTopRow(e){return CB(this.pinnedTopRows,e)}getPinnedBottomRow(e){return CB(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return jv(this.getCache(t),e)}forEachPinnedRow(e,t){return Zx(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function MG(e){const t=SB(e);if(t===0)return 0;const n=CB(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function jv(e,t){return e.cache[t]}function CB(e,t){return jv(e,e.order[t])}function Zx(e,t){e.order.forEach((n,r)=>{const i=jv(e,n);i&&t(i,r)})}function SB(e){return e.order.length}var nLe=class extends Kt{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=wee(e),s=!!n||(r==="pinnedBottom"||r==="pinnedTop"),a=s?this.inner instanceof PG:this.inner instanceof RG;this.inner&&a&&this.destroyBean(this.inner),(a||!this.inner)&&(this.inner=this.createManagedBean(s?new RG:new PG))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},fE=e=>{let t=e.childrenAfterGroup;for(;t!=null&&t.length;){const n=t[0];if(n.sourceRowIndex>=0)return n;t=n.childrenAfterGroup}},rLe=(e,t,n,r)=>{if(!t.size||!e)return!1;let i=!1;const s=e.length??0;let a=-1;n&&(a=n.sourceRowIndex,n=a<0?fE(n):null,n&&(a=n.sourceRowIndex)),a<0||a>=s?a=s:r||++a;let o=a,l=Math.min(a,s-1);for(const f of t){const p=f.sourceRowIndex;p<o&&(o=p),p>l&&(l=p)}let c=o;for(let f=o;f<a;++f){const p=e[f];t.has(p)||(p.sourceRowIndex!==c&&(p.sourceRowIndex=c,e[c]=p,i=!0),++c)}let d=l;for(let f=l;f>=a;--f){const p=e[f];t.has(p)||(p.sourceRowIndex!==d&&(p.sourceRowIndex=d,e[d]=p,i=!0),--d)}for(const f of t)f.sourceRowIndex!==c&&(f.sourceRowIndex=c,e[c]=f,i=!0),++c;return i},E2=class{constructor(){this.reordered=!1,this.removals=[],this.updates=new Set,this.adds=new Set}};function Eb(e){return!!(e.rowPinned&&e.pinnedSibling)}function wu(e,t,n,r){const i=t==="top";if(!n)return wu(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return wu(e,t,n,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,a=!1;const o=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,o.push(l);return}if(s&&l===r){a=!0,o.push(l);return}s&&!a&&o.push(l)}),o}var iLe={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},sLe=class extends Ea{constructor(){super(iLe,[WD]),this.eCheckbox=er}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=J5(e,r),[s,a]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(s,a);n.setValue(r,!0),n.setInputAriaLabel(`${o} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getWrapperElement(),{dblclick:Wp,click:r=>{var i;Wp(r),!this.eCheckbox.isDisabled()&&((i=this.beans.selectionSvc)==null||i.handleSelectionEvent(r,this.rowNode,"checkboxSelected"))}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?pF(r):void 0,a=typeof i=="object"?pF(i):void 0;s!==a&&this.onSelectableChanged()}),uB(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,s=this.getIsVisible();let a;if(typeof s=="function"){const f=n==null?void 0:n.callbackParams;if(!e)a=s({...f,node:t,data:t.data});else{const p=e.createColumnFunctionCallbackParams(t);a=s({...f,...p})}}else a=s??!1;const o=i&&!a||!i&&a,l=i||a,c=r.get("rowSelection"),d=c&&typeof c!="string"?!pF(c):!!(e!=null&&e.getColDef().showDisabledCheckboxes);this.setVisible(l&&(o?d:!0)),this.setDisplayed(l&&(o?d:!0)),l&&this.eCheckbox.setDisabled(o),n!=null&&n.removeHidden&&this.setDisplayed(l)}getIsVisible(){var n,r;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?qm(t):(r=(n=this.column)==null?void 0:n.getColDef())==null?void 0:r.checkboxSelection}},aLe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r!=null&&r.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!(n!=null&&n.isManual()))return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return wu(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=wu(n,"bottom",void 0,e),s=r.getRowCount(),a=r.getRow(s-1);return(r.getNodesInRangeForSelection(t,a)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return wu(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=wu(n,"top",t,void 0),s=wu(n,"bottom",void 0,e),a=r.getRow(0),o=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(a,o)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return wu(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=wu(n,"top",e,void 0),s=wu(n,"bottom",void 0,t),a=r.getRow(0),o=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(a,o)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return wu(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=wu(n,"bottom",void 0,t),s=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},oLe=class extends Kt{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Js(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new zD);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Gp(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=a=>typeof a=="string"||!a||a.mode==="singleRow"?void 0:a.selectAll;s(r)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue(),a=J5(t,s),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${o} (${a})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return nE(this.gos)?!0:(gn(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return sa(t)||q1(t)?!0:(gn(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return _te(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=See(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function _te({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:s}=i;let a=!1;if(typeof r=="object"){const l=p0(n),c=HD(n);(eE(r)==="autoGroupColumn"&&c||l&&(t!=null&&t.isSelectionColumnEnabled()))&&(a=m2(r))}else typeof s=="function"?a=s(Fr(e,{column:n,colDef:i})):a=!!s;return a}var lLe=class extends Kt{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new aLe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=uB(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=uB(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new sLe}createSelectAllFeature(e){if(_te(this.beans,e))return new oLe(e)}isMultiSelect(){return nE(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",r);const s=i.element;YZ(s,r),s.contains(Js(this.beans))&&t(i)})}announceAriaRowSelection(e){var s,a;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected(),n=(s=this.beans.editSvc)==null?void 0:s.isEditing({rowNode:e});if(!e.selectable||n)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(a=this.beans.ariaAnnounce)==null||a.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Eb(e)||!vp(this.gos)}updateRowSelectable(e,t){var r;const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:((r=this.isRowSelectable)==null?void 0:r.call(this,e))??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Iw(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var r;let t=!1,n=!1;if(!((r=e.childrenAfterGroup)!=null&&r.length))return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const s=e.childrenAfterGroup[i];let a=s.isSelected();if(!s.selectable){const o=this.calculateSelectedFromChildren(s);if(o===null)continue;a=o}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){if(t&&e.destroyed)return!1;const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const a=e.sibling;a&&a.footer&&a.__localEventService&&a.dispatchRowEvent("rowSelected");const o=e.pinnedSibling;return o!=null&&o.rowPinned&&o.__localEventService&&o.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...xMe(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=p0(e)&&qm(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,a=e.isSelected(),o=Iw(i),l=T_e(i),c=I_e(i),d=this.isMultiSelect(),f=r==="rowClicked";if(f&&!(l||c))return null;if(t&&n&&d){const p=s.getRoot();if(p)if(p.isSelected()){const m=s.isInRange(e)?s.truncate(e):s.extend(e,o);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=s.extend(e,o);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&d){const p=s.selectAll?this.beans.rowModel.getRow(0):void 0,m=s.getRoot(p),w=s.isInRange(e)?s.truncate(e):s.extend(e,o);return{select:w.keep,deselect:w.discard,reset:s.selectAll||!!(m&&!m.isSelected())}}else if(n){if(f){const p=!a;return p&&!l||!p&&!c?null:(s.setRoot(e),{node:e,newValue:p,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!a,clearSelection:!d}}else{s.setRoot(e);const p=F_e(i),m=rE(i)==="filteredDescendants",w=f&&(!p||!l);if(m&&a===void 0&&sa(i))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!d||w};if(f){const y=a?!p:l;return y===a&&!w||y&&!l||!y&&!c?null:{node:e,newValue:y,clearSelection:!d||w,keepDescendants:e.group&&o}}return{node:e,newValue:!a,clearSelection:!d||w}}}},cLe=class extends pMe{initialiseTabGuard(t){super.initialiseTabGuard(t,eP)}},uLe=class extends Yee{constructor(e){super(e,eP)}},dLe=500,hLe=550,IC,fLe=e=>{if(!IC)IC=new WeakSet;else if(IC.has(e))return!1;return IC.add(e),!0},V0=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new Hp;const r=this.onTouchStart.bind(this);this.startListener=r,this.eElement.addEventListener("touchstart",r,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){var n;(n=this.eventSvc)==null||n.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!fLe(e))return;const t=e.touches[0];this.touchStart=t;const n=this.handlers;if(!n.length){const r=this.eElement,i=r.ownerDocument,s=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this),o=this.onTouchCancel.bind(this),l={passive:!0},c={passive:!1};f2(n,[r,"touchmove",s,l],[i,"touchcancel",o,l],[i,"touchend",a,c],[i,"contextmenu",Em,c])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{var r;this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,(r=this.eventSvc)==null||r.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},hLe)}onTouchMove(e){const{moved:t,touchStart:n}=this;if(!t&&n){const r=Qm(n,e.touches);r&&!ree(r,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){var n;const t=this.touchStart;!t||!Qm(t,e.changedTouches)||(this.moved||((n=this.eventSvc)==null||n.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&Em(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;!t||!Qm(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){var r;let t=Date.now();const n=this.lastTapTime;n&&t-n>dLe&&((r=this.eventSvc)==null||r.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),PD(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},Dte=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${lee}/${this.frameworkName}-data-grid`,p_e(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}};function ALe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var pLe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],LG=Object.fromEntries(pLe.map((e,t)=>[e,t]));function gLe(e,t){const n=(e.beanName?LG[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?LG[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function mLe(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:(t==null?void 0:t.beanName)==="gridDestroySvc"?1:0}var xLe=class extends Kt{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r==null||r.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new tP(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=zf(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=qee(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,r,i,s;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(n=e.registry)==null?void 0:n.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(r=e.sideBar)==null?void 0:r.getSelector(),statusBarSelector:(i=e.registry)==null?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:(s=e.licenseManager)==null?void 0:s.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,a=i.allCols,o=As(a);if(s.focusGridView({column:o,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t!=null&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(As(n),e);const a=As(s);if(r.focusGridView({column:a,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||yp(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let a=1;a<n.length;a++)if(zp(n[a].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n}=this.getNextFocusableIndex(t,e),r=t[n];r?this.focusContainer(r):this.forceFocusOutOfContainer(e)}isFocusable(){var t,n;const e=this.beans;return!sN(e)||!yp(e)||!!((n=(t=e.sideBar)==null?void 0:t.comp)!=null&&n.isDisplayed())}getNextFocusableIndex(e,t){const n=Js(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){var r,i;(r=e.setAllowFocus)==null||r.call(e,!0);const n=zp(e.getGui(),t,!1,!0);return(i=e.setAllowFocus)==null||i.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Or=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},OG={dispatchEvent:"CommunityCore",...Or("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Or("GridState",{getState:0,setState:0}),...Or("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Or("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Or("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Or("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Or("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Or("ValueCache",{expireValueCache:0}),...Or("CellApi",{getCellValue:0}),...Or("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Or("Sort",{onSortChanged:0}),...Or("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Or("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Or("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Or("HighlightChanges",{flashCells:0}),...Or("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Or("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Or("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Or("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Or("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Or("ColumnResize",{setColumnWidths:0}),...Or("ColumnHover",{isColumnHovered:0}),...Or("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Or("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Or("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Or("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Or("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Or("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Or("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Or("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Or("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...Or("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Or("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...Or("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Or("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Or("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Or("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Or("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Or("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Or("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Or("ContextMenu",{showContextMenu:0}),...Or("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Or("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Or("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Or("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Or("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Or("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...Or("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Or("StatusBar",{getStatusPanel:0}),...Or("AiToolkit",{getStructuredSchema:0})},MF={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},vLe=(e,t)=>e.eventSvc.dispatchEvent(t),Pte=class{};Reflect.defineProperty(Pte,"name",{value:"GridApi"});var wLe=class extends Kt{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new Pte,this.fns={...MF,dispatchEvent:vLe},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(OG))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:n,beans:r}=this;n!==MF&&(n[e]=((i=r==null?void 0:r.validation)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)gn(26,{fnName:e,preDestroyLink:r});else{const i=OG[e];n.assertModuleRegistered(i,`api.${e}`)&&gn(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=MF,this.beans=null}};function bLe(e){return e.context.getId()}function yLe(e){e.gridDestroySvc.destroy()}function CLe(e){return e.gridDestroySvc.destroyCalled}function SLe(e,t){return e.gos.get(t)}function ELe(e,t,n){Mte(e,{[t]:n})}function Mte(e,t){e.gos.updateGridOptions({options:t})}function NLe(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var TLe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},ILe=class extends Ea{constructor(e,t,n){super(TLe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Tc("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,a=e.dataTransfer;if(a.setDragImage(r,0,0),s){const o=Fr(i,{rowNode:t,dragEvent:e});s(o)}else try{const o=JSON.stringify(t.data);a.setData("application/json",o),a.setData("text/plain",o)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function FLe(e,t){var n,r;(r=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null||r.addRowDropZone(t)}function kLe(e,t){var r,i;const n=(r=e.dragAndDrop)==null?void 0:r.findExternalZone(t.getContainer());n&&((i=e.dragAndDrop)==null||i.removeDropTarget(n))}function BLe(e,t){var n,r;return(r=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null?void 0:r.getRowDropZone(t)}function RLe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function _Le(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t==null?void 0:t.row;let i=t==null?void 0:t.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=r==null?void 0:r.rowIndex;s==null||i==="none"?n.clear():n.set(r,i)}var DLe=class extends hMe{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},PLe=class extends Kt{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},MLe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},FC={skipAriaHidden:!0},LLe=class extends Ea{constructor(e,t,n,r,i,s=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.alwaysVisible=s,this.dragSource=null,this.disabled=!1}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(MLe),this.getGui().appendChild(Tc("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,rowNode:t}=this,n=this.refreshVisibility.bind(this);this.addManagedListeners(e.eventSvc,{rowDragVisibilityChanged:n}),this.addManagedListeners(t,{dataChanged:n,cellChanged:n}),this.refreshVisibility()}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const{beans:e,column:t,rowNode:n}=this,{gos:r,dragAndDrop:i,rowDragSvc:s}=e,a=s==null?void 0:s.visibility;let l=!(a==="suppress"||a==="hidden"&&!(i!=null&&i.hasExternalDropZones())),c=l;if(l&&!this.isCustomGui()&&t){const d=t.getColDef().rowDrag;if(d===!1)l=!1;else{const f=typeof d=="function";c=t.isRowDrag(n),l=f||c}}l&&c&&n.footer&&r.get("rowDragManaged")&&(c=!1,l=!0),c&&(c=l),l||this.setDisplayed(l,FC),c||this.setVisible(c,FC),this.setDisabled(!c||a==="disabled"&&!(i!=null&&i.hasExternalDropZones())),l&&this.setDisplayed(l,FC),c&&this.setVisible(c,FC)}setDisabled(e){var t,n;e!==this.disabled&&(this.disabled=e,(n=(t=this.getGui())==null?void 0:t.classList)==null||n.toggle("ag-drag-handle-disabled",e))}getSelectedNodes(){var r;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=((r=this.beans.selectionSvc)==null?void 0:r.getSelectedNodes())??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r==null||r.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:r=>this.getDragItemName(r,n),getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}getDragItemName(e,t){var a,o,l,c;const n=(e==null?void 0:e.dragItem)||this.getDragItem(),r=(((a=e==null?void 0:e.dropTarget)==null?void 0:a.rows.length)??((o=n.rowNodes)==null?void 0:o.length))||1,i=((c=(l=this.column)==null?void 0:l.getColDef())==null?void 0:c.rowDragText)??this.gos.get("rowDragText");if(i)return i(n,r);if(r!==1)return`${r} ${t("rowDragRows","rows")}`;const s=this.cellValueFn();return s||`1 ${t("rowDragRow","rows")}`}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Rw=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const a=r[i];a.childrenAfterGroup?this.depthFirstSearchEverything(a,t,n):n&&t(a)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(const r of t)this.nodeIdsToColumns[n.id][r.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},OLe=.25,jLe=class extends Kt{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.autoScroll=null,this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,t=>{const n=()=>t.gridBodyCtrl.scrollFeature.getVScrollPosition().top,r=new tPe({scrollContainer:t.gridBodyCtrl.eBodyViewport,scrollAxis:"y",getVerticalPosition:n,setVerticalPosition:i=>t.gridBodyCtrl.scrollFeature.setVerticalScrollPosition(i),onScrollCallback:()=>{var a;const i=n();if(this.autoScrollOldV!==i){this.autoScrollOldV=i,this.autoScrollChanging=!0;return}const s=this.autoScrollChanging;this.autoScrollChanged=s,this.autoScrollChanging=!1,s&&((a=e.dragAndDrop)==null||a.nudge(),this.autoScrollChanged=!1)}});this.autoScroll=r,this.clearAutoScroll()})}destroy(){super.destroy(),this.clearAutoScroll(),this.autoScroll=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){var t;return((t=e==null?void 0:e.dropTarget)==null?void 0:t.allowed)===!1||this.beans.rowDragSvc.visibility!=="visible"?"notAllowed":"move"}getRowNodes(e){var n;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=(n=this.beans.selectionSvc)==null?void 0:n.getSelectedNodes();if(r&&r.indexOf(t)>=0)return r.slice().sort(ULe)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){var o;const{lastDraggingEvent:n,beans:r}=this;if(t){const l=this.getRowNodes(e);e.dragItem.rowNodes=l,UG(l,!0)}this.lastDraggingEvent=e;const i=e.fromNudge,s=this.makeRowsDrop(n,e,i,!1);(o=r.rowDropHighlightSvc)==null||o.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e);const a=this.autoScroll;s!=null&&s.rowDragManaged&&s.moved&&s.allowed&&s.sameGrid&&!s.suppressMoveWhenRowDragging&&(!i&&!(a!=null&&a.scrolling)||this.autoScrollChanged)&&this.dropRows(s),a==null||a.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,r){const{beans:i,gos:s}=this,a=this.newRowsDrop(t,r),o=i.rowModel;if(t.dropTarget=a,t.changed=!1,!a)return null;let{sameGrid:l,rootNode:c,source:d,target:f}=a;f??(f=o.getRow(o.getRowCount()-1)??null);const p=this.beans.groupEditSvc,m=!!(p!=null&&p.canSetParent(a));let w=null;if(f!=null&&f.footer){const C=vB(o,-1,f)??vB(o,1,f);m&&(w=f.sibling??c),f=C??null}f!=null&&f.detail&&(f=f.parent),a.moved&&(a.moved=d!==f);let y=.5;if(f&&(l&&a.moved&&(w||!m)?y=d.rowIndex>f.rowIndex?-.5:.5:y=(a.y-f.rowTop-f.rowHeight/2)/f.rowHeight||0),!m&&l&&f&&a.moved&&sa(s)){const C=HLe(o,a);C&&(y=d.rowIndex>C.rowIndex?-.5:.5,f=C,a.moved&&(a.moved=d!==f))}return a.target=f,a.newParent=w,a.pointerPos=GLe(f,a.y),a.yDelta=y,p==null||p.fixRowsDrop(a,m,n,y),this.validateRowsDrop(a,m,r),t.changed||(t.changed=jG(e==null?void 0:e.dropTarget,a)),a}newRowsDrop(e,t){const{beans:n,gos:r}=this,i=n.rowModel.rootNode,s=sa(r)?r.get("rowDragManaged"):!1,a=r.get("suppressMoveWhenRowDragging"),o=this.isFromThisGrid(e);let{rowNode:l,rowNodes:c}=e.dragItem;if(c||(c=l?[l]:[]),l||(l=c[0]),!l||!i)return null;const d=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let f=!0;s&&(!c.length||n.rowDragSvc.visibility!=="visible"||(a||!o)&&!d)&&(f=!1);const p=NG(n,e).y,m=this.getOverNode(p);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:s,suppressMoveWhenRowDragging:a,sameGrid:o,withinGrid:d,treeData:!1,rootNode:i,moved:l!==m,y:p,overNode:m,overIndex:(m==null?void 0:m.rowIndex)??-1,pointerPos:"none",position:"none",source:l,target:m??null,newParent:null,rows:c,allowed:f,highlight:!t&&s&&a&&(d||!o),yDelta:0,inside:!1,droppedManaged:!1}}validateRowsDrop(e,t,n){var m;const{source:r,target:i,yDelta:s,inside:a,moved:o,rowDragManaged:l,suppressMoveWhenRowDragging:c}=e;e.moved&&(e.moved=r!==i);const{position:d,fallbackPosition:f}=this.computeDropPosition(o,a,s);e.position=d,t||(e.newParent=null),this.enforceSuppressMoveWhenRowDragging(e,c,"initial");const p=(!l||e.allowed)&&this.gos.get("isRowValidDropPosition");p&&this.applyDropValidator(e,t,n,l,p),l&&(e.rows=this.filterRows(e)),(m=this.beans.groupEditSvc)==null||m.clearNewSameParent(e,t),this.enforceSuppressMoveWhenRowDragging(e,c,"final"),e.position==="inside"&&(!e.allowed||!e.newParent)&&(e.position=f)}computeDropPosition(e,t,n){const r=n<0?"above":"below";return e?{position:t?"inside":r,fallbackPosition:r}:{position:"none",fallbackPosition:r}}enforceSuppressMoveWhenRowDragging(e,t,n){if(t){if(n==="initial"){e.moved||(e.allowed=!1);return}(!e.rows.length||e.position==="none")&&(e.allowed=!1)}}applyDropValidator(e,t,n,r,i){var o;(o=this.beans.groupEditSvc)==null||o.clearNewSameParent(e,t);const s=i(e);if(!s){e.allowed=!1;return}if(typeof s!="object")return;s.rows!==void 0&&(e.rows=s.rows??[]),t&&s.newParent!==void 0&&(e.newParent=s.newParent),s.target!==void 0&&(e.target=s.target),s.position&&(e.position=s.position),s.allowed!==void 0?e.allowed=s.allowed:r||(e.allowed=!0);const a=e.draggingEvent;s.changed&&a&&(a.changed=!0),!n&&s.highlight!==void 0&&(e.highlight=s.highlight)}addRowDropZone(e){if(!e.getContainer()){gn(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){gn(56);return}const n=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(i=>e.onDragEnter(this.rowDragEvent("rowDragEnter",i))),onDragLeave:e.onDragLeave&&(i=>e.onDragLeave(this.rowDragEvent("rowDragLeave",i))),onDragging:e.onDragging&&(i=>e.onDragging(this.rowDragEvent("rowDragMove",i))),onDragStop:e.onDragStop&&(i=>e.onDragStop(this.rowDragEvent("rowDragEnd",i))),onDragCancel:e.onDragCancel&&(i=>e.onDragCancel(this.rowDragEvent("rowDragCancel",i)))},r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:n=>{var r;this.onDragEnter(n),(r=e==null?void 0:e.onDragEnter)==null||r.call(e,this.rowDragEvent("rowDragEnter",n))},onDragLeave:n=>{var r;this.onDragLeave(n),(r=e==null?void 0:e.onDragLeave)==null||r.call(e,this.rowDragEvent("rowDragLeave",n))},onDragging:n=>{var r;this.onDragging(n),(r=e==null?void 0:e.onDragging)==null||r.call(e,this.rowDragEvent("rowDragMove",n))},onDragStop:n=>{var r;this.onDragStop(n),(r=e==null?void 0:e.onDragStop)==null||r.call(e,this.rowDragEvent("rowDragEnd",n))},onDragCancel:n=>{var r;this.onDragCancel(n),(r=e==null?void 0:e.onDragCancel)==null||r.call(e,this.rowDragEvent("rowDragCancel",n))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:n}=this.beans,i=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return i>=0?n.getRow(i):void 0}rowDragEvent(e,t){const n=this.beans,{dragItem:r,dropTarget:i,event:s,vDirection:a}=t,o=(i==null?void 0:i.rootNode)===n.rowModel.rootNode,l=o?i.y:NG(n,t).y,c=o?i.overNode:this.getOverNode(l),d=o?i.overIndex:(c==null?void 0:c.rowIndex)??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:s,node:r.rowNode,nodes:r.rowNodes,overIndex:d,overNode:c,y:l,vDirection:a,rowsDrop:i}}dispatchGridEvent(e,t){const n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e,!1)}onDragStop(e){var r;const t=((r=this.lastDraggingEvent)==null?void 0:r.dropTarget)??null,n=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),n!=null&&n.allowed&&n.rowDragManaged&&(!(t!=null&&t.droppedManaged)||jG(t,n))&&this.dropRows(n),this.stopDragging(e,!0)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e,!0)}stopDragging(e,t){var n,r;this.clearAutoScroll(),(n=this.beans.groupEditSvc)==null||n.stopDragging(t),(r=this.beans.rowDropHighlightSvc)==null||r.fromDrag(null),UG(e.dragItem.rowNodes,!1),this.lastDraggingEvent=null}clearAutoScroll(){var e;(e=this.autoScroll)==null||e.ensureCleared(),this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}dropRows(e){return e.droppedManaged=!0,e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){const r=E1(this.gos),i=this.beans.rowModel,s=n.filter(({data:o,rowPinned:l})=>!i.getRowNode((r==null?void 0:r({data:o,level:0,rowPinned:l}))??o.id)).map(({data:o})=>o);if(s.length===0)return!1;let a;if(t){const o=t.sourceRowIndex>=0?t:fE(t);o&&(a=o.sourceRowIndex+(e==="above"?0:1))}return i.updateRowData({add:s,addIndex:a}),!0}filterRows(e){const{groupEditSvc:t}=this.beans,{rows:n,sameGrid:r}=e;let i;for(let s=0,a=n.length;s<a;++s){let o=!0;const l=n[s];(!l||l.footer||r&&l.destroyed&&!l.group||!this.csrmGetLeaf(l))&&(o=!1),o&&t&&!t.canDropRow(l,e)&&(o=!1),o?i==null||i.push(l):i??(i=n.slice(0,s))}return i??n}csrmMoveRows(e){const t=this.beans.groupEditSvc;return t!=null&&t.isGroupingDrop(e)?t.dropGroupEdit(e):this.csrmMoveRowsReorder(e)}csrmMoveRowsReorder({position:e,target:t,rows:n,newParent:r,rootNode:i}){let s=!1;const a=new Set;for(const p of n){r&&p.parent!==r&&(p.treeParent=r,s=!0);const m=this.csrmGetLeaf(p);m&&a.add(m)}if(!s&&a.size===0)return!1;const o=this.beans.focusSvc,l=o.getFocusedCell(),c=l&&Im(this.beans,l);if(a.size&&rLe(i._leafs,a,t,e==="above")&&(s=!0),!s)return!1;const d=this.beans.rowModel,f=new E2;return f.reordered=!0,d.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Rw(!1,i),changedRowNodes:f}),c?c.focusCell():o.clearFocusedCell(),!0}csrmGetLeaf(e){if(e.sourceRowIndex>=0)return e.destroyed?void 0:e;const t=this.beans.groupEditSvc;return t?t.csrmFirstLeaf(e):fE(e)}},jG=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!A0(e.rows,t.rows)),ULe=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,UG=(e,t)=>{for(let n=0,r=(e==null?void 0:e.length)||0;n<r;++n){const i=e[n];i.dragging!==t&&(i.dragging=t,i.dispatchRowEvent("draggingChanged"))}},HLe=(e,t)=>{let n=null,r=t.target;if(r&&t.rows.indexOf(r)<0)return null;const i=t.source;if(!r||!i)return null;let s=r.rowIndex-i.rowIndex;const a=s<0?-1:1;s=t.suppressMoveWhenRowDragging?Math.abs(s):1;const o=new Set(t.rows);do{const l=vB(e,a,r);if(!l)break;o.has(l)||(n=l,--s),r=l}while(s>0);return n},GLe=(e,t)=>{const n=e==null?void 0:e.rowTop,r=(e==null?void 0:e.rowHeight)??0;if(n==null||!r||r<=0)return"none";const i=t-n,s=r*OLe;return i<=s?"above":i>=r-s?"below":"inside"},VLe=class extends Kt{constructor(){super(...arguments),this.beanName="rowDragSvc",this.rowDragFeature=null,this.visibility="suppress"}setupRowDrag(e,t){const n=t.createManagedBean(new jLe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n;const i=()=>this.refreshVisibility();this.addManagedPropertyListeners(["rowDragManaged","suppressRowDrag","refreshAfterGroupEdit"],i),this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:i,columnPivotModeChanged:i,sortChanged:i,filterChanged:i}),this.visibility=this.computeVisibility()}createRowDragComp(e,t,n,r,i,s){return new LLe(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(o0(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const a=this.gos;return a.get("rowDragManaged")&&(!sa(a)||a.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}cancelRowDrag(){var e,t;(e=this.rowDragFeature)!=null&&e.lastDraggingEvent&&((t=this.beans.dragSvc)==null||t.cancelDrag())}computeVisibility(){var i,s,a,o;const e=this.beans,t=e.gos;if(t.get("suppressRowDrag"))return"suppress";if(!t.get("rowDragManaged"))return"visible";const r=e.colModel.isPivotMode();return(r||(s=(i=e.rowGroupColsSvc)==null?void 0:i.columns)!=null&&s.length)&&!t.get("refreshAfterGroupEdit")?"hidden":r||(a=e.filterManager)!=null&&a.isAnyFilterPresent()||(o=e.sortSvc)!=null&&o.isSortActive()?"disabled":"visible"}refreshVisibility(){var n;const e=this.visibility,t=this.computeVisibility();e!==t&&(this.visibility=t,(n=this.eventSvc)==null||n.dispatchEvent({type:"rowDragVisibilityChanged"}))}},QLe=class extends Kt{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||(e==null?void 0:e.rowIndex)===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,i=t!==this.position,s=r!==this.uiLevel;this.dragging=!1,(n||i||s)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e==null?void 0:e.dropTarget;if(t){const{highlight:n,target:r,position:i}=t;if(n&&r&&i!=="none"){this.set(r,i),this.dragging=!0;return}}this.dragging&&this.clear()}},Lte={moduleName:"Drag",version:Dn,beans:[DLe]},zLe={moduleName:"DragAndDrop",version:Dn,dynamicBeans:{dndSourceComp:ILe},icons:{rowDrag:"grip"}},Ote={moduleName:"SharedDragAndDrop",version:Dn,beans:[gMe],dependsOn:[Lte],userComponents:{agDragAndDropImage:z6e},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},WLe={moduleName:"RowDrag",version:Dn,beans:[QLe,VLe],apiFunctions:{addRowDropZone:FLe,removeRowDropZone:kLe,getRowDropZoneParams:BLe,getRowDropPositionIndicator:RLe,setRowDropPositionIndicator:_Le},dependsOn:[Ote]},KLe={moduleName:"HorizontalResize",version:Dn,beans:[PLe],dependsOn:[Lte]},qLe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",$Le=class extends Kt{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const a=s.pop();a&&a()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function YLe(e,t,n){var r;(r=e.colMoves)==null||r.moveColumnByIndex(t,n,"api")}function XLe(e,t,n){var r;(r=e.colMoves)==null||r.moveColumns(t,n,"api")}var JLe=class extends Kt{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const n of t)n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(r==null||r.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function ZLe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),a=e.indexOf(i);return s-a})}function eOe(e){var n;const t=[...e];for(const r of e){let i=null,s=r.getParent();for(;s!=null&&s.getDisplayedLeafColumns().length===1;)i=s,s=s.getParent();if(i!=null){const o=!!((n=i.getColGroupDef())!=null&&n.marryChildren)?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns();for(const l of o)t.includes(l)||t.push(l)}}return t}function tOe(e,t,n,r){const i=r.allCols;let s=null,a=null;for(let o=0;o<e.length;o++){const l=e[o],c=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(c))continue;const d=c.filter(p=>i.includes(p));if(a===null)a=d;else if(!A0(d,a))break;const f=rOe(c);(s===null||f<s.fragCount)&&(s={move:l,fragCount:f})}return s}function jte(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:a,gos:o,colModel:l,colMoves:c,visibleCols:d}=e;let{allMovingColumns:f}=e;t&&(f=eOe(f));const p=f.slice();ZLe(l.getCols(),p);const m=sOe({movingCols:p,draggingRight:n,xPosition:r,pinned:a,gos:o,colModel:l,visibleCols:d}),w=nOe(p,l);if(m.length===0)return;const y=m[0];if(w!==null&&(t||!i)&&!s&&(!n&&y>=w||n&&y<=w))return;const T=tOe(m,p,c,d);if(!T)return;const k=T.move;if(!(k>l.getCols().length-p.length))return{columns:p,toIndex:k}}function Ute(e){const{columns:t,toIndex:n}=jte(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function nOe(e,t){const n=t.getCols(),r=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),i=r[0];return As(r)-i!==r.length-1?null:i}function rOe(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i];for(const a of i)s.indexOf(a)===-1&&n++}return n}function iOe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function sOe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:a,visibleCols:o}=e;if(s.get("suppressMovableColumns")||t.some(R=>R.getColDef().suppressMovable))return[];const c=iOe(o,i),d=a.getCols(),f=c.filter(R=>t.includes(R)),p=c.filter(R=>!t.includes(R)),m=d.filter(R=>!t.includes(R));let w=0,y=r;if(n){let R=0;for(const P of f)R+=P.getActualWidth();y-=R}if(y>0){for(let R=0;R<p.length;R++){const P=p[R];if(y-=P.getActualWidth(),y<0)break;w++}n&&w++}let C;if(w>0){const R=p[w-1];C=m.indexOf(R)+1}else C=m.indexOf(p[0]),C===-1&&(C=0);const T=[C],k=(R,P)=>R-P;if(n){let R=C+1;const P=d.length-1;for(;R<=P;)T.push(R),R++;T.sort(k)}else{let R=C;const P=d.length-1;let U=d[R];for(;R<=P&&c.indexOf(U)<0;)R++,T.push(R),U=d[R];R=C-1;const O=0;for(;R>=O;)T.push(R),R--;T.sort(k).reverse()}return T}function EB(e){var c;const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:a}=e;let o=(c=i.getHeaderRowContainerCtrl(t))==null?void 0:c.eViewport,{x:l}=e;return o?(n&&(l-=o.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(o=o.querySelector(".ag-header-row")),l=o.clientWidth-l),t==null&&!a&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function LF(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var HG=7,NB=100,kC=NB/2,aOe=5,oOe=100,lOe=class extends Kt{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!_n(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=(n==null?void 0:n.columns)??[];for(const i of r){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const a=n==null?void 0:n.containerType;if(a===e||!e)return"move";if(e&&(!s||a!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(a=>i[a.getId()]&&!a.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,a=i.get("suppressMoveWhenColumnDragging");if(r&&!a){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&Us(e.hDirection))return;const o=EB({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(o),a?this.handleColumnDragWhileSuppressingMovement(e,t,n,o,r):this.handleColumnDragWhileAllowingMovement(e,t,n,o,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!(e!=null&&e.length))return;const r=e.filter(i=>!i.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const a=this.isAttemptingToPin(s);a&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:o,xPosition:l}=this.getNormalisedXPositionInfo(s,a)||{};if(o==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:o})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),a=this.normaliseDirection(e.hDirection)==="right",o=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:o,xPosition:r,fromLeft:a,fromEnter:t,fakeEvent:n}),c=Ute({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:a}=e,{gos:o,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:a,gos:o,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){var d;const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let a=null,o=null,l=null;for(const f of s){if(o=f.getActualWidth(),a=this.getNormalisedColumnLeft(f,0,i),a!=null){const p=a+o;if(a<=t&&p>=t){l=f;break}}a=null,o=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let f=s.length-1;f>=0;f--){const p=s[f],m=s[f].getParent();if(!m){l=p;break}const w=m==null?void 0:m.getDisplayedLeafColumns();if(w.length){l=As(w);break}}if(!l)return;a=this.getNormalisedColumnLeft(l,0,i),o=l.getActualWidth()}if(((d=this.lastHighlightedColumn)==null?void 0:d.column)!==l&&this.clearHighlighted(),l==null||a==null||o==null)return;let c;t-a<o/2?c=0:c=1,GG(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:a,position:o}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!a||o==null)return;const l=r.allCols,c=l.indexOf(s),d=l.indexOf(a),f=o===0,p=c<d||c===d&&!f;let m=0;if(f?p&&(m-=1):p||(m+=1),d+m===c)return;const w=l[d+m];if(!w)return;const y=this.getNormalisedColumnLeft(w,20,i);return{fromLeft:p,xPosition:y}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=cOe(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const o=this.getPinDirection()==="left";return{firstMovingCol:i,position:o?1:0,column:o!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const a=e.getActualWidth();return EB({x:n?s+a-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>HG;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,a=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:o,toIndex:l}=jte(a)||{};o&&l!=null&&(this.lastMovedInfo={columns:o,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(GG(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+kC,s=e>r-kC):(s=e<n+kC,i=e>r-kC),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),oOe),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){var r;let e;this.intervalCount++,e=10+this.intervalCount*aOe,e>NB&&(e=NB);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:i,dragAndDrop:s,gos:a}=this.beans;if(this.failedMoveAttempts<=HG+1||!i)return;if(s.setDragImageCompIcon("pinned"),!a.get("suppressMoveWhenColumnDragging")){const o=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(a=>!a.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i==null||i.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function GG(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function cOe(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var uOe=class extends Kt{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new lOe(n)),this.bodyDropPivotTarget=this.createManagedBean(new JLe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},dOe=class extends Kt{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:a,eventSvc:o}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){gn(30,{toIndex:t});return}s==null||s.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(sG(i.getCols(),c,t),a.refresh(n),o.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:r,source:n})),s==null||s.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!_ee(e,t.getColTree())||!(i=>{const s=c=>c?c==="left"||c===!0?-1:1:0,a=n.get("enableRtl");let o=a?1:-1,l=!0;for(const c of i){const d=s(c.getColDef().lockPosition);a?d>o&&(l=!1):d<o&&(l=!1),o=d}return l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return sG(r,e,t),r}createBodyDropTarget(e,t){return new uOe(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:a,colModel:o,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),f=d.left,p=La(n),m=p?d.width:n.getActualWidth(),w=e==="left"!==a.get("enableRtl"),y=EB({x:w?f-20:f+m+20,pinned:r,fromKeyboard:!0,gos:a,ctrlsSvc:s}),C=c.focusedHeader;Ute({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:y,pinned:r,fromEnter:!1,fakeEvent:!1,gos:a,colModel:o,colMoves:this,visibleCols:l,finished:!0});let T;if(p){const k=n.getDisplayedLeafColumns();T=w?k[0]:As(k)}else T=n;if(s.getScrollFeature().ensureColumnVisible(T,"auto"),(!i.isAlive()||a.get("ensureDomOrder"))&&C){let k;if(p){const R=n.getGroupId(),P=n.getLeafColumns();if(!P.length)return;const U=P[0].getParent();if(!U)return;k=hOe(U,R)}else k=n;k&&c.focusHeaderPosition({headerPosition:{...C,column:k}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:a}=this.beans;let o=!r.get("suppressDragLeaveHidesColumns");const l=La(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>o?"hide":"notAllowed",getDragItem:l?()=>AOe(t,a.allCols):()=>fOe(t),dragItemName:n,onDragStarted:()=>{o=!r.get("suppressDragLeaveHidesColumns"),LF(c,!0)},onDragStopped:()=>LF(c,!1),onDragCancelled:()=>LF(c,!1),onGridEnter:p=>{if(o){const{columns:m=[],visibleState:w}=p??{},y=l?T=>!w||w[T.getColId()]:()=>!0,C=m.filter(T=>!T.getColDef().lockVisible&&y(T));i.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:p=>{var m;if(o){const w=((m=p==null?void 0:p.columns)==null?void 0:m.filter(y=>!y.getColDef().lockVisible))||[];i.setColsVisible(w,!1,"uiColumnMoved")}}};return s.addDragSource(f,!0),f}};function hOe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function fOe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function AOe(e,t){var o;const n=e.getProvidedColumnGroup().getLeafColumns(),r={};for(const l of n)r[l.getId()]=l.isVisible();const i=[];for(const l of t)n.indexOf(l)>=0&&(i.push(l),Ch(n,l));for(const l of n)i.push(l);const s=[],a=e.getLeafColumns();for(const l of i)a.indexOf(l)!==-1&&s.push(l);return{columns:i,columnsInSplit:s,visibleState:r,containerType:(o=s[0])==null?void 0:o.pinned}}var pOe={moduleName:"ColumnMove",version:Dn,beans:[dOe,$Le],apiFunctions:{moveColumnByIndex:YLe,moveColumns:XLe},dependsOn:[Ote],css:[qLe]},gOe=class extends Kt{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;for(const s of e)this.cloneItemIntoDummy(s,n);r.appendChild(n);const i=n.offsetWidth;return n.remove(),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;for(const n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}return t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(o=>n.classList.contains(o))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(l=>a.classList.contains(l))){for(let l=0;l<a.classList.length;l++){const c=a.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}a=a.parentElement}r.appendChild(n),t.appendChild(r)}},Hte={moduleName:"AutoWidth",version:Dn,beans:[gOe]};function mOe(e,t,n=!0,r="api"){var i;(i=e.colResize)==null||i.setColumnWidths(t,!1,n,r)}var xOe=class extends Kt{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:a}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=a,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){var l;const t=c=>c.reduce((d,f)=>d+f.getActualWidth(),0),n=(c,d)=>c.map(f=>f.getActualWidth()/d),r=this.getColumnsToResize(),i=t(r),s=n(r,i),a={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let o=null;if(e&&(o=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),o){const c=o.getDisplayedLeafColumns(),d=a.groupAfterColumns=c.filter(p=>p.isResizable()),f=a.groupAfterStartWidth=t(d);a.groupAfterRatios=n(d,f)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){var f;const{columnsToResize:i,resizeStartWidth:s,resizeRatios:a,groupAfterColumns:o,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:i,ratios:a,width:t}),o){const p=t-s;d.push({columns:o,ratios:c,width:l-p})}(f=this.beans.colResize)==null||f.resizeColumnSets({resizeSets:d,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},vOe=class extends Kt{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(hs(this.eResize,t),!t)return;const{horizontalResizeSvc:a,colAutosize:o}=this.beans,l=a.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&o&&e.push(o.addColumnAutosizeListeners(this.eResize,this.column))},i=()=>{for(const a of e)a();e.length=0},s=()=>{const a=this.column.isResizable(),o=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(a!==t||o!==n)&&(t=a,n=o,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,a=this.normaliseResizeAmount(t),o=i+a,l=[{key:n,newWidth:o}],{pinnedCols:c,ctrlsSvc:d,colResize:f}=s;if(this.column.getPinned()){const p=(c==null?void 0:c.leftWidth)??0,m=(c==null?void 0:c.rightWidth)??0,w=Ew(d.getGridBodyCtrl().eBodyViewport)-50;if(p+m+(a-r)>w)return}this.lastResizeAmount=a,f==null||f.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},wOe=class extends Kt{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:a,visibleCols:o}=this.beans;for(const l of e){const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)continue;if(i.push({width:l.newWidth,ratios:[1],columns:[c]}),a.get("colResizeDefault")==="shift"&&(t=!t),t){const f=o.getColAfter(c);if(!f)continue;const p=c.getActualWidth()-l.newWidth,m=f.getActualWidth()+p;i.push({width:m,ratios:[1],columns:[f]})}}i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(d=>bOe(d)))){if(n){const d=t&&t.length>0?t[0].columns:null;N1(this.eventSvc,d,n,r)}return}const s=[],a=[];for(const d of t){const{width:f,columns:p,ratios:m}=d,w={},y={};for(const k of p)a.push(k);let C=!0,T=0;for(;C;){if(T++,T>1e3){es(31);break}C=!1;const k=[];let R=0,P=f;p.forEach((O,L)=>{if(y[O.getId()])P-=w[O.getId()];else{k.push(O);const j=m[L];R+=j}});const U=1/R;k.forEach((O,L)=>{const K=L===k.length-1;let j;K?j=P:(j=Math.round(m[L]*f*U),P-=j);const te=O.getMinWidth(),G=O.getMaxWidth();j<te?(j=te,y[O.getId()]=!0,C=!0):G>0&&j>G&&(j=G,y[O.getId()]=!0,C=!0),w[O.getId()]=j})}for(const k of p){const R=w[k.getId()];k.getActualWidth()!==R&&(k.setActualWidth(R,r),s.push(k))}}const o=s.length>0;let l=[];if(o){const{colFlex:d,visibleCols:f,colViewport:p}=this.beans;l=(d==null?void 0:d.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}))??[],f.setLeftValues(r),f.updateBodyWidths(),p.checkViewportColumns()}const c=a.concat(l);(o||n)&&N1(this.eventSvc,c,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),a=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:a}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new vOe(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new xOe(e,t,n,r)}};function bOe(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;for(const l of t){const c=l.getMinWidth();r+=c||0;const d=l.getMaxWidth();d>0?i+=d:s=!1}const a=n>=r,o=!s||n<=i;return a&&o}var yOe={moduleName:"ColumnResize",version:Dn,beans:[wOe],apiFunctions:{setColumnWidths:mOe},dependsOn:[KLe,Hte]},COe=class extends Kt{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},SOe=class extends lP{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,r,i){const{column:s,beans:a}=this,{context:o,colNames:l,colHover:c,rangeSvc:d,colResize:f}=a;this.comp=e,i=wb(this,o,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.refreshAnnouncement(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i,r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const p=this.rowCtrl.pinned,m=s.getProvidedColumnGroup().getLeafColumns();c==null||c.createHoverFeature(i,m,t),d==null||d.createRangeHighlightFeature(i,s,e),i.createManagedBean(new oP(s,t,a)),i.createManagedBean(new COe(e,s)),f?this.resizeFeature=i.createManagedBean(f.createGroupResizeFeature(e,n,p,s)):e.setResizableDisplayed(!1),i.createManagedBean(new yb(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,m),this.addManagedEventListeners({cellSelectionChanged:()=>this.refreshAnnouncement()}),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Fr(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=As(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let a=!1,o=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=i===1,d=i===0;n&&(l?o=c:a=d),r&&(l?a=d:o=c)}this.comp.toggleCss("ag-header-highlight-before",a),this.comp.toggleCss("ag-header-highlight-after",o)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),a=Fr(n,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>r==null?void 0:r.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>r==null?void 0:r.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),o=RDe(t,a);o&&this.comp.setUserCompDetails(o)}addHeaderMouseListeners(e,t){const{column:n,comp:r,beans:{rangeSvc:i},gos:s}=this,a=d=>this.handleMouseOverChange(d.type==="mouseenter"),o=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",n.getProvidedColumnGroup()),l=d=>this.handleContextMenuMouseEvent(d,void 0,n.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:a,mouseleave:a,click:o,contextmenu:l}),r.toggleCss("ag-header-group-cell-selectable",$m(s));const c=i==null?void 0:i.createHeaderGroupCellMouseListenerFeature(this.column,t);c&&this.createManagedBean(c)}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=Nte(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text"));for(const r of n)this.comp.toggleCss(r,!0)}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const s of r)e.addManagedListeners(s,{movingChanged:i});i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription())}handleKeyDown(e){var o;if(super.handleKeyDown(e),!this.getWrapperHasFocus())return;const{column:n,expandable:r,gos:i,beans:s}=this,a=$m(i);if(e.key==Rt.ENTER){if(a&&!e.altKey)(o=s.rangeSvc)==null||o.handleColumnSelection(n,e);else if(r){const l=!n.isExpanded();s.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),l,"uiColumnExpanded")}}}refreshAnnouncement(){var s;let e;const{gos:t,column:n,beans:r}=this;if($m(t)){const a=this.getLocaleTextFunc(),o=(s=r.rangeSvc)==null?void 0:s.isColumnInAnyRange(n);e=a("ariaColumnCellSelection",`Press CTRL+SPACE to ${o?"de":""}select all visible cells in this column group`)}this.ariaAnnouncement=e}announceAriaDescription(){var r;const{beans:e,eGui:t,ariaAnnouncement:n}=this;!n||!t.contains(Js(e))||(r=e.ariaAnnounce)==null||r.announceValue(n,"columnHeader")}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function EOe(e,t,n){var r;(r=e.colGroupSvc)==null||r.setColumnGroupOpened(t,n,"api")}function NOe(e,t,n){var r;return((r=e.colGroupSvc)==null?void 0:r.getColumnGroup(t,n))??null}function TOe(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function IOe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function FOe(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function kOe(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function BOe(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function ROe(e){return e.visibleCols.treeLeft}function _Oe(e){return e.visibleCols.treeCenter}function DOe(e){return e.visibleCols.treeRight}function POe(e){return e.visibleCols.getAllTrees()}function MOe(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var LOe=class extends Kt{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:s,selectionColSvc:a}=this.beans;t||this.buildTrees(r,i),i==null||i.updateOpenClosedVisibility(),this.leftCols=OF(this.treeLeft),this.centerCols=OF(this.treeCenter),this.rightCols=OF(this.treeRight),a==null||a.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(o=>o.isAutoHeight()),n==null||n.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=af(this.centerCols),t=af(this.leftCols),n=af(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?As(n):null):(i=t?As(t):null,s=n?n[0]:null);for(const a of e.getCols())a.setLastLeftPinned(a===i,r),a.setFirstRightPinned(a===s,r)}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),a=new Oee,o=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=o({columns:r,idCreator:a,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=o({columns:i,idCreator:a,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=o({columns:s,idCreator:a,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const a=s.getPinned();a?a===!0||a==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return La(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)La(t)&&t.checkLeft()}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");for(const s of[this.leftCols,this.rightCols,this.centerCols]){if(i){let a=af(s);for(const o of s)a-=o.getActualWidth(),o.setLeft(a,e)}else{let a=0;for(const o of s)o.setLeft(a,e),a+=o.getActualWidth()}MOe(r,s)}for(const s of r)s.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let a=0;a<t.length;a++){const o=t[a],l=t.length-a,c=Math.min(o.getColSpan(e),l),d=[o];if(c>1){const p=c-1;for(let m=1;m<=p;m++)d.push(t[a+m]);a+=p}let f;if(n){f=!1;for(const p of d)n(p)&&(f=!0)}else f=!0;f&&(i.length===0&&s&&(r&&r(o))&&i.push(s),i.push(o)),s=o}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Cp(this.treeCenter,!1,e),Cp(this.treeLeft,!1,e),Cp(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?As(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return af(this.leftCols)}getDisplayedColumnsRightWidth(){return af(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(La(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:As(s)}else i=e;return(r?n[0]:As(n))===i}};function Cp(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(La(i)){const s=t?i.getDisplayedChildren():i.getChildren();Cp(s,t,n)}n(i)}}function OF(e){const t=[];return Cp(e,!0,n=>{l0(n)&&t.push(n)}),t}var OOe=class extends Kt{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return vf(null,t,n=>{bl(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];vf(null,t,r=>{if(bl(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r==null||r.start();const o=[];for(const l of e){const c=l.groupId,d=l.open,f=this.getProvidedColGroup(c);f&&f.isExpanded()!==d&&(f.setExpanded(d),o.push(f))}i.refresh(t,!0),o.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:o.length===1?o[0]:void 0,columnGroups:o}),r==null||r.finish()}setColumnGroupOpened(e,t,n){let r;bl(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return vf(null,this.beans.colModel.getColTree(),n=>{bl(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?As(r):r[0],s=`getCol${t}`;for(;;){const a=this.beans.visibleCols[s](i);if(!a)return null;const o=this.getColGroupAtLevel(a,n);if(o!==e)return o}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Cp(e,!1,t=>{La(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(La(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return Cp(n,!1,s=>{if(La(s)){const a=s;let o;r?o=e===a.getGroupId()&&t===a.getPartId():o=e===a.getGroupId(),o&&(i=a)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,a=this.mapOldGroupsById(i),o=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const f=p=>{const m=d;d=p;const w=c[m],C=(La(w)?w.getProvidedColumnGroup():w).getOriginalParent();if(C==null){for(let k=m;k<p;k++)o.push(c[k]);return}const T=this.createColumnGroup(C,n,a,r,s);for(let k=m;k<p;k++)T.addChild(c[k]);l.push(T)};for(let p=1;p<c.length;p++){const m=c[p],y=(La(m)?m.getProvidedColumnGroup():m).getOriginalParent(),C=c[d],k=(La(C)?C.getProvidedColumnGroup():C).getOriginalParent();y!==k&&f(p)}d<c.length&&f(c.length)}return s||this.setupParentsIntoCols(o,null),o}createProvidedColumnGroup(e,t,n,r,i,s,a){const o=i.getUniqueKey(t.groupId||null,null),l=iG(this.beans,t,o),c=new w2(l,o,!1,n);this.createBean(c);const d=this.findExistingGroup(t,s);d&&s.splice(d.idx,1);const f=d==null?void 0:d.group;f&&c.setExpanded(f.isExpanded());const p=kee(this.beans,l.children,n+1,e,r,i,s,a);return c.setChildren(p),c}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const a=e[s];if(bl(a)){const o=a,l=this.balanceColumnTree(o.getChildren(),t+1,n,r);o.setChildren(l),i.push(o)}else{let o,l;for(let c=t;c<n;c++){const d=r.getUniqueKey(null,null),f=iG(this.beans,null,d),p=new w2(f,d,!0,c);this.createBean(p),l&&l.setChildren([p]),l=p,o||(o=l)}if(o&&l)if(i.push(o),e.some(d=>bl(d))){l.setChildren([a]);continue}else{l.setChildren(e);break}i.push(a)}}return i}findDepth(e){let t=0,n=e;for(;n!=null&&n[0]&&bl(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(bl(i)){const s=i,a=this.findMaxDepth(s.getChildren(),t+1);n<a&&(n=a)}}return n}balanceTreeForAutoCols(e,t){const n=[];for(const r of e){let i=r;for(let s=t-1;s>=0;s--){const a=new w2(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(a),a.setChildren([i]),i.originalParent=a,i=a}t===0&&(r.originalParent=null),n.push(i)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),a=t.getInstanceIdForKey(s),o=hte(s,a);let l=n[o];return l&&l.getProvidedColumnGroup()!==e&&(l=null),_n(l)?l.reset():(l=new Bw(e,s,a,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{for(const i of r)if(La(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(const n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,La(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}}},jOe={moduleName:"ColumnGroup",version:Dn,dynamicBeans:{headerGroupCellCtrl:SOe},beans:[OOe],apiFunctions:{getAllDisplayedColumnGroups:POe,getCenterDisplayedColumnGroups:_Oe,getColumnGroup:NOe,getColumnGroupState:FOe,getDisplayNameForColumnGroup:IOe,getLeftDisplayedColumnGroups:ROe,getProvidedColumnGroup:TOe,getRightDisplayedColumnGroups:DOe,resetColumnGroupState:BOe,setColumnGroupOpened:EOe,setColumnGroupState:kOe}},UOe={tag:"div",cls:"ag-skeleton-container"},HOe=class extends Ea{constructor(){super(UOe)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Cw(t.eParentOfValue)),Cw(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");S1(this.getGui(),n)}setupLoading(t){const n=Uu({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const a=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${a}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");S1(this.getGui(),s)}refresh(t){return!1}},GOe={moduleName:"CheckboxCellRenderer",version:Dn,userComponents:{agCheckboxCellRenderer:q6e}},VOe={moduleName:"SkeletonCellRenderer",version:Dn,userComponents:{agSkeletonCellRenderer:HOe}};function QOe(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function zOe(e){return e.colModel.getColumnDefs(!0)}function WOe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function KOe(e,t){return e.colModel.getColDefCol(t)}function qOe(e){return e.colModel.getColDefCols()}function $Oe(e,t){return vd(e,t,"api")}function YOe(e){return aE(e)}function XOe(e){sDe(e,"api")}function JOe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function ZOe(e){return e.visibleCols.isPinningLeft()}function e8e(e){return e.visibleCols.isPinningRight()}function t8e(e,t){return e.visibleCols.getColAfter(t)}function n8e(e,t){return e.visibleCols.getColBefore(t)}function r8e(e,t,n){e.colModel.setColsVisible(t,n,"api")}function i8e(e,t,n){var r;(r=e.pinnedCols)==null||r.setColsPinned(t,n,"api")}function s8e(e){return e.colModel.getCols()}function a8e(e){return e.visibleCols.leftCols}function o8e(e){return e.visibleCols.centerCols}function l8e(e){return e.visibleCols.rightCols}function c8e(e){return e.visibleCols.allCols}function u8e(e){return e.colViewport.getViewportColumns()}function TB(e,t){if(!e)return;const n=e,r={};for(const i of Object.keys(n)){if(t&&t.indexOf(i)>=0||see.has(i))continue;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=TB(s):r[i]=s}return r}var d8e=class extends Kt{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r,i=!1){var l,c;const s=e.slice();t?s.sort((d,f)=>n.indexOf(d)-n.indexOf(f)):(n||i)&&s.sort((d,f)=>r.indexOf(d)-r.indexOf(f));const a=(l=this.rowGroupColsSvc)==null?void 0:l.columns,o=(c=this.pivotColsSvc)==null?void 0:c.columns;return this.buildColumnDefs(s,a,o)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};for(const s of e){const a=this.createDefFromColumn(s,t,n);let o=!0,l=a,c=s.getOriginalParent(),d=null;for(;c;){let f=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=i[c.getGroupId()];if(p){p.children.push(l),o=!1;break}if(f=this.createDefFromGroup(c),f&&(f.children=[l],i[f.groupId]=f,l=f,c=c.getOriginalParent()),c!=null&&d===c){o=!1;break}d=c}o&&r.push(l)}return r}createDefFromGroup(e){const t=TB(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=TB(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSortDef(),r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},h8e=class extends Kt{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth,{visibleCols:r,colDelayRenderSvc:i}=this.beans,s=r.centerCols;let a=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let C=s.length-1;C>=0;C--)if(y.has(s[C])){a=C;break}}let o=!1;const l=s.map((y,C)=>{const T=y.getFlex(),k=T!=null&&T>0&&C>a;return o||(o=k),{col:y,isFlex:k,flex:Math.max(0,T??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(o?(i==null||i.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(i),!n||!o)return[];let c=l.length,d=l.reduce((y,C)=>y+C.flex,0),f=n;const p=(y,C)=>{y.frozenSize=C,y.col.setActualWidth(C,t),f-=C,d-=y.flex,c-=1},m=y=>y.frozenSize!=null;for(const y of l)y.isFlex||p(y,y.initialSize);for(;c>0;){const y=Math.round(d<1?f*d:f);let C,T=0,k=0;for(const U of l){if(m(U))continue;C=U,k+=y*(U.flex/d);const O=k-T,L=Math.round(O);U.targetSize=L,T+=L}C&&(C.targetSize+=y-T);let R=0;for(const U of l){if(m(U))continue;const O=U.targetSize,L=Math.min(Math.max(O,U.min),U.max);R+=L-O,U.violationType=L===O?void 0:L<O?"max":"min",U.targetSize=L}const P=R===0?"all":R>0?"min":"max";for(const U of l)m(U)||(P==="all"||U.violationType===P)&&p(U,U.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const w=l.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=l.filter(T=>T.initialSize!==T.frozenSize).map(T=>T.col),C=l.filter(T=>T.flex).map(T=>T.col);N1(this.eventSvc,y,!0,t,C)}return this.revealColumns(i),w}revealColumns(e){this.columnsHidden&&(e==null||e.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}};function Uv(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}var f8e=["dateTimeString","dateString","text","number","boolean","date"],A8e=class extends Kt{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===Rt.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const s=t.getColDefCol(n),a=s==null?void 0:s.getColDef();if(!s||!a)return 0;const o=r==null?"":e({column:s,node:null,value:r}),l=i==null?"":e({column:s,node:null,value:i});return o===l?0:o>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=d=>f=>{const{column:p,node:m,value:w}=f;let y=p.getColDef().valueFormatter;return y===d.groupSafeValueFormatter&&(y=d.valueFormatter),this.beans.valueSvc.formatValue(p,m,w,y)};for(const d of Object.keys(e)){const f=e[d],p={...f,groupSafeValueFormatter:zG(f,this.gos)};t[d]=p,n[d]=r(p)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const d of Object.keys(i)){const f=i[d],p=this.processDataTypeDefinition(f,i,[d],e);p&&(t[d]=p,f.dataTypeMatcher&&(s[d]=f.dataTypeMatcher),n[d]=r(p))}const{valueParser:a,valueFormatter:o}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==a,this.hasObjectValueFormatter=c!==o,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of f8e)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let a=r[s];const o=t[s];if(a&&o&&(a=o),!QG(e,a,s))return;i=VG(a,e)}else{if(n.includes(s)){gn(44);return}const a=t[s];if(!QG(e,a,s))return;const o=this.processDataTypeDefinition(a,t,[...n,s],r);if(!o)return;i=VG(o,e)}return{...i,groupSafeValueFormatter:zG(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){gn(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!sa(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(jF(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(sE(i).some(o=>{const l=s[o.trim()];return l&&jF(l,r)}))return!1}return!jF(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const s=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");n=Uv(r,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t._leafs;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:a}=s;a&&(i==null||i(),this.isPendingInference=!1,this.processColumnsPendingInference(a,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const a=this.columnStateUpdatesPendingInference[s],o=this.colModel.getCol(s);if(!o)return;const l=o.getColDef();if(!this.resetColDefIntoCol(o,"cellDataTypeInferred"))return;const c=o.getColDef();if(t&&c.type&&c.type!==l.type){const d=g8e(o,a);d.rowGroup&&d.rowGroupIndex==null&&(r[s]=d),d.pivot&&d.pivotIndex==null&&(i[s]=d),n.push(d)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&vd(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r==null||r.restoreColumnOrder(n,e),i==null||i.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=dB(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var r,i;if(t==null)return!0;const n=(r=this.getDataTypeDefinition(e))==null?void 0:r.dataTypeMatcher;return!n||e.getColDef().allowFormula&&((i=this.beans.formula)!=null&&i.isFormula(t))?!0:n(t)}validateColDef(e){const t=n=>gn(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){var a;const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,s=n[t];s&&((a=r.colFilter)==null||a.setColDefPropsForDataType(e,s,i[t]))}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>Bc(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):tu(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Bc(n)??void 0,dateFormatter:n=>tu(n??null,t)??void 0,valueParser:n=>b2(String(n.newValue))?n.newValue:null,valueFormatter:n=>b2(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&b2(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>{var n,r;return((r=(n=t.newValue)==null?void 0:n.trim)==null?void 0:r.call(n))===""?null:Number(t.newValue)},valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:nB(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>{var n,r;return t.newValue==null?t.newValue:((r=(n=t.newValue)==null?void 0:n.trim)==null?void 0:r.call(n))===""?null:String(t.newValue).toLowerCase()==="true"},valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&aPe(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>nB(t.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function VG(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...sE(e.columnTypes),...sE(t.columnTypes)]),n}function QG(e,t,n){return t?t.baseDataType!==e.baseDataType?(gn(46),!1):!0:(gn(45,{parentCellDataType:n}),!1)}function zG(e,t){if(e.valueFormatter)return n=>{var r,i;if((r=n.node)!=null&&r.group){const s=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&s!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((i=e.dataTypeMatcher)!=null&&i.call(e,n.value)))return;return e.valueFormatter(n)}}function p8e(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function jF(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>p8e(e,t,n,r))}function g8e(e,t){const n=Lee(e);for(const r of t)delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex;return n}var m8e={moduleName:"DataType",version:Dn,beans:[A8e],dependsOn:[GOe]},x8e={moduleName:"ColumnFlex",version:Dn,beans:[h8e]},Gte={moduleName:"ColumnApi",version:Dn,beans:[d8e],apiFunctions:{getColumnDef:QOe,getDisplayNameForColumn:WOe,getColumn:KOe,getColumns:qOe,applyColumnState:$Oe,getColumnState:YOe,resetColumnState:XOe,isPinning:JOe,isPinningLeft:ZOe,isPinningRight:e8e,getDisplayedColAfter:t8e,getDisplayedColBefore:n8e,setColumnsVisible:r8e,setColumnsPinned:i8e,getAllGridColumns:s8e,getDisplayedLeftColumns:a8e,getDisplayedCenterColumns:o8e,getDisplayedRightColumns:l8e,getAllDisplayedColumns:c8e,getAllDisplayedVirtualColumns:u8e,getColumnDefs:zOe}};function v8e(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var w8e=class extends Kt{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t==null?void 0:t.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){var a;const s=e.headerValueGetter;if(s){const o=Fr(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(o):typeof s=="string"?((a=this.beans.expressionSvc)==null?void 0:a.evaluate(s,o))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return v8e(e.field)}return""}},b8e=class extends Kt{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const a=r.bodyWidth;this.viewportLeft=a-t-e,this.viewportRight=a-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||y8e(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,a=t>i&&n>i;return!s&&!a}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const a=s.getLeft();return _n(a)&&a>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const i=new Set,s={};for(const a of r){let o=a.getParent();const l=a.isSpanHeaderHeight();for(;o&&!i.has(o);){if(l&&o.isPadding()){o=o.getParent();continue}const d=o.getProvidedColumnGroup().getLevel();s[d]??(s[d]=[]),s[d].push(o),i.add(o),o=o.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function y8e(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var C8e=class extends Kt{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=BD("<span>"+s+"</span>");return}if(s==null){this.eGui=Uu({tag:"span"});return}this.eGui=s}}return n}},S8e={moduleName:"CellRendererFunction",version:Dn,beans:[C8e]},E8e=class extends eMe{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(a,o,l,c)=>{this.agGridDefaults[a]=o,(l||c)&&(this.agGridDefaultOverrides[a]={params:l,processParams:c})};for(const a of Object.keys(n)){let o=n[a];if(GDe(o)&&(o=o.getComp(this.beans)),typeof o=="object"){const{classImp:l,params:c,processParams:d}=o;s(a,l,c,d)}else s(a,o)}}this.registerDynamicBeans(r);for(const s of i??[])this.selectors[s.selector]=s;if(t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){var o;const n=(l,c,d,f)=>({componentFromFramework:c,component:l,params:d,processParams:f}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const l=r.isFrameworkComponent(s);return n(s,l)}const a=this.agGridDefaults[t];if(a){const l=this.agGridDefaultOverrides[t];return n(a,!1,l==null?void 0:l.params,l==null?void 0:l.processParams)}return(o=this.beans.validation)==null||o.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){var n;return t?mh(279,{name:e}):((n=this.beans.validation)==null?void 0:n.missingDynamicBean(e))??mh(256)}},N8e=23,T8e=class extends Kt{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const n of this.readyCallbacks)n(this.params);this.readyCallbacks.length=0}},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===N8e&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},I8e='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-drag-handle-disabled{opacity:.35;pointer-events:none}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-row-drag-indicator-color);border-radius:calc(var(--ag-row-drag-indicator-width)/2);content:"";height:var(--ag-row-drag-indicator-width);pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label,:where(.ag-header-group-cell-selectable) .ag-header-cell-comp-wrapper{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-column-drag-indicator-color);border-radius:calc(var(--ag-column-drag-indicator-width)/2);content:"";height:100%;position:absolute;top:0;width:var(--ag-column-drag-indicator-width)}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}:where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}}:where(.ag-ltr) :where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){&:after{right:-1px}}:where(.ag-rtl) :where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){&:after{left:-1px}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',F8e={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Nc,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:uf,rangeSelectionBackgroundColor:ih(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:ih(.5),rangeHeaderHighlightColor:_Pe(.08),rowNumbersSelectedColor:ih(.5),rowHoverColor:ih(.08),columnHoverColor:ih(.05),selectedRowBackgroundColor:ih(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:Nc,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:vu(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:vu(.1),iconButtonActiveColor:uf,iconButtonActiveBackgroundColor:ih(.28),iconButtonActiveIndicatorColor:uf,menuBorder:{color:vu(.2)},menuBackgroundColor:Tu(.03),menuTextColor:Tu(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:vu(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:uf},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:vu(.2)},panelBackgroundColor:Nc,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:vu(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:vu(.13)},selectCellBackgroundColor:vu(.07),selectCellBorder:{color:vu(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Nc,filterPanelApplyButtonBackgroundColor:uf,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:Nm,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Nm,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:vu(.15),statusBarLabelColor:Nm,statusBarLabelFontWeight:500,statusBarValueColor:Nm,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"},rowDragIndicatorColor:{ref:"rangeSelectionBorderColor"},rowDragIndicatorWidth:2,columnDragIndicatorColor:{ref:"accentColor"},columnDragIndicatorWidth:2},k8e=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",Vte={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},B8e={...Vte,cellBatchEditTextColor:"#f3d0b3"},R8e=()=>Sh({feature:"batchEditStyle",params:Vte,css:k8e}),_8e=R8e(),D8e=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",P8e={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},M8e=()=>Sh({feature:"buttonStyle",params:{...P8e,buttonBackgroundColor:Nc,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:uf}},css:D8e}),L8e=M8e(),O8e=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",j8e=()=>Sh({feature:"columnDropStyle",css:O8e}),Qte=j8e(),U8e={warn:(...e)=>{gn(e[0],e[1])},error:(...e)=>{es(e[0],e[1])},preInitErr:(...e)=>{gv(e[0],e[2],e[1])}},H8e=()=>QPe(U8e).withParams(F8e).withPart(L8e).withPart(Qte).withPart(_8e),G8e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',V8e=()=>Sh({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Nc,checkboxUncheckedBorderColor:Tu(.3),checkboxCheckedBackgroundColor:uf,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Nc,checkboxIndeterminateBackgroundColor:Tu(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Nc,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:G8e}),Q8e=V8e(),zte=()=>({...cE,...B8e,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Tu(.05),rowHoverColor:ih(.15),selectedRowBackgroundColor:ih(.2),menuBackgroundColor:Tu(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:Nm,findMatchColor:Nc,findActiveMatchColor:Nc,checkboxUncheckedBorderColor:Tu(.4),toggleButtonOffBackgroundColor:Tu(.4),rowBatchEditBackgroundColor:Tu(.1)}),z8e=()=>({...zte(),backgroundColor:"#1f2836"}),W8e=()=>Sh({feature:"colorScheme",params:cE,modeParams:{light:cE,dark:zte(),"dark-blue":z8e()}}),K8e=W8e(),Wte={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>'},Kte={aasc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2012 8.07928C13.6346 8.0793 14.0128 8.15365 14.3359 8.30193C14.6609 8.45018 14.9141 8.65595 15.0947 8.9201C15.2754 9.18439 15.3683 9.49109 15.374 9.83904H14.1904C14.1676 9.60898 14.0695 9.4303 13.8965 9.30291C13.7235 9.1756 13.4889 9.1115 13.1924 9.1115C12.9909 9.1115 12.8204 9.1404 12.6816 9.19744C12.543 9.25255 12.4364 9.32917 12.3623 9.42791C12.2901 9.52678 12.2539 9.63933 12.2539 9.76482C12.2501 9.8692 12.272 9.9604 12.3193 10.0383C12.3688 10.1162 12.4369 10.1843 12.5225 10.2414C12.6079 10.2964 12.7064 10.3451 12.8184 10.3869C12.9304 10.4268 13.0505 10.4609 13.1777 10.4894L13.7031 10.6144C13.9578 10.6715 14.1914 10.7479 14.4043 10.8429C14.6173 10.938 14.8021 11.0547 14.958 11.1935C15.1138 11.3323 15.2348 11.4957 15.3203 11.6838C15.4077 11.8719 15.4522 12.088 15.4541 12.3312C15.4522 12.6885 15.3611 12.9986 15.1807 13.2609C15.0019 13.5214 14.7427 13.7248 14.4043 13.8693C14.0678 14.0118 13.6617 14.0832 13.1865 14.0832C12.7153 14.0832 12.3048 14.0107 11.9551 13.8664C11.6071 13.7219 11.3345 13.5071 11.1387 13.2238C10.9449 12.9387 10.8435 12.5862 10.834 12.1662H12.0283C12.0416 12.362 12.0984 12.5252 12.1973 12.6564C12.298 12.7857 12.4323 12.8838 12.5996 12.9504C12.7688 13.0149 12.96 13.047 13.1729 13.047C13.3817 13.047 13.563 13.0169 13.7168 12.9562C13.8727 12.8954 13.9935 12.8106 14.0791 12.7023C14.1647 12.5939 14.208 12.469 14.208 12.3283C14.2079 12.1974 14.1686 12.0875 14.0908 11.9982C14.0148 11.9089 13.9022 11.8324 13.7539 11.7697C13.6076 11.707 13.4276 11.6501 13.2148 11.5988L12.5791 11.4387C12.0869 11.3189 11.6982 11.1318 11.4131 10.8771C11.128 10.6224 10.9855 10.2793 10.9873 9.84783C10.9854 9.49418 11.0804 9.18439 11.2705 8.9201C11.4625 8.65603 11.7261 8.45015 12.0605 8.30193C12.3951 8.15369 12.7754 8.07928 13.2012 8.07928Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 14.0002H4.48926L4.05664 12.6681H1.94824L1.51465 14.0002H0.19043L2.20703 8.15935H3.79883L5.8125 14.0002ZM2.26172 11.7043H3.74316L3.02539 9.49334H2.98047L2.26172 11.7043Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 8.15935C8.88165 8.15935 9.24031 8.22251 9.52734 8.34978C9.81445 8.47717 10.0303 8.65477 10.1748 8.88103C10.3192 9.10536 10.3916 9.36368 10.3916 9.65642C10.3916 9.88452 10.3461 10.085 10.2549 10.258C10.1637 10.4289 10.0384 10.5696 9.87891 10.6799C9.72117 10.7882 9.54024 10.8657 9.33691 10.9113V10.9679C9.55917 10.9775 9.76716 11.0406 9.96094 11.1564C10.1568 11.2724 10.3158 11.4356 10.4375 11.6447C10.5591 11.8519 10.6201 12.099 10.6201 12.3859C10.6201 12.6958 10.5427 12.9727 10.3887 13.216C10.2366 13.4573 10.0113 13.6486 9.71289 13.7892C9.41443 13.9299 9.04655 14.0002 8.60938 14.0002H6.11426V8.15935H8.45215ZM7.34863 12.9904H8.35547C8.69943 12.9904 8.95057 12.9252 9.1084 12.7941C9.26621 12.661 9.34473 12.4834 9.34473 12.2629C9.34468 12.1014 9.30643 11.9587 9.22852 11.8351C9.15056 11.7116 9.03903 11.6145 8.89453 11.5441C8.75195 11.4738 8.58148 11.4387 8.38379 11.4387H7.34863V12.9904ZM7.34863 10.6037H8.26465C8.43369 10.6036 8.58376 10.5737 8.71484 10.5148C8.84793 10.454 8.95227 10.3683 9.02832 10.258C9.10628 10.1477 9.14551 10.0155 9.14551 9.8615C9.14546 9.65055 9.07008 9.48001 8.91992 9.35076C8.77165 9.22169 8.56064 9.15741 8.28711 9.1574H7.34863V10.6037Z" fill="black"/><path d="M7.16602 0.377127C7.44584 0.189493 7.82551 0.20905 8.08496 0.442557L11.418 3.44256C11.7257 3.71966 11.7507 4.19428 11.4736 4.50213C11.1966 4.80961 10.7228 4.83441 10.415 4.55779L7.60938 2.03338L5.11328 4.53045C4.82042 4.82326 4.34562 4.82322 4.05273 4.53045C3.75986 4.23757 3.75989 3.7628 4.05273 3.4699L7.05273 0.4699L7.16602 0.377127Z" fill="black"/></svg>',adesc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.3867 11.4697C10.6796 11.1771 11.1544 11.1769 11.4473 11.4697C11.7399 11.7626 11.7399 12.2374 11.4473 12.5303L8.44727 15.5303L8.33398 15.623C8.05425 15.8106 7.67449 15.7909 7.41504 15.5576L4.08203 12.5576C3.77415 12.2805 3.74927 11.8059 4.02637 11.498C4.30342 11.1907 4.77722 11.1657 5.08496 11.4424L7.89062 13.9668L10.3867 11.4697Z" fill="black"/><path d="M13.2012 3.0791C13.6346 3.07912 14.0128 3.1535 14.3359 3.30176C14.6611 3.45006 14.9141 3.65661 15.0947 3.9209C15.2752 4.18513 15.3683 4.49104 15.374 4.83887H14.1904C14.1676 4.60882 14.0695 4.43012 13.8965 4.30273C13.7235 4.17546 13.4889 4.11133 13.1924 4.11133C12.9909 4.11133 12.8204 4.14023 12.6816 4.19727C12.5431 4.25236 12.4364 4.32902 12.3623 4.42773C12.2901 4.52659 12.2539 4.63919 12.2539 4.76465C12.2501 4.86901 12.272 4.96023 12.3193 5.03809C12.3688 5.11604 12.4369 5.18417 12.5225 5.24121C12.6079 5.29623 12.7064 5.34496 12.8184 5.38672C12.9304 5.42661 13.0505 5.46075 13.1777 5.48926L13.7031 5.61426C13.9578 5.67128 14.1914 5.74776 14.4043 5.84277C14.6172 5.93784 14.8021 6.05457 14.958 6.19336C15.1139 6.33216 15.2348 6.49633 15.3203 6.68457C15.4076 6.8727 15.4522 7.08885 15.4541 7.33203C15.4521 7.68929 15.3612 7.99944 15.1807 8.26172C15.0019 8.52216 14.7427 8.72465 14.4043 8.86914C14.0678 9.01165 13.6617 9.08301 13.1865 9.08301C12.7153 9.08299 12.3048 9.01057 11.9551 8.86621C11.6072 8.72173 11.3345 8.50786 11.1387 8.22461C10.9447 7.9394 10.8435 7.58622 10.834 7.16602H12.0283C12.0416 7.36176 12.0985 7.52509 12.1973 7.65625C12.298 7.78554 12.4323 7.88365 12.5996 7.9502C12.7688 8.01477 12.96 8.04785 13.1729 8.04785C13.3817 8.04781 13.5629 8.01678 13.7168 7.95605C13.8727 7.89522 13.9935 7.81051 14.0791 7.70215C14.1646 7.59387 14.2079 7.46965 14.208 7.3291C14.208 7.19796 14.1687 7.08739 14.0908 6.99805C14.0148 6.90868 13.9022 6.83228 13.7539 6.76953C13.6076 6.70685 13.4276 6.64993 13.2148 6.59863L12.5791 6.43848C12.0868 6.31871 11.6982 6.13163 11.4131 5.87695C11.1279 5.62221 10.9855 5.27916 10.9873 4.84766C10.9854 4.49404 11.0804 4.18517 11.2705 3.9209C11.4625 3.65661 11.7259 3.45006 12.0605 3.30176C12.3951 3.15353 12.7754 3.0791 13.2012 3.0791Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 9H4.48926L4.05664 7.66797H1.94824L1.51465 9H0.19043L2.20703 3.15918H3.79883L5.8125 9ZM2.26172 6.7041H3.74316L3.02539 4.49414H2.98047L2.26172 6.7041Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 3.15918C8.88181 3.15918 9.24025 3.22322 9.52734 3.35059C9.81445 3.47798 10.0303 3.6546 10.1748 3.88086C10.3193 4.10518 10.3916 4.36351 10.3916 4.65625C10.3916 4.88432 10.3461 5.08484 10.2549 5.25781C10.1636 5.4289 10.0386 5.57039 9.87891 5.68066C9.72118 5.78898 9.54022 5.86549 9.33691 5.91113V5.96875C9.55913 5.9783 9.76719 6.04044 9.96094 6.15625C10.1568 6.27223 10.3158 6.43538 10.4375 6.64453C10.5591 6.85173 10.6201 7.09875 10.6201 7.38574C10.6201 7.69567 10.5427 7.97245 10.3887 8.21582C10.2366 8.45719 10.0113 8.64841 9.71289 8.78906C9.41442 8.9297 9.04658 8.99999 8.60938 9H6.11426V3.15918H8.45215ZM7.34863 7.99023H8.35547C8.69948 7.99023 8.95057 7.92504 9.1084 7.79395C9.26621 7.66085 9.34473 7.48325 9.34473 7.2627C9.34466 7.10125 9.3064 6.95844 9.22852 6.83496C9.15056 6.71143 9.03899 6.61427 8.89453 6.54395C8.75196 6.47365 8.58145 6.43848 8.38379 6.43848H7.34863V7.99023ZM7.34863 5.60352H8.26465C8.43369 5.60347 8.58376 5.57354 8.71484 5.51465C8.84791 5.45381 8.95228 5.36807 9.02832 5.25781C9.10623 5.14755 9.14551 5.01529 9.14551 4.86133C9.14542 4.65046 9.07002 4.48078 8.91992 4.35156C8.77163 4.22228 8.56087 4.15724 8.28711 4.15723H7.34863V5.60352Z" fill="black"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>'},q8e=(e={})=>{let t="";for(const n of[...Object.keys(Wte),...Object.keys(Kte)]){const r=$8e(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},$8e=(e,t=1.5)=>{const n=Kte[e];if(n)return n;const r=Wte[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},Y8e=(e={})=>Sh({feature:"iconSet",css:()=>q8e(e)}),X8e=Y8e(),J8e=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',Z8e=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",eje={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},tje=()=>Sh({feature:"inputStyle",params:{...eje,inputBackgroundColor:Nc,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:uf},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Tu(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>J8e+Z8e}),nje=tje(),rje='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',ije={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},sje=()=>Sh({feature:"tabStyle",params:{...ije,tabBarBorder:!0,tabBarBackgroundColor:vu(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Nc},css:rje}),aje=sje(),oje=()=>H8e().withPart(Q8e).withPart(K8e).withPart(X8e).withPart(aje).withPart(nje).withPart(Qte).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),lje=oje(),cje={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},uje={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},dje={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},WG={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},KG={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},UF={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},qG={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};function hje(e,t){for(const n of t.sort((r,i)=>r.moduleName.localeCompare(i.moduleName))){const r=n.css;r&&e.set(`module-${n.moduleName}`,r)}}var fje=class extends JPe{initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(WG),this.getSizeEl(KG),this.getSizeEl(UF),this.getSizeEl(qG),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(qG)}getRowBorderWidth(){return this.getCSSVariablePixelValue(UF)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(WG)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(KG)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(cje)}getCellPaddingLeft(){const t=this.getDefaultCellHorizontalPadding(),n=this.getCSSVariablePixelValue(uje),r=this.getCSSVariablePixelValue(dje);return t-1+r*n}getCellPadding(){const t=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+t}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}refreshRowHeightVariable(){const{eRootDiv:t}=this,n=t.style.getPropertyValue("--ag-line-height").trim(),r=this.gos.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return n!==null&&t.style.setProperty("--ag-line-height",null),-1;const i=`${r}px`;return n!=i?(t.style.setProperty("--ag-line-height",i),r):n!=""?Number.parseFloat(n):-1}fireStylesChangedEvent(t){t==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),super.fireStylesChangedEvent(t)}refreshRowBorderWidthVariable(){const t=this.getCSSVariablePixelValue(UF);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${t}px`)}postProcessThemeChange(t,n){t&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&es(n?106:239)}getAdditionalCss(){const t=new Map;return t.set("core",[I8e]),hje(t,Array.from(u_e())),t}getDefaultTheme(){return lje}varError(t){gn(9,{variable:t})}themeError(t){es(240,{theme:t})}shadowRootError(){es(293)}},Aje=class extends tMe{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function qte(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var pje=class extends Kt{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Oo(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=(i==null?void 0:i.getColumnGroup(e))??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl(),o=a==null?void 0:a.getAllCtrls(),l=As(o||[]).type==="filter",c=fh(this.beans)-1;let d=-1,f=n;for(;f;)d++,f=f.getParent();let p=d;return t&&l&&p===c-1&&p++,p===-1?null:{headerRowIndex:p,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:s}=i,a=i.column,o=fh(this.beans),l=this.getHeaderRowType(s),c=r.headerGroupRowCount;let{headerRowIndex:d,column:f,headerRowIndexWithoutSpan:p}=e==="UP"?gje(l,a,s):mje(a,s,c),m=!1;return d<0&&(d=0,f=a,m=!0),d>=o?(d=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!m&&!f?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:f},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s={...r.focusedHeader};let a,o;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(o="Before",a=this.findHeader(s,o)):(o="After",a=this.findHeader(s,o));const l=i.getCallback("tabToNextHeader");if(t&&l){const c=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:a,direction:o});if(c){const{headerRowIndex:d}=r.focusedHeader||{};d!=null&&d!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return a||!t?r.focusHeaderPosition({headerPosition:a,direction:o,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,o,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let s=null,a;const o=fh(r),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=As(l),a=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],a=i+1,this.currentHeaderRowWithoutSpan<o?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:d}=qte(this.beans,s,a);return d>=o&&(d=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:d},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(La(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?As(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof Bw){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?r.getColBefore(i):r.getColAfter(i);if(!s)return;const a=r.headerGroupRowCount;if(e.headerRowIndex>=a)return{headerRowIndex:e.headerRowIndex,column:s};const o=n==null?void 0:n.getColGroupAtLevel(s,e.headerRowIndex);return o?o.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:o??s}:{headerRowIndex:s instanceof sg&&s.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function gje(e,t,n){const r=n-1;if(e!=="filter"){const i=t instanceof sg&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>r||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function mje(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof Bw){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let a=e.getDisplayedChildren()[0];if(a instanceof Bw&&a.isPadding()){const l=a.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(a=l)}i.column=a,a instanceof sg&&a.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var xje=class extends Kt{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(ZDe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Js(this.beans),Bte)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Js(this.beans);return this.isDomDataPresentInHierarchy(e,uE)?!0:this.isDomDataPresentInHierarchy(e,dE)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(xee(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:a}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:mf(r),column:o};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:a}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:iP(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){var c;if(this.setFocusRecovered(),yp(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:a,scroll:o=!0}=e;let{headerPosition:l}=e;if(s&&((c=this.filterManager)!=null&&c.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(l);if(r){const d=this.focusedHeader,f=fh(this.beans);if(n){const p=this.gos.getCallback("tabToNextHeader");p&&(l=this.getHeaderPositionFromUserFunc({userFunc:p,direction:t,currentPosition:d,headerPosition:l,headerRowCount:f}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&i){const m={key:i.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:f,event:i};l=p(m)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:i,fromCell:s,rowWithoutSpanValue:a,scroll:o}):!1}focusHeaderPositionFromUserFunc(e){if(yp(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,a=fh(this.beans),o=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:a});return!!o&&this.focusProvidedHeaderPosition({headerPosition:o,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,o=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return o===!0?r:o===!1?null:o}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s,scroll:a=!0}=e,{column:o,headerRowIndex:l}=t,{filterManager:c,ctrlsSvc:d,headerNavigation:f}=this.beans;if(this.focusedHeader&&T6e(e.headerPosition,this.focusedHeader))return!1;if(l===-1)return c!=null&&c.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});a&&(f==null||f.scrollToColumn(o,n));const p=d.getHeaderRowContainerCtrl(o.getPinned()),m=(p==null?void 0:p.focusHeader(t.headerRowIndex,o,s))||!1;return f&&m&&(i!=null||r)&&(f.currentHeaderRowWithoutSpan=i??-1),m}focusFirstHeader(){var n;if((n=this.overlays)!=null&&n.exclusive&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=qte(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){var r;if((r=this.overlays)!=null&&r.exclusive&&this.focusOverlay(!0))return!0;const t=fh(this.beans)-1,n=As(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===mf(t)}focusOverlay(e){var n,r;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((r=this.overlays.eWrapper)==null?void 0:r.getGui());return!!t&&zp(t,e)}focusGridView(e){var s,a,o,l,c,d;const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if((s=this.overlays)!=null&&s.exclusive)return n&&this.focusOverlay(t);if(sN(this.beans))return t&&!yp(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:I1(this.beans,t);const i=t?x6e(this.beans):m6e(this.beans);if(i){const f=e.column??((a=this.focusedHeader)==null?void 0:a.column),{rowIndex:p,rowPinned:m}=i,w=_f(this.beans,i);if(!f||!w||p==null)return!1;if(f.isSuppressNavigable(w)){const y=this.gos.get("enableRtl");let C;return!r||r.key===Rt.TAB?C=y?Rt.LEFT:Rt.RIGHT:C=r.key,(o=this.beans.navigation)==null||o.navigateToNextCell(null,C,{rowIndex:p,column:f,rowPinned:m||null},!0),!0}if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:p,column:f,rowPinned:m}),t){const y=this.rowRenderer.getRowByPosition(i);if(y!=null&&y.isFullWidth()&&((c=this.navigation)!=null&&c.tryToFocusFullWidthRow(i,t)))return!0}return this.setFocusedCell({rowIndex:p,column:f,rowPinned:mf(m),forceBrowserFocus:!0}),(d=this.beans.rangeSvc)==null||d.setRangeToCell({rowIndex:p,rowPinned:m,column:f}),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var r;const n=(t?void 0:this.advFilterFocusColumn)??((r=this.visibleCols.allCols)==null?void 0:r[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:fh(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},vje=class extends Kt{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=this.gos.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:YDe();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},wje=class extends Kt{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var r;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(r=t.get("gridCtrl"))==null||r.destroyGridUi(),n.destroy(),super.destroy()}},N2=new Set(["gridPreDestroyed","fillStart","pasteStart"]),bje=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],cP=bje.reduce((e,t)=>(e[t]=__e(t),e),{}),t1={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agExportingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agNoMatchingRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function $G(e){return`"${e}"`}var yje=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),Cje={allowFormula:"Formula",aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?t1[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:t1[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?t1[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(r=>t.includes(r))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},Sje=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},allowFormula:{supportedRowModels:["clientSide"]},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return mh(262);if(t.smallLeft)return mh(263);if(t.smallRight)return mh(264)}return null}},sort:{validate:t=>Ym(t.sort)||$A(t.sort)?null:`sort must be of type (SortDirection | SortDef), currently it is ${typeof t.sort=="object"?JSON.stringify(t.sort):g2(t.sort)}`},initialSort:{validate:t=>Ym(t.initialSort)||$A(t.initialSort)?null:`initialSort must be of non-null type (SortDirection | SortDef), currently it is ${typeof t.initialSort=="object"?JSON.stringify(t.initialSort):g2(t.initialSort)}`},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(i=>!(Ym(i)||$A(i)));if(r.length>0)return`sortingOrder must be an array of type non-null (SortDirection | SortDef)[], incorrect items are: [${r.map(i=>typeof i=="string"||i==null?g2(i):JSON.stringify(i)).join(", ")}]`}else if(!Array.isArray(n)||!n.length)return`sortingOrder must be an array with at least one element, currently it is [${n}]`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:a,enableCellTextSelection:o})=>typeof n=="object"&&(n==null?void 0:n.mode)==="singleRow"&&n!=null&&n.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?a?"colDef.spanRows is not supported with rowDragEntireRow.":o?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:n={}},r){var a;const i=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),s=[];for(const o of t.groupHierarchy??[]){if(typeof o=="object"){(a=r.validation)==null||a.validateColDef(o);continue}!i.has(o)&&!(o in n)&&s.push($G(o))}if(s.length>0){const o=`The following parts of colDef.groupHierarchy are not recognised: ${s.join(", ")}.`,l=`Choose one of ${[...i].map($G).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${o}
${l}`}return null}}}),Eje={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0,allowFormula:void 0},Nje=()=>Object.keys(Eje),Tje=()=>({objectName:"colDef",allProperties:Nje(),docsUrl:"column-properties/",deprecations:yje(),validations:Sje()}),Ije=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],Fje=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","activeOverlayParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","formulaDataSource","formulaFuncs","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],kje=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector","suppressOverlays"],$te=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],Bje=["theme","rowSelection"],Rje=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],Yte=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","refreshAfterGroupEdit","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows","animateColumnResizing"],_je=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","overlayComponent","loadingOverlayComponent","noRowsOverlayComponent","overlayComponentSelector","activeOverlay","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],Dje=()=>[...kje,...Fje,...Ije,...$te,..._je,...Yte,...Rje,...Bje],Pje=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Jd(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var Mje={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",refreshAfterGroupEdit:["RowGrouping","TreeData"],rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},Lje=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Jd("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Jd("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Jd("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:i}){return n&&(r||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:n={}},r,i){var s;for(const a of Object.keys(n))(s=i.validation)==null||s.validateColDef(n[a]);return null}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return mh(262);if(n.smallLeft)return mh(263);if(n.smallRight)return mh(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Jd("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:n=>{if(typeof n.ssrmExpandAllAffectsAllRows=="boolean"){if(n.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(n.ssrmExpandAllAffectsAllRows&&typeof n.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Jd("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Jd("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Jd("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Jd("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!fd(s));if(i.length>0)return`sortingOrder must be an array of type (SortDirection | SortDef)[], incorrect items are: ${i.map(s=>typeof s=="string"||s==null?g2(s):JSON.stringify(s))}]`}else if(!Array.isArray(r)||!r.length)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:a,getRowId:o}=n;if(!i&&!s&&!a)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(a)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!o)return"getRowId callback not provided, tree data with parent id cannot be built.";if(a)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Jd("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Jd("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n!=null&&n.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n!=null&&n.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,i=["default","legacy"];return r&&!i.includes(r)?`renderingMode must be one of [${i.join()}], currently it's ${r}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:n})=>{if(!n)return null;const r=["fitCellContents","fitGridWidth","fitProvidedWidth"],i=n.type;return i!=="fitCellContents"&&i!=="fitGridWidth"&&i!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${r.map(s=>'"'+s+'"').join(", ")}, currently it's ${i}`:i==="fitProvidedWidth"&&typeof n.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${n.width}`:null}}},t={};for(const n of Yte)t[n]={expectedType:"boolean"};for(const n of $te)t[n]={expectedType:"number"};return ql(t,e),t},Oje=()=>({objectName:"gridOptions",allProperties:[...Dje(),...Object.values(cP)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Pje(),validations:Lje()}),jje=0,Uje=0,YG="__ag_grid_instance",Hje=class extends Kt{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=Uje++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Hp,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=N2.has(t);if(r&&!e||!r&&e||!Gje(t))return;const i=(s,a)=>{const o=cP[s],l=this.gridOptions[o];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(a))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??oee[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return _n(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addCommon(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:jje++,properties:[]},i=[],{gridOptions:s,validation:a}=this;for(const o of Object.keys(e)){const l=LD.applyGlobalGridOption(o,e[o]);a==null||a.warnOnInitialPropertyUpdate(n,o);const c=t||typeof l=="object"&&n==="api",d=s[o];if(c||d!==l){s[o]=l;const f={type:o,currentValue:l,previousValue:d,changeSet:r,source:n};i.push(f)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(o=>o.type);for(const o of i)Vp(this,`Updated property ${o.type} from`,o.previousValue," to ",o.currentValue),this.propEventSvc.dispatchEvent(o)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){var t;this.validateOptions(e,Mje),(t=this.validation)==null||t.processGridOptions(e)}validateColDef(e,t,n){var r,i;(n||!((r=this.beans.dataTypeSvc)!=null&&r.isColPendingInference(t)))&&(this.validateOptions(e,Cje),(i=this.validation)==null||i.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||es(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:OD(),rowModelType:this.get("rowModelType"),isUmd:hee()}}isModuleRegistered(e){return aB(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[YG]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const n=t[YG];if(_n(n))return n===this.instanceId;t=t.parentElement}return!1}};function Gje(e){return!!cP[e]}var Vje=class extends Kt{constructor(e,t){super(),this.column=e,this.eGui=t,this.lastMovingChanged=0}postConstruct(){this.addManagedElementListeners(this.eGui,{click:e=>e&&this.onClick(e)}),this.addManagedListeners(this.column,{movingChanged:()=>{this.lastMovingChanged=Date.now()}})}onClick(e){const{sortSvc:t,rangeSvc:n,gos:r}=this.beans;if(!($m(r)?e.altKey:!0))n==null||n.handleColumnSelection(this.column,e);else if(this.column.isSortable()){const s=this.column.isMoving(),o=Date.now()-this.lastMovingChanged<50;s||o||t==null||t.progressSortFromEvent(this.column,e)}}};function Qje(e,t){const n={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:n},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:n},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[e?{tag:"span",ref:"eColRef",cls:"ag-header-col-ref"}:null,{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:n},t?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var zje=class extends Ea{constructor(){super(...arguments),this.eFilter=er,this.eFilterButton=er,this.eSortIndicator=er,this.eMenu=er,this.eLabel=er,this.eText=er,this.eColRef=er,this.eSortOrder=er,this.eSortAsc=er,this.eSortDesc=er,this.eSortMixed=er,this.eSortNone=er,this.eSortAbsoluteAsc=er,this.eSortAbsoluteDesc=er,this.isLoadingInnerComponent=!1}refresh(e){var n,r,i;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((n=this.beans)!=null&&n.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||e.column.formulaRef!=this.currentRef||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const s={...e};ql(s,e.innerHeaderComponentParams),(i=(r=this.innerHeaderComponent).refresh)==null||i.call(r,s)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const{formula:n}=this.beans,r=e.template;return r?r!=null&&r.trim?r.trim():r:Qje(!!(n!=null&&n.active),t)}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,s=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),this.eLabel&&(this.mouseListener??(this.mouseListener=this.createManagedBean(new Vje(e.column,this.eLabel)))),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupColumnRefIndicator(),r==null||r.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=BDe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=K1(t))}addInIcon(e,t,n){const r=Tc(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){s0(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=Jc(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var l;const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,a=t.column,o=Jc(n);if(e&&!o){if((l=r.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(a))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:a,eSortMixed:o,eSortNone:l,eSortAbsoluteAsc:c,eSortAbsoluteDesc:d}=this;r.attachCustomElements(i,s,a,o,l,c,d)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n)}setupColumnRefIndicator(){const{eColRef:e,beans:{editModelSvc:t},params:n}=this;e&&(this.currentRef=n.column.formulaRef,e.textContent=this.currentRef,hs(e,!1),this.addManagedEventListeners({cellEditingStarted:()=>{const r=t==null?void 0:t.getEditPositions(),i=!!this.currentRef&&!!(r!=null&&r.some(s=>s.column.isAllowFormula()));hs(e,i)},cellEditingStopped:()=>{hs(e,!1)}}))}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();hs(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return s0(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent=this.destroyBean(this.innerHeaderComponent),this.mouseListener=this.destroyBean(this.mouseListener)}},Wje={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},Kje=class extends Ea{constructor(){super(Wje),this.agOpened=er,this.agClosed=er,this.agLabel=er,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n==null||n.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&gn(89)}workOutInnerHeaderGroupComponent(e,t){const n=_De(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:{colGroupSvc:r}}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(wf(l))return;const c=!n.isExpanded();r.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(t,i),this.addTouchAndClickListeners(e,i);const s=l=>{Wp(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const a=n.getProvidedColumnGroup(),o=this.updateIconVisibility.bind(this);this.addManagedListeners(a,{expandedChanged:o,expandableChanged:o})}addTouchAndClickListeners(e,t){var n;(n=this.beans.touchSvc)==null||n.setupForHeaderGroupElement(this,e,t),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();hs(e,r),hs(t,!r)}else hs(e,!1),hs(t,!1)}addInIcon(e,t){const n=Tc(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;hs(t,!1),hs(n,!1)}}setupLabel(e){var a;const{displayName:t,columnGroup:n}=e,{innerHeaderGroupComponent:r,isLoadingInnerComponent:i}=this,s=r||i;_n(t)&&!s&&(this.agLabel.textContent=K1(t)),this.toggleCss("ag-sticky-label",!((a=n.getColGroupDef())!=null&&a.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},qje={moduleName:"ColumnHeaderComp",version:Dn,userComponents:{agColumnHeader:zje},icons:{menu:"menu",menuAlt:"menu-alt"}},$je={moduleName:"ColumnGroupHeaderComp",version:Dn,userComponents:{agColumnGroupHeader:Kje},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Yje=class extends Kt{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&gn(92)}createTask(e,t,n,r,i=!1){this.verify();let s=n;r&&this.batchFrameworkComps&&(s="f1");const a={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],a),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:s}=this,{ctrlsSvc:a,frameworkOverrides:o}=s,l=t.list,c=n.list,d=r.list,f=Date.now();let p=0;const m=e<=0,w=a.getScrollFeature();for(;m||p<e;){if(!w.scrollGridIfNeeded()){let C;if(l.length)this.sortTaskList(t),C=l.pop().task;else if(c.length)this.sortTaskList(n),C=c.pop().task;else if(d.length)o.wrapOutgoing(()=>{for(;(m||p<e)&&!w.scrollGridIfNeeded();){if(d.length)this.sortTaskList(r),C=d.pop().task,C();else break;p=Date.now()-f}}),C=()=>{};else if(i.length)C=i.pop();else break;C()}p=Date.now()-f}l.length||c.length||d.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Wf(this.beans,e)}isQueueEmpty(){return!this.ticking}},Xje={moduleName:"AnimationFrame",version:Dn,beans:[Yje]},Jje=class extends Kt{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return Tc(e,this.beans,t==null?void 0:t.column)}},Zje=class extends Kt{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!bp())return;const t=(n,r,i)=>{var o;const{rowCtrl:s,cellCtrl:a}=e.getControlsForEventTarget((i==null?void 0:i.target)??null);a!=null&&a.column&&a.dispatchCellContextMenuEvent(i??null),(o=this.beans.contextMenuSvc)==null||o.handleContextMenuMouseEvent(void 0,i,s,a)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!bp()||nee("dblclick"))return!1;const r=Date.now(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:a}=e,o=new V0(e.getGui(),!0);e.addDestroyFunc(()=>o.destroy());const l=e.shouldSuppressMenuHide(),c=l&&_n(s)&&i.enableMenu;let d=o;if(c&&(d=new V0(s,!0),e.addDestroyFunc(()=>d.destroy())),i.enableMenu||r!=null&&r.isHeaderContextMenuEnabled(i.column)){const f=c?"tap":"longTap",p=m=>i.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(d,{[f]:p}),e.addManagedListeners(o,{longTap:p})}if(i.enableSorting){const f=p=>{const m=p.touchStart.target;l&&(s!=null&&s.contains(m)||a!=null&&a.contains(m))||n==null||n.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(o,{tap:f})}if(i.enableFilterButton&&a){const f=new V0(a,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(a)}),e.addDestroyFunc(()=>f.destroy())}}setupForHeaderGroup(e){var n;const t=e.params;if((n=this.beans.menuSvc)!=null&&n.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const r=new V0(t.eGridHeader,!0),i=s=>t.showColumnMenuAfterMouseClick(s.touchStart);e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new V0(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!bp())return;const r=new V0(t),i=s=>{Nw(this.beans,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},eUe={moduleName:"Touch",version:Dn,beans:[Zje]},tUe=class extends Kt{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Rt.UP,r=e===Rt.DOWN,i=e===Rt.LEFT;let s,a;const{pageBounds:o,gos:l,visibleCols:c,pinnedRowModel:d}=this.beans,{rowPinned:f}=t;if(n||r)f&&d?n?a=0:a=f==="top"?d.getPinnedTopRowCount()-1:d.getPinnedBottomRowCount()-1:a=n?o.getFirstRow():o.getLastRow(),s=t.column;else{const p=l.get("enableRtl");a=t.rowIndex,s=(i!==p?c.allCols:[...c.allCols].reverse()).find(w=>this.isCellGoodToFocusOn({rowIndex:a,rowPinned:null,column:w}))}return s?{rowIndex:a,rowPinned:f,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case Rt.UP:n=this.getCellAbove(n);break;case Rt.DOWN:n=this.getCellBelow(n);break;case Rt.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Rt.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,gn(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r==null?void 0:r.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r==null?void 0:r.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var r;if(!e)return null;const t=((r=this.rowSpanSvc)==null?void 0:r.getCellEnd(e))??e,n=TG(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){var r;if(!e)return null;const t=((r=this.rowSpanSvc)==null?void 0:r.getCellStart(e))??e,n=hE(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,a=t.getColAfter(e.column);if(!a){a=r[0];const o=TG(this.beans,e,!0);if(Us(o)||!o.rowPinned&&!((n==null?void 0:n.isRowInPage(o.rowIndex))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:a,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let s=e.rowIndex,a=e.rowPinned,o=n.getColBefore(e.column);if(!o){o=As(i);const l=hE(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(Us(l)||!l.rowPinned&&!((r==null?void 0:r.isRowInPage(l.rowIndex))??!0))return null;s=l?l.rowIndex:null,a=l?l.rowPinned:null}return{rowIndex:s,column:o,rowPinned:a}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function nUe(e){return e.focusSvc.getFocusedCell()}function rUe(e){return e.focusSvc.clearFocusedCell()}function iUe(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function sUe(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function aUe(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function oUe(e,t,n=!1){var i;const r=(i=e.headerNavigation)==null?void 0:i.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var lUe=class extends Kt{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new Xte,this.rowValidations=new Jte,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return;const s=Object.assign({},e.data),a=(o,l)=>o.forEach(({pendingValue:c},d)=>{c!==Hu&&(l[d.getColId()]=c)});return n&&a(n,s),i&&a(i,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){var t;if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&((t=this.getEditRow(e.rowNode))==null?void 0:t.get(e.column))}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>{const i=new Map;n.forEach(({editorState:s,...a},o)=>i.set(o,{...a})),t.set(r,i)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((i,s)=>r.set(s,{...i})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n=this._getEdit(e),r=Object.assign({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...n,...t});return this.getEditRow(e.rowNode).set(e.column,r),r}clearEditValue(e){var r;const{rowNode:t,column:n}=e;if(t)if(n){const i=this._getEdit(e);i&&(i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed")}else(r=this.getEditRow(t))==null||r.forEach(i=>{i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed"})}getState(e){var t;if(!this.suspendEdits)return(t=this.getEdit(e))==null?void 0:t.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const i of n.keys()){const{editorState:s,...a}=n.get(i);t.push({rowNode:r,column:i,...a})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){var s;if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){const a=this.getEditRow(n,t);return a?r?i?((s=this.getEdit(e))==null?void 0:s.state)==="editing":a.has(r)??!1:a.size!==0?i?Array.from(a.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:a})=>a==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:Hu,sourceValue:this.beans.valueSvc.getValue(r,n,!1,"api"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},Xte=class{constructor(){this.cellValidations=new Map}getCellValidation(e){var r,i;const{rowNode:t,column:n}=e||{};return(i=(r=this.cellValidations)==null?void 0:r.get(t))==null?void 0:i.get(n)}hasCellValidation(e){return!(e!=null&&e.rowNode)||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){var r;const{rowNode:t,column:n}=e;(r=this.cellValidations.get(t))==null||r.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},Jte=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e!=null&&e.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function AE(e,t={}){var c;const{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:a,rowRenderer:o}=e;let{rowNode:l}=t;return l||(r?l=v6e(e,r,s):n!=null&&(l=a.getRow(n))),(c=o.getRowCtrls(l?[l]:[]))==null?void 0:c[0]}function qs(e,t={}){var d;const{cellCtrl:n,colId:r,columnId:i,column:s}=t;if(n)return n;const a=e.colModel.getCol(r??i??IB(s)),o=t.rowCtrl??AE(e,t),l=(o==null?void 0:o.getCellCtrl(a))??void 0;if(l)return l;const c=t.rowNode??(o==null?void 0:o.rowNode);if(c)return(d=e.rowRenderer.getCellCtrls([c],[a]))==null?void 0:d[0]}function XG(e){const{editSvc:t}=e;t!=null&&t.isBatchEditing()?(UA(e,{persist:!0}),n1(e)):t==null||t.stopEditing(void 0,{source:"api"})}function cUe(e,t,n){const{gos:r,popupSvc:i}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const s=a=>{const o=a.relatedTarget;if(AB(o)===null){XG(t);return}let l=n.some(c=>c.contains(o))&&r.isElementInThisInstance(o);l||(l=!!i&&(i.getActivePopups().some(c=>c.contains(o))||i.isElementWithinCustomPopup(o))),l||XG(t)};for(const a of n)e.addManagedElementListeners(a,{focusout:s})}function IB(e){if(e)return typeof e=="string"?e:e.getColId()}var Hu=Symbol("unedited");function Zte(e,t={}){var i;const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const s of r){const a=(i=s.comp)==null?void 0:i.getCellEditor();a&&n.push({ctrl:s,editor:Fw(a)})}return n}var uUe=(e,t={})=>Zte(e,t).map(n=>n.editor);function dUe(e,t,n,r,i,s){var f;t.length===0&&(n!=null&&n.rowNode)&&(n!=null&&n.column)&&F1(e,n,{key:r,event:i,cellStartedEdit:s});const{valueSvc:a,editSvc:o,editModelSvc:l}=e,{rowNode:c,column:d}=n??{};for(const p of t){const{rowNode:m,column:w}=p,y=qs(e,p);if(!y){if(m&&w){const T=a.getValue(w,m,void 0,"api"),P=((n==null?void 0:n.rowNode)===m&&(n==null?void 0:n.column)===w&&r||void 0)??(o==null?void 0:o.getCellDataValue(p,!1))??((f=a.getValueForDisplay({column:w,node:m}))==null?void 0:f.value)??T??Hu;l==null||l.setEdit(p,{pendingValue:k1(e,P,!1,w),sourceValue:T,state:"editing"})}continue}const C=s&&c===y.rowNode&&y.column===d;F1(e,{rowNode:c,column:y.column},{key:C?r:null,event:C?i:null,cellStartedEdit:C&&s})}}function Ah({pendingValue:e,sourceValue:t}){return e===Hu&&(e=t),e!==t}function F1(e,t,n){var V,re,ee;const{key:r,event:i,cellStartedEdit:s,silent:a}=n??{},{editModelSvc:o,editSvc:l,gos:c,userCompFactory:d}=e,f=qs(e,t),p=(V=f==null?void 0:f.comp)==null?void 0:V.getCellEditor(),m=tne(e,t,r,s&&!a),w=t.column.isAllowFormula(),y=o==null?void 0:o.getEdit(t),C=m.value??(y==null?void 0:y.sourceValue);if(p){o==null||o.setEdit(t,{editorValue:k1(e,C,!0,t.column),state:"editing"}),(re=p.refresh)==null||re.call(p,m);return}const T=t.column.getColDef(),k=Hee(d,w?{...T,cellEditor:"agTextCellEditor"}:T,m);if(!k)return;const{popupFromSelector:R,popupPositionFromSelector:P}=k,U=R??!!T.cellEditorPopup,O=P??T.cellEditorPopupPosition;if(nne(k.params,i),!f)return;const{rangeFeature:L,rowCtrl:K,comp:j,onEditorAttachedFuncs:te}=f;o==null||o.setEdit(t,{editorValue:k1(e,C,!0,t.column),state:"editing"}),f.editCompDetails=k,te.push(()=>L==null?void 0:L.unsetComp()),j==null||j.setEditDetails(k,U,O,c.get("reactiveCustomComponents")),K==null||K.refreshRow({suppressFlash:!0});const G=o==null?void 0:o.getEdit(t,!0);!a&&!((ee=G==null?void 0:G.editorState)!=null&&ee.cellStartedEditing)&&(l==null||l.dispatchCellEvent(t,i,"cellEditingStarted",{value:C}),o==null||o.setEdit(t,{editorState:{cellStartedEditing:!0}}))}function ene(e,t,n){var s,a;const r={editorValueExists:!1};if(uP(e)){const o=(s=t.getValidationErrors)==null?void 0:s.call(t);if(((o==null?void 0:o.length)??0)>0)return r}if(n!=null&&n.isCancelling)return r;if(n!=null&&n.isStopping){const o=(a=t==null?void 0:t.isCancelAfterEnd)==null?void 0:a.call(t);if(o)return{...r,isCancelAfterEnd:o}}return{editorValue:t.getValue(),editorValueExists:!0}}function tne(e,t,n,r){var R,P,U,O,L,K;const{valueSvc:i,gos:s,editSvc:a}=e,o=e.gos.get("enableGroupEdit"),l=qs(e,t),c=((R=t.rowNode)==null?void 0:R.rowIndex)??void 0,d=a==null?void 0:a.isBatchEditing(),f=e.colModel.getCol(t.column.getId()),{rowNode:p,column:m}=t,w=(P=l.comp)==null?void 0:P.getCellEditor(),y=a==null?void 0:a.getCellDataValue(t,!1),C=y===void 0?w?(U=ene(e,w))==null?void 0:U.editorValue:void 0:y,T=C===Hu?(O=i.getValueForDisplay({column:f,node:p}))==null?void 0:O.value:C;let k=o?C:T;return m.isAllowFormula()&&((L=e.formula)!=null&&L.isFormula(k))&&(k=((K=e.formula)==null?void 0:K.normaliseFormula(k,!0))??k),Fr(s,{value:k,eventKey:n??null,column:m,colDef:m.getColDef(),rowIndex:c,node:p,data:p.data,cellStartedEdit:r??!1,onKeyDown:l==null?void 0:l.onKeyDown.bind(l),stopEditing:j=>{a.stopEditing(t,{source:d?"ui":"api",suppressNavigateAfterEdit:j}),_w(e,t)},eGridCell:l==null?void 0:l.eGui,parseValue:j=>i.parseValue(f,p,j,l==null?void 0:l.value),formatValue:l==null?void 0:l.formatValue.bind(l),validate:()=>{a==null||a.validateEdit()}})}function T2(e,t){const{editModelSvc:n}=e;n==null||n.getEditMap().forEach((r,i)=>{r.forEach((s,a)=>{!t&&(s.state==="editing"||s.pendingValue===Hu)||!Ah(s)&&(s.state!=="editing"||t)&&(n==null||n.removeEdits({rowNode:i,column:a}))})})}function hUe(e,t){var c;const n=(c=t.comp)==null?void 0:c.getCellEditor();if(!(n!=null&&n.refresh))return;const{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,a=tne(e,t,r,i),o=s.getColDef(),l=Hee(e.userCompFactory,o,a);n.refresh(nne(l.params,r))}function nne(e,t){var n;return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes((t==null?void 0:t.key)??"")||e.suppressPreventDefault:(n=t==null?void 0:t.preventDefault)==null||n.call(t),e}function UA(e,t){var n,r,i;for(const s of((n=e.editModelSvc)==null?void 0:n.getEditPositions())??[]){const a=qs(e,s);if(!a)continue;const o=(r=a.comp)==null?void 0:r.getCellEditor();if(!o)continue;const{editorValue:l,editorValueExists:c,isCancelAfterEnd:d}=ene(e,o,t);d&&((i=e.editModelSvc)==null||i.setEdit(s,{editorState:{isCancelAfterEnd:d}})),I2(e,s,l,void 0,!c,t)}}function I2(e,t,n,r,i,s){const{editModelSvc:a,valueSvc:o}=e;if(!a)return;const{rowNode:l,column:c}=t;if(!(l&&c))return;let d=a.getEdit(t,!0);if(!(d!=null&&d.sourceValue)){const f={sourceValue:o.getValue(c,l,void 0,"api"),pendingValue:d?k1(e,d.editorValue,!1,c):Hu};s!=null&&s.persist&&(f.state="changed"),d=a.setEdit(t,f)}a.setEdit(t,{editorValue:i?k1(e,d.sourceValue,!0,c):n}),s!=null&&s.persist&&fUe(e,t)}function k1(e,t,n,r){const{formula:i}=e;return r.isAllowFormula()&&(i!=null&&i.isFormula(t))?(i==null?void 0:i.normaliseFormula(t,n))??t:t}function fUe(e,t){const{editModelSvc:n}=e,r=n==null?void 0:n.getEdit(t,!0);n==null||n.setEdit(t,{pendingValue:k1(e,r==null?void 0:r.editorValue,!1,t.column)})}function n1(e,t,n){var r;t||(t=(r=e.editModelSvc)==null?void 0:r.getEditPositions());for(const i of t??[])_w(e,i,n)}function _w(e,t,n,r=qs(e,t)){var d;const i=e.gos.get("enableGroupEdit"),s=e.editModelSvc,a=s==null?void 0:s.getEdit(t,!0);if(!r){a&&(s==null||s.setEdit(t,{state:"changed"}));return}const o=r.comp,l=o==null?void 0:o.getCellEditor();if(o&&!l){if(r==null||r.refreshCell(),a){s==null||s.setEdit(t,{state:"changed"});const f=i?JG(n,a):{valueChanged:!1,newValue:void 0,oldValue:a.sourceValue};ZG(e,t,f,n)}return}if(uP(e)){const f=a&&((d=l==null?void 0:l.getValidationErrors)==null?void 0:d.call(l)),p=s==null?void 0:s.getCellValidationModel();f!=null&&f.length?p==null||p.setCellValidation(t,{errorMessages:f}):p==null||p.clearCellValidation(t)}a&&(s==null||s.setEdit(t,{state:"changed"})),o==null||o.setEditDetails(),o==null||o.refreshEditStyles(!1,!1),r==null||r.refreshCell({force:!0,suppressFlash:!0});const c=s==null?void 0:s.getEdit(t);if(c&&c.state==="changed"){const f=i?JG(n,c):{valueChanged:Ah(c)&&!(n!=null&&n.cancel),newValue:n!=null&&n.cancel||c.editorState.isCancelAfterEnd?void 0:(c==null?void 0:c.editorValue)??(a==null?void 0:a.pendingValue),oldValue:c==null?void 0:c.sourceValue};ZG(e,t,f,n)}}function JG(e,t){return e!=null&&e.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:Ah(t),oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function ZG(e,t,n,{silent:r,event:i}={}){const{editSvc:s,editModelSvc:a}=e,o=a==null?void 0:a.getEdit(t),{editorState:l}=o||{},{isCancelBeforeStart:c}=l||{};!r&&!c&&(s==null||s.dispatchCellEvent(t,i,"cellEditingStopped",n),a==null||a.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function uP(e){var a;const{gos:t,colModel:n}=e,r=!!t.get("getFullRowEditValidationErrors"),i=(a=n.getColumnDefs())==null?void 0:a.filter(o=>o.editable).some(({cellEditorParams:o})=>{const{minLength:l,maxLength:c,getValidationErrors:d,min:f,max:p}=o||{};return l!==void 0||c!==void 0||d!==void 0||f!==void 0||p!==void 0}),s=e.gridApi.getCellEditorInstances().some(o=>o.getValidationElement||o.getValidationErrors);return i||r||s}function Kp(e,t){var p,m,w,y,C,T,k,R;if(!(t||uP(e)))return;const n=Zte(e),r=new Xte,{ariaAnnounce:i,localeSvc:s,editModelSvc:a,gos:o}=e,l=o.get("editType")==="fullRow",d=iee(s)("ariaValidationErrorPrefix","Cell Editor Validation");for(const P of n){const{ctrl:U,editor:O}=P,{rowNode:L,column:K}=U,j=((p=O.getValidationErrors)==null?void 0:p.call(O))??[],te=((m=O.getValidationElement)==null?void 0:m.call(O,!1))||!((w=O.isPopup)!=null&&w.call(O))&&U.eGui;if(te){const G=j!=null&&j.length>0,V=G?j.join(". "):"";ID(te,G),G&&i.announceValue(`${d} ${j}`,"editorValidation"),te instanceof HTMLInputElement?te.setCustomValidity(V):te.classList.toggle("invalid",G)}(j==null?void 0:j.length)>0&&r.setCellValidation({rowNode:L,column:K},{errorMessages:j})}UA(e,{persist:!1}),a==null||a.setCellValidationModel(r);const f=new Set;for(const{ctrl:P}of n)f.add(P.rowCtrl);if(l){const P=AUe(e);a==null||a.setRowValidationModel(P)}for(const P of f.values()){(y=P.rowEditStyleFeature)==null||y.applyRowStyles();for(const U of P.getAllCellCtrls())(C=U.tooltipFeature)==null||C.refreshTooltip(!0),(T=U.editorTooltipFeature)==null||T.refreshTooltip(!0),(R=(k=U.editStyleFeature)==null?void 0:k.applyCellStyles)==null||R.call(k)}}var AUe=e=>{var i;const t=new Jte,n=e.gos.get("getFullRowEditValidationErrors"),r=(i=e.editModelSvc)==null?void 0:i.getEditMap();if(!r)return t;for(const s of r.keys()){const a=r.get(s);if(!a)continue;const o=[],{rowIndex:l,rowPinned:c}=s;for(const f of a.keys()){const p=a.get(f);if(!p)continue;const{editorValue:m,pendingValue:w,sourceValue:y}=p,C=m??(w===Hu?void 0:w)??y;o.push({column:f,colId:f.getColId(),rowIndex:l,rowPinned:c,oldValue:y,newValue:C})}const d=(n==null?void 0:n({editorsState:o}))??[];d.length>0&&t.setRowValidation({rowNode:s},{errorMessages:d})}return t};function pUe(e){var r;Kp(e,!0);const t=(r=e.editModelSvc)==null?void 0:r.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((i,s)=>{i.forEach(({errorMessages:a},o)=>{n.push({column:o,rowIndex:s.rowIndex,rowPinned:s.rowPinned,messages:a??null})})}),n}function gUe(e,t,n,{rowNode:r,column:i},s){return Fr(e.gos,{type:n,node:r,data:r.data,value:s,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function mUe(e,t=!1){return e===Rt.DELETE?!0:!t&&e===Rt.BACKSPACE?Qee():!1}var xUe=class extends Kt{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Rt.ENTER:this.onEnterKeyDown(e);break;case Rt.F2:this.onF2KeyDown(e);break;case Rt.ESCAPE:this.onEscapeKeyDown(e);break;case Rt.TAB:this.onTabKeyDown(e);break;case Rt.BACKSPACE:case Rt.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Rt.DOWN:case Rt.UP:case Rt.RIGHT:case Rt.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var i,s;const{cellCtrl:n,beans:r}=this;if(!((i=r.editSvc)!=null&&i.isEditing(n,{withOpenEditor:!0}))){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const a=n.getFocusedCellPosition();(s=r.navigation)==null||s.navigateToNextCell(e,t,a,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===Rt.LEFT||e.key===Rt.RIGHT?n==null||n.ensureColumnVisible(r.column):n==null||n.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var c;const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:a,eventSvc:o,editSvc:l}=r;if(o.dispatchEvent({type:"keyShortcutChangedCellStart"}),mUe(e,s.get("enableCellEditingOnBackspace"))&&!(l!=null&&l.isEditing(n,{withOpenEditor:!0}))){if(a&&o0(s))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:d}=n,f=this.beans.valueSvc.getDeleteValue(d,i);i.setDataValue(d,f,"cellClear")}}else l!=null&&l.isEditing(n,{withOpenEditor:!0})||(c=r.editSvc)==null||c.startEditing(n,{startedEdit:!0,event:t});o.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){var c;const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,s=r==null?void 0:r.isEditing(t,{withOpenEditor:!0}),a=t.rowNode,o=r==null?void 0:r.isRowEditing(a,{withOpenEditor:!0}),l=d=>{(r==null?void 0:r.startEditing(d,{startedEdit:!0,event:e,source:"edit"}))&&e.preventDefault()};if(s||o){if(this.isCtrlEnter(e)){r==null||r.applyBulkEdit(t,((c=n==null?void 0:n.rangeSvc)==null?void 0:c.getCellRanges())||[]);return}if(Kp(n),(r==null?void 0:r.checkNavWithValidation(void 0,e))==="block-stop")return;r!=null&&r.isEditing(t,{withOpenEditor:!0})?r==null||r.stopEditing(t,{event:e,source:"edit"}):o&&!t.isCellEditable()?r==null||r.stopEditing({rowNode:a},{event:e,source:"edit"}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const d=e.shiftKey?Rt.UP:Rt.DOWN;i==null||i.navigateToNextCell(null,d,t.cellPosition,!1)}else{if(r!=null&&r.hasValidationErrors())return;r!=null&&r.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===Rt.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n!=null&&n.isEditing()&&(Kp(this.beans),(n==null?void 0:n.checkNavWithValidation(void 0,e))==="block-stop")||n==null||n.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;(n==null?void 0:n.checkNavWithValidation(t,e))==="block-stop"&&n.revertSingleCellEdit(t),setTimeout(()=>{n==null||n.stopEditing(t,{event:e,cancel:!0})})}processCharacter(e){var a;const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n||r!=null&&r.isEditing(i,{withOpenEditor:!0}))return;if(e.key===Rt.SPACE)this.onSpaceKeyDown(e);else if(r!=null&&r.isCellEditable(i,"ui")){if(r!=null&&r.hasValidationErrors()&&!(r!=null&&r.hasValidationErrors(i)))return;r==null||r.startEditing(i,{startedEdit:!0,event:e,source:"api"});const o=i.editCompDetails;!((a=o==null?void 0:o.params)!=null&&a.suppressPreventDefault)&&e.preventDefault()}}onSpaceKeyDown(e){var i;const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!(n!=null&&n.isEditing(this.cellCtrl,{withOpenEditor:!0}))&&vp(t)&&((i=this.beans.selectionSvc)==null||i.handleSelectionEvent(e,r,"spaceKey")),e.preventDefault()}},vUe=class extends Kt{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!wf(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var y;if((y=this.beans.touchSvc)!=null&&y.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:s,gos:a}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:l}=this,{column:c,cellPosition:d,rowNode:f}=l,p=C2(a,c,f,e);n&&o&&!p&&n.getCellRangeCount(d)>1&&n.intersectLastRange(!0);const m=l.createEvent(e,"cellClicked");m.isEventHandlingSuppressed=p,t.dispatchEvent(m);const w=c.getColDef();if(w.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{w.onCellClicked(m)})},0),!p&&(i==null?void 0:i.getState(l))!=="editing"){const C=r==null?void 0:r.isEditing(),T=(i==null?void 0:i.getCellValidationModel().getCellValidationMap().size)??0,k=(i==null?void 0:i.getRowValidationModel().getRowValidationMap().size)??0;if(C&&(T>0||k>0))return;r!=null&&r.shouldStartEditing(l,e)?r==null||r.startEditing(l,{event:e}):r!=null&&r.shouldStopEditing(l,e)&&(this.beans.gos.get("editType")==="fullRow"?r==null||r.stopEditing(l,{event:e,source:"edit"}):r==null||r.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,editSvc:a,editModelSvc:o,gos:l}=n,c=C2(l,r.column,r.rowNode,e),d=t.getColDef(),f=r.createEvent(e,"cellDoubleClicked");if(f.isEventHandlingSuppressed=c,i.dispatchEvent(f),typeof d.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{d.onCellDoubleClicked(f)})},0),!c&&a!=null&&a.shouldStartEditing(r,e)&&(o==null?void 0:o.getState(r))!=="editing"){const p=a==null?void 0:a.isEditing(),m=(o==null?void 0:o.getCellValidationModel().getCellValidationMap().size)??0,w=(o==null?void 0:o.getRowValidationModel().getRowValidationMap().size)??0;if(p&&(m>0||w>0))return;a==null||a.startEditing(r,{event:e})}}onMouseDown(e){const{shiftKey:t}=e,n=e.target,{cellCtrl:r,beans:i}=this,{eventSvc:s,rangeSvc:a,rowNumbersSvc:o,focusSvc:l,gos:c,editSvc:d}=i,{column:f,rowNode:p,cellPosition:m}=r,w=C2(c,f,p,e),y=()=>{const R=r.createEvent(e,"cellMouseDown");R.isEventHandlingSuppressed=w,s.dispatchEvent(R)};if(w){y();return}if(this.isRightClickInExistingRange(e))return;const C=a&&!a.isEmpty(),T=this.containsWidget(n),k=xf(f);if(!(o&&k&&!o.handleMouseDownOnCell(m,e))){if(!t||!C){const R=d==null?void 0:d.isEditing(r),U=c.get("enableCellTextSelection")&&e.defaultPrevented,O=(g0()||U)&&!R&&!Pv(n)&&!T;r.focusCell(O,e)}if(t&&C&&!l.isCellFocused(m)){e.preventDefault();const R=l.getFocusedCell();if(R){const{column:P,rowIndex:U,rowPinned:O}=R;d!=null&&d.isEditing(R)&&(d==null||d.stopEditing(R)),l.setFocusedCell({column:P,rowIndex:U,rowPinned:O,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}T||(a==null||a.handleCellMouseDown(e,m),y())}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=M_e(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return mp(e,"ag-selection-checkbox",3)||mp(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},wUe=class extends Kt{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();A0(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let a=0;i&&a<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Us(i)||s!==i.getPinned()));a++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=As(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=wp(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},bUe="ag-cell",yUe="ag-cell-auto-height",CUe="ag-cell-normal-height",SUe="ag-cell-focus",EUe="ag-cell-first-right-pinned",NUe="ag-cell-last-left-pinned",TUe="ag-cell-not-inline-editing",IUe="ag-cell-wrap-text",FUe=0,r1=class extends Kt{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.formulaTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+FUe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var r,i;const{beans:e}=this;this.positionFeature=new wUe(this,e),this.customStyleFeature=(r=e.cellStyles)==null?void 0:r.createCellCustomStyleFeature(this),this.editStyleFeature=(i=e.editSvc)==null?void 0:i.createCellStyleFeature(this),this.mouseListener=new vUe(this,e,this.column),this.keyboardListener=new xUe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature(),this.enableFormulaTooltipFeature();const{rangeSvc:t}=e;t&&o0(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(this)),xf(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature(),this.disableFormulaTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}enableFormulaTooltipFeature(){var e;this.formulaTooltipFeature=(e=this.beans.tooltipSvc)==null?void 0:e.setupFormulaTooltip(this)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}disableFormulaTooltipFeature(){this.formulaTooltipFeature=this.beans.context.destroyBean(this.formulaTooltipFeature)}enableEditorTooltipFeature(e){var t;this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=(t=this.beans.tooltipSvc)==null?void 0:t.setupCellEditorTooltip(this,e),Kp(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,s,a){var o,l,c,d,f,p,m,w,y;if(this.comp=e,this.eGui=t,this.printLayout=i,a??(a=this),this.addDomData(a),this.addFeatures(),a.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,a),this.refreshFirstAndLastStyles(),this.checkFormulaError(),this.refreshAriaColIndex(),(o=this.positionFeature)==null||o.init(),(l=this.customStyleFeature)==null||l.setComp(e),(c=this.editStyleFeature)==null||c.setComp(e),(d=this.tooltipFeature)==null||d.refreshTooltip(),(f=this.keyboardListener)==null||f.init(),(p=this.rangeFeature)==null||p.setComp(e),(m=this.rowResizeFeature)==null||m.refreshRowResizer(),s&&this.isCellEditable()||this.hasEdit&&((w=this.editSvc)!=null&&w.isEditing(this,{withOpenEditor:!0}))?(y=this.editSvc)==null||y.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const C of this.onCompAttachedFuncs)C();this.onCompAttachedFuncs=[]}}checkFormulaError(){var t,n;const e=!!((t=this.beans.formula)!=null&&t.getFormulaError(this.column,this.rowNode));this.eGui.classList.toggle("formula-error",e),(n=this.formulaTooltipFeature)==null||n.refreshTooltip(),e?this.disableTooltipFeature():this.enableTooltipFeature()}setupAutoHeight(e,t){var n;this.isAutoHeight=((n=this.beans.rowAutoHeight)==null?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){var l,c;const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,s=t.getColDef(),a=this.createCellRendererParams();a.deferRender=!0;const o=cG(n,s,a);if((c=(l=r.getGridBodyCtrl())==null?void 0:l.scrollFeature)!=null&&c.isScrolling()){let d;const f=new gi(m=>{d=m}),[p]=this.addManagedListeners(i,{bodyScrollEnd:()=>{d(),p()}});return{loadingComp:o,onReady:f}}return{loadingComp:o,onReady:gi.resolve()}}showValue(e,t){var f,p,m,w;const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:a}=n;let o=this.getValueToDisplay(),l;const c=i.stub&&((f=i.groupData)==null?void 0:f[r.getId()])==null,d=r.getColDef();if(c||this.isCellRenderer()){const y=this.createCellRendererParams();!c||xf(r)?l=lG(a,d,y):l=cG(a,d,y)}if(!l&&!c&&((p=n.findSvc)!=null&&p.isMatch(i,r))){const y=this.createCellRendererParams();l=lG(a,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},y)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const y=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:o});y&&(y.compDetails?l=y.compDetails:y.valueToDisplay&&(o=y.valueToDisplay))}this.comp.setRenderDetails(l,o,e),(m=this.customRowDragComp)==null||m.refreshVisibility(),!t&&s&&Wf(n,()=>s==null?void 0:s.refreshHandle()),(w=this.rowResizeFeature)==null||w.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){const e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer";let n="";return t&&(n=" ag-allow-overflow"),`${e}${n}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Eb(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=eE(t),i=p0(this.column);return n==="custom"&&r!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&qm(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e!=null&&e.isEditing(this,{withOpenEditor:!0})&&(e==null||e.stopEditing(this,{source:e!=null&&e.isBatchEditing()?"ui":"api"}))}stopEditing(e=!1){const{editSvc:t}=this.beans;return(t==null?void 0:t.stopEditing(this,{cancel:e,source:t!=null&&t.isBatchEditing()?"ui":"api"}))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:a,gos:o,editSvc:l}}=this;return Fr(o,{value:e,valueFormatted:t,getValue:()=>a.getValueForDisplay({column:n,node:r}).value,setValue:d=>(l==null?void 0:l.setDataValue({rowNode:r,column:n},d))||r.setDataValue(n,d),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(d,f,p,m)=>this.registerRowDragger(d,f,m),setTooltip:(d,f)=>{var p;o.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,f),(p=this.tooltipFeature)==null||p.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;if(this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:n,comp:r}=this;!(r!=null&&r.getCellEditor())&&n.isEditing(this,{withOpenEditor:!0})&&n.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){var U;const{editStyleFeature:r,customStyleFeature:i,rowCtrl:{rowEditStyleFeature:s},beans:{cellFlashSvc:a,filterManager:o},column:l,comp:c,suppressRefreshCell:d,tooltipFeature:f}=this;if(d)return;const{field:p,valueGetter:m,showRowGroup:w,enableCellChangeFlash:y}=l.getColDef(),C=p==null&&m==null&&w==null,T=e||C||n,k=!!c,R=this.updateAndFormatValue(k),P=T||R;if(k){if(P){this.showValue(!!n,!1);const O=o==null?void 0:o.isSuppressFlashingCellsBecauseFiltering();!t&&!O&&y&&(a==null||a.flashCell(this)),(U=r==null?void 0:r.applyCellStyles)==null||U.call(r),i==null||i.applyUserStyles(),i==null||i.applyClassesFromColDef(),s==null||s.applyRowStyles(),this.checkFormulaError()}f==null||f.refreshTooltip(),i==null||i.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay({column:this.column,node:this.rowNode,includeValueFormatted:!0});return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Qp(this.beans.gos,t,uE,this),e.addDestroyFunc(()=>Qp(this.beans.gos,t,uE,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return gUe(s,e,t,{rowNode:n,column:r},i)}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){var e;return((e=this.positionFeature)==null?void 0:e.getColSpanningList())??[]}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;Tte(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);$Z(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){var r;const n=(r=this.editSvc)==null?void 0:r.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t!=null&&t.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=r.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){var e,t;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged(),(t=this.rowResizeFeature)==null||t.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(xf(this.column)&&(e=!0),Ec(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(EUe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(NUe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var i;const{beans:t}=this;if(sN(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=((i=t.editSvc)==null?void 0:i.isEditing(this))??!1;if(this.comp.toggleCss(SUe,n),n&&(e!=null&&e.forceBrowserFocus)){let s=this.comp.getFocusableElement();if(r){const a=Jm(s,null,!0);a.length&&(s=a[0])}s.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:mf(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(bUe,!0),e.toggleCss(TUe,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(yUe,t),e.toggleCss(CUe,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e,t;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),(e=this.editSvc)!=null&&e.isEditing(this)?(t=this.editSvc)==null||t.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(IUe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(Js(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}),r.refreshVisibility())}createRowDragComp(e,t,n){var i;const r=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function dP(e,t,n,r,i,s){if(n==null&&t==null)return;const a={},o={},l=(c,d)=>{for(const f of c.split(" "))f.trim()!=""&&d(f)};if(n){const c=Object.keys(n);for(let d=0;d<c.length;d++){const f=c[d],p=n[f];let m;typeof p=="string"?m=e?e.evaluate(p,r):!0:typeof p=="function"&&(m=p(r)),l(f,w=>{m?a[w]=!0:o[w]=!0})}}if(t&&s)for(const c of Object.keys(t))l(c,d=>{a[d]||(o[d]=!0)});s&&Object.keys(o).forEach(s),Object.keys(a).forEach(i)}function eV(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var kUe=class extends Kt{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=a=>{if(typeof a=="string")e.push(a);else if(Array.isArray(a))for(const o of a)e.push(o)},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const a={data:t.data,node:t,rowIndex:t.rowIndex},o=s(a);r(o)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=Fr(r,{data:e.data,node:e,rowIndex:e.rowIndex});dP(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},BUe=0,pE=class extends Kt{constructor(e,t,n,r,i){var s,a;super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((s=t.pagination)==null?void 0:s.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+BUe++,this.rowId=Dv(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=eV(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=(a=t.editSvc)==null?void 0:a.createRowStyleFeature(this),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Dv(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){var f,p;const{context:i,focusSvc:s}=this.beans;r=wb(this,i,r);const a={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(a),this.updateGui(n,a),this.initialiseRowComp(a);const o=this.rowNode,l=this.rowType==="FullWidthLoading"||o.stub,c=!o.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!o.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const d=(f=this.fullWidthGui)==null?void 0:f.element;d&&!((p=this.beans.editSvc)!=null&&p.isEditing(this))&&s.isRowFocused(o.rowIndex,o.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const n of this.allRowGuis)n.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),vp(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp,r=this.getInitialRowClasses(e.containerType);for(const i of r)n.toggleCss(i,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&rB(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Qp(t,e.element,dE,this),e.compBean.addDestroyFunc(()=>Qp(t,e.element,dE,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Dv(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(sB(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(sB(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var r;const t=(r=this.beans.rowDragSvc)==null?void 0:r.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var r;return(r=n==null?void 0:n.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,a=!!n||!r.isPinningRight();return i&&s&&a}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const{rowNode:e,gos:t,beans:{colModel:n}}=this,r=e.stub&&!t.get("suppressServerSideFullWidthLoadingRow")&&!t.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),s=t.get("masterDetail")&&e.detail,a=n.isPivotMode(),o=yee(t,e,a);r?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!(n!=null&&n.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var n;if(!((n=this.beans.rowSpanSvc)!=null&&n.isCellSpanning(e,this.rowNode)))return new r1(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(c,d,f)=>{f!=null?r.list.splice(f,0,d):r.list.push(d),r.map[c]=d},s=[];for(const c of t){const d=c.getInstanceId();let f=e.map[d];f&&!this.isCorrectCtrlForSpan(f)&&(f.destroy(),f=void 0),f||(f=this.getNewCellCtrl(c)),f&&i(d,f)}for(const c of e.list){const d=c.column.getInstanceId();if(r.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?s.push([d,c]):c.destroy()}if(s.length)for(const[c,d]of s){const f=r.list.findIndex(m=>m.column.getLeft()>d.column.getLeft()),p=f===-1?void 0:Math.max(f-1,0);i(c,d,p)}const{focusSvc:a,visibleCols:o}=this.beans,l=a.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!r.map[c]&&o.allCols.includes(l.column)){const f=this.createFocusedCellCtrl();if(f){const p=r.list.findIndex(w=>w.column.getLeft()>f.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);i(c,f,m)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t==null?void 0:t.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:a}=this.beans,o=a==null?void 0:a.isEditing(e),l=e.isCellFocused();return o||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||el(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=_n(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(a,o)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,o).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:s,rowSpanSvc:a}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...(r==null?void 0:r.getRowExpandedListeners(this))??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),a&&this.addManagedListeners(a,{spannedCellsUpdated:({pinned:o})=>{o&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(const l of this.allRowGuis)this.addRowDraggerToRow(l);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(const n of this.getAllCellCtrls())n.refreshCell(e);for(const n of this.allRowGuis)this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){var e;this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),(e=this.rowEditStyleFeature)==null||e.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=(e==null?void 0:e.row)===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",i=t==="below",s=t!=="none",a=n||i,o=this.rowNode.uiLevel,l=a&&o>0,c=l?o.toString():"0";for(const d of this.allRowGuis){const f=d.rowComp;f.toggleCss("ag-row-highlight-above",n),f.toggleCss("ag-row-highlight-inside",r),f.toggleCss("ag-row-highlight-below",i),f.toggleCss("ag-row-highlight-indent",l),s?d.element.style.setProperty("--ag-row-highlight-level",c):d.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:mf(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const a=this.rowNode,{focusSvc:o,navigation:l}=this.beans,c=o.getFocusedCell(),d={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:(c==null?void 0:c.column)??r};l==null||l.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){var o;if(e.defaultPrevented||wf(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=Js(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let a=null;!r&&!s&&(a=ag(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!a)&&((o=this.beans.navigation)==null||o.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>Qf(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const n of this.allRowGuis)Ec(n.element,"tabindex",t)}onFullWidthRowFocused(e){var i,s,a;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const o=this.beans.colModel.getCol(e==null?void 0:e.column),l=o==null?void 0:o.pinned;l?r=l==="right"?(i=this.rightGui)==null?void 0:i.element:(s=this.leftGui)==null?void 0:s.element:r=(a=this.centerGui)==null?void 0:a.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};for(const r of e.list)r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r);return n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Fr(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(wf(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=mp(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:n}=this.beans;t==null||t.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:i,column:s}=r,a=i.element,o=e.target,l=this.rowNode;let c=e.defaultPrevented||g0();a&&a.contains(o)&&Pv(o)&&(c=!1),n.setFocusedCell({rowIndex:l.rowIndex,column:s,rowPinned:l.rowPinned,forceBrowserFocus:c})}isSuppressMouseEvent(e){const{gos:t,rowNode:n}=this;if(this.isFullWidth()){const i=this.findFullWidthRowGui(e.target);return jMe(t,i==null?void 0:i.rowComp.getFullWidthCellRendererParams(),n,e)}const r=rP(t,e.target);return r!=null&&C2(t,r.column,n,e)}onRowClick(e){if(wf(e)||this.lastMouseDownOnDragger)return;const n=this.isSuppressMouseEvent(e),{eventSvc:r,selectionSvc:i}=this.beans,s=this.createRowEventWithSource("rowClicked",e);s.isEventHandlingSuppressed=n,r.dispatchEvent(s),!n&&(i==null||i.handleSelectionEvent(e,this.rowNode,"rowClicked"))}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=Fr(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,o,l,c)=>this.addFullWidthRowDragging(a,o,l,c),setTooltip:(a,o)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(a,o)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return LDe(s,i);case"FullWidthGroup":{const{value:a,valueFormatted:o}=this.beans.valueSvc.getValueForDisplay({node:this.rowNode,includeValueFormatted:!0});return i.value=a,i.valueFormatted=o,MDe(s,i)}case"FullWidthLoading":return PDe(s,i);default:return DDe(s,i)}}setupFullWidthRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const a=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(a,s),this.addDestroyFunc(()=>{this.destroyBean(a,s)})}onUiLevelChanged(){const e=eV(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;for(const r of this.allRowGuis)r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];if((t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(const n of e)for(const r of this.allRowGuis)r.rowComp.toggleCss(n,!0)}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!0)},t=>{for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var o,l;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(s.push("ag-row-pinned"),(o=i.pinnedRowModel)!=null&&o.isManual()&&s.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&s.push("ag-row-pinned-source"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),(l=i.expansionSvc)==null||l.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:a}=i;return a&&(a.processClassesFromGridOptions(s,r),a.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{pointerenter:a=>{a.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:a=>{a.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{var a;!((a=i.dragSvc)!=null&&a.dragging)&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){if(e)t(e);else for(const n of this.allRowGuis)t(n)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=mee(this.gos)?a0(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${t}px`,s&&a.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){var r;this.active=!1;const{rowNode:t}=this;if(!e&&Km(this.gos)&&!t.sticky)if(t.rowTop!=null){const s=this.roundRowTopToBounds(t.rowTop);this.setRowTop(s)}else for(const s of this.allRowGuis)s.rowComp.toggleCss("ag-opacity-zero",!0);(r=this.fullWidthGui)!=null&&r.element.contains(Js(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>{for(const n of t.list)n.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&_n(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(const r of this.getAllCellCtrls())r.column==e&&(n=r);if(n!=null||t)return n;for(const r of this.getAllCellCtrls())(r==null?void 0:r.getColSpanningList().indexOf(e))>=0&&(n=r);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var s,a;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((s=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:s.getRowCount())??0)+(((a=this.beans.filterManager)==null?void 0:a.getHeaderRowCount())??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.toggleCss("ag-row-even",r),o.rowComp.toggleCss("ag-row-odd",!r),qZ(o.element,i)})}},RUe=class extends Kt{constructor(){super(),this.beanName="navigation",this.onPageDown=ZH(this.onPageDown,100),this.onPageUp=ZH(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,a=s6e(this.gos,e);let o=!1;switch(n){case Rt.PAGE_HOME:case Rt.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),o=!0);break;case Rt.LEFT:case Rt.RIGHT:case Rt.UP:case Rt.DOWN:if(!a)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,a),o=!0);break;case Rt.PAGE_DOWN:case Rt.PAGE_UP:!i&&!r&&(o=this.handlePageUpDown(n,a,t));break}return o&&e.preventDefault(),o}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Rt.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:s,rowPinned:a}){const{scrollFeature:o}=this.gridBodyCon;_n(n)&&!n.isPinned()&&o.ensureColumnVisible(n),_n(e)&&o.ensureIndexVisible(e,t),s||o.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:a,forceBrowserFocus:!0}),c==null||c.setRangeToCell({rowIndex:r,rowPinned:a,column:i})}onPageDown(e){const t=this.beans,n=HF(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:a}=t,o=i.getPixelOffset(),l=n.top+r,c=s.getRowIndexAtPixel(l+o);a!=null&&a.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=HF(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,a=r.getPixelOffset(),o=n.top,l=i.getRowIndexAtPixel(o+a);s!=null&&s.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),a=r.getFirstRow(),o=r.getLastRow(),l=r.getPixelOffset(),c=i.getRow(e.rowIndex),d=n?(c==null?void 0:c.rowHeight)-s-l:s-l,f=(c==null?void 0:c.rowTop)+d;let p=i.getRowIndexAtPixel(f+l);if(p===e.rowIndex){const w=n?-1:1;t=p=e.rowIndex+w}let m;n?(m="bottom",p<a&&(p=a),t<a&&(t=a)):(m="top",p>o&&(p=o),t>o&&(t=o)),this.isRowTallerThanView(i.getRow(p))&&(t=p,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,a=i.getLastRow();let o=0,l=e.rowIndex;for(;l>=0&&l<=a;){const c=s.getRow(l);if(c){const d=c.rowHeight??0;if(o+d>r)break;o+=d}l+=n}return Math.max(0,Math.min(l,a))}getViewportHeight(){const e=this.beans,t=HF(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),r=this.getNormalisedPosition(n),{rowIndex:i,rowPinned:s,column:a}=r??n,o=a;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:o,focusIndex:i,focusColumn:o,rowPinned:s})}onHomeOrEndKey(e){const t=e===Rt.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,a=t?r.getFirstRow():r.getLastRow(),o=i.getRow(a);if(!o)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(o));l&&this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:l,focusIndex:a,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:a,focusSvc:o,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===a.getFirstRow())&&(l.get("headerHeight")===0||yp(i)?I1(i,!0,!0):(t.preventDefault(),o.focusPreviousFromFirstCell(t)))}else e instanceof r1&&e.focusCell(!0),(o.focusOverlay(!1)||I1(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let a=Im(n,s);return!a&&(a=i.getRowByPosition(s),!(a!=null&&a.isFullWidth()))?!1:!!this.tabToNextCellCommon(a,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){var l;const{editSvc:i,focusSvc:s}=this.beans;let a;const o=e instanceof r1?e:(l=e.getAllCellCtrls())==null?void 0:l[0];return i!=null&&i.isEditing()?a=i==null?void 0:i.moveToNextCell(o,t,n,r):a=this.moveToNextCellNotEditing(e,t,n),a===null?a:a||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof pE){if(i={...e.getRowPosition(),column:t?r[0]:As(r)},this.gos.get("embedFullWidthRows")&&n){const a=e.findFullWidthInfoForEvent(n);a&&(i.column=a.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof r1)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return _n(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const s=this.beans,{cellNavigation:a,gos:o,focusSvc:l,rowRenderer:c,rangeSvc:d}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=a.getNextTabbedCell(i,t);const f=o.getCallback("tabToNextCell");if(_n(f)){const y=f({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(y===!0)i=e;else{if(y===!1)return!1;i={rowIndex:y.rowIndex,column:y.column,rowPinned:y.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const w=fh(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:w+i.rowIndex,column:i.column},fromCell:!0}),null}const p=o.get("editType")==="fullRow";if(n&&(!p||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const m=Im(s,i);if(!m){const w=c.getRowByPosition(i);if(!w||!w.isFullWidth()||n)continue;return{...w.getRowPosition(),column:i==null?void 0:i.column}}if(!a.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(i),d==null||d.setRangeToCell(i),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const a=this.beans,{cellNavigation:o,focusSvc:l,gos:c}=a;for(;i&&(i===n||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===Rt.LEFT&&(i=this.getLastCellOfColSpan(i)):t===Rt.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=o.getNextCellToFocus(t,i),s=Us(i);if(s&&e&&e.key===Rt.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const f=c.getCallback("navigateToNextCell");if(_n(f)){const m=f({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});_n(m)?i={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:i=null}}if(!i)return;if(i.rowIndex<0){const f=fh(a);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const d=this.getNormalisedPosition(i);d?this.focusPosition(d):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){var r;if(!!((r=this.beans.spannedRowRenderer)!=null&&r.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=Im(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,a=n.allCols,o=r.getRowByPosition(e);if(!(o!=null&&o.isFullWidth()))return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?As(a):a[0])};this.focusPosition(c);const d=t??(l!=null&&p6e(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!_f(this.beans,e)}getLastCellOfColSpan(e){const t=Im(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:As(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=vee(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&(n==null?void 0:n.sticky),{scrollFeature:i}=this.gridBodyCon;!r&&Us(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function HF(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var _Ue={moduleName:"KeyboardNavigation",version:Dn,beans:[RUe,tUe,pje],apiFunctions:{getFocusedCell:nUe,clearFocusedCell:rUe,setFocusedCell:iUe,setFocusedHeader:oUe,tabToNextCell:sUe,tabToPreviousCell:aUe}},DUe=class extends Kt{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},PUe=class extends Kt{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},MUe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",LUe=class extends Kt{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(hs(n,t),gh(n,e))}},OUe=class extends Kt{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=el(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ew(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let a=i;!a.length&&!s||(r&&(a=r({columns:a,viewportWidth:t})),a!=null&&a.length&&(a=a.filter(o=>!xf(o)),this.setColsPinned(a,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new LUe(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:a}=this.beans;if(!r.cols||!(e!=null&&e.length))return;if(el(a,"print")){gn(37);return}i==null||i.start();let o;t===!0||t==="left"?o="left":t==="right"?o="right":o=null;const l=[];for(const c of e){if(!c)continue;const d=r.getCol(c);d&&d.getPinned()!==o&&(this.setColPinned(d,o),l.push(d))}l.length&&(s.refresh(n),Pee(this.eventSvc,l,n)),i==null||i.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const a=s==0,o=e.hidden!==a,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&n||!l&&r)?s+c:s;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!a),o&&(e.hidden=a,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=Ew(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,a=[...s.leftCols],o=[...s.rightCols];let l=0,c=0;const d=0,f=[];let p=r-d-e;for(;(c<a.length||l<o.length)&&p>0;){if(l<o.length){const m=o[l++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}if(c<a.length&&p>0){const m=a[c++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}}return{columns:f,hasLockedPinned:i}}},jUe={moduleName:"PinnedColumn",version:Dn,beans:[OUe],css:[MUe]},UUe=class extends ec{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=jo(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Oo(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),WZ(n,"polite"),TRe(n,"additions text"),NRe(n,!0),e.eRootDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(kc(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},HUe=class extends UUe{},GUe={moduleName:"Aria",version:Dn,beans:[HUe]},VUe=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",tV="ag-delay-render",QUe=class extends Kt{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(tV)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(tV),this.alreadyRevealed=!0}},zUe={moduleName:"ColumnDelayRender",version:Dn,beans:[QUe],css:[VUe]};function WUe(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function KUe(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function qUe(e){var t;(t=e.overlays)==null||t.hideOverlay()}var $Ue=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{pointer-events:all}.ag-overlay-exporting-center,.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);display:flex;padding:var(--ag-spacing)}",YUe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},rne=class extends Ea{constructor(){super(YUe),this.eOverlayWrapper=er,this.activeOverlay=null,this.activePromise=null,this.activeCssClass=null,this.elToFocusAfter=null,this.overlayExclusive=!1,this.oldWrapperPadding=null,this.registerCSS($Ue)}handleKeyDown(e){if(e.key!==Rt.TAB||e.defaultPrevented||wf(e))return;const{beans:t,eOverlayWrapper:n}=this;if(n&&ag(t,n,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:As(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=I1(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper;if(!n)return;const r=n.classList,{AUTO_HEIGHT:i,NORMAL:s,PRINT:a}=y2;r.toggle(i,t.autoHeight),r.toggle(s,t.normal),r.toggle(a,t.print)}postConstruct(){this.createManagedBean(new tP(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setWrapperComp(this,!1),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)}),this.addManagedEventListeners({gridSizeChanged:this.refreshWrapperPadding.bind(this)})}setWrapperTypeClass(e){var n;const t=(n=this.eOverlayWrapper)==null?void 0:n.classList;if(!t){this.activeCssClass=null;return}this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n){if(this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,this.overlayExclusive=n,!e)return this.refreshWrapperPadding(),gi.resolve();if(this.setWrapperTypeClass(t),this.setDisplayed(!0,{skipAriaHidden:!0}),this.refreshWrapperPadding(),n&&this.isGridFocused()){const r=Js(this.beans);r&&!ND(this.beans)&&(this.elToFocusAfter=r)}return e.then(r=>{const i=this.eOverlayWrapper;if(!i){this.destroyBean(r);return}if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}this.activePromise=null,r&&(this.activeOverlay!==r&&(i.appendChild(r.getGui()),this.activeOverlay=r),n&&this.isGridFocused()&&zp(i))}),e}refreshWrapperPadding(){var n;if(!this.eOverlayWrapper){this.oldWrapperPadding=null;return}const e=!!this.activeOverlay||!!this.activePromise;let t=0;e&&!this.overlayExclusive&&(t=((n=this.beans.ctrlsSvc.get("gridHeaderCtrl"))==null?void 0:n.headerHeight)||0),t!==this.oldWrapperPadding&&(this.oldWrapperPadding=t,this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`))}destroyActiveOverlay(){var r;this.activePromise=null;const e=this.activeOverlay;if(!e){this.overlayExclusive=!1,this.elToFocusAfter=null,this.refreshWrapperPadding();return}let t=this.elToFocusAfter;this.elToFocusAfter=null,this.activeOverlay=null,this.overlayExclusive=!1,t&&!this.isGridFocused()&&(t=null),this.destroyBean(e);const n=this.eOverlayWrapper;n&&kc(n),(r=t==null?void 0:t.focus)==null||r.call(t,{preventScroll:!0}),this.refreshWrapperPadding()}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Js(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setWrapperComp(this,!0),super.destroy(),this.eOverlayWrapper=null}},XUe={selector:"AG-OVERLAY-WRAPPER",component:rne},JUe=["refresh"],Nb=e=>({name:e,optionalMethods:JUe}),K0={id:"agLoadingOverlay",overlayType:"loading",comp:Nb("loadingOverlayComponent"),wrapperCls:"ag-overlay-loading-wrapper",exclusive:!0,compKey:"loadingOverlayComponent",paramsKey:"loadingOverlayComponentParams",isSuppressed:e=>{const t=e.get("loading");return t===!1||e.get("suppressLoadingOverlay")===!0&&t!==!0}},Fm={id:"agNoRowsOverlay",overlayType:"noRows",comp:Nb("noRowsOverlayComponent"),wrapperCls:"ag-overlay-no-rows-wrapper",compKey:"noRowsOverlayComponent",paramsKey:"noRowsOverlayComponentParams",isSuppressed:e=>e.get("suppressNoRowsOverlay")},hP={id:"agNoMatchingRowsOverlay",overlayType:"noMatchingRows",comp:Nb("noMatchingRowsOverlayComponent"),wrapperCls:"ag-overlay-no-matching-rows-wrapper"},gE={id:"agExportingOverlay",overlayType:"exporting",comp:Nb("exportingOverlayComponent"),wrapperCls:"ag-overlay-exporting-wrapper",exclusive:!0},F2={id:"activeOverlay",comp:Nb("activeOverlay"),wrapperCls:"ag-overlay-modal-wrapper",exclusive:!0},ZUe=e=>e?{agLoadingOverlay:K0,agNoRowsOverlay:Fm,agNoMatchingRowsOverlay:hP,agExportingOverlay:gE}[e]??F2:null,e7e=e=>e?{loading:K0,noRows:Fm,noMatchingRows:hP,exporting:gE}[e]:null,t7e=class extends Kt{constructor(){super(...arguments),this.beanName="overlays",this.eWrapper=void 0,this.exclusive=!1,this.oldExclusive=!1,this.currentDef=null,this.showInitialOverlay=!0,this.userForcedNoRows=!1,this.exportsInProgress=0,this.newColumnsLoadedCleanup=null}postConstruct(){const e=this.gos;this.showInitialOverlay=sa(e);const t=()=>{this.userForcedNoRows||this.updateOverlay(!1)},[n,r,i,s]=this.addManagedEventListeners({newColumnsLoaded:t,rowCountReady:()=>{this.disableInitialOverlay(),t(),r()},rowDataUpdated:t,modelUpdated:t});this.newColumnsLoadedCleanup=n,this.addManagedPropertyListeners(["loading","activeOverlay","activeOverlayParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams"],a=>{var o;return this.onPropChange(new Set((o=a.changeSet)==null?void 0:o.properties))})}destroy(){this.doHideOverlay(),super.destroy(),this.eWrapper=void 0}setWrapperComp(e,t){this.isAlive()&&(t?this.eWrapper===e&&(this.eWrapper=void 0):this.eWrapper=e,this.updateOverlay(!1))}isVisible(){return!!this.currentDef}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos;if(!this.eWrapper||e.get("activeOverlay")||this.isDisabled(K0))return;const t=e.get("loading");!t&&t!==void 0||this.doShowOverlay(K0)}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;!this.eWrapper||e.get("activeOverlay")||e.get("loading")||this.isDisabled(Fm)||(this.userForcedNoRows=!0,this.doShowOverlay(Fm))}async showExportOverlay(e){const{gos:t,beans:n}=this;if(!this.eWrapper||t.get("activeOverlay")||t.get("loading")||this.isDisabled(gE)||this.userForcedNoRows&&this.currentDef===Fm){e();return}const r=this.getDesiredDefWithOverride(gE);if(!r){e();return}this.exportsInProgress++,this.focusedCell=n.focusSvc.getFocusedCell(),await this.doShowOverlay(r),await new Promise(s=>setTimeout(()=>s()));const i=Date.now();try{e()}finally{const s=Date.now()-i,a=Math.max(0,300-s),o=()=>{this.exportsInProgress--,this.exportsInProgress===0&&(this.updateOverlay(!1),C6e(n,this.focusedCell),this.focusedCell=null)};a>0?setTimeout(()=>o(),a):o()}}hideOverlay(){const e=this.gos;this.showInitialOverlay=!1;const t=this.userForcedNoRows;if(this.userForcedNoRows=!1,e.get("loading")){gn(99);return}if(e.get("activeOverlay")){gn(296);return}if(this.currentDef===hP){gn(297);return}this.doHideOverlay(),t&&this.getOverlayDef()!==Fm&&this.updateOverlay(!1)}getOverlayWrapperSelector(){return XUe}getOverlayWrapperCompClass(){return rne}onPropChange(e){var i,s,a;const t=e.has("activeOverlay");if((t||e.has("loading"))&&this.updateOverlay(t))return;const n=this.currentDef,r=(i=this.eWrapper)==null?void 0:i.activeOverlay;if(r&&n){const o=e.has("activeOverlayParams");if(n===F2)o&&((s=r.refresh)==null||s.call(r,this.makeCompParams(!0)));else{const l=n.paramsKey;(e.has("overlayComponentParams")||l&&e.has(l))&&((a=r.refresh)==null||a.call(r,this.makeCompParams(!1,l,n.overlayType)))}}}updateOverlay(e){const t=this.eWrapper;if(!t)return this.currentDef=null,!1;const n=this.getDesiredDefWithOverride(),r=this.currentDef,i=n===F2&&e;return n!==r?n?(this.doShowOverlay(n),!0):(this.disableInitialOverlay(),this.doHideOverlay()):i&&n?(t.hideOverlay(),this.doShowOverlay(n),!0):(n||this.disableInitialOverlay(),!1)}getDesiredDefWithOverride(e){const{gos:t}=this;let n=ZUe(t.get("activeOverlay"));return n||(n=e??this.getOverlayDef(),n&&this.isDisabled(n)&&(n=null)),n}getOverlayDef(){const{gos:e,beans:t}=this,{colModel:n,rowModel:r}=t,i=e.get("loading");if(i!==void 0){if(this.disableInitialOverlay(),i)return K0}else if(this.showInitialOverlay){if(!this.isDisabled(K0)&&(!e.get("columnDefs")||!n.ready||!e.get("rowData")))return K0;this.disableInitialOverlay()}else this.disableInitialOverlay();const a=r.getOverlayType();return e7e(a)}disableInitialOverlay(){var e;this.showInitialOverlay=!1,(e=this.newColumnsLoadedCleanup)==null||e.call(this),this.newColumnsLoadedCleanup=null}doShowOverlay(e){var d;const{gos:t,beans:n}=this,{userCompFactory:r}=n;this.currentDef=e;const i=e!==F2,s=!!e.exclusive;this.exclusive=s;let a;(e.paramsKey&&t.get(e.paramsKey)||e.compKey&&t.get(e.compKey))&&(a=e.paramsKey);let o;i&&(t.get("overlayComponent")||t.get("overlayComponentSelector"))&&(o=r.getCompDetailsFromGridOptions({name:"overlayComponent",optionalMethods:["refresh"]},void 0,this.makeCompParams(!1,e.paramsKey,e.overlayType))),o??(o=r.getCompDetailsFromGridOptions(e.comp,i?e.id:void 0,this.makeCompParams(!i,a,e.overlayType),!1));const l=(o==null?void 0:o.newAgStackInstance())??null,c=this.eWrapper?this.eWrapper.showOverlay(l,e.wrapperCls,s):gi.resolve();return(d=this.eWrapper)==null||d.refreshWrapperPadding(),this.setExclusive(s),c}makeCompParams(e,t,n){const{gos:r}=this,i=e?r.get("activeOverlayParams"):{...r.get("overlayComponentParams"),...t&&r.get(t)||null,overlayType:n};return Fr(r,i??{})}doHideOverlay(){let e=!1;this.currentDef&&(this.currentDef=null,e=!0),this.exclusive=!1;const t=this.eWrapper;return t&&(t.hideOverlay(),t.refreshWrapperPadding(),this.setExclusive(!1)),e}setExclusive(e){this.oldExclusive!==e&&(this.oldExclusive=e,this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"}))}isDisabled(e){var n,r;const{gos:t}=this;return e.overlayType&&((n=t.get("suppressOverlays"))==null?void 0:n.includes(e.overlayType))||((r=e.isSuppressed)==null?void 0:r.call(e,t))===!0}},n7e={moduleName:"Overlay",version:Dn,userComponents:{agLoadingOverlay:M6e,agNoRowsOverlay:U6e,agNoMatchingRowsOverlay:G6e,agExportingOverlay:O6e},apiFunctions:{showLoadingOverlay:WUe,showNoRowsOverlay:KUe,hideOverlay:qUe},icons:{overlayLoading:"loading",overlayExporting:"loading"},beans:[t7e]},r7e=class extends Kt{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=$De(),Vp(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Vp(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},i7e=400,s7e=class extends Kt{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const s of this.getAllCellCtrls())s.onCellSelectionChanged()},t=()=>{for(const s of this.getAllCellCtrls())s.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},r=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{o0(this.gos)?n():r()}),o0(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:i})=>{(!i&&r||i&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.columns;r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=el(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new a7e(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var r;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((r=this.cachedRowCtrls)==null?void 0:r.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){var i;const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!((i=this.beans.spannedRowRenderer)==null?void 0:i.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if((e==null?void 0:e.rowIndex)!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const n=l=>{for(const c of this.getAllCellCtrls())c.column===t&&l(c)},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},a=()=>{n(l=>l.onLastLeftPinnedChanged())},o=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",a),t.__addEventListener("colDefChanged",o),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",a),t.__removeEventListener("colDefChanged",o)})}}onDomLayoutChanged(){const e=el(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){var n;const t=[];for(const r of this.getAllRowCtrls()){const i=(n=r.getCellCtrl(e,!0))==null?void 0:n.eGui;i&&t.push(i)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:s}=this,a=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));r==null||r.forEachPinnedRow(t,(l,c)=>{const d=e[c];d&&r.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in a&&n?(e[c]=a[l.id],delete a[l.id]):e[c]=new pE(l,i,!1,!1,s)});const o=(t==="top"?r==null?void 0:r.getPinnedTopRowCount():r==null?void 0:r.getPinnedBottomRowCount())??0;e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){var n,r;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=s=>{const a=s[e.rowIndex];a&&a.rowNode===e&&(a.destroyFirstPass(),a.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t!=null&&t.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(const r of e??[])this.redrawRow(r,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var o;this.getLockOnRefresh();const t=(o=this.beans.focusSvc)==null?void 0:o.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&Km(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:a}=this;if(s){s.checkStickyRows();const l=s.extraTopHeight+s.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(a.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var r;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(r=this.stickyRowFeature)==null||r.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(mh(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:fh(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Fr(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=hE(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(r);if(i!=null&&i.isAlive())return{...i.getRowPosition(),column:e.column};r=hE(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let a=0;a<s;a++)e.push(i[a])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=FB(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return kB(i,t)})}getCellCtrls(e,t){let n;_n(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);_n(s)&&(n[s.getId()]=!0)}));const r=[];for(const i of this.getRowCtrls(e))for(const s of i.getAllCellCtrls()){const a=s.column.getId();n&&!n[a]||r.push(s)}return r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const n of e){const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const s=this.stickyRowFeature;s&&(i=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const a=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const d=s.extraTopHeight+s.extraBottomHeight;d&&this.updateContainerHeights(d)}const c=this.firstRenderedRow!==a||this.lastRenderedRow!==o;if(!(r&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),i!=null)){const d=t==null?void 0:t.getFocusCellToUseAfterRefresh();i!=null&&d==null&&(n==null||n.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};for(const s of e)n[s]=!0;const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){var a,o;const t=[];for(let l=this.firstRenderedRow;l<=this.lastRenderedRow;l++)t.push(l);const n=this.beans.pagination,r=(o=(a=this.beans.focusSvc)==null?void 0:a.getFocusedCell())==null?void 0:o.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const i=l=>{const c=l.rowNode.rowIndex;c==null||c===r||(c<this.firstRenderedRow||c>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(l)&&t.push(c)};for(const l of Object.values(this.rowCtrlsByRowIndex))i(l);if(e)for(const l of Object.values(e))i(l);t.sort((l,c)=>l-c);const s=[];for(let l=0;l<t.length;l++){const c=t[l],d=this.rowModel.getRow(c);d&&!d.sticky&&s.push(c)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t);for(const i of r)this.createOrUpdateRowCtrl(i,e,t,n);if(e){const{animationFrameSvc:i}=this.beans;(i==null?void 0:i.active)&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=FB(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!kB(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),_n(i)&&_n(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),_n(i))s=this.createRowCon(i,n,r);else return;i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const r of n)r()},i7e))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=wp(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const d=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),p=this.gos.get("suppressRowVirtualisation");let m=!1,w,y;do{const P=t.getPixelOffset(),{pageFirstPixel:U,pageLastPixel:O}=t.getCurrentPagePixelRange(),L=e.divStretchOffset,K=f.getVScrollPosition(),j=K.top,te=K.bottom;p?(w=U+L,y=O+L):(w=Math.max(j+P-d,U)+L,y=Math.min(te+P+d,O)+L),this.firstVisibleVPixel=Math.max(j+P,U)+L,this.lastVisibleVPixel=Math.min(te+P,O)+L,m=this.ensureAllRowsInRangeHaveHeightsCalculated(w,y)}while(m);let C=n.getRowIndexAtPixel(w),T=n.getRowIndexAtPixel(y);const k=t.getFirstRow(),R=t.getLastRow();C<k&&(C=k),T>R&&(T=R),r=C,i=T}const s=el(this.gos,"normal"),a=this.gos.get("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);s&&!a&&i-r>o&&(i=r+o);const l=r!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Wf(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var o,l;const n=(o=this.pinnedRowModel)==null?void 0:o.ensureRowHeightsValid(),r=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,a=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(a||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||a||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){var c;const r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),s=(c=this.editSvc)==null?void 0:c.isEditing(e),a=r.detail;return i||s||a?!!this.isRowPresent(r):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,n){var a,o;const r=((a=this.cachedRowCtrls)==null?void 0:a.getRow(e))??null;if(r)return r;const i=n&&!this.printLayout&&!!((o=this.beans.animationFrameSvc)!=null&&o.active);return new pE(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},a7e=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if((e==null?void 0:e.id)==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Ch(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Ch(this.entriesList,e)}getEntries(){return this.entriesList}};function FB(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const n of e){const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}return t}function kB(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var o7e=class extends Kt{constructor(){super(...arguments),this.beanName="rowNodeSorter",this.accentedSort=!1,this.primaryColumnsSortGroups=!1,this.pivotActive=!1}postConstruct(){this.firstLeaf=sa(this.gos)?fE:l7e,this.addManagedPropertyListeners(["accentedSort","autoGroupColumnDef","treeData"],this.updateOptions.bind(this));const e=this.updatePivotModeState.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,columnPivotChanged:e}),this.updateOptions(),e()}updateOptions(){this.accentedSort=!!this.gos.get("accentedSort"),this.primaryColumnsSortGroups=cf(this.gos)}updatePivotModeState(){this.pivotActive=this.beans.colModel.isPivotActive()}doFullSortInPlace(e,t){return e.sort((n,r)=>this.compareRowNodes(t,n,r))}compareRowNodes(e,t,n){if(t===n)return 0;const r=this.accentedSort;for(let i=0,s=e.length;i<s;++i){const a=e[i],o=a.sort==="desc";let l=this.getValue(t,a.column),c=this.getValue(n,a.column),d;const f=this.getComparator(a,t);if(f?d=f(l,c,t,n,o):(a.type==="absolute"&&(l=nV(l),c=nV(c)),d=vRe(l,c,r)),d)return a.sort==="asc"?d:-d}return 0}getComparator(e,t){const n=e.column.getColDef(),r=this.getComparatorFromColDef(n,e);if(r)return r;if(!n.showRowGroup)return;const i=!t.group&&n.field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return this.getComparatorFromColDef(s.getColDef(),e)}getComparatorFromColDef(e,t){const n=e.comparator;if(n!=null)return typeof n=="object"?n[Rf(t.type)]:n}getValue(e,t){const n=this.beans;if(this.primaryColumnsSortGroups){if(e.rowGroupColumn===t)return this.getGroupDataValue(e,t);if(e.group&&t.getColDef().showRowGroup)return}const r=n.valueSvc.getValue(t,e,!1,"api");if(t.isAllowFormula()){const i=n.formula;if(i!=null&&i.isFormula(r))return i.resolveValue(t,e)}return r}getGroupDataValue(e,t){var r,i;if(bee(this.gos,this.pivotActive)){const s=this.firstLeaf(e);return s&&this.beans.valueSvc.getValue(t,s,!1,"api")}const n=(r=this.beans.showRowGroupCols)==null?void 0:r.getShowRowGroupCol(t.getId());return n?(i=e.groupData)==null?void 0:i[n.getId()]:void 0}},l7e=e=>{if(e.data)return e;let t=e.childrenAfterGroup;for(;t!=null&&t.length;){const n=t[0];if(n.data)return n;t=n.childrenAfterGroup}},nV=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.abs(t)};function c7e(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var L0=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),u7e={tag:"span",cls:"ag-sort-indicator-container",children:[L0("Order","order"),L0("Asc","ascending-icon"),L0("Desc","descending-icon"),L0("Mixed","mixed-icon"),L0("AbsoluteAsc","absolute-ascending-icon"),L0("AbsoluteDesc","absolute-descending-icon"),L0("None","none-icon")]},fP=class extends Ea{constructor(e){super(),this.eSortOrder=er,this.eSortAsc=er,this.eSortDesc=er,this.eSortMixed=er,this.eSortNone=er,this.eSortAbsoluteAsc=er,this.eSortAbsoluteDesc=er,e||this.setTemplate(u7e)}attachCustomElements(e,t,n,r,i,s,a){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i,this.eSortAbsoluteAsc=s,this.eSortAbsoluteDesc=a}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("sortAbsoluteAscending",this.eSortAbsoluteAsc,e),this.addInIcon("sortAbsoluteDescending",this.eSortAbsoluteDesc,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=Tc(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortAbsoluteAsc:n,eSortAbsoluteDesc:r,eSortNone:i,column:s,gos:a,beans:o}=this,l=o.sortSvc.getDisplaySortForColumn(s),c=Rf(l==null?void 0:l.type),d=eN(l==null?void 0:l.direction),f=s.getAvailableSortTypes(),p=f.has("default"),m=f.has("absolute"),w=c==="absolute",y=c==="default",C=d==="asc",T=d==="desc";if(e&&hs(e,C&&y&&p,{skipAriaHidden:!0}),t&&hs(t,T&&y&&p,{skipAriaHidden:!0}),i){const k=!s.getColDef().unSortIcon&&!a.get("unSortIcon");hs(i,!k&&!d,{skipAriaHidden:!0})}n&&hs(n,C&&w&&m,{skipAriaHidden:!0}),r&&hs(r,T&&w&&m,{skipAriaHidden:!0})}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;cf(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){var r;const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=((r=t.sortSvc.getDisplaySortForColumn(n))==null?void 0:r.direction)==="mixed";hs(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(o=>n.getDisplaySortIndexForColumn(o)??!1),a=i>=0&&s;hs(e,a,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():kc(e)}},d7e={selector:"AG-SORT-INDICATOR",component:fP},h7e=class extends Kt{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){var d;const{gos:i,showRowGroupCols:s}=this.beans,a=cf(i);let o=[e];if(a&&e.getColDef().showRowGroup){const f=(d=s==null?void 0:s.getSourceColumnsForGroupColumn)==null?void 0:d.call(s,e),p=f==null?void 0:f.filter(m=>m.isSortable());p&&(o=[e,...p])}for(const f of o)this.setColSort(f,t,r);const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),c=[];if(!l){const f=this.clearSortBarTheseColumns(o,r);c.push(...f)}this.updateSortIndex(e),c.push(...o),this.dispatchSortChangedEvents(r,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=cf(t),s=r==null?void 0:r.getShowRowGroupCol(e.getId()),a=i&&s||e,o=this.getColumnsWithSortingOrdered();n.forAllCols(d=>this.setColSortIndex(d,null));const l=o.filter(d=>i&&d.getColDef().showRowGroup?!1:d!==a);(a.getSortDef()?[...l,a]:l).forEach((d,f)=>this.setColSortIndex(d,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{if(t.getSortDef())return e=!0,!0}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSortDef()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getSortingOrder(),n=e.getSortDef();let i=t.findIndex(s=>v2(s,n))+1;return i>=t.length&&(i=0),fd(t[i])}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(c=>{c.getSortDef()&&i.push(c)}),t.isPivotMode()){const c=cf(e);i=i.filter(d=>{const f=!!d.getAggFunc(),p=!d.isPrimary(),m=c?n==null?void 0:n.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return f||p||m})}const s=(r==null?void 0:r.columns.filter(c=>!!c.getSortDef()))??[],a={};i.forEach((c,d)=>a[c.getId()]=d),i.sort((c,d)=>{const f=c.getSortIndex(),p=d.getSortIndex();if(f!=null&&p!=null)return f-p;if(f==null&&p==null){const m=a[c.getId()],w=a[d.getId()];return m>w?1:-1}else return p==null?-1:1});const o=cf(e)&&!!s.length;o&&(i=[...new Set(i.map(c=>(n==null?void 0:n.getShowRowGroupCol(c.getId()))??c))]);const l=new Map;if(i.forEach((c,d)=>l.set(c,d)),o)for(const c of s){const d=n.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}return l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}collectSortItems(e=!1){var r,i;const t=[],n=this.getColumnsWithSortingOrdered();for(const s of n){const a=(r=s.getSortDef())==null?void 0:r.direction;if(!a)continue;const o=Rf((i=s.getSortDef())==null?void 0:i.type),l={sort:a,type:o};e?l.colId=s.getId():l.column=s,t.push(l)}return t}getSortModel(){return this.collectSortItems(!0)}getSortOptions(){return this.collectSortItems()}canColumnDisplayMixedSort(e){const t=cf(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var a,o;const t=(a=this.beans.showRowGroupCols)==null?void 0:a.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSortDef();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSortDef();return r.every(l=>v2(l.getSortDef(),i))?i:{type:Rf((o=e.getSortDef())==null?void 0:o.type),direction:"mixed"}}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t){const n=()=>{var s;const{type:r,direction:i}=fd(t.getSortDef());if(e.toggleCss("ag-header-cell-sorted-asc",i==="asc"),e.toggleCss("ag-header-cell-sorted-desc",i==="desc"),e.toggleCss("ag-header-cell-sorted-abs-asc",r==="absolute"&&i==="asc"),e.toggleCss("ag-header-cell-sorted-abs-desc",r==="absolute"&&i==="desc"),e.toggleCss("ag-header-cell-sorted-none",!i),t.getColDef().showRowGroup){const a=(s=this.beans.showRowGroupCols)==null?void 0:s.getSourceColumnsForGroupColumn(t),l=!(a==null?void 0:a.every(c=>{var d;return i==((d=c.getSortDef())==null?void 0:d.direction)}));e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:n,columnRowGroupChanged:n})}initCol(e){const{sortIndex:t,initialSortIndex:n}=e.colDef,r=Fee(e.colDef);r&&e.setSortDef(r,!0),t!==void 0?t!==null&&(e.sortIndex=t):n!==null&&(e.sortIndex=n)}updateColSort(e,t,n){t!==void 0&&this.setColSort(e,fd(t),n)}setColSort(e,t,n){v2(e.getSortDef(),t)||(e.setSortDef(fd(t),t===void 0),e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new fP(e)}getSortIndicatorSelector(){return d7e}},ine={moduleName:"Sort",version:Dn,beans:[h7e,o7e],apiFunctions:{onSortChanged:c7e},userComponents:{agSortIndicator:fP},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",sortAbsoluteAscending:"aasc",sortAbsoluteDescending:"adesc"}},f7e=class extends Kt{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Vp(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Xm(e.source))}}};function A7e(e){var t;(t=e.valueCache)==null||t.expire()}function p7e(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Us(s))return null;const a=e.valueSvc.getValueForDisplay({column:s,node:r,includeValueFormatted:i});return i?a.valueFormatted??K1(a.value):a.value}var g7e="paste",m7e=class extends Kt{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;sa(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===g7e||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,a=s==null?void 0:s.rootNode;if(a&&!r.isRowPinned()){const o=t.get("aggregateOnlyChangedColumns"),l=new Rw(o,a);l.addParentNode(r.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{i.push(c),c.sibling&&i.push(c.sibling)})}n.refreshCells({rowNodes:i})}},x7e=class extends Kt{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);es(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return es(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},v7e=class extends Kt{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},w7e={moduleName:"ValueCache",version:Dn,beans:[v7e],apiFunctions:{expireValueCache:A7e}},b7e={moduleName:"Expression",version:Dn,beans:[x7e]},y7e={moduleName:"ChangeDetection",version:Dn,beans:[m7e]},C7e={moduleName:"CellApi",version:Dn,apiFunctions:{getCellValue:p7e}},S7e=class extends Kt{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc,this.formulaDataSvc=e.formulaDataSvc}postConstruct(){this.initialised||this.init()}init(){const{gos:e,valueCache:t}=this;this.executeValueGetter=t?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=q1(e),this.cellExpressions=e.get("enableCellExpressions"),this.isTreeData=e.get("treeData"),this.initialised=!0;const n=r=>this.callColumnCellValueChangedHandler(r);this.eventSvc.addListener("cellValueChanged",n,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",n,!0)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValueForDisplay(e){const{column:t,node:n,includeValueFormatted:r,useRawFormula:i,exporting:s,source:a="ui"}=e,{showRowGroupColValueSvc:o}=this.beans,l=!t&&n.group,c=t==null?void 0:t.colDef.showRowGroup,d=!this.isTreeData||n.footer;if(o&&d&&(l||c)){const R=o.getGroupValue(n,t);if(R==null)return{value:null,valueFormatted:null};if(!r)return{value:R.value,valueFormatted:null};const P=o.formatAndPrefixGroupColValue(R,t,s);return{value:R.value,valueFormatted:P}}if(!t)return{value:n.key,valueFormatted:null};const f=n.leafGroup&&this.colModel.isPivotMode(),p=n.group&&n.expanded&&!n.footer&&!f,m=this.gos.get("groupSuppressBlankHeader")||!n.sibling,w=p&&!m;let y=this.getValue(t,n,w,a),C=y;const{formula:T}=this.beans,k=r&&!(s&&t.colDef.useValueFormatterForExport===!1);return t.isAllowFormula()&&(T!=null&&T.isFormula(y))&&(i?(y=T.normaliseFormula(y,!0),C=T.resolveValue(t,n)):(y=T.resolveValue(t,n),C=y)),{value:y,valueFormatted:k?this.formatValue(t,n,C):null}}getValue(e,t,n=!1,r="ui"){var o;if(this.initialised||this.init(),!t)return;if(this.hasEditSvc&&r==="ui"){const l=this.editSvc;if(l.isEditing()){const c=l.getCellDataValue({rowNode:t,column:e},!0);if(c!==void 0)return c}}const s=e.getColDef().showRowGroup;if(typeof s=="string"&&(((o=this.beans.rowGroupColsSvc)==null?void 0:o.getColumnIndex(s))??-1)>t.level)return null;let a=this.resolveValue(e,t,n);if(this.cellExpressions&&YH(a)){const l=a.substring(1);a=this.executeValueGetter(l,t.data,e,t)}return a}getFormulaFromDataSource(e,t){const n=this.formulaDataSvc;if(!(n!=null&&n.hasDataSource())||!e.isAllowFormula())return;const r=n.getFormula({column:e,rowNode:t});return YH(r)?r:void 0}resolveValue(e,t,n){const r=e.getColDef(),i=e.getColId(),s=this.isTreeData,a=this.getFormulaFromDataSource(e,t);if(a!==void 0)return a;const o=!n&&t.aggData&&t.aggData[i]!==void 0;if(s&&o)return t.aggData[i];const l=t.data,c=r.field;if(s&&r.valueGetter)return this.executeValueGetter(r.valueGetter,l,e,t);if(s&&c&&l)return Uv(l,c,e.isFieldContainsDots());const d=t.groupData;if(d&&i in d)return t.groupData[i];if(o)return t.aggData[i];const p=r.showRowGroup,m=typeof p!="string"||!t.group,w=this.isSsrm&&n&&!!r.aggFunc,y=this.isSsrm&&t.footer&&t.field&&(p===!0||p===t.field);if(r.valueGetter&&!w)return m?this.executeValueGetter(r.valueGetter,l,e,t):void 0;if(y)return Uv(l,t.field,e.isFieldContainsDots());if(c&&l&&!w)return m?Uv(l,c,e.isFieldContainsDots()):void 0}parseValue(e,t,n,r){var a,o;const i=e.getColDef();if(i.allowFormula&&((a=this.beans.formula)!=null&&a.isFormula(n)))return n;const s=i.valueParser;if(_n(s)){const l=Fr(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(l):(o=this.expressionSvc)==null?void 0:o.evaluate(s,l)}return n}getDeleteValue(e,t){return _n(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay({column:e,node:t}).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:s}=this.beans;let a=null,o;const l=e.getColDef();if(r?o=r:i&&(o=l.valueFormatter),o){const c=t?t.data:null,d=Fr(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof o=="function"?a=o(d):a=s?s.evaluate(o,d):null}else if(l.refData)return l.refData[n]||"";return a==null&&Array.isArray(n)&&(a=n.join(", ")),a}setValue(e,t,n,r){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;this.ensureRowData(e);const s=i.getColDef();if(!this.isSetValueSupported({column:i,newValue:n,colDef:s}))return!1;const a=Fr(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:s,column:i});a.newValue=n;const o=this.handleExternalFormulaChange({column:i,eventSource:r,newValue:n,setterParams:a,rowNode:e});if(o!==null)return o;let l=this.computeValueChange({column:i,newValue:n,params:a,rowData:e.data,valueSetter:s.valueSetter,field:s.field});return l===void 0&&(l=!0),l?this.finishValueChange(e,i,a,r):!1}finishValueChange(e,t,n,r){var s;e.resetQuickFilterAggregateText(),(s=this.valueCache)==null||s.onDataChanged();const i=this.getValue(t,e);return this.dispatchCellValueChangedEvent(e,n,i,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,n,i,r),!0}ensureRowData(e){Us(e.data)&&(e.data={})}isSetValueSupported(e){var c;const{column:t,newValue:n,colDef:r}=e,{field:i,valueSetter:s}=r,a=this.beans.formula,o=t.isAllowFormula()&&(a==null?void 0:a.isFormula(n)),l=!!((c=this.formulaDataSvc)!=null&&c.hasDataSource());return Us(i)&&Us(s)&&!(l&&o)?(gn(17),!1):this.dataTypeSvc&&!this.dataTypeSvc.checkType(t,n)?(gn(135),!1):!0}handleExternalFormulaChange(e){const{column:t,rowNode:n,newValue:r,eventSource:i,setterParams:s}=e,a=this.beans.formula,o=this.formulaDataSvc;if(!(o!=null&&o.hasDataSource())||!t.isAllowFormula())return null;const l=a==null?void 0:a.isFormula(r),c=o.getFormula({column:t,rowNode:n});if(l){if(!(c!==r))return!1;o.setFormula({column:t,rowNode:n,formula:r});const f=a==null?void 0:a.resolveValue(t,n),p=t.getColDef();if(_n(p.valueSetter)||!Us(p.field)){const m={...s,newValue:f};this.computeValueChange({column:t,newValue:f,params:m,rowData:n.data,valueSetter:p.valueSetter,field:p.field})}return this.finishValueChange(n,t,s,i)}return c!==void 0&&o.setFormula({column:t,rowNode:n,formula:void 0}),null}computeValueChange(e){var o;const{valueSetter:t,params:n,rowData:r,field:i,column:s,newValue:a}=e;return _n(t)?typeof t=="function"?t(n):(o=this.expressionSvc)==null?void 0:o.evaluate(t,n):this.setValueUsingField(r,i,a,s.isFieldContainsDots())}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let a=e;for(;s.length>0&&a;){const o=s.shift();s.length===0?(i=a[o]===n,i||(a[o]=n)):a=a[o]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const a=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,a),a}executeValueGetterWithoutValueCache(e,t,n,r){var a;const i=Fr(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=(a=this.expressionSvc)==null?void 0:a.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=Fr(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&gn(121)),i}},E7e={moduleName:"CommunityCore",version:Dn,beans:[wje,wLe,E8e,fDe,r7e,LOe,Aje,Hje,cDe,PUe,DUe,s7e,S7e,xje,fje,vje,T8e,f7e,w8e,b8e,Jje],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:bLe,destroy:yLe,isDestroyed:CLe,getGridOption:SLe,setGridOption:ELe,updateGridOptions:Mte,isModuleRegistered:NLe},dependsOn:[m8e,pOe,yOe,ine,qje,jOe,$je,n7e,y7e,Xje,_Ue,jUe,GUe,eUe,S8e,x8e,b7e,VOe,zUe]},sne={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1,Formula:1},GF=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],N7e={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:GF,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...GF,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...GF,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},T7e={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function I7e(e,t){const n=[];for(const r of Array.isArray(e)?e:[e]){const i=N7e[r];if(i)for(const s of i){const a=T7e[s];(!a||a===t)&&n.push(s)}else n.push(r)}return n}var ane=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,F7e=e=>{const t=e.map(r=>`import { ${Hv(r)} } from '${sne[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>Hv(r,!0)).join(", ")} ]); 

For more info see: ${Wm}/modules/`};function Hv(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function k7e(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!(globalThis==null?void 0:globalThis.agCharts)&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>sne[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function one({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var rV=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:a})=>{const o=I7e(t,i),l=typeof e=="string"?e:D7e[e];if(a)return k7e(l,o);const c=o.filter(p=>p==="IntegratedCharts"||p==="Sparklines"),d=c.length>0?`${c.map(p=>Hv(p)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${o.length>1?"one of "+o.map(p=>Hv(p)).join(", "):Hv(o[0])} is not registered${n?" for gridId: "+r:""}. ${d} Check if you have registered the module:
`}
${F7e(o)}`+(s?` 

${s}`:"")},iV=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,B7e=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,R7e={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${B7e(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r==null?void 0:r.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(o=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(o)),...Object.keys(r??[]).filter(o=>!!r[o])],a=mB({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),a.length>0&&i.push(`         Did you mean: [${a.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Wm}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=mB({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:e=>`getRowId callback must be provided for Server Side Row Model ${(e==null?void 0:e.feature)||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:rV,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Wm}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>iV("IntegratedChartsModule"),258:()=>iV("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>rV({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:t1[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Wm}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>ane(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:one,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`,293:()=>"The grid was initialised detached from the DOM and was then inserted into a Shadow Root. Theme styles are probably broken. Pass the themeStyleContainer grid option to let the grid know where in the document to insert theme CSS.",294:()=>"When using the `agRichSelectCellEditor` setting `filterListAsync = true` requires `allowTyping = true` and the `values()` callback must return a Promise of filtered values.",295:({blockedService:e})=>`colDef.allowFormula is not supported with ${e}. Formulas has been turned off.`,296:()=>"Since v35, `api.hideOverlay()` does not hide the overlay when `activeOverlay` is set. Set `activeOverlay=null` instead.",297:()=>'`api.hideOverlay()` does not hide the no matching rows overlay as it is only controlled by grid state. Set `suppressOverlays=["noMatchingRows"] to not show it.'};function _7e(e,t){const n=R7e[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${pee(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var D7e={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},sV=new WeakMap,aV=new WeakMap,P7e=1,M7e=class{create(e,t,n,r,i,s){const a=LD.applyGlobalGridOptions(t),o=a.gridId??String(P7e++),l=this.getRegisteredModules(i,o,a.rowModelType),c=this.createBeansList(a.rowModelType,l,o),d=this.createProvidedBeans(e,a,i);if(!c)return;const p={providedBeanInstances:d,beanClasses:c,id:o,beanInitComparator:gLe,beanDestroyComparator:mLe,derivedBeans:[ALe],destroyCallback:()=>{aV.delete(w),sV.delete(e),l_e(o),s==null||s()}},m=new YPe(p);this.registerModuleFeatures(m,l),n(m),m.getBean("syncSvc").start(),r==null||r(m);const w=m.getBean("gridApi");return sV.set(e,w),aV.set(w,e),w}getRegisteredModules(e,t,n){var r;return Tw(E7e,void 0,!0),(r=e==null?void 0:e.modules)==null||r.forEach(i=>Tw(i,t)),c_e(t,oV(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");for(const i of t){n.registerModule(i);const s=i.apiFunctions;if(s){const a=Object.keys(s);for(const o of a)r==null||r.addFunction(o,s[o])}}}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;Us(r)&&(r=new Dte);const i={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n!=null&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=oV(e),s=r[i];if(!s){gv(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!h_e()){gv(272,void 0,ane());return}if(!e){const o=Object.entries(r).filter(([l,c])=>aB(c,n,l));if(o.length==1){const[l,c]=o[0];if(l!==i){const d={moduleName:c,rowModelType:l};gv(275,d,one(d));return}}}if(!aB(s,n,i)){const o=hee(),l=`rowModelType = '${i}'`,c=`Missing module ${s}Module for rowModelType ${i}.`;gv(200,{reasonOrId:l,moduleName:s,gridScoped:OD(),gridId:n,rowModelType:i,isUmd:o},c);return}const a=new Set;for(const o of t)for(const l of o.beans??[])a.add(l);return Array.from(a)}};function oV(e){return e??"clientSide"}function m0(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function lN(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function L7e(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var O7e=class extends Kt{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?XRe(t):JRe(e.get("localeText"))}};function j7e(e,t=!1){const n=[],r=[],i=[],s=[],a=[],o=[],l=[],c=[],d=[];let f=0;for(let p=0;p<e.length;p++){const{colId:m,sort:w,sortType:y,sortIndex:C,rowGroup:T,rowGroupIndex:k,aggFunc:R,pivot:P,pivotIndex:U,pinned:O,hide:L,width:K,flex:j}=e[p];d.push(m),w&&(n[C??f++]={colId:m,sort:w,type:y}),T&&(r[k??0]=m),typeof R=="string"&&i.push({colId:m,aggFunc:R}),P&&(s[U??0]=m),O&&(O==="right"?o:a).push(m),L&&l.push(m),(j!=null||K)&&c.push({colId:m,flex:j??void 0,width:K===null?void 0:K})}return{sort:n.length?{sortModel:VF(n)}:void 0,rowGroup:r.length?{groupColIds:VF(r)}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:VF(s)}:void 0,columnPinning:a.length||o.length?{leftColIds:a,rightColIds:o}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function VF(e){return e.filter(t=>t!=null)}function U7e(e){const t=[];for(const{groupId:n,open:r}of e)r&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var H7e=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);for(const s of t??[])this.createMethod(i,s,!0);for(const s of n??[])this.createMethod(i,s,!1);return i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&gn(49,{methodName:t}),null)}}};function QF(e){return e.get("tooltipShowMode")==="whenTruncated"}function G7e(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var V7e=class extends Kt{getFileName(e){const t=this.getDefaultFileExtension();return e!=null&&e.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){return this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Q7e=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:a,processHeaderCallback:o,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=a,this.processHeaderCallback=o,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e){var w;const{column:t,node:n,currentColumnIndex:r,accumulatedRowIndex:i,type:s,useRawFormula:a}=e,o=r===0&&yee(this.gos,n,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||n.group)&&(t.isRowGroupDisplayed(((w=n.rowGroupColumn)==null?void 0:w.getColId())??"")||o))return{value:this.processRowGroupCallback(Fr(this.gos,{column:t,node:n}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Fr(this.gos,{accumulatedRowIndex:i,column:t,node:n,value:this.valueSvc.getValueForDisplay({column:t,node:n}).value,type:s,parseValue:y=>this.valueSvc.parseValue(t,n,y,this.valueSvc.getValue(t,n,void 0)),formatValue:y=>this.valueSvc.formatValue(t,n,y)??y}))??""};const l=this.gos.get("treeData"),c=this.valueSvc,d=n.level===-1&&n.footer,f=t.colDef.showRowGroup===!0&&(n.group||l);if(!d&&(o||f)){let y="",C=n;for(;C&&C.level!==-1;){const{value:T,valueFormatted:k}=c.getValueForDisplay({column:o?void 0:t,node:C,includeValueFormatted:!0,exporting:!0});y=` -> ${k??T??""}${y}`,C=C.parent}return{value:y,valueFormatted:y}}const{value:p,valueFormatted:m}=c.getValueForDisplay({column:t,node:n,includeValueFormatted:!0,exporting:!0,useRawFormula:a});return{value:p??"",valueFormatted:m}}getHeaderName(e,t){return e?e(Fr(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function z7e(e,t){const n=document.defaultView||window;if(!n){gn(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),r.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var W7e={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,overlayComponent:!0,suppressOverlays:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},wc="clientSide",ml="serverSide",am="infinite",K7e={onGroupExpandedOrCollapsed:[wc],refreshClientSideRowModel:[wc],isRowDataEmpty:[wc],forEachLeafNode:[wc],forEachNodeAfterFilter:[wc],forEachNodeAfterFilterAndSort:[wc],resetRowHeights:[wc,ml],applyTransaction:[wc],applyTransactionAsync:[wc],flushAsyncTransactions:[wc],getBestCostNodeSelection:[wc],getServerSideSelectionState:[ml],setServerSideSelectionState:[ml],applyServerSideTransaction:[ml],applyServerSideTransactionAsync:[ml],applyServerSideRowData:[ml],retryServerSideLoads:[ml],flushServerSideAsyncTransactions:[ml],refreshServerSide:[ml],getServerSideGroupLevelState:[ml],refreshInfiniteCache:[am],purgeInfiniteCache:[am],getInfiniteRowCount:[am],isLastRowIndexKnown:[am,ml],expandAll:[wc,ml],collapseAll:[wc,ml],onRowHeightChanged:[wc,ml],setRowCount:[am,ml],getCacheBlockState:[am,ml]},q7e={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function $7e(e,t,n){const r=q7e[e];if(r){const{version:s,new:a,old:o,message:l}=r,c=o??e;return(...d)=>{const f=a?`Please use ${a} instead. `:"";return Lv(`Since ${s} api.${c} is deprecated. ${f}${l??""}`),t.apply(t,d)}}const i=K7e[e];return i?(...s)=>{const a=n.rowModel.getType();if(!i.includes(a)){zm(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var Y7e={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},X7e={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,aasc:1,adesc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},J7e={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",overlayLoading:"Overlay",overlayExporting:"Overlay",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",richSelectLoading:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortAbsoluteAscending:["MenuCore","Sort"],sortAbsoluteDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},Z7e=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),e9e=class extends Kt{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,A_e(_7e)}warnOnInitialPropertyUpdate(e,t){e==="api"&&W7e[t]&&gn(22,{key:t})}processGridOptions(e){this.processOptions(e,Oje())}validateApiFunction(e,t){return $7e(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=t1[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):gn(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=Y7e[e];return t?mh(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){n9e.has(e)&&gn(10,{eventType:e})}validateIcon(e){if(Z7e.has(e)&&gn(43,{iconName:e}),X7e[e])return;const t=J7e[e];if(t){es(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:OD(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}gn(134,{iconName:e})}isProvidedUserComp(e){return!!t1[e]}validateColDef(e){this.processOptions(e,Tje())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:a,docsUrl:o}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,a,o);const l=new Set;if(Object.keys(e).forEach(d=>{const f=r[d];if(f){const{message:k,version:R}=f;l.add(`As of v${R}, ${String(d)} is deprecated. ${k??""}`)}const p=e[d];if(p==null||p===!1)return;const m=n[d];if(!m)return;const{dependencies:w,validate:y,supportedRowModels:C,expectedType:T}=m;if(T){const k=typeof p;if(k!==T){l.add(`${String(d)} should be of type '${T}' but received '${k}' (${p}).`);return}}if(C){const k=this.gridOptions.rowModelType??"clientSide";if(!C.includes(k)){l.add(`${String(d)} is not supported with the '${k}' row model. It is only valid with: ${C.join(", ")}.`);return}}if(w){const k=this.checkForRequiredDependencies(d,w,e);if(k){l.add(k);return}}if(y){const k=y(e,this.gridOptions,this.beans);if(k){l.add(k);return}}}),l.size>0)for(const d of l)Lv(d)}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,a])=>{const o=n[s];return!a.required.includes(o)});return i.length===0?null:i.map(([s,a])=>`'${String(e)}' requires '${s}' to be one of [${a.required.map(o=>o===null?"null":o===void 0?"undefined":o).join(", ")}]. ${a.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],a=t9e(Object.getOwnPropertyNames(e),[...s,...t,...n],n),o=Object.keys(a);for(const l of o){const c=a[l];let d=`invalid ${r} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),Lv(d)}if(o.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);Lv(`to see all the valid ${r} properties please check: ${l}`)}}};function t9e(e,t,n){const r={},i=e.filter(s=>!t.some(a=>a===s));if(i.length>0)for(const s of i)r[s]=mB({inputValue:s,allSuggestions:n}).values;return r}var n9e=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),r9e={moduleName:"Validation",version:Dn,beans:[e9e]};function BB(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var i9e=class extends Kt{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){var n,r;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());(r=this.beans.formula)!=null&&r.active?this.softFilter(t,e):this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const a=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,o=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return a||o}):r.childrenAfterFilter=r.childrenAfterGroup,BB(r)};if(this.doingTreeDataFiltering()){const r=(s,a)=>{if(s.childrenAfterGroup)for(let o=0;o<s.childrenAfterGroup.length;o++){const l=s.childrenAfterGroup[o],c=a||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[o],c):n(l,c)}n(s,a)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}softFilter(e,t){const n=r=>{if(r.childrenAfterFilter=r.childrenAfterGroup,r.hasChildren())for(const i of r.childrenAfterGroup)i.softFiltered=e&&!(i.data&&this.filterManager.doesRowPassFilter({rowNode:i}));BB(r)};t.forEachChangedNodeDepthFirst(n,!0)}doingTreeDataFiltering(){const{gos:e}=this;return e.get("treeData")&&!e.get("excludeChildrenWhenTreeDataFiltering")}},s9e=class extends lP{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,r,i){this.comp=e;const s=wb(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const a=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:a}),s.addManagedEventListeners({filterSwitched:({column:o})=>{o===this.column&&a()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Fr(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Tc("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new yb(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();S1(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var a;const{beans:t}=this;if(Js(t)===this.eGui)return;const i=ag(t,this.eGui,null,e.shiftKey);if(i){(a=t.headerNavigation)==null||a.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Rt.UP:case Rt.DOWN:case Rt.LEFT:case Rt.RIGHT:if(t)return;Wp(e);case Rt.ENTER:t&&zp(this.eGui)&&e.preventDefault();break;case Rt.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&mp(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===Rt.TAB);if(i&&s){const a=i.shiftKey;zp(this.eGui,a)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new oP(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!Jc(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.colFilter)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,i=s=>{if((s==null?void 0:s.source)==="filterDestroyed"&&(!this.isAlive()||!(t!=null&&t.isAlive())))return;const a=this.comp.getFloatingFilterComp();a&&a.then(o=>{if(o){if(r.get("enableFilterHandlers")){const d=s;let f="filter";d!=null&&d.afterFloatingFilter?f="ui":d!=null&&d.afterDataChange?f="dataChanged":(s==null?void 0:s.source)==="api"&&(f="api"),this.updateFloatingFilterParams(this.userCompDetails,f);return}const l=t==null?void 0:t.getCurrentFloatingFilterParentModel(n),c=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;o.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t!=null&&t.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,i=this.active?r==null?void 0:r.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(a=>{!a||r!=null&&r.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){var r;if(!e)return;let n=e.params;(r=this.comp.getFloatingFilterComp())==null||r.then(i=>{var s;typeof(i==null?void 0:i.refresh)=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:ko(((s=this.beans.colFilter)==null?void 0:s.model)??{},this.column.getColId()),source:t}),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function a9e(e,t){var r;const n=e.colModel.getCol(t);if(!n){es(12,{colKey:t});return}(r=e.menuSvc)==null||r.showColumnMenu({column:n,positionBy:"auto"})}function o9e(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var l9e={moduleName:"SharedMenu",version:Dn,beans:[_6e],apiFunctions:{showColumnMenu:a9e,hidePopupMenu:o9e}},c9e=class extends oMe{getDefaultPopupParent(){return this.beans.ctrlsSvc.get("gridCtrl").getGui()}callPostProcessPopup(e,t,n,r,i){const s=this.gos.getCallback("postProcessPopup");if(s){const{column:a,rowNode:o}=e??{};s({column:a,rowNode:o,ePopup:n,type:t,eventSource:r,mouseEvent:i})}}getActivePopups(){return this.popupList.map(e=>e.element)}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return wf(e)}},cN={moduleName:"Popup",version:Dn,beans:[c9e]},u9e=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function d9e(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function h9e(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function f9e(e,t){var r;const n=e.colModel.getColDefCol(t);if(n)return(r=e.colFilter)==null?void 0:r.destroyFilter(n,"api")}function A9e(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function p9e(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function g9e(e,t,n){const{gos:r,colModel:i,colFilter:s}=e;n&&!r.get("enableFilterHandlers")&&(gn(288),n=!1);const a=i.getColDefCol(t);return a?(s==null?void 0:s.getModelForColumn(a,n))??null:null}function m9e(e,t,n){var r;return((r=e.filterManager)==null?void 0:r.setColumnFilterModel(t,n))??Promise.resolve()}function x9e(e,t){var r;const n=e.colModel.getCol(t);if(!n){es(12,{colKey:t});return}(r=e.menuSvc)==null||r.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function v9e(e){var t;(t=e.menuSvc)==null||t.hideFilterMenu()}function w9e(e,t){var r;const n=e.colModel.getCol(t);if(!n){es(12,{colKey:t});return}return(r=e.colFilter)==null?void 0:r.getHandler(n,!0)}function b9e(e,t){const{colModel:n,colFilter:r,gos:i}=e;if(!i.get("enableFilterHandlers")){gn(287);return}const{colId:s,action:a}=t;if(s){const o=n.getColById(s);o&&(r==null||r.updateModel(o,a))}else r==null||r.updateAllModels(a)}var y9e={filterHandler:()=>({doesFilterPass:()=>!0})},C9e=class extends Kt{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...fte},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){var n,r;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...((r=(n=e.get("initialState"))==null?void 0:n.filter)==null?void 0:r.filterModel)??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",n){const{colModel:r,dataTypeSvc:i,filterManager:s}=this.beans;if(i!=null&&i.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const a=[],o=this.getModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((c,d)=>{const f=e[d];a.push(this.setModelOnFilterWrapper(c,f)),l.delete(d)}),l.forEach(c=>{const d=r.getColDefCol(c)||r.getCol(c);if(!d){gn(62,{colId:c});return}if(!d.isFilterAllowed()){gn(63,{colId:c});return}const f=this.getOrCreateFilterWrapper(d,!0);if(!f){gn(64,{colId:c});return}a.push(this.setModelOnFilterWrapper(f,e[c],!0))})}else this.model={},this.allColumnFilters.forEach(l=>{a.push(this.setModelOnFilterWrapper(l,null))});gi.all(a).then(()=>{const l=this.getModel(!0),c=[];this.allColumnFilters.forEach((d,f)=>{const p=o?o[f]:null,m=l?l[f]:null;yw(p,m)||c.push(d.column)}),c.length>0?s==null||s.onFilterChanged({columns:c,source:t}):n&&this.updateActive("filterChanged")})}getModel(e){var s;const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((a,o)=>{const l=this.getModelFromFilterWrapper(a);_n(l)&&(t[o]=l)}),!e)for(const a of Object.keys(r)){const o=r[a];_n(o)&&!n.has(a)&&((s=i.getCol(a))!=null&&s.isFilterAllowed())&&(t[a]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const i=t[r];this.state.set(r,{model:ko(this.model,r),state:i})}this.setModel(e,n,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,i)=>{const s=r.state;s!=null&&(n=!0,t[i]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return ko(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(gn(66),null):r.getModel():ko(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(gn(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!cB(n),i=c=>{if(!c.isPrimary())return!0;const f=!t.isPivotActive();return!c.isValueActive()||!f?!1:t.isPivotMode()?!0:r},s=[],a=[],o=(c,d,f)=>{d&&(i(c)?s.push(f):a.push(f))},l=[];return this.allColumnFilters.forEach(c=>{const d=c.column,f=d.getColId();if(c.isHandler)l.push(gi.resolve().then(()=>{o(d,this.isHandlerActive(d),{colId:f,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const p=CA(c);p&&l.push(p.then(m=>{o(d,e(m),{colId:f,isHandler:!1,comp:m})}))}}),gi.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=a})}updateFilterFlagInColumns(e,t){var r;const n=[];return this.allColumnFilters.forEach(i=>{const s=i.column;if(i.isHandler)n.push(gi.resolve().then(()=>{this.setColFilterActive(s,this.isHandlerActive(s),e,t)}));else{const a=CA(i);a&&n.push(a.then(o=>{this.setColFilterActive(s,o.isFilterActive(),e,t)}))}}),(r=this.beans.groupFilter)==null||r.updateFilterFlags(e,t),gi.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,a=n?i:r,o=this.model;for(let l=0;l<s.length;l++){const c=s[l],{colId:d,isHandler:f}=c;if(d!==t)if(f){const{handler:p,handlerParams:m}=c;if(!p.doesFilterPass({node:e,data:a,model:ko(o,d),handlerParams:m}))return!1}else{const p=c.comp;if(typeof p.doesFilterPass!="function"){es(91);continue}if(!p.doesFilterPass({node:e,data:a}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t!=null&&t.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t==null?void 0:t.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{var o,l,c;const{column:s,isHandler:a}=i;r!==s.getColId()&&(a&&((l=(o=i.handler).onAnyFilterChanged)==null||l.call(o)),(c=CA(i,a))==null||c.then(d=>{typeof(d==null?void 0:d.onAnyFilterChanged)=="function"&&d.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{var s,a;const r=n.isHandler;r&&((a=(s=n.handler).onNewRowsLoaded)==null||a.call(s));const i=CA(n,r);i&&t.push(i.then(o=>{var l;(l=o.onNewRowsLoaded)==null||l.call(o)}))}),gi.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(i,s)=>{const a=s?r.getCol(s):e;return a?n.getValue(a,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t!=null&&t.isHandler)return this.isHandlerActive(e);const n=t==null?void 0:t.filter;return n?n.isFilterActive():ko(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=_n(ko(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n!=null&&n.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?CA(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=CA(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n!=null&&n.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>{var n;return(n=this.beans.dataTypeSvc)==null?void 0:n.getBaseDataType(e)},t)}getDefaultFilterFromDataType(e,t=!1){return B_e(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":_Me(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,s){const a=()=>{const c=this.createFilterCompParams(e,i,s),d=r(c,i);return ODe(this.beans.userCompFactory,t,d,n)},o=a();return o?{compDetails:o,createFilterUi:c=>(c?a():o).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){var f,p;const i=this.beans.selectableFilter;i!=null&&i.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:a,handlerGenerator:o}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,r,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:o,handlerParams:a};const{compDetails:c,createFilterUi:d}=l;return this.isGlobalButtons&&((p=(f=c.params)==null?void 0:f.buttons)!=null&&p.length||gn(281,{colId:e.getColId()})),{compDetails:c,handler:s,handlerGenerator:o,handlerParams:a,createFilterUi:d}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return Fr(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>(n==null?void 0:n.doesRowPassOtherFilters(e.getColId(),i))??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,r);if(s.filterChangedCallback=i,s.filterModifiedCallback=r?()=>{}:a=>this.filterModified(e,a),t){const a=s,o=e.getColId(),l=ko(this.model,o);a.model=l,a.state=this.state.get(o)??{model:l},a.onModelChange=(c,d)=>{this.updateStoredModel(o,c),this.refreshHandlerAndUi(e,c,"ui",!1,d).then(()=>{i({...d,source:"columnFilter"})})},a.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},a.onAction=(c,d,f)=>{this.updateModel(e,c,d),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:f})},a.getHandler=()=>this.getHandler(e,!0),a.onUiChange=c=>this.filterUiChanged(e,c),a.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){var o;const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),l=>l),a=e.getColId();if(n)return delete this.initialModel[a],(o=n.init)==null||o.call(n,{...i,source:"init",model:ko(this.model,a)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const l={column:e,filterUi:null,isHandler:!1};return l.filterUi=this.createFilterUiLegacy(t,s,c=>{l.filter=c??void 0}),l}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){var m;const{gos:r,frameworkOverrides:i,registry:s}=this.beans;let a;const o=w=>{const y=w.filter;if(jee(y)){const C=y.handler;return C||(a=y.doesFilterPass,a?()=>({doesFilterPass:a}):void 0)}return typeof y=="string"?y:void 0},l=r.get("enableFilterHandlers"),c=l?o(t):void 0,d=w=>()=>this.createBean(s.createDynamicBean(w,!0));let f,p;if(typeof c=="string"){const w=(m=r.get("filterHandlers"))==null?void 0:m[c];w!=null?f=w:bMe.has(c)&&(f=d(c),p=c)}else f=c;if(!f){let w;const{compName:y,jsComp:C,fwComp:T}=Gee(i,t);y?w=y:C==null&&T==null&&t.filter===!0&&(w=n),p=this.handlerMap[w],p&&(f=d(p))}return f?{filterHandler:f,handlerNameOrCallback:a??p}:l?(sa(r)&&gn(277,{colId:e.getColId()}),y9e):void 0}createHandler(e,t,n){const r=this.createHandlerFunc(e,t,n);if(!r)return;const i=gF(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:a}=r,{handler:o,handlerParams:l}=this.createHandlerFromFunc(e,a,i);return{handler:o,handlerParams:l,handlerGenerator:s??a}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),i=t(Fr(this.gos,{column:e,colDef:r})),s=this.createHandlerParams(e,n);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return Fr(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>{var a;return((a=this.beans.filterManager)==null?void 0:a.doesRowPassOtherFilters(r,s))??!0},onModelChange:(s,a)=>{this.updateStoredModel(r,s),this.refreshHandlerAndUi(e,s,"handler",!1,a).then(()=>{i({...a,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((s,a)=>{let o;s.column.isPrimary()?o=t.getColDefCol(a):o=t.getCol(a),!(o&&o===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(a))});const i=r&&e.every(s=>r.isGroupFilter(s));e.length>0&&!i&&(n==null||n.onFilterChanged({columns:e,source:"api"}))}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n!=null&&n.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:i,gos:s}=this.beans,a=m=>{const w=this.getOrCreateFilterUi(e);w==null||w.then(y=>{m(Fw(y))})},o=e.getColDef(),l=i!=null&&i.isSelectable(o)?i.getFilterDef(e,o):o,c=MMe(r,l,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",d=s.get("enableFilterHandlers"),f=gF(n,l,this.createFilterCompParams(e,d,"init",!0)),p=Fr(s,{column:e,filterParams:f,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:a,showParentFilter:t});if(d){const m=p,w=e.getColId(),y=this.filterChangedCallbackFactory(e);m.onUiChange=C=>this.floatingFilterUiChanged(e,C),m.model=ko(this.model,w),m.onModelChange=(C,T)=>{this.updateStoredModel(w,C),this.refreshHandlerAndUi(e,C,"floating",!0,T).then(()=>{y({...T,source:"columnFilter"})})},m.getHandler=()=>this.getHandler(e,!0),m.source="init"}return HDe(n,o,p,c)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){const i="paramsUpdated";if(e.isHandler){const s=t.getColId();delete this.initialModel[s],this.state.delete(s);const a=e.filterUi,o=this.createFilterUiForHandler(n,r);e.filterUi=o;const l=this.eventSvc;a!=null&&a.created?a.promise.then(c=>{this.destroyBean(c),l.dispatchEvent({type:"filterDestroyed",source:i,column:t})}):l.dispatchEvent({type:"filterHandlerDestroyed",source:i,column:t})}else this.destroyFilter(t,i)}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{var s;i&&this.isAlive()&&((s=this.beans.filterManager)==null||s.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:i,filterUi:s}=e,a=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[a],this.state.delete(a));const o=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(s){if(s.created)return s.promise.then(l=>(n=i?n:!!(l!=null&&l.isFilterActive()),this.destroyBean(l),o(),n));o()}return gi.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:(t==null?void 0:t.source)??"columnFilter"})}}filterParamsChanged(e,t="api"){var C,T,k,R,P,U;const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,i=n.column,s=i.getColDef(),a=i.isFilterAllowed(),o=this.getDefaultFilter(i),l=r.selectableFilter,c=l!=null&&l.isSelectable(s)?l.getFilterDef(i,s):s,d=a?this.createHandlerFunc(i,c,this.getDefaultFilter(i)):void 0,f=!!d,p=n.isHandler;if(p!=f){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:m,createFilterUi:w}=(a?this.createFilterComp(i,c,o,O=>O,f,"colDef"):null)??{compDetails:null,createFilterUi:null},y=(m==null?void 0:m.params)??gF(r.userCompFactory,c,this.createFilterCompParams(i,f,"colDef"));if(p){const O=(d==null?void 0:d.handlerNameOrCallback)??(d==null?void 0:d.filterHandler),L=ko(this.model,e);if(n.handlerGenerator!=O){const K=n.handler,{handler:j,handlerParams:te}=this.createHandlerFromFunc(i,d.filterHandler,y);n.handler=j,n.handlerParams=te,n.handlerGenerator=O,delete this.model[e],(C=j.init)==null||C.call(j,{...te,source:"init",model:null}),this.destroyBean(K),L!=null&&((T=this.beans.filterManager)==null||T.onFilterChanged({columns:[i],source:t}))}else{const K=this.createHandlerParams(i,m==null?void 0:m.params);n.handlerParams=K,(R=(k=n.handler).refresh)==null||R.call(k,{...K,source:"colDef",model:L})}}if(this.areFilterCompsDifferent(((P=n.filterUi)==null?void 0:P.compDetails)??null,m)||!n.filterUi||!m){this.destroyFilterUi(n,i,m,w);return}n.filterUi.filterParams=y,(U=CA(n,p))==null||U.then(O=>{(O!=null&&O.refresh?O.refresh(y):!0)===!1?this.destroyFilterUi(n,i,m,w):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:y})})}refreshHandlerAndUi(e,t,n,r,i){const s=this.cachedFilter(e);if(!s)return r&&this.getOrCreateFilterWrapper(e,!0),gi.resolve();if(!s.isHandler)return gi.resolve();const{filterUi:a,handler:o,handlerParams:l}=s;return yMe(()=>{if(a){const{created:c,filterParams:d}=a;if(c)return a.promise.then(f=>f?{filter:f,filterParams:d}:void 0);a.refreshed=!0}return gi.resolve(void 0)},o,l,t,this.state.get(e.getColId())??{model:t},n,i)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||(n==null?void 0:n.render)&&(r==null?void 0:r.render)&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(i=>{r(Fw(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:i}=this,s=e.getColId(),a=r.get(s);return a?a.model??null:ko(i,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){var n;if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){let r=()=>{};const i=new Promise(s=>{r=s});return this.columnModelUpdates.push({key:e,model:t,resolve:r}),i}return new Promise(r=>{this.setModelForColumnLegacy(e,t).then(i=>r(i))})}getStateForColumn(e){return this.state.get(e)??{model:ko(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):gi.resolve()}setColDefPropsForDataType(e,t,n){var d;const r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!="string")return;let s,a;const o=this.beans,{filterParams:l,filterValueGetter:c}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:a}=((d=o.multiFilter)==null?void 0:d.getParamsForDataType(l,c,t,n))??{}:{filterParams:s,filterValueGetter:a}=kMe(i,l,c,t,n,o,this.getLocaleTextFunc()),e.filterParams=s,a&&(e.filterValueGetter=a)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new gi(r=>{if(e.isHandler){const s=e.column,a=s.getColId(),o=this.model[a];if(this.updateStoredModel(a,t),n&&t===o){r();return}this.refreshHandlerAndUi(s,t,"api").then(()=>r());return}const i=CA(e);if(i){i.then(s=>{if(typeof(s==null?void 0:s.setModel)!="function"){gn(65),r();return}(s.setModel(t)||gi.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){_n(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n==null?void 0:n.state};this.state.set(e,r)}filterModified(e,t){var n;(n=this.getOrCreateFilterUi(e))==null||n.then(r=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:r,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){var a,o;const r=e.getColId(),i=this.cachedFilter(e),s=()=>i==null?void 0:i.filterUi;wG({action:t,filterParams:(a=i==null?void 0:i.filterUi)==null?void 0:a.filterParams,getFilterUi:s,getModel:()=>ko(this.model,r),getState:()=>this.state.get(r),updateState:l=>this.updateState(e,l),updateModel:l=>{var c,d;return(d=(c=s())==null?void 0:c.filterParams)==null?void 0:d.onModelChange(l,{...n,fromAction:t})},processModelToApply:i!=null&&i.isHandler?(o=i.handler.processModelToApply)==null?void 0:o.bind(i.handler):void 0})}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,i)=>{var a,o;const s=this.beans.colModel.getColDefCol(i);s&&wG({action:e,filterParams:(a=r.filterUi)==null?void 0:a.filterParams,getFilterUi:()=>r.filterUi,getModel:()=>ko(this.model,i),getState:()=>this.state.get(i),updateState:l=>this.updateState(s,l),updateModel:l=>{this.updateStoredModel(i,l),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,l,"ui"))},processModelToApply:r!=null&&r.isHandler?(o=r.handler.processModelToApply)==null?void 0:o.bind(r.handler):void 0})}),n.length&&gi.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();pte(()=>{var n;return(n=this.cachedFilter(e))==null?void 0:n.filterUi},()=>ko(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let r=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==ko(t,i)&&(r=!0)}return r}hasUnappliedModel(e){var r;const{model:t,state:n}=this;return(((r=n.get(e))==null?void 0:r.model)??null)!==ko(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n!=null&&n.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function S9e(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function E9e(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var N9e=class extends Kt{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){var r;this.isAdvFilterEnabled()||(r=this.colFilter)==null||r.setState(e,t,n)}setFilterModel(e,t="api",n){var r;if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}(r=this.colFilter)==null||r.setModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getModel())??{}}getFilterState(){var e;return(e=this.colFilter)==null?void 0:e.getState()}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){cB(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):gi.resolve()).then(()=>{var s;const i={source:t,type:"filterChanged",columns:r};n&&ql(i,n),this.eventSvc.dispatchEvent(i),(s=this.colFilter)==null||s.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!cB(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){gn(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(const e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setModelForColumn(e,t))??Promise.resolve()}},T9e=class extends Kt{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,i=>{var s;(s=this.popupSvc)==null||s.positionPopupUnderMouseEvent({additionalParams:{column:e},type:n,mouseEvent:t,ePopup:i})},n,t.target,Jc(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,s="left";const a=Jc(this.gos);!a&&this.gos.get("enableRtl")&&(i=1,s="right");const o=a?void 0:4*i,l=a?void 0:4;this.showPopup(e,c=>{var d;(d=this.popupSvc)==null||d.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:o,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",additionalParams:{column:e}})},n,t,a,r)}showPopup(e,t,n,r,i,s){var y;const a=e?this.createBean(new IMe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=a,!(a!=null&&a.hasFilter())||!e){es(57);return}const o=Uu({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(o,{keydown:C=>this.trapFocusWithin(C,o)}),o.appendChild(a==null?void 0:a.getGui());let l;const c=()=>a==null?void 0:a.afterGuiDetached(),d=R_e(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=C=>{FG(e,!1,"contextMenu");const T=C instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),T&&r&&Qf(r)){const k=qee(r);k==null||k.focus({preventScroll:!0})}c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s==null||s()},p=this.getLocaleTextFunc(),m=i&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),w=(y=this.popupSvc)==null?void 0:y.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(o),anchorToElement:d,ariaLabel:m});w&&(this.hidePopup=l=w.hideFunc),a.afterInit().then(()=>{t(o),a.afterGuiAttached({container:n,hidePopup:l})}),FG(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Rt.TAB||e.defaultPrevented||ag(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),zp(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},I9e=class extends Kt{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:i,valueSvc:s,formula:a}=this.beans,o=n??(i==null?void 0:i.getFilterValueGetter(e.getColId()))??r.filterValueGetter;if(o)return this.executeFilterValueGetter(o,t.data,e,t,r);const l=s.getValue(e,t);return e.isAllowFormula()&&(a!=null&&a.isFormula(l))?a.resolveValue(e,t):l}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:a}=this.beans,o=Fr(this.gos,{data:t,node:r,column:n,colDef:i,getValue:a.getValueCallback.bind(a,r)});return typeof e=="function"?e(o):s==null?void 0:s.evaluate(e,o)}},F9e={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},k9e=class extends Ea{constructor(){super(F9e,[nN]),this.eFloatingFilterText=er}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const i=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},AP=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;if(e)for(const t of e){if(typeof t=="string")continue;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(gn(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;gn(73)}else gn(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Gv(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function mE(e){return e==null||typeof e=="string"&&e.trim().length===0}function B9e(e){return e==="AND"||e==="OR"?e:"AND"}function R9e(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function _9e(e,t){let n=e.length;return n>t&&(e.splice(t),gn(78),n=t),n}function Dw(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var pP=class extends PMe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new AP;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=B9e(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions(),Ec(this.getGui(),"tabindex",this.isReadOnly()?"-1":null)}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const a=e,o=t;s=this.areSimpleModelsEqual(a,o)}else{const a=e,o=t;s=a.operator===o.operator&&A0(a.conditions,o.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),gi.resolve();if(e.operator){const r=e;let i=r.conditions;i==null&&(i=[],gn(77));const s=_9e(i,this.maxNumConditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(let l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!o,!0)),this.eJoinOrs.forEach(l=>l.setValue(o,!0)),i.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),gi.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(gn(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(gn(80),n=1),n>t&&(gn(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new qD);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,i=>this.resetInput(i)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=Uu({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new dPe);e.push(r);const i="ag-filter-condition-operator";return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;for(const n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(Sw(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{hs(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";for(const r of this.eJoinAnds)r.setValue(!n,!0);for(const r of this.eJoinOrs)r.setValue(n,!0);this.forEachInput((r,i,s,a)=>{this.setElementDisplayed(r,i<a),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:s,eJoinOrs:a}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const o=Math.max(e-1,0);this.removeElements(i,o,t),this.removeComponents(s,o,t),this.removeComponents(a,o,t)}removeElements(e,t,n){const r=Gv(e,t,n);for(const i of r)s0(i)}removeComponents(e,t,n){const r=Gv(e,t,n);for(const i of r)s0(i.getGui()),this.destroyBean(i)}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){let n;if(!this.isReadOnly()){const r=this.getInputs(0)[0];r instanceof tp&&this.isConditionBodyVisible(0)?n=r.getInputElement():n=(t=this.eTypes[0])==null?void 0:t.getFocusableElement()}(n??this.getGui()).focus({preventScroll:!0})}}shouldKeepInvalidInputState(){return!1}afterGuiDetached(){var a;super.afterGuiDetached();const e=this.params;if((a=this.beans.colFilter)!=null&&a.shouldKeepStateOnDetach(e.column)||this.shouldKeepInvalidInputState())return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const l=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),c=o<t;(l||c)&&(this.removeConditionsAndOperators(o,1),r=!0,c&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){var t,n;return((n=(t=this.params.getHandler())==null?void 0:t.getModelAsString)==null?void 0:n.call(t,e))??""}resetPlaceholder(){const e=this.getLocaleTextFunc(),{filterPlaceholder:t,eTypes:n}=this;this.forEachInput((r,i,s,a)=>{if(!(r instanceof tp))return;const o=i===0&&a>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",l=i===0&&a>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value"),c=n[s].getValue(),d=gte(this,t,o,c);r.setInputPlaceholder(d),r.setInputAriaLabel(l)})}setElementValue(e,t,n){e instanceof tp&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){oG(e)&&hs(e.getGui(),t)}setElementDisabled(e,t){oG(e)&&Sw(e.getGui(),t)}attachElementOnChange(e,t){e instanceof tp&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=Dw(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const a=i[s];a!=null&&n(a,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Dw(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null)||this.positionHasInvalidInputs(e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}positionHasInvalidInputs(e){return!1}isReadOnly(){return!!this.params.readOnly}},lV=".ag-input-field-input",lne=class{constructor(e,t,n,r,i,s){this.context=e,this.eParent=i,this.alive=!0,this.debouncedReport=jo({isAlive:()=>this.alive},cV,500),this.timeoutHandle=null;const a=jDe(t,n,r);a==null||a.newAgStackInstance().then(o=>{var d,f;if(!this.alive){e.destroyBean(o);return}if(this.dateComp=o,!o)return;i.appendChild(o.getGui()),(d=o==null?void 0:o.afterGuiAttached)==null||d.call(o);const{tempValue:l,disabled:c}=this;l&&o.setDate(l),c!=null&&((f=o.setDisabled)==null||f.call(o,c)),s==null||s(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var n;const t=this.dateComp;t?(n=t.setDisabled)==null||n.call(t,e):this.disabled=e}setDisplayed(e){hs(this.eParent,e)}setInputPlaceholder(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||n.call(t,e)}setInputAriaLabel(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||n.call(t,e)}afterGuiAttached(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||n.call(t,e)}updateParams(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.refresh)==null||n.call(t,e)}setCustomValidity(e,t=!1){var r;const n=(r=this.dateComp)==null?void 0:r.getGui().querySelector(lV);if(n&&"setCustomValidity"in n){const i=e.length>0;n.setCustomValidity(e),i?t?this.timeoutHandle=this.debouncedReport(n):cV(n):this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),ID(n,i)}}getValidity(){var e,t;return(t=(e=this.dateComp)==null?void 0:e.getGui().querySelector(lV))==null?void 0:t.validity}};function cV(e){e.reportValidity()}var gP=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function cne(e,t){const{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&Bc(n,void 0,!0)||null,r&&Bc(r,void 0,!0)||null].slice(0,Dw(i,t))}var uV=1e3,dV=1/0,D9e=class extends pP{constructor(){super("dateFilter",cne,gP),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=uV,this.maxValidYear=dV,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!kw()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,c)=>{const d=e[l];if(d!=null)if(isNaN(d))gn(82,{param:l});else return d==null?c:Number(d);return c},n=t("minValidYear",uV),r=t("maxValidYear",dV);this.minValidYear=n,this.maxValidYear=r,n>r&&gn(83);const{minValidDate:i,maxValidDate:s}=e,a=i instanceof Date?i:Bc(i);this.minValidDate=a;const o=s instanceof Date?s:Bc(s);this.maxValidDate=o,a&&o&&a>o&&gn(84)}refreshInputValidation(){for(let e=0;e<this.dateConditionFromComps.length;e++)this.refreshInputPairValidation(e,!1,!0)}refreshInputPairValidation(e,t=!1,n=!1){const{dateConditionFromComps:r,dateConditionToComps:i,beans:s}=this,a=r[e],o=i[e],l=a.getDate(),c=o.getDate(),d=P9e(l,c,t),f=d?this.translate(d,[String(t?c:l)]):"",p=!kw()&&!n;(t?a:o).setCustomValidity(f,p),(t?o:a).setCustomValidity("",p),f.length>0&&s.ariaAnnounce.announceValue(f,"dateFilter")}createDateCompWrapper(e,t,n){const{beans:{userCompFactory:r,context:i,gos:s},params:a}=this,o=n==="from",l=new lne(i,r,a.colDef,Fr(s,{onDateChanged:()=>{this.refreshInputPairValidation(t,o),this.onUiChanged()},onFocusIn:()=>this.refreshInputPairValidation(t,o),filterParams:a,location:"filter"}),e);return this.addDestroyFunc(()=>l.destroy()),l}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return((e==null?void 0:e.isInvalid)??!1)===((t==null?void 0:t.isInvalid)??!1)}setElementValue(e,t){e.setDate(t),t||e.setCustomValidity("")}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Uu({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const i=Uu({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i,t.length-1,r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Gv(this.eConditionPanelsFrom,e,t),Gv(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){const r=Gv(e,t,n);for(const i of r)i.destroy()}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{var n;return e||(e=t.getDate()!=null&&!(((n=t.getValidity())==null?void 0:n.valid)??!0))}),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>{var r;return t||(t=!(((r=n.getValidity())==null?void 0:r.valid)??!0))}),t}canApply(e){return!this.hasInvalidInputs()}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachPositionInput(e,(n,r,i,s)=>{!t||r>=s||t&&(t=this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e),i=this.params.useIsoSeparator?"T":" ";return r.length>0&&(n.dateFrom=tu(r[0],!0,i)),r.length>1&&(n.dateTo=tu(r[1],!0,i)),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e,t){let n=e;return e==="lessThan"?n="before":e==="greaterThan"&&(n="after"),super.translate(n,t)}};function P9e(e,t,n){return e!=null&&t!=null&&e>=t?`${n?"max":"min"}DateValidation`:null}var une=class extends Kt{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new AP;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const a=t;r.push(...a.conditions??[])}else r.push(t);const i=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return r[i](a=>this.individualConditionPasses(e,a,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let s=xte(t)?t.conditions:[t];const a=(n==null?void 0:n.map(d=>typeof d=="string"?d:d.displayKey))??this.defaultOptions;if(!(!s||s.every(d=>a.find(f=>f===d.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const c=this.filterType;if((s&&!s.every(d=>d.filterType===c)||t.filterType!==c)&&(s=s.map(d=>({...d,filterType:c})),l=!0),typeof r=="number"&&s&&s.length>r&&(s=s.slice(0,r),l=!0),l){const d=s.length>1?{...t,filterType:c,conditions:s}:{...s[0],filterType:c};this.params={...e,model:d},e.onModelChange(d)}}individualConditionPasses(e,t,n){const r=this.optionsFactory,i=this.mapValuesFromModel(t,r),s=r.getCustomOption(t.type),a=R9e(s,i,n);return a??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},dne=class extends une{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const a=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case"blank":return mE(t);case"notBlank":return!mE(t);default:return gn(76,{filterModelType:r}),!0}}},hne={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},M9e={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},mP=class extends Kt{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?lh(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,o=(s.conditions??[]).map(c=>this.getModelAsString(c,t)),l=s.operator==="AND"?"andCondition":"orCondition";return o.join(` ${lh(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?lh(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,a=this.optionsFactory.getCustomOption(s.type),{displayKey:o,displayName:l,numberOfInputs:c}=a||{};return o&&l&&c===0?n(o,l):this.conditionToString(s,r,s.type==="inRange"||c===2,o,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,s){let a;const o=this.getTypeKey(e);return o&&(a=lh(this,o)),i&&s&&(a=this.getLocaleTextFunc()(i,s)),a!=null?t?`${a} ${lh(this,"filterSummaryInRangeValues",[n(),r()])}`:`${a} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},fne=class extends mP{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:i}=this.beans,s=t.column,a=r==null?void 0:r.getDateFormatterFunction(s),o=a?a(n??void 0):n;return i.formatValue(s,null,o)}),this.filterTypeKeys=hne}conditionToString(e,t,n,r,i){const{type:s}=e,a=Bc(e.dateFrom),o=Bc(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):p=>gB(p,l),d=()=>a!==null?c(a):"null",f=()=>o!==null?c(o):"null";if(t){const p=this.conditionForToolPanel(s,n,d,f,r,i);if(p!=null)return p}return n?`${d()}-${f()}`:a!=null?c(a):`${s}`}};function L9e(e,t){const n=t;return n<e?-1:n>e?1:0}var O9e=class extends dne{constructor(){super(cne,gP),this.filterType="date",this.FilterModelFormatterClass=fne}comparator(){return this.params.filterParams.comparator??L9e}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},Ane=class extends Ea{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new AP;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:i}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},j9e={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},U9e=class extends Ane{constructor(){super(j9e,[nN]),this.eReadOnlyText=er,this.eDateWrapper=er,this.FilterModelFormatterClass=fne,this.filterType="date",this.defaultOptions=gP}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Bc(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){hs(this.eDateWrapper,e),hs(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=tu(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t==null||t.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=ZD(e,this.defaultDebounceMs);return Fr(this.gos,{onDateChanged:jo(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:{column:r}}=this;this.dateComp=new lne(e,t,r.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},H9e={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},G9e=class extends Ea{constructor(){super(H9e,[nN]),this.eDateInput=er,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this),focusin:this.handleFocusIn.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}handleFocusIn(){var e,t;(t=(e=this.params).onFocusIn)==null||t.call(e)}setParams(e){var p;const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&g0();const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:a,buttons:o,includeTime:l,colDef:c}=e.filterParams||{},d=this.beans.dataTypeSvc,f=l??((p=d==null?void 0:d.getDateIncludesTimeFlag)==null?void 0:p.call(d,c.cellDataType))??!1;if(n?f?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&r&&gn(85),a&&i&&gn(86),s&&a){const[m,w]=[s,a].map(y=>y instanceof Date?y:Bc(y));m&&w&&m.getTime()>w.getTime()&&gn(87)}s?s instanceof Date?t.min=gB(s):t.min=s:r&&(t.min=`${r}-01-01`),a?a instanceof Date?t.max=gB(a):t.max=a:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(o!=null&&o.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Bc(this.eDateInput.getValue())}setDate(e){var r;const t=this.params.filterParams.colDef.cellDataType,n=((r=this.beans.dataTypeSvc)==null?void 0:r.getDateIncludesTimeFlag(t))??!1;this.eDateInput.setValue(tu(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e!=null&&e.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},xP=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function RB(e){return(e==null?void 0:e.allowedCharPattern)??null}function xE(e){return e==null||isNaN(e)?null:e}function pne(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[xE(n),xE(r)].slice(0,Dw(i,t))}var V9e=class extends pP{constructor(){super("numberFilter",pne,xP),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!kw()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){const t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){const r=this.params.numberParser,i=hV(r,e),s=hV(r,t),a=Q9e(i,s,n),o=a?this.translate(a,[String(n?s:i)]):"";(n?e:t).setCustomValidity(o),(n?t:e).setCustomValidity(""),o.length>0&&this.beans.ariaAnnounce.announceValue(o,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return((e==null?void 0:e.isInvalid)??!1)===((t==null?void 0:t.isInvalid)??!1)}refresh(e){const t=super.refresh(e),{state:n,additionalEventAttributes:r}=e,i=this.state,s=r==null?void 0:r.fromAction;return(s&&s!="apply"||n.model!==i.model||!this.areStatesEqual(n.state,i.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){const{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i),i===null&&e.setCustomValidity("")}createEValue(){const{params:e,eValuesFrom:t,eValuesTo:n}=this,r=RB(e),i=Uu({tag:"div",cls:"ag-filter-body",role:"presentation"}),s=this.createFromToElement(i,t,"from",r),a=this.createFromToElement(i,n,"to",r),o=(d,f,p)=>()=>this.refreshInputPairValidation(d,f,p),l=o(s,a,!0);s.onValueChange(l),s.addGuiEventListener("focusin",l);const c=o(s,a,!1);return a.onValueChange(c),a.addGuiEventListener("focusin",c),i}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new og({allowedCharPattern:r}):new KD);return i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui()),i}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(xE(gne(this.params.numberParser,n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!n.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}};function gne(e,t){if(typeof t=="number")return t;let n=mf(t);return n!=null&&n.trim()===""&&(n=null),e?e(n):n==null||n.trim()==="-"?null:Number.parseFloat(n)}function hV(e,t){return xE(gne(e,t.getValue(!0)))}function Q9e(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?"Max":"Min"}ValueValidation`:null}var mne=class extends mP{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=hne}conditionToString(e,t,n,r,i){const{filter:s,filterTo:a,type:o}=e,l=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(o,n,()=>l(s),()=>l(a),r,i);if(c!=null)return c}return n?`${l(s)}-${l(a)}`:s!=null?l(s):`${o}`}},z9e=class extends dne{constructor(){super(pne,xP),this.filterType="number",this.FilterModelFormatterClass=mne}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},xne=class extends Kt{constructor(e){super(),this.params=e,this.eInput=er,this.onValueChanged=()=>{}}setupGui(e){var r;this.eInput=this.createManagedBean(new og((r=this.params)==null?void 0:r.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){const{eInput:r}=this;r.setInputAriaLabel(e),t!==void 0&&r.setAutoComplete(t),r.toggleCss("ag-floating-filter-search-icon",!!n),r.setInputPlaceholder(n)}};function _B(e){const t=e==null?void 0:e.trim();return t===""?e:t}function vne(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,Dw(i,t))}var W9e={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},wne=class extends Ane{constructor(){super(...arguments),this.eFloatingFilterInputContainer=er,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(W9e)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const{inputSvc:t,defaultDebounceMs:n,readOnly:r}=this,{filterPlaceholder:i,column:s,browserAutoComplete:a,filterParams:o}=e,l=this.lastType??this.optionsFactory.defaultOption,c=e.filterParams.filterPlaceholder,d=i===!0?gte(this,c,"filterOoo",l):i||void 0;if(t.setParams({ariaLabel:this.getAriaLabel(s),autoComplete:a??!1,placeholder:d}),this.applyActive=iN(o),!r){const f=ZD(o,n);t.setValueChangedListener(jo(this,this.syncUpWithParentFilter.bind(this),f))}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();kc(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===Rt.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:i,lastType:s}=this;let a=r.getValue();if(i.filterParams.trimInput&&(a=_B(a),r.setValue(a,!0)),n){const o=i,l=o.model,c=this.convertValue(a),d=c==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:c};o.onModelChange(d,{afterFloatingFilter:!0})}else i.parentFilterInstance(o=>{o==null||o.onFloatingFilterChanged(s||null,a||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},K9e=class extends Kt{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new KD),this.eTextInput=this.createManagedBean(new og),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){this.setAriaLabel(e),t!==void 0&&this.setAutoComplete(t),this.setPlaceholder(this.eNumberInput,n),this.setPlaceholder(this.eTextInput,n)}setPlaceholder(e,t){e.toggleCss("ag-floating-filter-search-icon",!!t),e.setInputPlaceholder(t)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},q9e=class extends wne{constructor(){super(...arguments),this.FilterModelFormatterClass=mne,this.filterType="number",this.defaultOptions=xP}updateParams(e){RB(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=RB(e.filterParams),this.allowedCharPattern?this.createManagedBean(new xne({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new K9e)}convertValue(e){return e?Number(e):null}},vP=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],$9e=class extends pP{constructor(){super("textFilter",vne,vP),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(mf(n.getValue()))}),t}createEValue(){const e=Uu({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new og);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},bne=class extends mP{constructor(){super(...arguments),this.filterTypeKeys=M9e}conditionToString(e,t,n,r,i){const{filter:s,filterTo:a,type:o}=e;if(t){const l=d=>()=>lh(this,"filterSummaryTextQuote",[d]),c=this.conditionForToolPanel(o,n,l(s),l(a),r,i);if(c!=null)return c}return n?`${s}-${a}`:s!=null?`${s}`:`${o}`}},Y9e=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.includes(n);case"notContains":return!t.includes(n);case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},X9e=e=>e,J9e=e=>e==null?null:e.toString().toLowerCase(),Z9e=class extends une{constructor(){super(vne,vP),this.filterType="text",this.FilterModelFormatterClass=bne}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??Y9e,this.formatter=t.textFormatter??(t.caseSensitive?X9e:J9e)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(p=>this.formatter(p))||[],s=this.formatter(t),{api:a,colDef:o,column:l,context:c,filterParams:{textFormatter:d}}=this.params;if(n.type==="blank")return mE(t);if(n.type==="notBlank")return!mE(t);const f={api:a,colDef:o,column:l,context:c,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:d};return i.some(p=>this.matcher({...f,filterText:p}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=n=>{const r={...n},{filter:i,filterTo:s}=n;return i&&(r.filter=_B(i)??null),s&&(r.filterTo=_B(s)??null),r};return xte(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},eHe=class extends wne{constructor(){super(...arguments),this.FilterModelFormatterClass=bne,this.filterType="text",this.defaultOptions=vP}createFloatingFilterInputService(){return this.createManagedBean(new xne)}};function tHe(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function nHe(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function rHe(e){var t;(t=e.quickFilter)==null||t.resetCache()}var iHe=class extends Kt{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e==null?void 0:e.getColumns(),a=t.getColDefCols();let o=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?(l=r==null?void 0:r.getPivotResultCols())==null?void 0:l.list:a)??[];s&&(o=o.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?o:o.filter(c=>c.isVisible()||c.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return _n(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){gn(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return _n(r)&&r.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=Fr(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return _n(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];for(const n of this.colsToUse){const r=this.getTextForColumn(n,e);_n(r)&&t.push(r)}return t.join(`
`)}},sHe={moduleName:"ClientSideRowModelFilter",version:Dn,rowModels:["clientSide"],beans:[i9e]},wP={moduleName:"FilterCore",version:Dn,beans:[N9e],apiFunctions:{isAnyFilterPresent:S9e,onFilterChanged:E9e},css:[u9e],dependsOn:[sHe]},yne={moduleName:"FilterValue",version:Dn,beans:[I9e]},uN={moduleName:"ColumnFilter",version:Dn,beans:[C9e,T9e],dynamicBeans:{headerFilterCellCtrl:s9e},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:d9e,getColumnFilterInstance:h9e,destroyFilter:f9e,setFilterModel:A9e,getFilterModel:p9e,getColumnFilterModel:g9e,setColumnFilterModel:m9e,showColumnFilter:x9e,hideColumnFilter:v9e,getColumnFilterHandler:w9e,doFilterAction:b9e},dependsOn:[wP,cN,yne,l9e]},aHe={moduleName:"CustomFilter",version:Dn,userComponents:{agReadOnlyFloatingFilter:k9e},dependsOn:[uN]},oHe={moduleName:"TextFilter",version:Dn,dependsOn:[uN],userComponents:{agTextColumnFilter:{classImp:$9e,params:{useForm:!0}},agTextColumnFloatingFilter:eHe},dynamicBeans:{agTextColumnFilterHandler:Z9e}},lHe={moduleName:"NumberFilter",version:Dn,dependsOn:[uN],userComponents:{agNumberColumnFilter:{classImp:V9e,params:{useForm:!0}},agNumberColumnFloatingFilter:q9e},dynamicBeans:{agNumberColumnFilterHandler:z9e}},cHe={moduleName:"DateFilter",version:Dn,dependsOn:[uN],userComponents:{agDateColumnFilter:{classImp:D9e,params:{useForm:!0}},agDateInput:G9e,agDateColumnFloatingFilter:U9e},dynamicBeans:{agDateColumnFilterHandler:O9e}},uHe={moduleName:"QuickFilterCore",version:Dn,rowModels:["clientSide"],beans:[iHe],dependsOn:[wP,yne]},dHe={moduleName:"QuickFilter",version:Dn,apiFunctions:{isQuickFilterPresent:tHe,getQuickFilter:nHe,resetQuickFilter:rHe},dependsOn:[uHe]},hHe={moduleName:"ExternalFilter",version:Dn,dependsOn:[wP]},fHe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip),&:where(.ag-cell-formula-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",zF=(e,t,n)=>{var o,l,c;const{editModelSvc:r}=e,i=(l=(o=r==null?void 0:r.getCellValidationModel())==null?void 0:o.getCellValidation(t))==null?void 0:l.errorMessages,s=(c=r==null?void 0:r.getRowValidationModel().getRowValidation(t))==null?void 0:c.errorMessages,a=i||s;return a!=null&&a.length?a.join(n("tooltipValidationErrorSeparator",". ")):void 0},AHe=class extends Kt{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=this.gos,s=QF(i),{column:a,eGui:o}=t,l=a.getColDef();!r&&s&&!l.headerComponent&&(r=h2(()=>o.querySelector(".ag-header-cell-text")));const c="header",f=this.beans.colNames.getDisplayNameForColumn(a,"header",!0),p=n??f,m={getGui:()=>o,getLocation:()=>c,getTooltipValue:()=>{var y;return n??((y=l==null?void 0:l.headerTooltipValueGetter)==null?void 0:y.call(l,Fr(i,{location:c,colDef:l,column:a,value:p,valueFormatted:f})))??(l==null?void 0:l.headerTooltip)},shouldDisplayTooltip:r,getAdditionalParams:()=>({column:a,colDef:a.getColDef()})};let w=this.createTooltipFeature(m);return w&&(w=t.createBean(w),t.setRefreshFunction("tooltip",()=>w.refreshTooltip())),w}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=this.gos,s=QF(i),{column:a,eGui:o}=t,l=a.getColGroupDef();!r&&s&&!(l!=null&&l.headerGroupComponent)&&(r=h2(()=>o.querySelector(".ag-header-group-text")));const c="headerGroup",f=this.beans.colNames.getDisplayNameForColumnGroup(a,"header"),p=n??f,m={getGui:()=>o,getLocation:()=>c,getTooltipValue:()=>{var y;return n??((y=l==null?void 0:l.headerTooltipValueGetter)==null?void 0:y.call(l,Fr(i,{location:c,colDef:l,column:a,value:p,valueFormatted:f})))??(l==null?void 0:l.headerTooltip)},shouldDisplayTooltip:r,getAdditionalParams:()=>{const y={column:a};return l&&(y.colDef=l),y}},w=this.createTooltipFeature(m);return w&&t.createBean(w)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:i,editSvc:s}=r,{column:a,rowNode:o}=e;let l="cell";const c=()=>{const m=!!!(s!=null&&s.isEditing(e))&&zF(r,e,this.getLocaleTextFunc());if(m)return l="cellEditor",m;l="cell";const w=a.getColDef(),y=o.data;if(w.tooltipField&&_n(y))return Uv(y,w.tooltipField,a.isTooltipFieldContainsDots());const C=w.tooltipValueGetter;return C?C(Fr(i,{location:"cell",colDef:a.getColDef(),column:a,rowIndex:e.cellPosition.rowIndex,node:o,data:o.data,value:e.value,valueFormatted:e.valueFormatted})):null},d=QF(i);n||(d&&!e.isCellRenderer()?n=()=>{const p=!!(s!=null&&s.isEditing(e));if(!p&&zF(r,e,this.getLocaleTextFunc()))return!0;if(!a.isTooltipEnabled())return!1;const y=h2(()=>{const C=e.eGui;return C.children.length===0?C:C.querySelector(".ag-cell-value")});return!p&&y()}:n=()=>!(s!=null&&s.isEditing(e)));const f={getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,shouldDisplayTooltip:n,getAdditionalParams:()=>({column:a,colDef:a.getColDef(),rowIndex:e.cellPosition.rowIndex,node:o,data:o.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(f,r)}setupFullWidthRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,a=s.context;e&&t.destroyBean(e,a);const o=this.createTooltipFeature(i,s);if(o)return t.createBean(o,a)}setupFormulaTooltip(e){var a;const{beans:t}=this,{context:n,formula:r}=t;if(!((a=this.beans.formula)!=null&&a.active)||!e.column.isAllowFormula())return;const i={getGui:()=>e.eGui,getTooltipValue:()=>{const o=r==null?void 0:r.getFormulaError(e.column,e.rowNode);return o?o.message:void 0},getLocation:()=>"cellFormula",shouldDisplayTooltip:()=>!!(r==null?void 0:r.getFormulaError(e.column,e.rowNode))},s=this.createTooltipFeature(i,t);if(s)return e.createBean(s,n)}setupCellEditorTooltip(e,t){var o,l;const{beans:n}=this,{context:r}=n,i=((o=t.getValidationElement)==null?void 0:o.call(t,!0))||!((l=t.isPopup)!=null&&l.call(t))&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>zF(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{var w,y;const{editModelSvc:c}=n,d=(w=c==null?void 0:c.getRowValidationModel())==null?void 0:w.getRowValidationMap(),f=(y=c==null?void 0:c.getCellValidationModel())==null?void 0:y.getCellValidationMap(),p=!!d&&d.size>0,m=!!f&&f.size>0;return p||m}},a=this.createTooltipFeature(s,n);if(a)return e.createBean(a,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=_n(t.tooltipField)||_n(t.tooltipValueGetter)||_n(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},pHe=class extends iMe{createTooltipComp(e,t){const n=UDe(this.beans.userCompFactory,e);n==null||n.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){var e;(e=this.onColumnMovedEventCallback)==null||e.call(this),this.onColumnMovedEventCallback=void 0}},Cne={moduleName:"Tooltip",version:Dn,beans:[AHe],dynamicBeans:{tooltipFeature:cte,highlightTooltipFeature:sMe,tooltipStateManager:pHe},userComponents:{agTooltipComponent:lMe},dependsOn:[cN],css:[fHe]},Am=class{constructor(e){this.cellValueChanges=e}},WF=class extends Am{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},gHe=10,fV=class{constructor(e){this.actionStack=[],this.maxStackSize=e||gHe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},mHe=class extends Kt{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&iP(this.activeCellEdit,t),r=this.activeRowEdit!==null&&g6e(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:a,column:o,oldValue:l,value:c}=e,d={rowPinned:s,rowIndex:a,columnId:o.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new fV(n),this.redoStack=new fV(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return s!=null&&s.cellValueChanges?(this.processAction(s,a=>a[r],i),s instanceof WF?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0):!1}processAction(e,t,n){for(const r of e.cellValueChanges){const{rowIndex:i,rowPinned:s,columnId:a}=r,o={rowIndex:i,rowPinned:s},l=_f(this.beans,o);l.displayed&&l.setDataValue(a,t(r),n)}}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,a=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const o={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(o)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=_f(this.beans,i),a={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(a)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:a}=this.beans,o=i.getCol(n);if(!o)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(o);const c={rowIndex:t,column:o,rowPinned:r};s.setFocusedCell({...c,forceBrowserFocus:!0}),a==null||a.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Am(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Am(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Am(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new WF(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&o0(n)?e=new WF(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Am(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),(t==null?void 0:t.length)===0))return;const n=new Am(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},xHe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",vHe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},wHe=class extends aN{constructor(){super(vHe,[WD]),this.eEditor=er}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=J5(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},dN=class extends aN{constructor(e){super(),this.cellEditorInput=e,this.eEditor=er}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let a,o=!0;r?(this.focusAfterAttached=!0,i===Rt.BACKSPACE||i===Rt.DELETE?a="":i&&i.length===1?s?o=!1:a=i:(a=t.getStartValue(),i!==Rt.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=t.getStartValue()),o&&a!=null&&n.setStartValue(a),this.addGuiEventListener("keydown",l=>{const{key:c}=l;(c===Rt.PAGE_UP||c===Rt.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){var r,i;const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;g0()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(i=(r=this.cellEditorInput).setCaret)==null||i.call(r)}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},bHe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},yHe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return bHe}getAgComponents(){return[ete]}init(e,t){var a,o;this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??((o=(a=this.getDataTypeService())==null?void 0:a.getDateIncludesTimeFlag)==null?void 0:o.call(a,s.cellDataType)),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:i,getValidationErrors:s}=n;let a=[];const o=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const l=r instanceof Date?r:new Date(r);if(t<l){const c=l.toLocaleDateString();a.push(o("minDateValidation",`Date must be after ${c}`,[c]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const c=l.toLocaleDateString();a.push(o("maxDateValidation",`Date must be before ${c}`,[c]))}}}return a.length||(a=null),s?s({value:t,cellEditorParams:n,internalErrors:a}):a}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!_n(n)&&!_n(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return tu(e,this.includeTime??!1)}},CHe=class extends dN{constructor(){super(new yHe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},SHe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},EHe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return SHe}getAgComponents(){return[ete]}init(e,t){var a,o;this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??((o=(a=this.getDataTypeService())==null?void 0:a.getDateIncludesTimeFlag)==null?void 0:o.call(a,s.cellDataType)),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:s,getValidationErrors:a}=t;let o=[];if(r){const l=new Date(r),c=this.getLocaleTextFunc();if(i){const d=new Date(i);if(l<d){const f=d.toLocaleDateString();o.push(c("minDateValidation",`Date must be after ${f}`,[f]))}}if(s){const d=new Date(s);if(l>d){const f=d.toLocaleDateString();o.push(c("maxDateValidation",`Date must be before ${f}`,[f]))}}}return o.length||(o=null),a?a({value:this.getValue(),cellEditorParams:t,internalErrors:o}):o}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!_n(n)&&!_n(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return tu(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Bc(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):tu(e??null,this.includeTime??!1)??void 0}},NHe=class extends dN{constructor(){super(new EHe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},THe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},IHe=class extends aN{constructor(){super(THe,[fPe]),this.eEditor=er}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,maxLength:i,cols:s,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(i||200).setCols(s||60).setRows(a||10);let o;n?(this.focusAfterAttached=!0,r===Rt.BACKSPACE||r===Rt.DELETE?o="":r&&r.length===1?o=r:(o=this.getStartValue(e),r!==Rt.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.getStartValue(e)),o!=null&&t.setValue(o,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return(t==null?void 0:t.toString())??t}onKeyDown(e){const t=e.key;(t===Rt.LEFT||t===Rt.UP||t===Rt.RIGHT||t===Rt.DOWN||e.shiftKey&&t===Rt.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!_n(r)&&!_n(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},FHe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},kHe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return FHe}getAgComponents(){return[APe]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const a=e.getInputElement();t.preventStepping?e.addManagedElementListeners(a,{keydown:this.preventStepping}):t.showStepperButtons&&a.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,s=this.eEditor.getInputElement().valueAsNumber,a=this.getLocaleTextFunc();let o=[];return typeof s=="number"&&(t!=null&&s<t&&o.push(a("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&o.push(a("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),o.length||(o=null),r?r({value:s,cellEditorParams:e,internalErrors:o}):o}preventStepping(e){(e.key===Rt.UP||e.key===Rt.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!_n(n)&&!_n(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){g0()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},BHe=class extends dN{constructor(){super(new kHe(()=>this.getLocaleTextFunc()))}},RHe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},_He=class extends aN{constructor(){super(RHe,[EPe]),this.eEditor=er,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:a}=e;if(Us(i)){gn(58);return}this.startedByEnter=a!=null?a===Rt.ENTER:!1;let o=!1;i.forEach(f=>{const p={value:f},m=n.formatValue(e.column,null,f),w=m!=null;p.text=w?m:f,t.addOption(p),o=o||s===f}),o?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let i=[];if(t&&!t.includes(r)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},DHe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},PHe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return DHe}getAgComponents(){return[nN]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof r=="string"&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!_n(n)&&!_n(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){g0()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),n=_n(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},AV=class extends dN{constructor(){super(new PHe(()=>this.getLocaleTextFunc()))}};function MHe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function LHe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function Sne(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function Ene(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function OHe(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function jHe(e){var t;(t=e.undoRedo)==null||t.undo("api")}function UHe(e){var t;(t=e.undoRedo)==null||t.redo("api")}function HHe(e,t){var n;return(n=e.editModelSvc)==null?void 0:n.getEditRowDataValue(t,{checkSiblings:!0})}function GHe(e){var r;const t=(r=e.editModelSvc)==null?void 0:r.getEditMap(),n=[];return t==null||t.forEach((i,s)=>{const{rowIndex:a,rowPinned:o}=s;i.forEach((l,c)=>{const{editorValue:d,pendingValue:f,sourceValue:p,state:m}=l,w=Ah(l);let y=d??f;y===Hu&&(y=void 0);const C={newValue:y,oldValue:p,state:m,column:c,colId:c.getColId(),colKey:c.getColId(),rowIndex:a,rowPinned:o};(m==="editing"||m==="changed"&&w)&&n.push(C)})}),n}function VHe(e,t=!1){var r;const{editSvc:n}=e;if(n!=null&&n.isBatchEditing()){if(t)for(const i of((r=e.editModelSvc)==null?void 0:r.getEditPositions())??[])i.state==="editing"&&n.revertSingleCellEdit(i);else UA(e,{persist:!0});n1(e,void 0,{cancel:t})}else n==null||n.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function QHe(e,t){var r;const n=qs(e,t);return((r=e.editSvc)==null?void 0:r.isEditing(n))??!1}function zHe(e,t){const{key:n,colKey:r,rowIndex:i,rowPinned:s}=t,{editSvc:a,colModel:o}=e,l=o.getCol(r);if(!l){gn(12,{colKey:r});return}const d=_f(e,{rowIndex:i,rowPinned:s||null});if(!d){gn(290,{rowIndex:i,rowPinned:s});return}if(!(a!=null&&a.isCellEditable({rowNode:d,column:l},"api")))return;s==null&&Ene(e,i),Sne(e,r),a==null||a.startEditing({rowNode:d,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function WHe(e){var t;return((t=e.editSvc)==null?void 0:t.validateEdit())||null}function KHe(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function qHe(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var $He={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},YHe=class extends VD{constructor(e){super($He),this.params=e}postConstruct(){Qp(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{yB(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}};function XHe(e,{column:t},n,r,i="ui"){var c;if(n instanceof KeyboardEvent&&(n.key===Rt.TAB||n.key===Rt.ENTER||n.key===Rt.F2||n.key===Rt.BACKSPACE&&r))return!0;if((n==null?void 0:n.shiftKey)&&((c=e.rangeSvc)==null?void 0:c.getCellRanges().length)!=0)return!1;const a=t==null?void 0:t.getColDef(),o=JHe(e.gos,a),l=n==null?void 0:n.type;return l==="click"&&(n==null?void 0:n.detail)===1&&o===1||l==="dblclick"&&(n==null?void 0:n.detail)===2&&o===2?!0:i==="api"?r??!1:!1}function JHe(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t!=null&&t.singleClickEdit?1:2}function DB(e,{rowNode:t,column:n},r="ui"){const i=n.getColDef().editable,s=e.editModelSvc;return n.isColumnFunc(t,i)||!!s&&s.hasEdits({rowNode:t,column:n},{withOpenEditor:!0})}function ZHe(e,t,n="ui"){const r=DB(e,t,n);return r===!0||n==="ui"?r:e.colModel.getCols().some(s=>DB(e,{rowNode:t.rowNode,column:s},n))}var vE=(e,t=!1)=>{if(e!==void 0)return Ah(e)||t&&e.state==="editing"};function Nne(e,t,n=!1){var r;return vE((r=e.editModelSvc)==null?void 0:r.getEdit(t),n)}var Tne=(e,t,n)=>{if(e)for(let r=0,i=e.length;r<i;++r){const s=e[r];if(s.data&&(vE(t==null?void 0:t.getEdit({rowNode:s,column:n}))||vE(t==null?void 0:t.getEdit({rowNode:s.pinnedSibling,column:n})))||Tne(s.childrenAfterGroup,t,n))return!0}};function Ine(e,t){const{column:n,rowNode:r}=t;return e.gos.get("groupTotalRow")&&!(r!=null&&r.footer)?!1:Tne(r==null?void 0:r.childrenAfterGroup,e.editModelSvc,n)}function Fne(e,{rowNode:t,column:n}){var r;if(t=t.pinnedSibling,!!t)return vE((r=e.editModelSvc)==null?void 0:r.getEdit({rowNode:t,column:n}))}var eGe=class extends Kt{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){var i;const{cellCtrl:e,editSvc:t,beans:n}=this;if(t!=null&&t.isBatchEditing()&&t.isEditing()){const s=Nne(n,e)||Ine(n,e)||Fne(n,e);this.applyBatchingStyle(s)}else this.applyBatchingStyle(!1);const r=!!((i=this.editModelSvc)!=null&&i.getCellValidationModel().hasCellValidation(this.cellCtrl));this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){var t;this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&((t=this.editSvc)==null?void 0:t.isBatchEditing()))??!1)}},tGe=class extends Kt{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){var a;const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,i=t==null?void 0:t.getEditRow(r);const s=(a=this.editModelSvc)==null?void 0:a.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t==null?void 0:t.getEditRow(r)),i){const o=Array.from(i.keys()).some(l=>{const c={rowNode:r,column:l};return Nne(n,c,!0)||Ine(n,c)||Fne(n,c)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){var i,s;const n=((i=this.editSvc)==null?void 0:i.isBatchEditing())??!1,r=this.gos.get("editType")==="fullRow";(s=this.rowCtrl)==null||s.forEachGui(void 0,({rowComp:a})=>{a.toggleCss("ag-row-editing",r&&t),a.toggleCss("ag-row-batch-edit",r&&t&&n),a.toggleCss("ag-row-inline-editing",t),a.toggleCss("ag-row-not-inline-editing",!t),a.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},nGe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const i=new Set;e.forEachNode(s=>r.has(s)&&i.add(s)),t==null||t.forEachPinnedRow("top",s=>r.has(s)&&i.add(s)),t==null||t.forEachPinnedRow("bottom",s=>r.has(s)&&i.add(s));for(const s of r)i.has(s)||n.removeEdits({rowNode:s});return i},rGe=({editModelSvc:e},t,n)=>{var r;for(const i of t)(r=e==null?void 0:e.getEditRow(i))==null||r.forEach((s,a)=>!n.has(a)&&e.removeEdits({rowNode:i,column:a}))},iGe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());rGe(e,nGe(e,r),t)},sGe=new Set(["undo","redo","paste","bulk","rangeSvc"]),aGe=new Set(["ui","api"]),kne={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},oGe=new Set(Object.keys(kne)),lGe=new Set(["paste","rangeSvc","cellClear","redo","undo"]),BC={cancel:!0,source:"api"},cGe={cancel:!1,source:"api"},ev={checkSiblings:!0},tv={force:!0,suppressFlash:!0},uGe=class extends Kt{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,BC),this.createStrategy(r)});const t=iGe(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||i?this.stopEditing(void 0,BC):this.isEditing()&&(this.batch?n1(e,this.model.getEditPositions()):this.stopEditing(void 0,cGe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,BC)):(this.stopEditing(void 0,BC),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,i=pV(n,e);if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){const i=XHe(this.beans,e,t,n,r);return i&&(this.strategy??(this.strategy=this.createStrategy())),i}shouldStopEditing(e,t,n="ui"){var r;return((r=this.strategy)==null?void 0:r.shouldStop(e,t,n))??null}shouldCancelEditing(e,t,n="ui"){var r;return((r=this.strategy)==null?void 0:r.shouldCancel(e,t,n))??null}validateEdit(){return pUe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??ev)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:i="ui",ignoreEventKey:s=!1,silent:a}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=qs(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const l=this.shouldStartEditing(e,r,n,i);if(l===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&!t.continueEditing&&this.stopEditing(void 0,{source:i}),l&&this.batch&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:r,source:i,ignoreEventKey:s,startedEdit:n,silent:a})}stopEditing(e,t){const n=this.prepareStopContext(e,t);if(!n)return!1;this.stopping=!0;let r=!1,{edits:i}=n;try{const s=this.processStopRequest(n);return r||(r=s.res),i=s.edits,this.finishStopEditing({...n,edits:i,params:t,position:e,res:r}),r}finally{this.stopping=!1}}prepareStopContext(e,t){const{event:n,cancel:r,source:i="ui",forceCancel:s,forceStop:a}=t||{};if(oGe.has(i)&&this.batch)return this.bulkRefresh(e),null;const o=this.committing?kne[i]:i;if(!(this.committing||this.isEditing(e)||this.batch&&this.model.hasEdits(e,ev))||!this.strategy||this.stopping)return null;const c=qs(this.beans,e);c&&(c.onEditorAttachedFuncs=[]);const d=!r&&(!!this.shouldStopEditing(e,n,o)||(this.committing||i==="paste")&&!this.batch)||(a??!1),f=r&&!!this.shouldCancelEditing(e,n,o)||(s??!1);return{cancel:r,cellCtrl:c??void 0,edits:this.model.getEditMap(!0),event:n,forceCancel:s,forceStop:a,position:e,source:i,treatAsSource:o,willCancel:f,willStop:d}}processStopRequest(e){var s;const{event:t,position:n,willCancel:r,willStop:i}=e;return i||r?this.handleStopOrCancel(e):this.shouldHandleMidBatchKey(t,n)?{res:!1,edits:this.handleMidBatchKey(t,n,e)}:(UA(this.beans,{persist:!0}),this.batch&&((s=this.strategy)==null||s.cleanupEditors(n)),{res:!1,edits:this.model.getEditMap()})}handleStopOrCancel(e){var f;const{beans:t,model:n}=this,{cancel:r,edits:i,event:s,source:a,willCancel:o,willStop:l}=e;UA(t,{persist:!0,isCancelling:o||r,isStopping:l});const c=n.getEditMap(),d=this.processEdits(c,r,a);(f=this.strategy)==null||f.stop(r,s),this.clearValidationIfNoOpenEditors();for(const p of d)n.clearEditValue(p);this.bulkRefresh(void 0,i);for(const p of n.getEditPositions(c)){const m=qs(t,p),w=Ah(p);m==null||m.refreshCell({force:!0,suppressFlash:!w})}return{res:l,edits:c}}shouldHandleMidBatchKey(e,t){var n;return e instanceof KeyboardEvent&&this.batch&&!!((n=this.strategy)!=null&&n.midBatchInputsAllowed(t))&&this.isEditing(t,{withOpenEditor:!0})}handleMidBatchKey(e,t,n){var f;const{beans:r,model:i}=this,{cellCtrl:s,edits:a}=n,{key:o}=e,l=o===Rt.ENTER,c=o===Rt.ESCAPE,d=o===Rt.TAB;return l||d||c?(l||d?UA(r,{persist:!0}):c&&this.revertSingleCellEdit(s),this.batch?(f=this.strategy)==null||f.cleanupEditors():n1(r,i.getEditPositions(),{event:e,cancel:c}),e.preventDefault(),this.bulkRefresh(t,a,{suppressFlash:!0}),i.getEditMap()):a}finishStopEditing({cellCtrl:e,edits:t,params:n,position:r,res:i,willCancel:s,willStop:a}){const o=this.beans;i&&r&&this.model.removeEdits(r),this.navigateAfterEdit(n,e==null?void 0:e.cellPosition),T2(o),this.clearValidationIfNoOpenEditors(),this.bulkRefresh();const{rowRenderer:l,formula:c}=o;s&&l.refreshRows({rowNodes:Array.from(t.keys())}),this.batch&&(c?c.refreshFormulas(!0):l.refreshRows({suppressFlash:!0,force:!0}),i&&a&&this.dispatchBatchEvent("batchEditingStopped",t))}clearValidationIfNoOpenEditors(){this.model.hasEdits(void 0,{withOpenEditor:!0})||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap())}navigateAfterEdit(e,t){var c;if(!e||!t)return;const{event:n,suppressNavigateAfterEdit:r}=e;if(!(n instanceof KeyboardEvent)||r)return;const{key:s,shiftKey:a}=n,o=this.gos.get("enterNavigatesVerticallyAfterEdit");if(s!==Rt.ENTER||!o)return;const l=a?Rt.UP:Rt.DOWN;(c=this.beans.navigation)==null||c.navigateToNextCell(null,l,t,!1)}processEdits(e,t=!1,n){const r=Array.from(e.keys()),i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const a of r){const o=e.get(a);for(const l of o.keys()){const c=o.get(l),d={rowNode:a,column:l},f=Ah(c);!t&&f&&!i&&(this.setNodeDataValue(a,l,c.pendingValue,void 0,n)||s.push(d))}}return s}setNodeDataValue(e,t,n,r,i="edit"){const{beans:s}=this,a=qs(s,{rowNode:e,column:t}),o=aGe.has(i)?"edit":i;a&&(a.suppressRefreshCell=!0),this.committing=!0;const l=e.setDataValue(t,n,o);return this.committing=!1,a&&(a.suppressRefreshCell=!1),r&&(a==null||a.refreshCell(tv)),l}setEditMap(e,t){var r;this.strategy??(this.strategy=this.createStrategy()),(r=this.strategy)==null||r.setEditMap(e,t),this.bulkRefresh();let n=tv;t!=null&&t.forceRefreshOfEditCellsOnly&&(n={...dGe(e),...tv}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:i}=n,{rowIndex:s,rowPinned:a,data:o}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:a,column:t,source:"api",data:o,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){var o;const{beans:r,gos:i}=this,{editModelSvc:s,rowModel:a}=r;sa(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&((o=s==null?void 0:s.getEditMap(!1))==null||o.forEach((l,c)=>{for(const d of l.keys())this.refCell({rowNode:c,column:d},l.get(d),n)})))}refCell({rowNode:e,column:t},n,r={}){var f,p,m;const{beans:i,gos:s}=this,a=new Set([e]),o=new Set,l=e.pinnedSibling;l&&a.add(l);const c=e.sibling;c&&o.add(c);let d=e.parent;for(;d;)(f=d.sibling)!=null&&f.footer&&s.get("groupTotalRow")||!d.parent&&d.sibling&&s.get("grandTotalRow")?o.add(d.sibling):o.add(d),d=d.parent;for(const w of a)this.dispatchEditValuesChanged({rowNode:w,column:t},n);for(const w of a)(p=qs(i,{rowNode:w,column:t}))==null||p.refreshCell(r);for(const w of o)(m=qs(i,{rowNode:w,column:t}))==null||m.refreshCell(r)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e,{gos:r,beans:i}=this;if(n.group){if(r.get("treeData")){if(!n.data&&!r.get("enableGroupEdit"))return!1}else if(!r.get("enableGroupEdit"))return!1}const s=pV(r)==="fullRow"?ZHe(i,e,t):DB(i,e,t);return s&&(this.strategy??(this.strategy=this.createStrategy())),s}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){var r,i,s,a;if(this.hasValidationErrors(e)){const o=qs(this.beans,e);return this.cellEditingInvalidCommitBlocks()?((r=t==null?void 0:t.preventDefault)==null||r.call(t),n&&(!(o!=null&&o.hasBrowserFocus())&&(o==null||o.focusCell()),(a=(s=(i=o==null?void 0:o.comp)==null?void 0:i.getCellEditor())==null?void 0:s.focusIn)==null||a.call(s)),"block-stop"):(o&&this.revertSingleCellEdit(o),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){var r,i,s,a;const n=qs(this.beans,e);(r=n==null?void 0:n.comp)!=null&&r.getCellEditor()&&(n1(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),F1(this.beans,e,{silent:!0}),Kp(this.beans),n==null||n.refreshCell(tv),t&&(n==null||n.focusCell(),(a=(s=(i=n==null?void 0:n.comp)==null?void 0:i.getCellEditor())==null?void 0:s.focusIn)==null||a.call(s)))}hasValidationErrors(e){var r;Kp(this.beans);const t=qs(this.beans,e);t&&(t.refreshCell(tv),(r=t.rowCtrl.rowEditStyleFeature)==null||r.applyRowStyles());let n=!1;return e!=null&&e.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){var o;let i;const s=this.isEditing(),a=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof r1&&s&&(i=(o=this.strategy)==null?void 0:o.moveToNextEditingCell(e,t,n,r,a)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!a&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const a=this.model.getEdit({rowNode:i,column:t});a&&(r=a)}const s=n?(r==null?void 0:r.editorValue)??(r==null?void 0:r.pendingValue):r==null?void 0:r.pendingValue;return s===Hu||!r?(r==null?void 0:r.sourceValue)??this.valueSvc.getValue(t,e,!1,"api"):s}addStopEditingWhenGridLosesFocus(e){cUe(this,this.beans,e)}createPopupEditorWrapper(e){return new YHe(e)}setDataValue(e,t,n){var r;try{if((!this.isEditing()||this.committing)&&!lGe.has(n))return;const{beans:i}=this;this.strategy??(this.strategy=this.createStrategy());const s=this.batch?"ui":this.committing?n??"api":"api";if(!n||sGe.has(n))return I2(i,e,t,n,void 0,{persist:!0}),this.batch?(this.cleanupEditors(),T2(i),this.bulkRefresh(),!0):this.setNodeDataValue(e.rowNode,e.column,t,!0,n);const a=this.model.getEdit(e);if(a){if(a.pendingValue===t)return!1;if(a.sourceValue!==t)return I2(i,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:s,suppressNavigateAfterEdit:!0}),!0;if(a.sourceValue===t)return(r=i.editModelSvc)==null||r.removeEdits(e),this.dispatchEditValuesChanged(e,{...a,pendingValue:t}),!0}return I2(i,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:s,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){hUe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){const{model:n}=this;if(!this.batch||!n.hasRowEdits(e.rowNode,ev))return;const{rowNode:i}=e,{compDetails:s,valueToDisplay:a}=t;if(s){const{params:o}=s;return o.data=n.getEditRowDataValue(i,ev),{compDetails:s}}return{valueToDisplay:a}}cleanupEditors(){var e;(e=this.strategy)==null||e.cleanupEditors()}dispatchCellEvent(e,t,n,r){var i;(i=this.strategy)==null||i.dispatchCellEvent(e,t,n,r)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Fr(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){var f,p;if(!n||n.length===0)return;const{beans:r,rangeSvc:i,valueSvc:s}=this,{formula:a}=r;UA(r,{persist:!0});const o=this.model.getEditMap(!0);let l=(p=(f=o.get(e))==null?void 0:f.get(t))==null?void 0:p.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"});const c=(a==null?void 0:a.isFormula(l))??!1;n.forEach(m=>{const w=m.columns.some(y=>y==null?void 0:y.isAllowFormula());if(i==null||i.forEachRowInRange(m,y=>{const C=_f(r,y);if(C===void 0)return;const T=o.get(C)??new Map;let k=l;for(const R of m.columns){if(!R)continue;const P=!!c&&R.isAllowFormula();if(this.isCellEditable({rowNode:C,column:R},"api")){const U=s.getValue(R,C,!0,"api");let O=s.parseValue(R,C??null,k,U);Number.isNaN(O)&&(O=null),T.set(R,{editorValue:void 0,pendingValue:O,sourceValue:U,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}P&&(k=a==null?void 0:a.updateFormulaByOffset({value:k,columnDelta:1}))}T.size>0&&o.set(C,T),c&&w&&(l=a==null?void 0:a.updateFormulaByOffset({value:l,rowDelta:1}))}),this.setEditMap(o),this.batch){this.cleanupEditors(),T2(r),this.bulkRefresh();return}this.committing=!0,this.stopEditing(void 0,{source:"bulk"}),this.committing=!1,this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const d=qs(r,{rowNode:e,column:t});d&&d.focusCell(!0)}createCellStyleFeature(e){return new eGe(e,this.beans)}createRowStyleFeature(e){return new tGe(e,this.beans)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:i}=n,s=new Map;for(let{colId:a,column:o,colKey:l,rowIndex:c,rowPinned:d,newValue:f,state:p}of e){const m=a?r.getCol(a):l?r.getCol(l):o;if(!m)continue;const w=_f(n,{rowIndex:c,rowPinned:d});if(!w)continue;const y=i.getValue(m,w,!0,"api");if(!(t!=null&&t.forceRefreshOfEditCellsOnly)&&!Ah({pendingValue:f,sourceValue:y})&&p!=="editing")continue;let C=s.get(w);C||(C=new Map,s.set(w,C)),f===void 0&&(f=Hu),C.set(m,{editorValue:void 0,pendingValue:f,sourceValue:y,state:p??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(s,t)}onCellFocused(e){var s;const t=qs(this.beans,e);if(!t||!this.isEditing(t,ev))return;const n=this.model.getEdit(t);if(!n||!Ah(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");(s=this.beans.ariaAnnounce)==null||s.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return qs(this.beans,e)}};function dGe(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function pV(e,t){return t??e.get("editType")??"singleCell"}var Bne=class extends Kt{postConstruct(){var e,t;this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:(e=this.onCellFocusChanged)==null?void 0:e.bind(this),cellFocusCleared:(t=this.onCellFocusChanged)==null?void 0:t.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=qs(i,n));const{gos:a,editModelSvc:o}=i,l=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:d,rowPinned:f}=e,p={column:c,rowNode:_f(i,{rowIndex:d,rowPinned:f})},m=a.get("invalidEditValueMode")==="block";if(m)return;const w=!m,y=!!(o!=null&&o.getCellValidationModel().hasCellValidation(p)),C=w&&y;(n||l?r.stopEditing(void 0,{cancel:C,source:l&&w?"api":void 0,event:s}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t==null||t.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){var i,s;const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};for(const a of n){r.all.push(a);const o=this.model.getCellValidationModel().getCellValidation(a);if((((i=o==null?void 0:o.errorMessages)==null?void 0:i.length)??0)>0){r.fail.push(a);continue}r.pass.push(a)}if(e)for(const a of n)_w(this.beans,a,{cancel:e}),this.model.stop(a);else{const a=this.processValidationResults(r);if(a.destroy.length>0)for(const o of a.destroy)_w(this.beans,o,{event:t,cancel:e}),this.model.stop(o);if(a.keep.length>0)for(const o of a.keep){const l=qs(this.beans,o);(s=this.editSvc)!=null&&s.cellEditingInvalidCommitBlocks()||l&&this.editSvc.revertSingleCellEdit(l)}}return!0}cleanupEditors({rowNode:e}={},t){UA(this.beans,{persist:!1});const n=this.model.getEditPositions(),r=[];if(e)for(const i of n)i.rowNode!==e&&r.push(i);else for(const i of n)r.push(i);n1(this.beans,r),T2(this.beans,t)}setFocusOutOnEditor(e){var t,n,r;(r=(n=(t=e.comp)==null?void 0:t.getCellEditor())==null?void 0:n.focusOut)==null||r.call(n)}setFocusInOnEditor(e){const t=e.comp,n=t==null?void 0:t.getCellEditor();if(n!=null&&n.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>{var i,s;return(s=(i=t==null?void 0:t.getCellEditor())==null?void 0:i.focusIn)==null?void 0:s.call(i)})}}setupEditors(e){const{event:t,ignoreEventKey:n=!1,startedEdit:r,position:i,cells:s=this.model.getEditPositions()}=e,a=t instanceof KeyboardEvent&&!n&&t.key||void 0;dUe(this.beans,s,i,a,t,r)}dispatchCellEvent(e,t,n,r){const i=qs(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t,n){if(n)return;const r=AE(this.beans,e);r&&this.eventSvc.dispatchEvent(r.createRowEvent(t))}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&(n==="ui"||n==="edit")?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===Rt.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===Rt.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){var r;t!=null&&t.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((i,s)=>{i.forEach((a,o)=>{a.state==="editing"&&n.push({...a,rowNode:s,column:o})})}),t!=null&&t.update&&(e=new Map([...this.model.getEditMap(),...e])),(r=this.model)==null||r.setEditMap(e),n.length>0){const i=n.at(-1),s=i.pendingValue===Hu?void 0:i.pendingValue;this.start({position:i,event:new KeyboardEvent("keydown",{key:s}),source:"api"});const a=qs(this.beans,i);a&&this.setFocusInOnEditor(a)}}destroy(){this.cleanupEditors(),super.destroy()}},hGe=class extends Bne{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!AE(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:n,startedEdit:r,event:i,ignoreEventKey:s}=e,{rowNode:a}=t;this.rowNode!==a&&super.cleanupEditors(t);const o=this.beans.visibleCols.allCols,l=[],c=[];for(const d of o)d.isCellEditable(a)&&c.push(d);if(c.length!=0){this.dispatchRowEvent({rowNode:a},"rowEditingStarted",n),this.startedRows.push(a);for(const d of c){const f={rowNode:a,column:d};l.push(f),this.model.hasEdits(f)||this.model.start(f)}this.rowNode=a,this.setupEditors({cells:l,position:t,startedEdit:r,event:i,ignoreEventKey:s})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){var i;const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];if(e||this.model.getEditMap().forEach((s,a)=>{if(!(!s||s.size===0)){for(const o of s.values())if(Ah(o)){r.push(a);break}}}),Kp(this.beans),!e&&((i=this.editSvc)==null?void 0:i.checkNavWithValidation({rowNode:n}))==="block-stop")return!1;super.stop(e,t);for(const s of r)this.dispatchRowEvent({rowNode:s},"rowValueChanged");return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if((n==null?void 0:n.rowIndex)===t||e.sourceEvent instanceof KeyboardEvent)return;const r=qs(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(const n of this.startedRows)this.dispatchRowEvent({rowNode:n},"rowEditingStopped"),this.destroyEditorsForRow(n);this.startedRows.length=0}destroyEditorsForRow(e){var n;const t=AE(this.beans,{rowNode:e});if(t)for(const r of t.getAllCellCtrls())(n=r.comp)!=null&&n.getCellEditor()&&_w(this.beans,r,void 0,r)}moveToNextEditingCell(e,t,n,r="ui",i=!1){var p,m,w,y;const s=e.cellPosition;let a;this.model.suspend(!0);try{a=(p=this.beans.navigation)==null?void 0:p.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(a===!1)return null;if(a==null)return!1;const o=a.cellPosition,l=e.isCellEditable(),c=a.isCellEditable(),d=o&&s.rowIndex===o.rowIndex&&s.rowPinned===o.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const f=this.gos.get("suppressStartEditOnTab");return c&&!i?f?a.focusCell(!0,n):((m=a.comp)!=null&&m.getCellEditor()||F1(this.beans,a,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(a),a.focusCell(!1,n)):(c&&i&&this.setFocusInOnEditor(a),a.focusCell(!0,n)),!d&&!i&&((w=this.editSvc)==null||w.stopEditing({rowNode:e.rowNode},{event:n}),this.cleanupEditors(a,!0),f?a.focusCell(!0,n):this.editSvc.startEditing(a,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),(y=e.rowCtrl)==null||y.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{var s;if(n!=="editing")return;const i=qs(this.beans,{rowNode:t,column:r});i&&!((s=i.comp)!=null&&s.getCellEditor())&&F1(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},fGe=class extends Bne{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:n,event:r,ignoreEventKey:i}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:r,ignoreEventKey:i})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:s}=e,a=_f(this.beans,{rowIndex:r,rowPinned:s}),o=IB(i),l=t.getCol(o),c=e.previousParams;if(c){const d=IB(c.column);if((c==null?void 0:c.rowIndex)===r&&d===o&&(c==null?void 0:c.rowPinned)===s)return}n!=null&&n.isEditing({rowNode:a,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",i=!1){var w,y,C,T,k,R;const s=this.beans.focusSvc.getFocusedCell();s&&(e=Im(this.beans,s)??e);const a=e.cellPosition;let o;const l=this.beans.gos.get("editType")==="fullRow";l&&this.model.suspend(!0),i||(e.eGui.focus(),(y=this.editSvc)==null||y.stopEditing(e,{source:(w=this.editSvc)!=null&&w.isBatchEditing()?"ui":"api",event:n}));try{o=(C=this.beans.navigation)==null?void 0:C.findNextCellToFocusOn(a,{backwards:t,startEditing:!0})}finally{l&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const c=o.cellPosition,d=e.isCellEditable(),f=o.isCellEditable(),p=c&&a.rowIndex===c.rowIndex&&a.rowPinned===c.rowPinned;d&&!i&&this.setFocusOutOnEditor(e);const m=this.gos.get("suppressStartEditOnTab");if(!p&&!i&&(super.cleanupEditors(o,!0),m?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),f&&!i){if(o.focusCell(!1,n),m)o.focusCell(!0,n);else if(!((T=o.comp)!=null&&T.getCellEditor())){const P=(k=this.editSvc)==null?void 0:k.isEditing(o,{withOpenEditor:!0});F1(this.beans,o,{event:n,cellStartedEdit:!0,silent:P}),this.setFocusInOnEditor(o),this.cleanupEditors(o)}}else f&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n);return(R=e.rowCtrl)==null||R.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},x0={moduleName:"EditCore",version:Dn,beans:[lUe,uGe],apiFunctions:{getEditingCells:GHe,getEditRowValues:HHe,getCellEditorInstances:uUe,startEditingCell:zHe,stopEditing:VHe,isEditing:QHe,validateEdit:WHe},dynamicBeans:{singleCell:fGe,fullRow:hGe},dependsOn:[cN,Cne],css:[xHe]},AGe={moduleName:"UndoRedoEdit",version:Dn,beans:[mHe],apiFunctions:{undoCellEditing:jHe,redoCellEditing:UHe,getCurrentUndoSize:KHe,getCurrentRedoSize:qHe},dependsOn:[x0]},pGe={moduleName:"TextEditor",version:Dn,userComponents:{agCellEditor:AV,agTextCellEditor:AV},dependsOn:[x0]},gGe={moduleName:"NumberEditor",version:Dn,userComponents:{agNumberCellEditor:{classImp:BHe}},dependsOn:[x0]},mGe={moduleName:"DateEditor",version:Dn,userComponents:{agDateCellEditor:CHe,agDateStringCellEditor:NHe},dependsOn:[x0]},xGe={moduleName:"CheckboxEditor",version:Dn,userComponents:{agCheckboxCellEditor:wHe},dependsOn:[x0]},vGe={moduleName:"SelectEditor",version:Dn,userComponents:{agSelectCellEditor:_He},dependsOn:[x0]},wGe={moduleName:"LargeTextEditor",version:Dn,userComponents:{agLargeTextCellEditor:IHe},dependsOn:[x0]},bGe={moduleName:"CustomEditor",version:Dn,dependsOn:[x0]},yGe=class extends Kt{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Xm(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),z_e(e))}createColumns(e,t){var p,m;const n=()=>{var w;iE(this.beans,(w=this.columns)==null?void 0:w.tree),this.columns=null},r=e.treeDepth,s=(((p=this.columns)==null?void 0:p.treeDepth)??-1)==r,a=this.generateSelectionCols();if(Q_e(a,((m=this.columns)==null?void 0:m.list)??[])&&s)return;n();const{colGroupSvc:l}=this.beans,c=(l==null?void 0:l.findDepth(e.tree))??0,d=(l==null?void 0:l.balanceTreeForAutoCols(a,c))??[];this.columns={list:a,tree:d,treeDepth:c,map:{}},t(w=>{if(!w)return null;const y=w.filter(C=>!p0(C));return[...a,...y]})}updateColumns(e){var r;const t=Xm(e.source),{beans:n}=this;for(const i of((r=this.columns)==null?void 0:r.list)??[]){const s=this.createSelectionColDef(e.currentValue);i.setColDef(s,null,t),vd(n,{state:[K_e(s,i.colId)]},t)}}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(n=>Ov(n,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var a,o;const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!vp(e))return!1;const r=(((o=(a=t.autoColSvc)==null?void 0:a.getColumns())==null?void 0:o.length)??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!qm(n),s=m2(n);return i||s}createSelectionColDef(e){const{gos:t}=this,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...a}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(o,l,c,d){const f=c.isSelected(),p=d.isSelected();return f===p?0:f?1:-1},editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,pinned:null,...a,colId:Nee,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new sg(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?qm(t):void 0,i=e&&typeof e!="string"?qm(e):void 0,s=r!==i,a=t&&typeof t!="string"?m2(t):void 0,o=e&&typeof e!="string"?m2(e):void 0,l=a!==o,c=eE(e),d=eE(t);(s||l||c!==d)&&this.beans.colModel.refreshAll(n)}destroy(){var e;iE(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e,t,n){var l,c;if(!((l=this.columns)!=null&&l.list.length))return;const r=e.length+t.length+n.length;if(r===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let d;switch(i.pinned){case"left":case!0:d=e;break;case"right":d=n;break;default:d=t}d&&Ch(d,i)};(((c=this.beans.rowNumbersSvc)==null?void 0:c.getColumn(Tee))?2:1)===r&&s()}},CGe=':where(.ag-selection-checkbox) .ag-checkbox-input-wrapper{&:before{content:"";cursor:pointer;inset:-8px;position:absolute}}';function SGe(e,t){var a;if(!t.nodes.every(o=>o.rowPinned&&!Eb(o)?(gn(59),!1):o.id===void 0?(gn(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;(a=e.selectionSvc)==null||a.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function EGe(e,t,n="apiSelectAll"){var r;(r=e.selectionSvc)==null||r.selectAllRowNodes({source:n,selectAll:t})}function NGe(e,t,n="apiSelectAll"){var r;(r=e.selectionSvc)==null||r.deselectAllRowNodes({source:n,selectAll:t})}function TGe(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"filtered"})}function IGe(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"filtered"})}function FGe(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"currentPage"})}function kGe(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function BGe(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function RGe(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var _Ge=class extends lLe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=tE(e),this.groupSelectsDescendants=Iw(e),this.groupSelectsFiltered=rE(e)==="filteredDescendants",this.masterSelectsDetail=rG(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Iw(e),n=tE(e),r=rE(e)==="filteredDescendants";this.masterSelectsDetail=rG(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(r==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in r)return r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n);{const i=r.checkFilteredNodes?_ne(r.node):r.newValue;return this.setNodesSelected({nodes:[r.node],newValue:i,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s,keepDescendants:a=!1}){var c;if(r.length===0)return 0;const{gos:o}=this;if(!vp(o)&&e)return gn(132),0;if(r.length>1&&!this.isMultiSelect())return gn(130),0;let l=0;for(let d=0;d<r.length;d++){const f=r[d],p=om(f);if(p.rowPinned&&!Eb(p)){gn(59);continue}if(p.id===void 0){gn(60);continue}if(e&&f.destroyed)continue;this.groupSelectsFiltered&&p.group&&!o.get("treeData")||this.selectRowNode(p,e,i,s)&&(this.detailSelection.delete(p.id),l++),this.groupSelectsDescendants&&((c=p.childrenAfterGroup)!=null&&c.length)&&(l+=this.selectChildren(p,e,s))}return n||(r.length===1&&s==="api"&&this.selectionCtx.setRoot(om(r[0])),e&&(t||!this.isMultiSelect())&&(l+=this.clearOtherNodes(om(r[0]),a,s)),l>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),l}selectRange(e,t,n){let r=0;return e.forEach(i=>{const s=om(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!sa(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new Rw(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(a=>{if(a!==i){const o=this.calculateSelectedFromChildren(a);s=this.selectRowNode(a,o===null?!1:o,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{const a=s.id==e.id;if((t?!PGe(e,s):!0)&&!a){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const a=this.calculateSelectedFromChildren(s);this.selectRowNode(s,a===null?!1:a,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new c0(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!sa(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let a=0,o=s.length;a<o;a++){const l=s[a];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=sa(this.gos);let r=!1;const i=s=>{const a=this.selectRowNode(om(s),!1,void 0,e);r||(r=a)};if(t==="currentPage"||t==="filtered"){if(!n){es(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return Rne(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const s=a=>{var o;n(a),(o=a.childrenAfterFilter)==null||o.forEach(s)};s(i);return}this.groupSelectsDescendants||n(i)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const a=n.getRow(s);a&&e(a)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!vp(t)){gn(132);return}if(N_e(t)&&!nE(t)){gn(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(a=>{const o=this.selectRowNode(om(a),!0,void 0,r);s||(s=o)}),n.selectAll=!0,sa(t)&&this.groupSelectsDescendants){const a=this.updateGroupsFromChildrenSelections(r);s||(s=a)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){es(103);return}const r=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){return sa(this.beans.gos)}updateSelectable(e){var l;const{gos:t,rowModel:n}=this.beans;if(!vp(t))return;const r="selectableChanged",i=e!==void 0,s=sa(t)&&this.groupSelectsDescendants,a=[],o=c=>{var f;if(i&&!c.group)return;if(s&&c.group){const p=((f=c.childrenAfterGroup)==null?void 0:f.some(m=>m.selectable))??!1;this.setRowSelectable(c,p,!0);return}!this.updateRowSelectable(c,!0)&&c.isSelected()&&a.push(c)};if(s){if(e===void 0){const c=n.rootNode;e=c?new Rw(!1,c):void 0}e==null||e.forEachChangedNodeDepthFirst(o,!i,!i)}else n.forEachNode(o);a.length&&this.setNodesSelected({nodes:a,newValue:!1,source:r}),!i&&s&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,r))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var s,a;if(!this.masterSelectsDetail)return;const n=(a=(s=e.detailNode)==null?void 0:s.detailGridInfo)==null?void 0:a.api;if(!n)return;const r=DGe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const o=this.detailSelection.get(e.id)??new Set;for(const l of n.getSelectedNodes())o.add(l.id);this.detailSelection.set(e.id,o)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!nE(t)){gn(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const a=n.getRowNode(s);a&&i.push(a)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function om(e){return Eb(e)?e.pinnedSibling:e.footer?e.sibling:e}function DGe(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),Rne(t,n)}function Rne(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function PGe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function _ne(e){var r;const t=e.isSelected()===!1,n=((r=e.childrenAfterFilter)==null?void 0:r.some(_ne))??!1;return t||n}var MGe={moduleName:"SharedRowSelection",version:Dn,beans:[yGe],css:[CGe],apiFunctions:{setNodesSelected:SGe,selectAll:EGe,deselectAll:NGe,selectAllFiltered:TGe,deselectAllFiltered:IGe,selectAllOnCurrentPage:FGe,deselectAllOnCurrentPage:kGe,getSelectedNodes:BGe,getSelectedRows:RGe}},LGe={moduleName:"RowSelection",version:Dn,rowModels:["clientSide","infinite","viewport"],beans:[_Ge],dependsOn:[MGe]};function OGe(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function jGe(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function Dne(e){var t;(t=e.rowModel)==null||t.onRowHeightChanged()}function Pne(e){var t,n;if((t=e.rowAutoHeight)!=null&&t.active){gn(3);return}(n=e.rowModel)==null||n.resetRowHeights()}function UGe(e,t,n){var i,s;const r=L7e(e);if(r){if(((i=e.rowGroupColsSvc)==null?void 0:i.columns.length)===0){if(t<0){es(238);return}r.setRowCount(t,n);return}es(28);return}(s=lN(e))==null||s.setRowCount(t,n)}function HGe(e){var t;return q1(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function GGe(e){return e.rowModel.isLastRowIndexKnown()}var VGe={moduleName:"CsrmSsrmSharedApi",version:Dn,apiFunctions:{expandAll:OGe,collapseAll:jGe}},QGe={moduleName:"RowModelSharedApi",version:Dn,apiFunctions:{onRowHeightChanged:Dne,resetRowHeights:Pne}},zGe={moduleName:"SsrmInfiniteSharedApi",version:Dn,apiFunctions:{setRowCount:UGe,getCacheBlockState:HGe,isLastRowIndexKnown:GGe}},WGe=class extends Kt{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{var s;if(!r){es(18),t||es(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?(s=i.current)==null?void 0:s.api:(i.api||es(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(const t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":gn(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;if(t)for(const n of e.columnGroups){let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:a}=r;if(t&&(n=a.getColDefCol(t.getColId())),t&&!n)return;const o=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(p=>({colId:p.colId}));vd(r,{state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));vd(r,{state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));vd(r,{state:f},"alignedGridChanged")}break;case"columnResized":{const d=e,f={};for(const p of o)f[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()};for(const p of d.flexColumns??[])f[p.getId()]&&delete f[p.getId()];i==null||i.setColumnWidths(Object.values(f),!1,d.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();for(const d of this.getAlignedGridApis())d.setGridOption("alwaysShowVerticalScroll",c)}},KGe={moduleName:"AlignedGrids",version:Dn,beans:[WGe],dependsOn:[Gte]},qGe=class extends Kt{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},gV(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){var o;this.dispatchRowDataUpdateStarted(e),this.destroyAllNodes();const t=gV(this.rootNode),n=new Array(e.length);t._leafs=n;let r=0;const i=(o=this.beans.groupStage)==null?void 0:o.getNestedDataGetter(),s=i?new Set:null,a=(l,c)=>{const d=l.level+1;for(let f=0,p=c.length;f<p;++f){const m=c[f];if(!m)continue;const w=this.createRowNode(m,d);if(w.sourceRowIndex=r,n[r++]=w,s&&!s.has(m)){s.add(m),w.treeParent=l;const y=i(m);y&&a(w,y)}}};a(t,e),n.length=r}destroyAllNodes(){const{selectionSvc:e,pinnedRowModel:t,groupStage:n}=this.beans;e==null||e.reset("rowDataChanged"),t!=null&&t.isManual()&&t.reset(),n==null||n.clearNonLeafs();const r=this.rootNode._leafs;if(r)for(let i=0,s=r.length;i<s;++i)r[i]._destroy(!1);this.allNodesMap=Object.create(null),this.nextId=0}setImmutableRowData(e,t){var T;const{rootNode:n,gos:r}=this;this.dispatchRowDataUpdateStarted(t);const i=E1(r),s=e.changedRowNodes,{adds:a,updates:o}=s,l=new Set,c=[],d=(T=this.beans.groupStage)==null?void 0:T.getNestedDataGetter();let f=r.get("suppressMaintainUnsortedOrder")?void 0:!1,p=-1,m=!1;const w=(k,R)=>{if(!f&&f!==void 0){const P=k.sourceRowIndex;f=P<=p,p=P}k.data!==R&&(k.updateData(R),a.has(k)||o.add(k),!k.selectable&&k.isSelected()&&c.push(k))},y=(k,R,P)=>{for(let U=0,O=R.length;U<O;++U){const L=R[U];if(!L)continue;let K=this.getRowNode(i({data:L,level:P}));if(K?(w(K,L),m||(m=!!d&&K.treeParent!==k)):(K=this.createRowNode(L,P),a.add(K)),!d||l.has(K)){l.add(K);continue}l.add(K),K.treeParent=k;const j=d(L);j&&y(K,j,P+1)}};y(n,t,0);const C=this.deleteUnusedNodes(l,s,c,!!e.animate)||f||a.size>0;if(C){const k=n._leafs??(n._leafs=[]);f===void 0?ZGe(k,l,s):JGe(k,l)&&(s.reordered=!0)}(C||m||o.size)&&(e.rowDataUpdated=!0,this.deselect(c))}deleteUnusedNodes(e,{removals:t},n,r){const i=this.rootNode._leafs;for(let s=0,a=i.length;s<a;s++){const o=i[s];e.has(o)||this.destroyNode(o,r)&&(t.push(o),o.isSelected()&&n.push(o))}return t.length>0}updateRowData(e,t,n){var l;if(this.dispatchRowDataUpdateStarted(e.add),(l=this.beans.groupStage)!=null&&l.getNestedDataGetter())return gn(268),{remove:[],update:[],add:[]};const r=[],i=E1(this.gos),s=this.executeRemove(i,e,t,r,n),a=this.executeUpdate(i,e,t,r),o=this.executeAdd(e,t);return this.deselect(r),{remove:s,update:a,add:o}}executeRemove(e,{remove:t},{adds:n,updates:r,removals:i},s,a){const o=this.rootNode._leafs,l=o==null?void 0:o.length,c=t==null?void 0:t.length;if(!c||!l)return[];let d=0,f=l,p=0;const m=new Array(c);for(let w=0;w<c;++w){const y=this.lookupNode(e,t[w]);if(!y)continue;const C=y.sourceRowIndex;C<f&&(f=C),C>p&&(p=C),m[d++]=y,this.destroyNode(y,a)&&(y.isSelected()&&s.push(y),n.delete(y)||(r.delete(y),i.push(y)))}return m.length=d,d&&XGe(o,f,p),m}executeUpdate(e,{update:t},{adds:n,updates:r},i){const s=t==null?void 0:t.length;if(!s)return[];const a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=t[l],d=this.lookupNode(e,c);d&&(d.updateData(c),!d.selectable&&d.isSelected()&&i.push(d),a[o++]=d,n.has(d)||r.add(d))}return a.length=o,a}executeAdd(e,t){var n;const r=(n=this.rootNode)._leafs??(n._leafs=[]),i=r.length,s=e.add,a=s==null?void 0:s.length;if(!a)return[];const o=i+a;let l=this.sanitizeAddIndex(r,e.addIndex);if(l<i){for(let f=i-1,p=o-1;f>=l;--f){const m=r[f];m.sourceRowIndex=p,r[p--]=m}t.reordered=!0}r.length=o;const c=new Array(a),d=t.adds;for(let f=0;f<a;f++){const p=this.createRowNode(s[f],0);d.add(p),p.sourceRowIndex=l,r[l]=p,c[f]=p,l++}return c}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselect(e){var r;const t="rowDataChanged",n=this.beans.selectionSvc;e.length&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(r=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||r.call(n,t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:(n==null?void 0:n.getSelectedNodes())??null,serverSideState:null})}createRowNode(e,t){const n=new c0(this.beans);n.parent=this.rootNode,n.level=t,n.group=!1,n.expanded=!1,n.setDataAndId(e,String(this.nextId++));const r=n.id,i=this.allNodesMap;return i[r]&&gn(2,{nodeId:r}),i[r]=n,n}destroyNode(e,t){var s;if(!e._destroy(t))return!1;const n=e.id,r=this.allNodesMap;r[n]===e&&delete r[n];const i=e.pinnedSibling;return i&&((s=this.beans.pinnedRowModel)==null||s.pinRow(i,null)),!0}lookupNode(e,t){if(!e)return YGe(this.rootNode._leafs,t);const n=e({data:t,level:0}),r=this.allNodesMap[n];return r||(es(4,{id:n}),null)}sanitizeAddIndex(e,t){const n=e.length;if(typeof t!="number"||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);const r=this.gos;return t>0&&r.get("treeData")&&r.get("getDataPath")&&(t=$Ge(e,t)),t}},$Ge=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const i=e[n];if((i==null?void 0:i.rowIndex)==t-1)return n+1}return t},gV=e=>{var a;e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",((a=e._leafs)==null?void 0:a.length)!==0&&(e._leafs=[]);const t=[],n=[],r=[],i=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=r,e.childrenAfterFilter=i;const s=e.sibling;return s&&(s.childrenAfterGroup=t,s.childrenAfterSort=n,s.childrenAfterAggFilter=r,s.childrenAfterFilter=i,s.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},YGe=(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++){const i=e[n];if(i.data===t)return i}return es(5,{data:t}),null},XGe=(e,t,n)=>{t=Math.max(0,t);for(let r=t,i=e.length;r<i;++r){const s=e[r];r<=n&&s.destroyed||(s.sourceRowIndex=t,e[t++]=s)}e.length=t},JGe=(e,t)=>{const n=t.size;e.length=n;let r=0,i=!1,s=!1;for(const a of t){const o=a.sourceRowIndex;o===r?s||(s=i):(o>=0?s=!0:i=!0,a.sourceRowIndex=r,e[r]=a),++r}return s},ZGe=(e,t,{adds:n})=>{const r=e.length,i=t.size;i>r&&(e.length=i);let s=0;for(let a=0;a<r;++a){const o=e[a];o.destroyed||(s!==a&&(o.sourceRowIndex=s,e[s]=o),++s)}for(const a of n)a.sourceRowIndex<0&&(a.sourceRowIndex=s,e[s++]=a);e.length=s},eVe=4,tVe=(e,t,n,r,i)=>{const s=t.childrenAfterSort,a=t.childrenAfterAggFilter;if(!a)return s&&s.length>0?s:[];const o=a.length;if(o<=1)return(s==null?void 0:s.length)===o&&(o===0||s[0]===a[0])?s:a.slice();if(!s||o<=eVe)return e.doFullSortInPlace(a.slice(),i);const l=new Map,{updates:c,adds:d}=n,f=[];for(let m=0;m<o;++m){const w=a[m];c.has(w)||d.has(w)||!r.canSkip(w)?(l.set(w,~m),f.push(w)):l.set(w,m)}const p=f.length;return p===0?o===s.length?s:rVe(s,l,f):(f.sort((m,w)=>e.compareRowNodes(i,m,w)||~l.get(m)-~l.get(w)),p===o?f:nVe(e,i,f,s,l,o))},nVe=(e,t,n,r,i,s)=>{const a=new Array(s);let o=0,l=n[o],c,d=-1,f=0,p=0;const m=n.length,w=r.length;for(;;){if(d<0){if(f>=w)break;if(c=r[f++],d=i.get(c)??-1,d<0)continue}if((e.compareRowNodes(t,l,c)||~i.get(l)-d)<0){if(a[p++]=l,++o>=m)break;l=n[o]}else a[p++]=c,d=-1}for(;o<m;)a[p++]=n[o++];if(d<0)return a;for(a[p++]=c;f<w;){const y=r[f++];i.get(y)>=0&&(a[p++]=y)}return a},rVe=(e,t,n)=>{let r=0;n.length=t.size;for(let i=0,s=e.length;i<s;++i){const a=e[i];t.has(a)&&(n[r++]=a)}return n.length=r,n},Mne=e=>{const t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),!!t)for(let r=0,i=t.length-1;r<=i;r++){const s=t[r],a=r===0,o=r===i;s.firstChild!==a&&(s.firstChild=a,s.dispatchRowEvent("firstChildChanged")),s.lastChild!==o&&(s.lastChild=o,s.dispatchRowEvent("lastChildChanged")),s.childIndex!==r&&(s.childIndex=r,s.dispatchRowEvent("childIndexChanged"))}},iVe=class extends Kt{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e,t){const n=this.beans.sortSvc.getSortOptions(),r=n.length>0&&!!t&&this.gos.get("deltaSort"),{gos:i,colModel:s,rowGroupColsSvc:a,rowNodeSorter:o,rowRenderer:l,showRowGroupCols:c}=this.beans,d=i.get("groupMaintainOrder"),f=s.getCols().some(k=>k.isRowGroupActive()),p=a==null?void 0:a.columns,m=s.isPivotMode(),w=i.getCallback("postSortRows");let y=!1,C;const T=k=>{var O,L;const R=m&&k.leafGroup;let P=d&&f&&!k.leafGroup;P&&(C??(C=this.shouldSortContainsGroupCols(n)),P&&(P=!C));let U=null;if(P){let K=!1;if(p){const j=k.level+1;j<p.length&&(K=p[j].wasSortExplicitlyRemoved)}K||(U=sVe(k))}else!n.length||R||(r&&t?U=tVe(o,k,t,e,n):U=o.doFullSortInPlace(k.childrenAfterAggFilter.slice(),n));if(U||(U=((O=k.childrenAfterAggFilter)==null?void 0:O.slice())??[]),y||(y=((L=k.childrenAfterSort)==null?void 0:L[0])!==U[0]),k.childrenAfterSort=U,Mne(k),w){const K={nodes:k.childrenAfterSort};w(K)}};if(e==null||e.forEachChangedNodeDepthFirst(T),y&&i.get("groupHideOpenParents")){const k=c==null?void 0:c.columns;k!=null&&k.length&&l.refreshCells({columns:k,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(cf(this.gos)){for(let n=0;n<t;++n){const r=e[n].column;if(r.isPrimary()&&r.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},sVe=e=>{const t=e.childrenAfterSort,n=e.childrenAfterAggFilter,r=t==null?void 0:t.length,i=n==null?void 0:n.length;if(!r||!i)return null;const s=new Array(i),a=new Set;for(let l=0;l<i;++l)a.add(n[l]);let o=0;for(let l=0;l<r;++l){const c=t[l];a.delete(c)&&(s[o++]=c)}if(a.size===0&&o===r)return t;for(const l of a)s[o++]=l;return s.length=o,s},aVe=class extends Kt{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.formulaRows=[],this.rowDataUpdatedPending=!1,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingModel=!1,this.rowNodesCountReady=!1,this.stages=null,this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=jo(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){const e=this.beans,t=new c0(e);this.rootNode=t,this.nodeManager=this.createBean(new qGe(t));const n=()=>{var r;(r=this.beans.groupStage)==null||r.invalidateGroupCols(),this.refreshModel({step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")})};this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:()=>this.refreshModel({step:"pivot"}),columnPivotModeChanged:()=>this.refreshModel({step:"group"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),stylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){const{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(r=>!!r);this.stages=n;for(let r=n.length-1;r>=0;--r){const i=n[r];for(const s of i.refreshProps)t.set(s,r)}this.addManagedPropertyListeners([...t.keys(),"rowData"],r=>{var s;const i=(s=r.changeSet)==null?void 0:s.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const a=this.getRowIndexAtPixel(e),o=this.getRowIndexAtPixel(t),l=Math.max(a,n),c=Math.min(o,r);for(let d=l;d<=c;d++){const f=this.getRow(d);if(f.rowHeightEstimated){const p=a0(this.beans,f);f.setRowHeight(p.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){const{nodeManager:t,gos:n,beans:r}=this,i=r.groupStage;if(!t)return;const s=new Set(e),a=i==null?void 0:i.onPropChange(s);let o;s.has("rowData")?o=n.get("rowData"):a&&(o=i==null?void 0:i.extractData()),o&&!Array.isArray(o)&&(o=null,gn(1));const l={step:"nothing",changedProps:s};o&&(!a&&!this.isEmpty()&&o.length>0&&n.exists("getRowId")&&!n.get("resetRowDataOnUpdate")?(l.keepRenderedRows=!0,l.animate=!n.get("suppressAnimationFrame"),l.changedRowNodes=new E2,t.setImmutableRowData(l,o)):(l.rowDataUpdated=!0,l.newData=!0,t.setNewRowData(o),this.rowNodesCountReady=!0));const c=l.rowDataUpdated?"group":this.getRefreshedStage(e);c&&(l.step=c,this.refreshModel(l))}getRefreshedStage(e){const{stages:t,stagesRefreshProps:n}=this;if(!t)return null;const r=t.length;let i=r;for(let s=0,a=e.length;s<a&&i;++s)i=Math.min(i,n.get(e[s])??i);return i<r?t[i].step:null}setRowTopAndRowIndex(e){var a;const{beans:t,rowsToDisplay:n}=this,r=t.environment.getDefaultRowHeight();let i=0;const s=el(this.gos,"normal");for(let o=0,l=n.length;o<l;++o){const c=n[o],d=c.id;if(d!=null&&(e==null||e.add(d)),c.rowHeight==null){const f=a0(t,c,s,r);c.setRowHeight(f.height,f.estimated)}c.setRowTop(i),c.setRowIndex(o),i+=c.rowHeight}if((a=this.beans.formula)!=null&&a.active){const o=this.formulaRows;for(let l=0,c=o.length;l<c;++l){const d=o[l];d.formulaRowIndex=l}}}clearRowTopAndRowIndex(e,t){const n=e.active,r=a=>{(a==null?void 0:a.id)!=null&&!t.has(a.id)&&a.clearRowTopAndRowIndex()},i=a=>{r(a),r(a.detailNode),r(a.sibling);const o=a.childrenAfterGroup;if(!a.hasChildren()||!o)return;const l=a.level==-1;if(!(n&&!l&&!a.expanded))for(let d=0,f=o.length;d<f;++d)i(o[d])},s=this.rootNode;s&&i(s)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){var i,s;const{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;const r=(i=e.sibling)!=null&&i.displayed?1:0;return(((s=e.childrenAfterSort)==null?void 0:s.length)??0)+r}getTopLevelRowDisplayedIndex(e){const{beans:t,rootNode:n,rowsToDisplay:r}=this;if(!n||!r.length||r[0]===n)return e;const s=n.childrenAfterSort,a=l=>{let c=s[l];if(this.gos.get("groupHideOpenParents"))for(;c.expanded&&c.childrenAfterSort&&c.childrenAfterSort.length>0;)c=c.childrenAfterSort[0];return c.rowIndex},o=t.footerSvc;return o?o==null?void 0:o.getTopDisplayIndex(r,e,s,a):a(e)}getTopLevelIndexFromDisplayedIndex(e){var o;const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);i.footer&&(i=i.sibling);let s=i.parent;for(;s&&s!==t;)i=s,s=i.parent;const a=((o=t.childrenAfterSort)==null?void 0:o.indexOf(i))??-1;return a>=0?a:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:Km(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){const r=t.length===0||t.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:Km(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:Km(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Rw(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.length||t.adds.size)}refreshModel(e){var c,d;const{nodeManager:t,beans:n,eventSvc:r,started:i,refreshingModel:s}=this;if(!t)return;const a=!!e.rowDataUpdated,o=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&a));if(i&&a&&r.dispatchEvent({type:"rowDataUpdated"}),!i||s||n.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||(this.rowDataUpdatedPending=a);return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.refreshingModel=!0,(c=n.masterDetailSvc)==null||c.refreshModel(e),a&&e.step!=="group"&&((d=n.colFilter)==null||d.refreshModel()),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(o);case"pivot":this.doPivot(o);case"aggregate":this.doAggregate(o);case"filter_aggregates":this.doFilterAggregates(o);case"sort":this.doSort(o,e.changedRowNodes);case"map":this.doRowsToDisplay()}const l=new Set;this.setRowTopAndRowIndex(l),this.clearRowTopAndRowIndex(o,l),this.refreshingModel=!1,r.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e._leafs)!=null&&t.length)||!((n=this.beans.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getOverlayType(){var e;return this.isEmpty()?"noRows":(e=this.beans.filterManager)!=null&&e.isAnyFilterPresent()&&this.getRowCount()===0?"noMatchingRows":null}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=Iw(this.gos);return this.forEachNodeAfterFilterAndSort(a=>{if(r)return;if(n&&(a===t||a===e)&&(r=!0,s&&a.group)){Lne(i,a);return}if(!n){if(a!==t&&a!==e)return;n=!0,t===e&&(r=!0)}(!a.group||!s)&&i.push(a)}),i}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}getFormulaRow(e){return this.formulaRows[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let r=0,i=n-1;if(e<=0)return 0;if(t[i].rowTop<=e)return i;let a=-1,o=-1;for(;;){const l=Math.floor((r+i)/2),c=t[l];if(this.isRowInPixel(c,e)||(c.rowTop<e?r=l+1:c.rowTop>e&&(i=l-1),a===r&&o===i))return l;a=r,o=i}}isRowInPixel(e,t){const n=e.rowTop,r=n+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){var n;const t=(n=this.rootNode)==null?void 0:n._leafs;if(t)for(let r=0,i=t.length;r<i;++r)e(t[r],r)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){const t=this.rowsToDisplay;for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t,n){const{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!(i!=null&&i.columns.length)){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,a=>a.leafGroup?null:a[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const a=r===this.rootNode;if(a||e(r,s++),r.hasChildren()&&!r.footer){const o=n(r);if(o){const l=this.beans.footerSvc;s=(l==null?void 0:l.addTotalRows(s,r,e,t,a,"top"))??s;for(const c of o)s=this.depthFirstSearchRowNodes(e,t,n,c,s);return(l==null?void 0:l.addTotalRows(s,r,e,t,a,"bottom"))??s}}return s}doAggregate(e){var n;this.rootNode&&((n=this.beans.aggStage)==null||n.execute(e))}doFilterAggregates(e){const t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute(e);return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const n=this.beans.sortStage;if(n){n.execute(e,t);return}e.forEachChangedNodeDepthFirst(r=>{r.childrenAfterSort=r.childrenAfterAggFilter.slice(0),Mne(r)})}doGrouping(e){var i;const t=this.rootNode;if(!t)return;const n=this.beans.groupStage,r=n==null?void 0:n.execute(e);if(r===void 0){const s=t._leafs;t.childrenAfterGroup=s,t.updateHasChildren();const a=t.sibling;a&&(a.childrenAfterGroup=s)}(r||e.rowDataUpdated)&&((i=this.beans.colFilter)==null||i.refreshModel()),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){const t=this.beans.filterStage;if(t){t.execute(e);return}e.forEachChangedNodeDepthFirst(n=>{n.childrenAfterFilter=n.childrenAfterGroup,BB(n)},!0)}doPivot(e){var t;(t=this.beans.pivotStage)==null||t.execute(e)}getRowNode(e){var n,r;const t=(n=this.nodeManager)==null?void 0:n.getRowNode(e);return typeof t=="object"?t:(r=this.beans.groupStage)==null?void 0:r.getNonLeaf(e)}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];const n=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),n)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){const e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var l;const{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:r}=this;if(!e)return;(l=t.valueCache)==null||l.onDataChanged();const i=[],s=[],a=new E2,o=!this.gos.get("suppressAnimationFrame");for(const{rowDataTransaction:c,callback:d}of r??[]){this.rowNodesCountReady=!0;const f=e.updateRowData(c,a,o);i.push(f),d&&s.push(d.bind(null,f))}this.commitTransactions(a,o),s.length>0&&setTimeout(()=>{for(let c=0,d=s.length;c<d;c++)s[c]()},0),i.length>0&&n.dispatchEvent({type:"asyncTransactionsFlushed",results:i}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){var s;const t=this.nodeManager;if(!t)return null;(s=this.beans.valueCache)==null||s.onDataChanged(),this.rowNodesCountReady=!0;const n=new E2,r=!this.gos.get("suppressAnimationFrame"),i=t.updateRowData(e,n,r);return this.commitTransactions(n,r),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:t,changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){var i;const{rootNode:e,beans:t}=this;if((i=t.formula)!=null&&i.active){const s=(e==null?void 0:e.childrenAfterSort)??[];this.formulaRows=s,this.rowsToDisplay=s.filter(a=>!a.softFiltered);for(const a of this.rowsToDisplay)a.setUiLevel(0);return}const n=t.flattenStage;if(n){this.rowsToDisplay=n.execute();return}const r=this.rootNode.childrenAfterSort??[];for(const s of r)s.setUiLevel(0);this.rowsToDisplay=r}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);const n=e.sibling;n==null||n.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n==null||n.setRowHeight(n.rowHeight,!0);const r=t.sibling;r==null||r.setRowHeight(r.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;e.rowHeightChanged&&!((t=this.beans.rowAutoHeight)!=null&&t.active)&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,this.stages=null,this.stagesRefreshProps.clear(),clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},Lne=(e,t)=>{const n=t.childrenAfterGroup;if(n)for(let r=0,i=n.length;r<i;++r){const s=n[r];s.data&&e.push(s),s.group&&Lne(e,s)}};function oVe(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function lVe(e,t){const n=m0(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function cVe(e){var t;return((t=m0(e))==null?void 0:t.isEmpty())??!0}function uVe(e,t){var n;(n=m0(e))==null||n.forEachLeafNode(t)}function dVe(e,t){var n;(n=m0(e))==null||n.forEachNodeAfterFilter(t)}function hVe(e,t){var n;(n=m0(e))==null||n.forEachNodeAfterFilterAndSort(t)}function fVe(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=m0(e))==null?void 0:n.updateRowData(t)})}function AVe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=m0(e))==null?void 0:r.batchUpdateRowData(t,n)})}function pVe(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=m0(e))==null?void 0:t.flushAsyncTransactions()})}function gVe(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var mVe={moduleName:"ClientSideRowModel",version:Dn,rowModels:["clientSide"],beans:[aVe,iVe],dependsOn:[ine]},xVe={moduleName:"ClientSideRowModelApi",version:Dn,apiFunctions:{onGroupExpandedOrCollapsed:oVe,refreshClientSideRowModel:lVe,isRowDataEmpty:cVe,forEachLeafNode:uVe,forEachNodeAfterFilter:dVe,forEachNodeAfterFilterAndSort:hVe,applyTransaction:fVe,applyTransactionAsync:AVe,flushAsyncTransactions:pVe,getBestCostNodeSelection:gVe,resetRowHeights:Pne,onRowHeightChanged:Dne},dependsOn:[VGe,QGe]},vVe=class extends Kt{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,a=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(a),this.prependContent(t),this.exportColumnGroups(t,a),this.exportHeaders(t,a),this.processPinnedTopRows(t,a),this.processRows(t,a),this.processPinnedBottomRows(t,a),this.appendContent(t)].reduce((o,l)=>l(o),e).parse()}processRow(e,t,n,r){var w;const i=t.shouldRowBeSkipped||(()=>!1),a=t.rowPositions!=null||!!t.onlySelected,o=this.gos.get("groupHideOpenParents")&&!a,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,d=r.allChildrenCount===1&&((w=r.childrenAfterGroup)==null?void 0:w.length)===1&&S_e(this.gos,r);if(!l&&!c&&(t.skipRowGroups||d||o)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!l&&!c||i(Fr(this.gos,{node:r})))return;const m=e.onNewBodyRow(r);if(n.forEach((y,C)=>{m.onColumn(y,C,r)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(Fr(this.gos,{node:r}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new Oee,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var i,s;const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(a=>a.rowPinned==="top").sort((a,o)=>a.rowIndex-o.rowIndex).map(a=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedTopRow(a.rowIndex)}).forEach(r):(i=this.pinnedRowModel)!=null&&i.isManual()||(s=this.pinnedRowModel)==null||s.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{var c;const r=this.rowModel,i=sa(this.gos),s=q1(this.gos),a=!i&&e.onlySelected,o=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,f)=>d.rowIndex-f.rowIndex).map(d=>r.getRow(d.rowIndex)).forEach(o);else if(this.colModel.isPivotMode())i?r.forEachPivotNode(o,!0,l==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(o,!0):r.forEachNode(o);else if(e.onlySelectedAllPages||a){const d=((c=this.beans.selectionSvc)==null?void 0:c.getSelectedNodes())??[];this.replicateSortedOrder(d),d.forEach(o)}else l==="all"?r.forEachNode(o):i||s?r.forEachNodeAfterFilterAndSort(o,!0):r.forEachNode(o);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,a)=>{var o,l;return s.rowIndex!=null&&a.rowIndex!=null?s.rowIndex-a.rowIndex:s.level===a.level?((o=s.parent)==null?void 0:o.id)===((l=a.parent)==null?void 0:l.id)?n.compareRowNodes(r,s,a)||(s.rowIndex??-1)-(a.rowIndex??-1):i(s.parent,a.parent):s.level>a.level?i(s.parent,a):i(s,a.parent)};e.sort(i)}processPinnedBottomRows(e,t){return n=>{var i,s;const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(a=>a.rowPinned==="bottom").sort((a,o)=>a.rowIndex-o.rowIndex).map(a=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedBottomRow(a.rowIndex)}).forEach(r):(i=this.pinnedRowModel)!=null&&i.isManual()||(s=this.pinnedRowModel)==null||s.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:a,visibleCols:o}=this,l=s.isPivotMode(),c=p=>p0(p)?!1:!xf(p)||r;if(i!=null&&i.length)return s.getColsForKeys(i).filter(c);const d=a.get("treeData");let f=[];return t&&!l?f=s.getCols():f=o.allCols,f=f.filter(p=>c(p)&&(n&&!d?!HD(p):!0)),f}recursivelyAddHeaderGroups(e,t,n){const r=[];for(const i of e){const s=i;if(s.getChildren)for(const a of s.getChildren()??[])r.push(a)}e.length>0&&La(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;for(const s of t){const a=s;let o;n?o=n(Fr(this.gos,{columnGroup:a})):o=this.beans.colNames.getDisplayNameForColumnGroup(a,"header");const c=(a.isExpandable()?a.getLeafColumns():[]).reduce((d,f,p,m)=>{let w=As(d);return f.getColumnGroupShow()==="open"?(!w||w[1]!=null)&&(w=[p],d.push(w)):w&&w[1]==null&&(w[1]=p-1),p===m.length-1&&w&&w[1]==null&&(w[1]=p),d},[]);r.onColumn(a,o||"",i++,a.getLeafColumns().length-1,c)}}},wVe={moduleName:"SharedExport",version:Dn,beans:[vVe]},mV=`\r
`,bVe=class extends Q7e{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,mV),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue({column:e,node:n,currentColumnIndex:t,accumulatedRowIndex:t,type:"csv",useRawFormula:!1});this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(gn(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=mV),this.isFirstLine=!1}},yVe=class extends V7e{constructor(){super(...arguments),this.beanName="csvCreator"}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){gn(51);return}const t=()=>{const r=this.getMergedParams(e),i=this.getData(r),s=new Blob(["\uFEFF",i],{type:"text/plain"}),a=r.fileName,o=typeof a=="function"?a(Fr(this.gos,{})):a;z7e(this.getFileName(o),s)},{overlays:n}=this.beans;n?n.showExportOverlay(t):t()}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this.beans,{processCellCallback:a,processHeaderCallback:o,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:f}=e;return new bVe({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:a||void 0,processHeaderCallback:o||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:f||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function CVe(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function SVe(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var EVe={moduleName:"CsvExport",version:Dn,beans:[yVe],apiFunctions:{getDataAsCsv:CVe,exportDataAsCsv:SVe},dependsOn:[wVe]},NVe=class extends Kt{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const a=n+s,o=new c0(r);o.setRowHeight(t),o.uiLevel=0,o.setRowIndex(a),o.setRowTop(t*a),i.push(o)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){_n(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Us(this.params.datasource.getRows)){gn(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return Fr(s,{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i})}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const a=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&a&&(t[s]=new c0(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i._destroy(!0)),this.setDataAndId(t[s],a,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){const e=this.rowNodes;for(let t=0,n=e.length;t<n;t++)e[t]._destroy(!1);e.length=0,super.destroy()}},TVe=2,IVe=class extends Kt{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new NVe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(const t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(const e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Vp(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(a=>a!=e),n=(a,o)=>o.lastAccessed-a.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=TVe-1;t.forEach((a,o)=>{const l=a.state==="needsLoading"&&o>=s,c=r?o>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,_n(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};for(const n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];for(const t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(const t of e)this.destroyBlock(t)}purgeCache(){for(const e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let a=!1;for(const l of this.getBlocksInOrder())if(!a){if(i&&r+1!==l.id){a=!0;continue}r=l.id,l.forEachNode(c=>{const d=c===e||c===t;(i||d)&&n.push(c),d&&(i=!i)},s,this.rowCount)}return a||i?[]:n}},FVe=class extends Kt{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;const e=this.beans,t=new c0(e);this.rootNode=t,t.level=-1,this.rowHeight=wp(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=wp(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!yw(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getOverlayType(){var t;const e=this.infiniteCache;return(e==null?void 0:e.getRowCount())===0?(t=this.beans.filterManager)!=null&&t.isAnyFilterPresent()?"noMatchingRows":"noRows":null}getNodesInRangeForSelection(e,t){var n;return((n=this.infiniteCache)==null?void 0:n.getRowNodesInRange(e,t))??[]}reset(){var n;if(!this.datasource)return;E1(this.gos)!=null||(n=this.beans.selectionSvc)==null||n.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(n==null?void 0:n.getSortModel())??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:wp(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new IVe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var n;(n=this.infiniteCache)==null||n.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function kVe(e){var t;(t=lN(e))==null||t.refreshCache()}function BVe(e){var t;(t=lN(e))==null||t.purgeCache()}function RVe(e){var t;return(t=lN(e))==null?void 0:t.getRowCount()}var _Ve=class extends Kt{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=E_e(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=jo(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ch(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Vp(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(const n of t)n.load();this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){Vp(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},DVe={moduleName:"InfiniteRowModelCore",version:Dn,rowModels:["infinite"],beans:[FVe,_Ve]},PVe={moduleName:"InfiniteRowModel",version:Dn,apiFunctions:{refreshInfiniteCache:kVe,purgeInfiniteCache:BVe,getInfiniteRowCount:RVe},dependsOn:[DVe,zGe]},MVe="",LVe="",OVe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},jVe=class extends Ea{constructor(){super(OVe),this.eValue=er,this.eDelta=er,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=_n(r)?r:n,s=t>=0,a=this.eDelta;s?a.textContent=MVe+i:a.textContent=LVe+i,a.classList.toggle("ag-value-change-delta-up",s),a.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),kc(this.eDelta)}refresh(e,t=!1){var c;const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:a}=this;if(n===s||(_n(r)?i.textContent=r:_n(n)?i.textContent=n:kc(i),(c=a.filterManager)!=null&&c.isSuppressFlashingCellsBecauseFiltering()))return!1;const o=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(o===l)return!1;if(typeof o=="number"&&typeof l=="number"){const d=o-l;this.showDelta(e,d)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},UVe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",HVe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},GVe=class extends Ea{constructor(){super(HVe),this.eCurrent=er,this.refreshCount=0,this.registerCSS(UVe)}init(e){this.refresh(e,!0)}addSlideAnimation(){var i;this.refreshCount++;const e=this.refreshCount;(i=this.ePrevious)==null||i.remove();const{beans:t,eCurrent:n}=this,r=Uu({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{var s;e===this.refreshCount&&((s=this.ePrevious)==null||s.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var i;let n=e.value;if(Us(n)&&(n=""),n===this.lastValue||(i=this.beans.filterManager)!=null&&i.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return _n(e.valueFormatted)?r.textContent=e.valueFormatted:_n(e.value)?r.textContent=n:kc(r),!0}},VVe=class extends Kt{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),a=s+n,o=s+n+r,l={phase:"flash",flashEndTime:a,fadeEndTime:o};i.set(e,l);const c=`ag-cell-${t}`,d=`${c}-animation`,{comp:f,eGui:{style:p}}=e;f.toggleCss(c,!0),f.toggleCss(d,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),this.nextAnimationTime&&a+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=a)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],i=`ag-cell-${n}`,s=`${i}-animation`;for(const[a,o]of r){if(!a.isAlive()||!a.comp){r.delete(a);continue}const{phase:l,flashEndTime:c,fadeEndTime:d}=o,f=l==="flash"?c:d;if(!(e+15>=f)){t=Math.min(f,t??1/0);continue}const{comp:m,eGui:{style:w}}=a;switch(l){case"flash":m.toggleCss(i,!1),m.toggleCss(s,!0),w.transition=`background-color ${d-c}ms`,w.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),o.phase="fade";break;case"fade":m.toggleCss(i,!1),m.toggleCss(s,!1),w.removeProperty("transition"),w.removeProperty("transition-delay"),r.delete(a);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=A6e(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function QVe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(const r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(r,t)})}var zVe={moduleName:"HighlightChanges",version:Dn,beans:[VVe],userComponents:{agAnimateShowChangeCellRenderer:jVe,agAnimateSlideCellRenderer:GVe},apiFunctions:{flashCells:QVe}};function WVe(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function KVe(e,t,n){var r;return(r=e.stateSvc)==null?void 0:r.setState(t,n)}function xV(e){return e={...e},e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=qVe(e)),e.version=Dn,e}function qVe(e){return e.cellSelection=$Ve(e,"rangeSelection"),e}function $Ve(e,t){if(e&&typeof e=="object")return e[t]}var YVe=class extends Kt{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=jo(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=jo(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=jo(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=sa(e);const r=xV(e.get("initialState")??{}),i=r.partialColumnState;delete r.partialColumnState,this.cachedState=r;const s=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>s(()=>this.setupStateOnGridReady(r))),(r.columnOrder||r.columnVisibility||r.columnSizing||r.columnPinning||r.columnGroup)&&(n==null||n.hideColumns("columnState"));const[a,o,l]=this.addManagedEventListeners({newColumnsLoaded:({source:c})=>{c==="gridInitializing"&&(a(),s(()=>{this.setupStateOnColumnsInitialised(r,!!i),n==null||n.revealColumns("columnState")}))},rowCountReady:()=>{o==null||o(),s(()=>this.setupStateOnRowCountReady(r))},firstDataRendered:()=>{l==null||l(),s(()=>this.setupStateOnFirstDataRendered(r))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=xV(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",i=t?new Set(t):void 0;this.setGridReadyState(n,r,i),this.setColumnsInitialisedState(n,r,!!i,i),this.setRowCountState(n,r,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,i),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){var r,i;t==="api"&&!(n!=null&&n.has("sideBar"))&&((i=(r=this.beans.sideBar)==null?void 0:r.comp)==null||i.setState(e.sideBar)),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:i,ssrmRowGroupExpansion:s,rowSelection:a,pagination:o,rowPinning:l}=e,c=(f,p)=>!(n!=null&&n.has(f))&&(p||t==="api");c("filter",r)&&this.setFilterState(r),c("rowGroupExpansion",i)&&this.setRowGroupExpansionState(s,i,t),c("rowSelection",a)&&this.setRowSelectionState(a,t),c("pagination",o)&&this.setPaginationState(o,t),c("rowPinning",l)&&this.setRowPinningState(l);const d=this.updateCachedState.bind(this);d("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(d("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),d("rowGroupExpansion",void 0)):(d("rowGroupExpansion",this.getRowGroupExpansionState()),d("ssrmRowGroupExpansion",void 0)),d("rowSelection",this.getRowSelectionState()),d("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},r=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s,selectableFilter:a}=this.beans;this.addManagedEventListeners({filterChanged:r,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())},pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())}),s&&this.addManagedListeners(s,{filterStateChanged:r}),a&&this.addManagedListeners(a,{selectedFilterChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:i,focusedCell:s,columnOrder:a}=e,o=(d,f)=>!(n!=null&&n.has(d))&&(f||t==="api");o("focusedCell",s)&&this.setFocusedCellState(s),o("cellSelection",i)&&this.setCellSelectionState(i),o("scroll",r)&&this.setScrollState(r),this.setColumnPivotState(!!(a!=null&&a.orderedColIds),t);const l=this.updateCachedState.bind(this);l("sideBar",this.getSideBarState()),l("focusedCell",this.getFocusedCellState());const c=this.getRangeSelectionState();l("rangeSelection",c),l("cellSelection",c),l("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:r=>{if(r.finished){const i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState())})}getColumnState(){const e=this.beans;return j7e(aE(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:i,rowGroup:s,aggregation:a,pivot:o,columnPinning:l,columnVisibility:c,columnSizing:d,columnOrder:f}=e;let p=!1;const m=(G,V)=>{const re=!(r!=null&&r.has(G))&&!!(V||t==="api");return p||(p=re),re},w={},y=G=>{let V=w[G];return V||(V={colId:G},w[G]=V,V)},C={},T=m("sort",i);T&&(i==null||i.sortModel.forEach(({colId:G,sort:V},re)=>{const ee=y(G);ee.sort=V,ee.sortIndex=re})),(T||!n)&&(C.sort=null,C.sortIndex=null);const k=m("rowGroup",s);k&&(s==null||s.groupColIds.forEach((G,V)=>{const re=y(G);re.rowGroup=!0,re.rowGroupIndex=V})),(k||!n)&&(C.rowGroup=null,C.rowGroupIndex=null);const R=m("aggregation",a);R&&(a==null||a.aggregationModel.forEach(({colId:G,aggFunc:V})=>{y(G).aggFunc=V})),(R||!n)&&(C.aggFunc=null);const P=m("pivot",o);P&&(o==null||o.pivotColIds.forEach((G,V)=>{const re=y(G);re.pivot=!0,re.pivotIndex=V}),this.gos.updateGridOptions({options:{pivotMode:!!(o!=null&&o.pivotMode)},source:t})),(P||!n)&&(C.pivot=null,C.pivotIndex=null);const U=m("columnPinning",l);if(U){for(const G of(l==null?void 0:l.leftColIds)??[])y(G).pinned="left";for(const G of(l==null?void 0:l.rightColIds)??[])y(G).pinned="right"}(U||!n)&&(C.pinned=null);const O=m("columnVisibility",c);if(O)for(const G of(c==null?void 0:c.hiddenColIds)??[])y(G).hide=!0;(O||!n)&&(C.hide=null);const L=m("columnSizing",d);if(L)for(const{colId:G,flex:V,width:re}of(d==null?void 0:d.columnSizingModel)??[]){const ee=y(G);ee.flex=V??null,ee.width=re}(L||!n)&&(C.flex=null);const K=f==null?void 0:f.orderedColIds,j=!!(K!=null&&K.length)&&!(r!=null&&r.has("columnOrder")),te=j?K.map(G=>y(G)):Object.values(w);(te.length||p)&&(this.columnStates=te,vd(this.beans,{state:te,applyOrder:j,defaultState:C},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:a}=i;if(s!=null&&s.isPivotResultColsPresent()){if(n){const o=[];for(const l of n)s.getPivotResultCol(l.colId)&&o.push(l);vd(i,{state:o,applyOrder:e},t)}r&&(a==null||a.setColumnGroupState(r,t))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return U7e(t)}setColumnGroupState(e,t,n){var o;const r=this.beans.colGroupSvc;if(!r||n!=null&&n.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set((o=e.columnGroup)==null?void 0:o.openColumnGroupIds),a=r.getColumnGroupState().map(({groupId:l})=>{const c=i.has(l);return c&&i.delete(l),{groupId:l,open:c}});for(const l of i)a.push({groupId:l,open:!0});a.length&&(this.columnGroupStates=a),r.setColumnGroupState(a,t)}getFilterState(){const{filterManager:e,selectableFilter:t}=this.beans;let n=e==null?void 0:e.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);const r=e==null?void 0:e.getFilterState(),i=(e==null?void 0:e.getAdvFilterModel())??void 0,s=t==null?void 0:t.getState();return n||i||r||s?{filterModel:n,columnFilterState:r,advancedFilterModel:i,selectableFilters:s}:void 0}setFilterState(e){const{filterManager:t,selectableFilter:n}=this.beans,{filterModel:r,columnFilterState:i,advancedFilterModel:s,selectableFilters:a}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};a!==void 0&&(n==null||n.setState(a??{})),(r!==void 0||i!==void 0)&&(t==null||t.setFilterState(r??null,i??null,"columnFilter")),s!==void 0&&(t==null||t.setAdvFilterModel(s??null,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(n=>{const{id:r,type:i,startRow:s,endRow:a,columns:o,startColumn:l}=n;return{id:r,type:i,startRow:s,endRow:a,colIds:o.map(c=>c.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!o0(t)||!n)return;const s=[];for(const a of(e==null?void 0:e.cellRanges)??[]){const o=[];for(const c of a.colIds){const d=r.getCol(c);d&&o.push(d)}if(!o.length)continue;let l=r.getCol(a.startColId);if(!l){const c=i.allCols,d=new Set(o);l=c.find(f=>d.has(f))}s.push({...a,columns:o,startColumn:l})}n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:a}=this.beans;r.wrapIncoming(()=>{var o;a.get("center").setCenterViewportScrollLeft(n),(o=a.getScrollFeature())==null||o.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s==null||s.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:i,page:s}=e??{page:0,pageSize:r.get("paginationPageSize")},a=t==="gridInitializing";i&&!r.get("paginationAutoPageSize")&&n.setPageSize(i,a?"initialState":"pageSizeSelector"),typeof s=="number"&&(a?n.setPage(s):n.goToPage(s))}getRowSelectionState(){var r;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((r=t==null?void 0:t.toggledNodes)!=null&&r.length)?void 0:t}setRowSelectionState(e,t){var n;(n=this.beans.selectionSvc)==null||n.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){var e;return(e=this.beans.pinnedRowModel)==null?void 0:e.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t==null||t.setPinnedState(e):t==null||t.reset()}setRowGroupExpansionState(e,t,n){const r=this.beans.expansionSvc;if(!r)return;const i=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};r.setExpansionState(i,n)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];yw(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),yw(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;for(const t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(const t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){var e;this.suppressEvents=!0,(e=this.beans.colAnimation)==null||e.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{var t;this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&((t=this.beans.colAnimation)==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},XVe={moduleName:"GridState",version:Dn,beans:[YVe],apiFunctions:{getState:WVe,setState:KVe}};function JVe(e){return e.rowModel.isLastRowIndexKnown()}function ZVe(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function eQe(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function tQe(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function nQe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function rQe(e){var t;(t=e.pagination)==null||t.goToNextPage()}function iQe(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function sQe(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function aQe(e){var t;(t=e.pagination)==null||t.goToLastPage()}function oQe(e,t){var n;(n=e.pagination)==null||n.goToPage(t)}var lQe=class extends Kt{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(wp(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?jo(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},nv="paginationPageSizeSelector",cQe={tag:"span",cls:"ag-paging-page-size"},uQe=class extends Ea{constructor(){super(cQe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(nv,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){kc(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(nv)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(nv)!==!0;gn(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||gn(95,{paginationPageSizeOption:t,paginationPageSizeSelector:nv}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(A0(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new qD).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(nv);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},dQe={selector:"AG-PAGE-SIZE-SELECTOR",component:uQe},hQe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",fQe=class extends cLe{constructor(){super(),this.btFirst=er,this.btPrevious=er,this.btNext=er,this.btLast=er,this.lbRecordCount=er,this.lbFirstRowOnPage=er,this.lbLastRowOnPage=er,this.lbCurrent=er,this.lbTotal=er,this.pageSizeComp=er,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(hQe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[dQe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",Tc(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Tc(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",Tc(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",Tc(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):y6e(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(const e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===Rt.ENTER||r.key===Rt.SPACE)&&(r.preventDefault(),n())}})}b6e(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):G7e(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){IRe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let a,o;this.isZeroPagesToDisplay()?a=o=0:(a=s*i+1,o=a+s-1,e&&o>r&&(o=r));const l=a+s-1,c=!e&&n<l,d=this.formatNumber(a);this.lbFirstRowOnPage.textContent=d;let f;const p=this.getLocaleTextFunc();c?f=p("pageLastRowUnknown","?"):f=this.formatNumber(o),this.lbLastRowOnPage.textContent=f;const w=t>0?i+1:0,y=this.formatNumber(w);this.lbCurrent.textContent=y;let C,T;if(e)C=this.formatNumber(t),T=this.formatNumber(r);else{const k=p("more","more");C=k,T=k}this.lbTotal.textContent=C,this.lbRecordCount.textContent=T,this.announceAriaStatus(d,f,T,y,C)}announceAriaStatus(e,t,n,r,i){var f,p;const s=this.getLocaleTextFunc(),a=s("page","Page"),o=s("to","to"),l=s("of","of"),c=`${e} ${o} ${t} ${l} ${n}`,d=`${a} ${r} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,(f=this.ariaAnnounce)==null||f.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,(p=this.ariaAnnounce)==null||p.announceValue(d,"paginationPage"))}},AQe={selector:"AG-PAGINATION",component:fQe},pQe=class extends Kt{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return AQe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n!=null&&n.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){var n,r;if(!this.active)return;let t=e;this.paginateChildRows||(t=((r=(n=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)==null?void 0:r.call(n,e))??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return _n(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:_n(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:_n(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:_n(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let a=n*(i+1)-1;if(a>r&&(a=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),a===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const o=e.getTopLevelRowDisplayedIndex(a+1);this.bottomDisplayedRowIndex=o-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},gQe={moduleName:"Pagination",version:Dn,beans:[pQe,lQe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:JVe,paginationGetPageSize:ZVe,paginationGetCurrentPage:eQe,paginationGetTotalPages:tQe,paginationGetRowCount:nQe,paginationGoToNextPage:rQe,paginationGoToPreviousPage:iQe,paginationGoToFirstPage:sQe,paginationGoToLastPage:aQe,paginationGoToPage:oQe},dependsOn:[cN]};function mQe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function One(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&One(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function xQe(e,t){return e.rowModel.getRowNode(t)}function vQe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function wQe(e){return e.rowRenderer.getRenderedNodes()}function bQe(e,t,n){e.rowModel.forEachNode(t,n)}function yQe(e){return e.rowRenderer.firstRenderedRow}function CQe(e){return e.rowRenderer.lastRenderedRow}function SQe(e,t){return e.rowModel.getRow(t)}function EQe(e){return e.rowModel.getRowCount()}var NQe={moduleName:"RowApi",version:Dn,apiFunctions:{redrawRows:mQe,setRowNodeExpanded:One,getRowNode:xQe,addRenderedRowListener:vQe,getRenderedNodes:wQe,forEachNode:bQe,getFirstDisplayedRowIndex:yQe,getLastDisplayedRowIndex:CQe,getDisplayedRowAtIndex:SQe,getDisplayedRowCount:EQe}},TQe={moduleName:"ScrollApi",version:Dn,apiFunctions:{getVerticalPixelRange:MHe,getHorizontalPixelRange:LHe,ensureColumnVisible:Sne,ensureIndexVisible:Ene,ensureNodeVisible:OHe}};function IQe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function FQe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function kQe(e){e.frameworkOverrides.wrapIncoming(()=>{for(const t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function BQe(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function RQe(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function _Qe(e){return{rowHeight:wp(e),headerHeight:Sb(e)}}function DQe(e,t={}){var s;const n=[];for(const a of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){const o=a.getCellRenderer();o!=null&&n.push(Fw(o))}if((s=t.columns)!=null&&s.length)return n;const r=[],i=FB(t.rowNodes);for(const a of e.rowRenderer.getAllRowCtrls()){if(i&&!kB(a.rowNode,i)||!a.isFullWidth())continue;const o=a.getFullWidthCellRenderers();for(let l=0;l<o.length;l++){const c=o[l];c!=null&&r.push(Fw(c))}}return[...r,...n]}var PQe={moduleName:"RenderApi",version:Dn,apiFunctions:{setGridAriaProperty:IQe,refreshCells:FQe,refreshHeader:kQe,isAnimationFrameQueueEmpty:BQe,flushAllAnimationFrames:RQe,getSizesForCurrentTheme:_Qe,getCellRendererInstances:DQe}},MQe=":where(.ag-ltr) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,left .2s ease-in-out}}:where(.ag-rtl) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,right .2s ease-in-out}}";function LQe(e,t){var n,r;typeof t=="number"?(n=e.colAutosize)==null||n.sizeColumnsToFit(t,"api"):(r=e.colAutosize)==null||r.sizeColumnsToFitGridBody(t)}function jne({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e==null||e.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e==null||e.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:"api"})}function OQe(e,t){var n;t&&typeof t=="object"?jne(e,t):(n=e.colAutosize)==null||n.autoSizeAllColumns({source:"api",skipHeader:t})}var jQe=class extends Kt{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){var n;const{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let r=!1;const i=t.type;if(i==="fitGridWidth"||i==="fitProvidedWidth")r=!0;else if(i==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});const s=e.get("rowData");r=s!=null&&s.length>0&&sa(e)}r&&((n=this.beans.colDelayRenderSvc)==null||n.hideColumns(i))}}autoSizeCols(e){const{eventSvc:t,visibleCols:n,colModel:r}=this.beans;rv(this.beans,!0),this.innerAutoSizeCols(e).then(i=>{var d;const s=f=>N1(t,Array.from(f),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return rv(this.beans,!1),s(i);const a=vV(this.beans),o=f=>n.leftCols.some(p=>Ov(p,f)),l=f=>n.rightCols.some(p=>Ov(p,f)),c=e.colKeys.filter(f=>{var m;return!((m=r.getCol(f))!=null&&m.getColDef().suppressAutoSize)&&!xf(f)&&!o(f)&&!l(f)});this.sizeColumnsToFit(a,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:(d=e.columnLimits)==null?void 0:d.map(f=>({...f,key:f.colId})),colKeys:c,onlyScaleUp:!0,animate:!1}),rv(this.beans,!1),s(i)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));const{colKeys:r,skipHeader:i,skipHeaderGroups:s,stopAtGroup:a,defaultMaxWidth:o,defaultMinWidth:l,columnLimits:c=[],source:d="api"}=e,{animationFrameSvc:f,renderStatus:p,colModel:m,autoWidthCalc:w,visibleCols:y}=this.beans;if(f==null||f.flushAllFrames(),this.timesDelayed<5&&p&&(!p.areHeaderCellsRendered()||!p.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;const C=new Set;let T=-1;const k=Object.fromEntries(c.map(({colId:U,...O})=>[U,O])),R=i??this.gos.get("skipHeaderOnAutoSize"),P=s??R;for(;T!==0;){T=0;const U=[];for(const O of r){if(!O||V_e(O))continue;const L=m.getCol(O);if(!L||C.has(L)||L.getColDef().suppressAutoSize)continue;const K=w.getPreferredWidthForColumn(L,R);if(K>0){const j=k[L.colId]??{};j.minWidth??(j.minWidth=l),j.maxWidth??(j.maxWidth=o);const te=UQe(L,K,j);L.setActualWidth(te,d),C.add(L),T++}U.push(L)}U.length&&y.refresh(d)}P||this.autoSizeColumnGroupsByColumns(r,d,a),t(C)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set,a=r.getColsForKeys(e);for(const l of a){let c=l.getParent();for(;c&&c!=n;)c.isPadding()||s.add(c),c=c.getParent()}let o;for(const l of s){for(const c of i.getHeaderRowContainerCtrls())if(o=c.getHeaderCtrlForColumn(l),o)break;o==null||o.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new V0(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[],a=t.getDisplayedLeafColumns();for(const o of a)o.getColDef().suppressAutoSize||s.push(o.getColId());s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const n=vV(this.beans);if(n>0){this.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):gn(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){var C,T;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const{beans:i}=this,s=(r==null?void 0:r.animate)??!0;s&&rv(i,!0);const a={};for(const{key:k,...R}of(r==null?void 0:r.columnLimits)??[])a[typeof k=="string"?k:k.getColId()]=R;const o=i.visibleCols.allCols;if(e<=0||!o.length)return;const l=af(o);if(r!=null&&r.onlyScaleUp&&l>e||e===l&&o.every(R=>{if(R.colDef.suppressSizeToFit)return!0;const P=a==null?void 0:a[R.getId()],U=(P==null?void 0:P.minWidth)??(r==null?void 0:r.defaultMinWidth),O=(P==null?void 0:P.maxWidth)??(r==null?void 0:r.defaultMaxWidth),L=R.getActualWidth();return(U==null||L>=U)&&(O==null||L<=O)}))return;const d=[],f=[];for(const k of o){const R=((C=r==null?void 0:r.colKeys)==null?void 0:C.some(P=>Ov(k,P)))??!0;k.getColDef().suppressSizeToFit||!R?f.push(k):d.push(k)}const p=d.slice(0);let m=!1;const w=k=>{Ch(d,k),f.push(k)};for(const k of d){k.resetActualWidth(t);const R=a==null?void 0:a[k.getId()],P=(R==null?void 0:R.minWidth)??(r==null?void 0:r.defaultMinWidth),U=(R==null?void 0:R.maxWidth)??(r==null?void 0:r.defaultMaxWidth),O=k.getActualWidth();typeof P=="number"&&O<P?k.setActualWidth(P,t,!0):typeof U=="number"&&O>U&&k.setActualWidth(U,t,!0)}for(;!m;){m=!0;const k=e-af(f);if(k<=0)for(const R of d){const P=((T=a==null?void 0:a[R.getId()])==null?void 0:T.minWidth)??(r==null?void 0:r.defaultMinWidth)??R.minWidth;R.setActualWidth(P,t,!0)}else{const R=k/af(d);let P=k;for(let U=d.length-1;U>=0;U--){const O=d[U],L=a==null?void 0:a[O.getId()],K=(L==null?void 0:L.minWidth)??(r==null?void 0:r.defaultMinWidth),j=(L==null?void 0:L.maxWidth)??(r==null?void 0:r.defaultMaxWidth),te=O.getMinWidth(),G=O.getMaxWidth(),V=typeof K=="number"&&K>te?K:te,re=typeof j=="number"&&j<G?j:G;let ee=Math.round(O.getActualWidth()*R);ee<V?(ee=V,w(O),m=!1):ee>re?(ee=re,w(O),m=!1):U===0&&(ee=P),O.setActualWidth(ee,t,!0),P-=ee}}}for(const k of p)k.fireColumnWidthChangedEvent(t);const y=i.visibleCols;y.setLeftValues(t),y.updateBodyWidths(),!n&&(N1(this.eventSvc,p,!0,t),s&&rv(i,!1))}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get("autoSizeStrategy");(n==null?void 0:n.type)!=="fitGridWidth"&&(n==null?void 0:n.type)!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;const r=n.type;if(r==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:a}=n,o=i==null?void 0:i.map(({colId:l,minWidth:c,maxWidth:d})=>({key:l,minWidth:c,maxWidth:d}));this.sizeColumnsToFitGridBody({defaultMinWidth:s,defaultMaxWidth:a,columnLimits:o})}else r==="fitProvidedWidth"&&this.sizeColumnsToFit(n.width,"sizeColumnsToFit");t==null||t.revealColumns(r)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{var r;if(!this.isAlive())return;const n="autosizeColumns";e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),(r=this.beans.colDelayRenderSvc)==null||r.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(const e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function UQe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}function vV({ctrlsSvc:e,scrollVisibleSvc:t}){const n=e.getGridBodyCtrl(),i=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return Ew(n.eGridBody)-i}var wV="ag-animate-autosize";function rv({ctrlsSvc:e,gos:t},n){if(!t.get("animateColumnResizing")||t.get("enableRtl")||!e.isAlive())return;const r=e.getGridBodyCtrl().eGridBody.classList;n?r.add(wV):r.remove(wV)}var HQe={moduleName:"ColumnAutoSize",version:Dn,beans:[jQe],apiFunctions:{sizeColumnsToFit:LQe,autoSizeColumns:jne,autoSizeAllColumns:OQe},dependsOn:[Hte],css:[MQe]},GQe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function VQe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function QQe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function zQe(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t)}function WQe(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t)}function KQe(e,t,n){var r;return(r=e.pinnedRowModel)==null?void 0:r.forEachPinnedRow(t,n)}var qQe={moduleName:"PinnedRow",version:Dn,beans:[nLe],css:[GQe],apiFunctions:{getPinnedTopRowCount:VQe,getPinnedBottomRowCount:QQe,getPinnedTopRow:zQe,getPinnedBottomRow:WQe,forEachPinnedRow:KQe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},$Qe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var n;const e=(n=this.firstNode.__autoHeights)==null?void 0:n[this.col.getColId()];if(e==null)return;let t=0;for(const r of this.spannedNodes)r!==this.lastNode&&(t+=r.rowHeight);return e-t}},YQe=class extends Kt{constructor(e){super(),this.column=e}buildCache(e){var R;const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s,pagination:a}}=this,{colDef:o}=t,l=this.getNodeMap(e),c=new Map,d=n.getCallback("isFullWidthRow"),f=o.equals,p=o.spanRows,m=typeof p=="function";let w=null,y=null,C;const T=(P,U)=>{w=P,y=null,C=U},k=P=>{const U=!P.isExpandable()&&!P.group&&!P.detail&&(d?!d({rowNode:P}):!0);if(P.rowIndex==null||!U){T(null,null);return}if(w==null||P.level!==w.level||P.footer||y&&P.rowIndex-1!==(y==null?void 0:y.getLastNode().rowIndex)){T(P,s.getValue(t,P));return}const O=s.getValue(t,P);if(m){const L=Fr(n,{valueA:C,nodeA:w,valueB:O,nodeB:P,column:t,colDef:o});if(!p(L)){T(P,O);return}}else if(f?!f(C,O):C!==O){T(P,O);return}if(!y){const L=l==null?void 0:l.get(w);(L==null?void 0:L.firstNode)===w?(L.reset(),y=L):y=new $Qe(t,w),c.set(w,y)}y.addSpannedNode(P),c.set(P,y)};switch(e){case"center":(R=i.forEachDisplayedNode)==null||R.call(i,P=>{(!a||a.isRowInPage(P.rowIndex))&&k(P)}),this.centerValueNodeMap=c;break;case"top":r==null||r.forEachPinnedRow("top",k),this.topValueNodeMap=c;break;case"bottom":r==null||r.forEachPinnedRow("bottom",k),this.bottomValueNodeMap=c;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},XQe=class extends Kt{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=jo(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=jo(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new YQe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let a;switch(e.rowPinned){case"top":a=t==null?void 0:t.getPinnedTopRow(i);break;case"bottom":a=t==null?void 0:t.getPinnedBottomRow(i);break;default:a=n.getRow(i)}if(a)return s.getCellSpan(a)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},JQe=class extends r1{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,a){this.eWrapper=n,super.setComp(e,t,n,r,i,s,a),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){const{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||qZ(e,t.rowIndex)}setAriaRowSpan(){RRe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(sN(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},ZQe=class extends pE{onRowIndexChanged(){super.onRowIndexChanged();for(const e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var r;const t=(r=this.beans.rowSpanSvc)==null?void 0:r.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new JQe(t,this,this.beans)}isCorrectCtrlForSpan(e){var r;const t=(r=this.beans.rowSpanSvc)==null?void 0:r.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},eze=class extends Kt{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),r=n.size,i=this.getAllRelevantRowControls(e),s=new Map;let a=!1;for(const l of i)l.isAlive()&&(t==null||t.forEachSpannedColumn(l.rowNode,(c,d)=>{if(s.has(d.firstNode))return;const f=n.get(d.firstNode);if(f){s.set(d.firstNode,f),n.delete(d.firstNode);return}a=!0;const p=new ZQe(d.firstNode,this.beans,!1,!1,!1);s.set(d.firstNode,p)}));this.setCtrlsMap(e,s);const o=s.size===r;if(!(!a&&o)){for(const l of n.values())l.destroyFirstPass(!0),l.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t==null?void 0:t.getCellSpanByPosition(e);if(!n)return;const r=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(r)return r.getAllCellCtrls().find(i=>i.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(const t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},tze={moduleName:"CellSpan",version:Dn,beans:[XQe,eze]},nze=class extends Kt{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);dP(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);for(const s of this.staticClasses)t.toggleCss(s,!1);const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i;for(const s of i)t.toggleCss(s,!0)}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return Fr(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},rze=class extends Kt{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){dP(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e){return new nze(e,this.beans)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},ize={moduleName:"CellStyle",version:Dn,beans:[rze]},sze={moduleName:"RowStyle",version:Dn,beans:[kUe]};function aze(e,t){var n;return!!((n=e.colHover)!=null&&n.isHovered(t))}var oze=class extends Kt{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:i,element:s,columns:a}=this,o=r.colHover;if(n??!!i.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:o.setMouseOver.bind(o,a),mouseout:o.clearMouseOver.bind(o)});else{for(const c of this.destroyManagedListeners)c();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},lze="ag-column-hover",cze=class extends Kt{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(lze,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new oze(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},uze={moduleName:"ColumnHover",version:Dn,beans:[cze],apiFunctions:{isColumnHovered:aze}},dze=class extends Kt{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addListener(e,t){var s;const n=((s=this.wrapSvc)==null?void 0:s.wrap(e,t))??t,r=!N2.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addListener(e,n,r)}removeListener(e,t){var s,a;const n=((s=this.wrapSvc)==null?void 0:s.unwrap(e,t))??t,r=this.asyncListeners.get(e),i=!!(r!=null&&r.delete(n));i||(a=this.syncListeners.get(e))==null||a.delete(n),this.eventSvc.removeListener(e,n,i)}addGlobalListener(e){var s;const t=((s=this.wrapSvc)==null?void 0:s.wrapGlobal(e))??e,n=(a,o)=>{N2.has(a)&&t(a,o)},r=(a,o)=>{N2.has(a)||t(a,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=(n==null?void 0:n.unwrapGlobal(e))??e;if(r.has(i)){const{syncListener:a,asyncListener:o}=r.get(i);t.removeGlobalListener(a,!1),t.removeGlobalListener(o,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){for(const n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function hze(e,t,n){var r;(r=e.apiEventSvc)==null||r.addListener(t,n)}function fze(e,t,n){var r;(r=e.apiEventSvc)==null||r.removeListener(t,n)}function Aze(e,t){var n;(n=e.apiEventSvc)==null||n.addGlobalListener(t)}function pze(e,t){var n;(n=e.apiEventSvc)==null||n.removeGlobalListener(t)}var gze={moduleName:"EventApi",version:Dn,apiFunctions:{addEventListener:hze,addGlobalListener:Aze,removeEventListener:fze,removeGlobalListener:pze},beans:[dze]},mze={moduleName:"Locale",version:Dn,beans:[O7e]},xze=class extends Kt{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=jo(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var o,l,c,d;const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols;let s=!1;const a=f=>{var w;const p=f.__autoHeights;let m=a0(this.beans,f).height;for(const y of i){let C=p==null?void 0:p[y.getColId()];const T=n==null?void 0:n.getCellSpan(y,f);if(T){if(T.getLastNode()!==f)continue;if(C=(w=n==null?void 0:n.getCellSpan(y,f))==null?void 0:w.getLastNodeAutoHeight(),!C)return}if(C==null){if(this.colSpanSkipCell(y,f))continue;return}m=Math.max(C,m)}m!==f.rowHeight&&(f.setRowHeight(m),s=!0)};(o=r==null?void 0:r.forEachPinnedRow)==null||o.call(r,"top",a),(l=r==null?void 0:r.forEachPinnedRow)==null||l.call(r,"bottom",a),(c=t.forEachDisplayedNode)==null||c.call(t,a),s&&((d=t.onRowHeightChanged)==null||d.call(t))}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,a=this.beans,o=d=>{var k;if((k=this.beans.editSvc)!=null&&k.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:p,borderBottomWidth:m,borderTopWidth:w}=ig(r),y=f+p+m+w,T=t.offsetHeight+y;if(d<5){const R=Oo(a),P=!(R!=null&&R.contains(t)),U=T==0;if(P||U){window.setTimeout(()=>o(d+1),0);return}}this.setRowAutoHeight(i,T,s)},l=()=>o(0);l();const c=zf(a,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const i=n.__autoHeights[r.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},vze={moduleName:"RowAutoHeight",version:Dn,beans:[xze]},wze={moduleName:"AllCommunity",version:Dn,dependsOn:[mVe,EVe,PVe,r9e,pGe,gGe,mGe,xGe,vGe,wGe,bGe,AGe,oHe,lHe,cHe,aHe,dHe,hHe,XVe,KGe,gQe,Gte,NQe,TQe,PQe,HQe,WLe,qQe,LGe,w7e,ize,uze,sze,gze,C7e,zVe,Cne,mze,vze,zLe,xVe,tze]},Rl=mn.createContext({}),Une=mn.createContext("default"),Tb=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let a,o,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}a=c,o=a.getGui(),n.appendChild(o),bV(r,a)}),()=>{l=!0,a&&(o==null||o.remove(),t.destroyBean(a),r&&bV(r,void 0))}},bV=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Su=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),Bu=class Hne{constructor(...t){this.classesMap={};for(const n of t)this.classesMap[n]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new Hne;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},X1=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},EW,PB=(EW=mn.version)==null?void 0:EW.split(".")[0],Gne=PB==="16"||PB==="17";function bze(){return PB==="19"}var k2=!1;function yze(e){return k2||setTimeout(()=>k2=!1,0),k2=!0,e()}var Pw=(e,t)=>{!Gne&&e&&!k2?Xue.flushSync(t):t()},Cze=e=>{Gne?e():mn.startTransition(e)};function Sze(e,t,n){return mn.useSyncExternalStore?mn.useSyncExternalStore(e,t):n}function wE(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,a=new Map;for(let o=0;o<t.length;o++){const l=t[o];a.set(l.instanceId,l)}for(let o=0;o<e.length;o++){const l=e[o];s.set(l.instanceId,l),a.has(l.instanceId)&&r.push(l)}for(let o=0;o<t.length;o++){const l=t[o],c=l.instanceId;s.has(c)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var Vne=B.forwardRef((e,t)=>{var le;const{registry:n,context:r}=B.useContext(Rl),i=B.useRef(null),s=B.useRef(null),a=B.useRef(null),o=B.useRef(null),l=B.useRef(null),c=B.useRef(),[d,f]=B.useState(),[p,m]=B.useState(),[w,y]=B.useState(),[C,T]=B.useState(()=>new Bu),[k,R]=B.useState(()=>new Bu("ag-hidden")),[P,U]=B.useState(()=>new Bu("ag-hidden")),[O,L]=B.useState(()=>new Bu("ag-invisible"));B.useImperativeHandle(t,()=>({refresh(){return!1}})),B.useLayoutEffect(()=>Tb(d,r,s.current),[d]);const K=B.useCallback(xe=>{if(i.current=xe,!xe||r.isDestroyed()){c.current=r.destroyBean(c.current);return}const ge={setInnerRenderer:(ce,Q)=>{f(ce),y(Q)},setChildCount:ce=>m(ce),toggleCss:(ce,Q)=>T(Y=>Y.setClass(ce,Q)),setContractedDisplayed:ce=>U(Q=>Q.setClass("ag-hidden",!ce)),setExpandedDisplayed:ce=>R(Q=>Q.setClass("ag-hidden",!ce)),setCheckboxVisible:ce=>L(Q=>Q.setClass("ag-invisible",!ce)),setCheckboxSpacing:ce=>L(Q=>Q.setClass("ag-group-checkbox-spacing",ce))},fe=n.createDynamicBean("groupCellRendererCtrl",!0);fe&&(c.current=r.createBean(fe),c.current.init(ge,xe,a.current,o.current,l.current,Vne,e))},[]),j=B.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),te=B.useMemo(()=>`ag-group-expanded ${k.toString()}`,[k]),G=B.useMemo(()=>`ag-group-contracted ${P.toString()}`,[P]),V=B.useMemo(()=>`ag-group-checkbox ${O.toString()}`,[O]),re=d==null?void 0:d.componentFromFramework,ee=re?d.componentClass:void 0,ie=d==null&&w!=null,ue=K1(w);return mn.createElement("span",{className:j,ref:K,...e.colDef?{}:{role:(le=c.current)==null?void 0:le.getCellAriaRole()}},mn.createElement("span",{className:te,ref:o}),mn.createElement("span",{className:G,ref:l}),mn.createElement("span",{className:V,ref:a}),mn.createElement("span",{className:"ag-group-value",ref:s},ie?ue:re?mn.createElement(ee,{...d.params}):null),mn.createElement("span",{className:"ag-group-child-count"},p))}),yV=Vne,bP=B.createContext({setMethods:()=>{}}),Eze=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...a},o]=B.useState(t);return B.useEffect(()=>{n(l=>o(l))},[]),mn.createElement(bP.Provider,{value:{setMethods:i}},mn.createElement(r,{key:s,...a}))},Nze=B.memo(Eze),Tze=0;function CV(){return`agPortalKey_${++Tze}`}var Qne=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=CV(),this.portalKey=CV(),this.instanceCreated=this.isStatelessComponent()?gi.resolve(!1):new gi(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new gi(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=D1.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return B.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function hN(e,t,n){for(const r of e){const i=t[r];i&&(n[r]=i)}}var zu=class extends Qne{constructor(){super(...arguments),this.awaitUpdateCallback=new gi(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Nze}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new gi(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,hN(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new gi(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Ize=class extends zu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Fze=class extends zu{refresh(e){this.sourceParams=e,this.refreshProps()}},kze=class extends zu{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Bze=class extends zu{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},Rze=class extends zu{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new gi(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var n;const t=this.providedMethods;t?(n=t.afterGuiAttached)==null||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var r,i;return(i=(r=this.providedMethods)==null?void 0:r.afterGuiAttached)==null?void 0:i.call(r,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t,n;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),(n=this.resolveFilterPassCallback)==null||n.call(this),this.resolveFilterPassCallback=void 0}updateModel(e){var n;(n=this.resolveFilterPassCallback)==null||n.call(this);const t=new gi(r=>{this.resolveFilterPassCallback=r});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},_ze=class extends zu{constructor(){super(...arguments),this.awaitSetMethodsCallback=new gi(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var n;const t=this.providedMethods;t?(n=t.afterGuiAttached)==null||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var r,i;return(i=(r=this.providedMethods)==null?void 0:r.afterGuiAttached)==null?void 0:i.call(r,e)})}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function zne(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||gi.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Dze=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){hN(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),zne(this.floatingFilterParams,e)}},Pze=class extends zu{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),zne(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Mze=class extends zu{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},Lze=class extends zu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Oze=class extends zu{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},jze=class extends zu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Uze=class extends zu{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function yP(){gn(231)}var Hze=1e3,Gze=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||Hze}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Pw(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},Vze=({ctrl:e})=>{const t=e.isAlive(),{context:n}=B.useContext(Rl),[r,i]=B.useState(),[s,a]=B.useState(),o=B.useRef(),l=B.useRef(null),c=B.useRef(null),d=B.useRef(null),f=B.useRef(),p=B.useRef();t&&!p.current&&(p.current=new bb(()=>l.current));const m=B.useCallback(T=>{if(l.current=T,!T||!e.isAlive()||n.isDestroyed()){o.current=n.destroyBean(o.current);return}o.current=n.createBean(new $1);const k=()=>{var U;const P=e.getSelectAllGui();P&&((U=c.current)==null||U.insertAdjacentElement("afterend",P),o.current.addDestroyFunc(()=>P.remove()))},R={setWidth:P=>{l.current&&(l.current.style.width=P)},toggleCss:(P,U)=>p.current.toggleCss(P,U),setUserStyles:P=>a(P),setAriaSort:P=>{l.current&&(P?PRe(l.current,P):MRe(l.current))},setUserCompDetails:P=>i(P),getUserCompInstance:()=>f.current||void 0,refreshSelectAllGui:k,removeSelectAllGui:()=>{var P;return(P=e.getSelectAllGui())==null?void 0:P.remove()}};e.setComp(R,T,c.current,d.current,o.current),k()},[]);B.useLayoutEffect(()=>Tb(r,n,d.current,f),[r]),B.useEffect(()=>{e.setDragSource(l.current)},[r]);const w=B.useMemo(()=>!!((r==null?void 0:r.componentFromFramework)&&X1(r.componentClass)),[r]),y=r==null?void 0:r.componentFromFramework,C=r==null?void 0:r.componentClass;return mn.createElement("div",{ref:m,style:s,className:"ag-header-cell",role:"columnheader"},mn.createElement("div",{ref:c,className:"ag-header-cell-resize",role:"presentation"}),mn.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},y?w?mn.createElement(C,{...r.params}):mn.createElement(C,{...r.params,ref:f}):null))},Qze=B.memo(Vze),zze=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){hN(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},Wze=({ctrl:e})=>{const{context:t,gos:n}=B.useContext(Rl),[r,i]=B.useState(),[s,a]=B.useState(()=>new Bu("ag-header-cell","ag-floating-filter")),[o,l]=B.useState(()=>new Bu),[c,d]=B.useState(()=>new Bu("ag-floating-filter-button","ag-hidden")),[f,p]=B.useState("false"),[m,w]=B.useState(),[,y]=B.useState(1),C=B.useRef(),T=B.useRef(null),k=B.useRef(null),R=B.useRef(null),P=B.useRef(null),U=B.useRef(),O=B.useRef(),L=fe=>{fe!=null&&U.current&&U.current(fe)},K=B.useCallback(fe=>{if(T.current=fe,!fe||!e.isAlive()||t.isDestroyed()){C.current=t.destroyBean(C.current);return}C.current=t.createBean(new $1),O.current=new gi(Q=>{U.current=Q});const ce={toggleCss:(Q,Y)=>a(X=>X.setClass(Q,Y)),setUserStyles:Q=>i(Q),addOrRemoveBodyCssClass:(Q,Y)=>l(X=>X.setClass(Q,Y)),setButtonWrapperDisplayed:Q=>{d(Y=>Y.setClass("ag-hidden",!Q)),p(Q?"false":"true")},setWidth:Q=>{T.current&&(T.current.style.width=Q)},setCompDetails:Q=>w(Q),getFloatingFilterComp:()=>O.current?O.current:null,setMenuIcon:Q=>{var Y;return(Y=P.current)==null?void 0:Y.appendChild(Q)}};e.setComp(ce,fe,P.current,k.current,C.current)},[]);B.useLayoutEffect(()=>Tb(m,t,k.current,L),[m]);const j=B.useMemo(()=>s.toString(),[s]),te=B.useMemo(()=>o.toString(),[o]),G=B.useMemo(()=>c.toString(),[c]),V=B.useMemo(()=>!!(m&&m.componentFromFramework&&X1(m.componentClass)),[m]),re=B.useMemo(()=>n.get("reactiveCustomComponents"),[]),ee=B.useMemo(()=>n.get("enableFilterHandlers"),[]),[ie,ue]=B.useState();B.useEffect(()=>{if(m!=null&&m.componentFromFramework)if(re){const fe=ee?zze:Dze,ce=new fe(m.params,()=>y(Q=>Q+1));L(ce),ue(ce)}else yP()},[m]);const le=ie==null?void 0:ie.getProps(),xe=m==null?void 0:m.componentFromFramework,ge=m==null?void 0:m.componentClass;return mn.createElement("div",{ref:K,style:r,className:j,role:"gridcell"},mn.createElement("div",{ref:k,className:te,role:"presentation"},xe?re?le&&mn.createElement(bP.Provider,{value:{setMethods:fe=>ie.setMethods(fe)}},mn.createElement(ge,{...le})):mn.createElement(ge,{...m.params,ref:V?()=>{}:L}):null),mn.createElement("div",{ref:R,"aria-hidden":f,className:G,role:"presentation"},mn.createElement("button",{ref:P,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Kze=B.memo(Wze),qze=({ctrl:e})=>{const{context:t}=B.useContext(Rl),[n,r]=B.useState(),[i,s]=B.useState(()=>new Bu),[a,o]=B.useState(()=>new Bu),[l,c]=B.useState("false"),[d,f]=B.useState(),[p,m]=B.useState(),w=B.useRef(),y=B.useRef(null),C=B.useRef(null),T=B.useRef(null),k=B.useRef(),R=B.useCallback(j=>{if(y.current=j,!j||!e.isAlive()||t.isDestroyed()){w.current=t.destroyBean(w.current);return}w.current=t.createBean(new $1);const te={setWidth:G=>{y.current&&(y.current.style.width=G)},toggleCss:(G,V)=>s(re=>re.setClass(G,V)),setUserStyles:G=>r(G),setHeaderWrapperHidden:G=>{const V=T.current;V&&(G?V.style.setProperty("display","none"):V.style.removeProperty("display"))},setHeaderWrapperMaxHeight:G=>{const V=T.current;V&&(G!=null?V.style.setProperty("max-height",`${G}px`):V.style.removeProperty("max-height"),V.classList.toggle("ag-header-cell-comp-wrapper-limited-height",G!=null))},setUserCompDetails:G=>m(G),setResizableDisplayed:G=>{o(V=>V.setClass("ag-hidden",!G)),c(G?"false":"true")},setAriaExpanded:G=>f(G),getUserCompInstance:()=>k.current||void 0};e.setComp(te,j,C.current,T.current,w.current)},[]);B.useLayoutEffect(()=>Tb(p,t,T.current),[p]),B.useEffect(()=>{y.current&&e.setDragSource(y.current)},[p]);const P=B.useMemo(()=>!!((p==null?void 0:p.componentFromFramework)&&X1(p.componentClass)),[p]),U=B.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),O=B.useMemo(()=>"ag-header-cell-resize "+a.toString(),[a]),L=p==null?void 0:p.componentFromFramework,K=p==null?void 0:p.componentClass;return mn.createElement("div",{ref:R,style:n,className:U,role:"columnheader","aria-expanded":d},mn.createElement("div",{ref:T,className:"ag-header-cell-comp-wrapper",role:"presentation"},L?P?mn.createElement(K,{...p.params}):mn.createElement(K,{...p.params,ref:k}):null),mn.createElement("div",{ref:C,"aria-hidden":l,className:O}))},$ze=B.memo(qze),Yze=({ctrl:e})=>{const{gos:t,context:n}=B.useContext(Rl),{topOffset:r,rowHeight:i}=B.useMemo(()=>e.getTopAndHeight(),[]),s=B.useMemo(()=>t.get("tabIndex"),[]),[a,o]=B.useState(()=>e.getAriaRowIndex()),l=e.headerRowClass,[c,d]=B.useState(()=>i+"px"),[f,p]=B.useState(()=>r+"px"),m=B.useRef(null),[w,y]=B.useState(()=>e.getUpdatedHeaderCtrls()),C=B.useRef(),T=B.useRef(null),k=B.useCallback(U=>{if(T.current=U,!U||!e.isAlive()||n.isDestroyed()){C.current=n.destroyBean(C.current);return}C.current=n.createBean(new $1);const O={setHeight:L=>d(L),setTop:L=>p(L),setHeaderCtrls:(L,K,j)=>{const te=m.current,G=wE(te,L,K);G!==te&&(m.current=G,Pw(j,()=>y(G)))},setWidth:L=>{T.current&&(T.current.style.width=L)},setRowIndex:L=>{o(L)}};e.setComp(O,C.current,!1)},[]),R=B.useMemo(()=>({height:c,top:f}),[c,f]),P=B.useCallback(U=>{switch(e.type){case"group":return mn.createElement($ze,{ctrl:U,key:U.instanceId});case"filter":return mn.createElement(Kze,{ctrl:U,key:U.instanceId});default:return mn.createElement(Qze,{ctrl:U,key:U.instanceId})}},[]);return mn.createElement("div",{ref:k,className:l,role:"row",style:R,tabIndex:s,"aria-rowindex":a},w.map(P))},Xze=B.memo(Yze),Jze=({pinned:e})=>{const[t,n]=B.useState(!0),[r,i]=B.useState([]),{context:s}=B.useContext(Rl),a=B.useRef(null),o=B.useRef(null),l=B.useRef(),c=e==="left",d=e==="right",f=!c&&!d,p=B.useCallback(y=>{if(a.current=y,!y||s.isDestroyed()){l.current=s.destroyBean(l.current);return}l.current=s.createBean(new R6e(e));const C={setDisplayed:n,setCtrls:T=>i(T),setCenterWidth:T=>{o.current&&(o.current.style.width=T)},setViewportScrollLeft:T=>{a.current&&(a.current.scrollLeft=T)},setPinnedContainerWidth:T=>{a.current&&(a.current.style.width=T,a.current.style.minWidth=T,a.current.style.maxWidth=T)}};l.current.setComp(C,a.current)},[]),m=t?"":"ag-hidden",w=()=>r.map(y=>mn.createElement(Xze,{ctrl:y,key:y.instanceId}));return c?mn.createElement("div",{ref:p,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},w()):d?mn.createElement("div",{ref:p,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},w()):f?mn.createElement("div",{ref:p,className:"ag-header-viewport "+m,role:"rowgroup",tabIndex:-1},mn.createElement("div",{ref:o,className:"ag-header-container",role:"presentation"},w())):null},KF=B.memo(Jze),Zze=()=>{const[e,t]=B.useState(()=>new Bu),[n,r]=B.useState(),{context:i}=B.useContext(Rl),s=B.useRef(null),a=B.useRef(),o=B.useCallback(d=>{if(s.current=d,!d||i.isDestroyed()){a.current=i.destroyBean(a.current);return}a.current=i.createBean(new I6e);const f={toggleCss:(p,m)=>t(w=>w.setClass(p,m)),setHeightAndMinHeight:p=>r(p)};a.current.setComp(f,d,d)},[]),l=B.useMemo(()=>"ag-header "+e.toString(),[e]),c=B.useMemo(()=>({height:n,minHeight:n}),[n]);return mn.createElement("div",{ref:o,className:l,style:c,role:"presentation"},mn.createElement(KF,{pinned:"left"}),mn.createElement(KF,{pinned:null}),mn.createElement(KF,{pinned:"right"}))},eWe=B.memo(Zze),tWe=(e,t)=>{B.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{i.remove()}}}},[e])},q0=tWe,nWe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new gi(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){hN(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},rWe=e=>{const t=B.useRef(e),n=B.useRef(),r=B.useRef(!1),i=B.useRef(!1),[,s]=B.useState(0);r.current&&(i.current=!0),B.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(a=>a+1),()=>{var a;i.current&&((a=n.current)==null||a.call(n))}),[])},iWe=e=>{const[t,n]=B.useState(),r=B.useContext(Rl),{context:i,popupSvc:s,gos:a,editSvc:o}=r,{editDetails:l,cellCtrl:c,eParentCell:d}=e;return rWe(()=>{var y,C;const{compDetails:f}=l,p=a.get("stopEditingWhenCellsLoseFocus");let m,w;if(!i.isDestroyed()){w=i.createBean(o.createPopupEditorWrapper(f.params));const T=w.getGui();if(e.jsChildComp){const L=e.jsChildComp.getGui();L&&T.appendChild(L)}const{column:k,rowNode:R}=c,P={column:k,rowNode:R,type:"popupCellEditor",eventSource:d,ePopup:T,position:l.popupPosition,keepWithinBounds:!0},U=s==null?void 0:s.positionPopupByComponent.bind(s,P),O=s==null?void 0:s.addPopup({modal:p,eChild:T,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:d,positionCallback:U,ariaOwns:d});m=O?O.hideFunc:void 0,n(w),(C=(y=e.jsChildComp)==null?void 0:y.afterGuiAttached)==null||C.call(y)}return()=>{m==null||m(),i.destroyBean(w)}}),B.useLayoutEffect(()=>()=>{c.isCellFocused()&&(t!=null&&t.getGui().contains(Js(r)))&&d.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?D1.createPortal(e.wrappedContent,t.getGui()):null},SV=B.memo(iWe),sWe=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=X1(t);return mn.createElement(bP.Provider,{value:{setMethods:a=>r.setMethods(a)}},s?mn.createElement(t,{...i}):mn.createElement(t,{...i,ref:a=>r.setRef(a)}))},EV=(e,t,n)=>e.compProxy?sWe(e,t,n):mn.createElement(t,{...e.compDetails.params,ref:n}),aWe=(e,t,n,r,i)=>{const s=e.compDetails,a=s.componentClass,o=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return o?EV(e,a,t):l?mn.createElement(SV,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:EV(e,a,t)}):c&&i?mn.createElement(SV,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},oWe=(e,t,n,r,i,s,a=!1)=>{const{context:o}=B.useContext(Rl),l=B.useCallback(()=>{const c=i.current;if(!c)return;const d=c.getGui();d&&d.parentElement&&d.remove(),o.destroyBean(c),i.current=void 0},[]);B.useEffect(()=>{const c=e!=null&&!a,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&n==null;if(!(c&&d&&!f)){l();return}const m=e.compDetails;if(i.current){const y=i.current,T=y.refresh!=null&&e.force==!1?y.refresh(m.params):!1;if(T===!0||T===void 0)return;l()}m.newAgStackInstance().then(y=>{if(!y)return;const C=y.getGui();if(!C)return;(t?n:s.current).appendChild(C),i.current=y})},[e,t,r,a]),B.useEffect(()=>l,[])},Wne=oWe,lWe=({cellCtrl:e,parent:t})=>{var i;const n=B.useRef(),r=B.useMemo(()=>{const{loadingComp:s}=e.getDeferLoadingCellRenderer();return s?{value:void 0,compDetails:s,force:!1}:void 0},[e]);if(Wne(r,!1,void 0,1,n,t),(i=r==null?void 0:r.compDetails)!=null&&i.componentFromFramework){const s=r.compDetails.componentClass;return mn.createElement(s,{...r.compDetails.params})}return mn.createElement(mn.Fragment,null)},cWe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=B.useContext(Rl),{context:i}=r,{column:{colIdSanitised:s},instanceId:a}=e,o=B.useRef(),[l,c]=B.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,f]=B.useState(),[p,m]=B.useState(1),[w,y]=B.useState(),[C,T]=B.useState(!1),[k,R]=B.useState(!1),[P,U]=B.useState(!1),[O,L]=B.useState(),K=B.useMemo(()=>e.isForceWrapper(),[e]),j=B.useMemo(()=>e.getCellAriaRole(),[e]),te=B.useRef(null),G=B.useRef(null),V=B.useRef(null),re=B.useRef(),ee=B.useRef(),ie=B.useRef(),ue=B.useRef([]),le=B.useRef(),xe=B.useRef(),[ge,fe]=B.useState(0),ce=B.useCallback(nt=>{xe.current=nt,fe(Ct=>Ct+1)},[]),Q=l!=null&&(C||P||k)&&(d==null||!!d.popup),Y=K||Q,X=B.useMemo(()=>e.getCellValueClass(),[e]),ne=B.useCallback(nt=>{if(ee.current=nt,nt){const Ct=nt.isCancelBeforeStart&&nt.isCancelBeforeStart();setTimeout(()=>{Ct?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(nt))})}},[e]),oe=B.useRef();oe.current||(oe.current=new bb(()=>te.current));const Ce=!!d&&!d.popup;Wne(l,Y,xe.current,ge,re,te,Ce);const ke=B.useRef();B.useLayoutEffect(()=>{var An,bn;const nt=ke.current,Ct=l;if(ke.current=l,nt==null||nt.compDetails==null||Ct==null||Ct.compDetails==null)return;(An=le.current)==null||An.refreshVisibility();const lt=nt.compDetails,Qt=Ct.compDetails;if(lt.componentClass!=Qt.componentClass||((bn=V.current)==null?void 0:bn.refresh)==null)return;V.current.refresh(Qt.params)!=!0&&m(Cn=>Cn+1)},[l]),B.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework)||i.isDestroyed())return;const Ct=d.compDetails,lt=d.popup===!0,Qt=Ct.newAgStackInstance();return Qt.then(ot=>{var bn;if(!ot)return;const An=ot.getGui();if(ne(ot),!lt){const Cn=(K?ie:te).current;Cn==null||Cn.appendChild(An),(bn=ot.afterGuiAttached)==null||bn.call(ot)}L(ot)}),()=>{Qt.then(ot=>{const An=ot.getGui();e.disableEditorTooltipFeature(),i.destroyBean(ot),ne(void 0),L(void 0),An==null||An.remove()})}},[d]);const Ne=B.useCallback(nt=>{if(ie.current=nt,!nt||i.isDestroyed()||!e.isAlive()){const Qt=ue.current;ue.current=[];for(const ot of Qt)ot();return}let Ct;const lt=Qt=>{Qt&&(nt.insertAdjacentElement("afterbegin",Qt.getGui()),ue.current.push(()=>{s0(Qt.getGui()),i.destroyBean(Qt),le.current===Ct&&(le.current=void 0)}))};C&&lt(e.createSelectionCheckbox()),P&&lt(e.createDndSource()),k&&(Ct=e.createRowDragComp(),le.current=Ct,Ct&&(lt(Ct),Ct.refreshVisibility()))},[e,i,P,k,C]),Ue=B.useCallback(()=>{const nt=!e.isCellSpanning()||G.current,Ct=te.current;if(!Ct||!nt||!e||!e.isAlive()||i.isDestroyed()){o.current=i.destroyBean(o.current);return}o.current=i.createBean(new $1);const lt={toggleCss:(ot,An)=>oe.current.toggleCss(ot,An),setUserStyles:ot=>y(ot),getFocusableElement:()=>te.current,setIncludeSelection:ot=>T(ot),setIncludeRowDrag:ot=>R(ot),setIncludeDndSource:ot=>U(ot),getCellEditor:()=>ee.current??null,getCellRenderer:()=>V.current??re.current,getParentOfValue:()=>xe.current??ie.current??te.current,setRenderDetails:(ot,An,bn)=>{var Vn;const Cn=()=>{c(Sn=>(Sn==null?void 0:Sn.compDetails)!==ot||(Sn==null?void 0:Sn.value)!==An||(Sn==null?void 0:Sn.force)!==bn?{value:An,compDetails:ot,force:bn}:Sn)};if((Vn=ot==null?void 0:ot.params)!=null&&Vn.deferRender&&!e.rowNode.group){const{loadingComp:Sn,onReady:tr}=e.getDeferLoadingCellRenderer();if(Sn){c({value:void 0,compDetails:Sn,force:!1}),tr.then(()=>Cze(Cn));return}}Cn()},setEditDetails:(ot,An,bn,Cn)=>{if(ot){let Vn;ot.componentFromFramework&&(Cn?Vn=new nWe(ot.params,()=>m(Sn=>Sn+1)):yP()),f({compDetails:ot,popup:An,popupPosition:bn,compProxy:Vn}),An||c(void 0)}else e.hasBrowserFocus()&&lt.getFocusableElement().focus({preventScroll:!0}),ee.current=void 0,f(void 0)},refreshEditStyles:(ot,An)=>{if(!te.current)return;const{current:bn}=oe;bn.toggleCss("ag-cell-value",!Y),bn.toggleCss("ag-cell-inline-editing",!!ot&&!An),bn.toggleCss("ag-cell-popup-editing",!!ot&&!!An),bn.toggleCss("ag-cell-not-inline-editing",!ot||!!An)}},Qt=ie.current||void 0;e.setComp(lt,Ct,G.current??void 0,Qt,t,n,o.current)},[]),Ye=B.useCallback(nt=>{te.current=nt,Ue()},[]),ve=B.useCallback(nt=>{G.current=nt,Ue()},[]),gt=B.useMemo(()=>{var Ct;return!!(((Ct=l==null?void 0:l.compDetails)==null?void 0:Ct.componentFromFramework)&&X1(l.compDetails.componentClass))},[l]);B.useLayoutEffect(()=>{if(!te.current)return;const{current:nt}=oe;nt.toggleCss("ag-cell-value",!Y),nt.toggleCss("ag-cell-inline-editing",!!d&&!d.popup),nt.toggleCss("ag-cell-popup-editing",!!d&&!!d.popup),nt.toggleCss("ag-cell-not-inline-editing",!d||!!d.popup)});const yt=()=>{var lt;const{compDetails:nt,value:Ct}=l;if(!nt)return((lt=Ct==null?void 0:Ct.toString)==null?void 0:lt.call(Ct))??Ct;if(nt.componentFromFramework){const Qt=nt.componentClass;return mn.createElement(B.Suspense,{fallback:mn.createElement(lWe,{cellCtrl:e,parent:te})},gt?mn.createElement(Qt,{...nt.params,key:p}):mn.createElement(Qt,{...nt.params,key:p,ref:V}))}},Fe=()=>{const nt=()=>l==null?null:Y?mn.createElement("span",{role:"presentation",id:`cell-${a}`,className:X,ref:ce},yt()):yt(),Ct=lt=>aWe(lt,ne,te.current,e,O);return d!=null?d.popup?mn.createElement(mn.Fragment,null,nt(),Ct(d)):Ct(d):nt()},Nt=()=>mn.createElement("div",{ref:Ye,style:w,role:j,"col-id":s},Y?mn.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Ne},Fe()):Fe());return e.isCellSpanning()?mn.createElement("div",{ref:ve,className:"ag-spanned-cell-wrapper",role:"presentation"},Nt()):Nt()},uWe=B.memo(cWe),dWe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:i}=B.useContext(Rl),s=B.useContext(Une)==="default",a=B.useRef(),o=B.useRef(e.getDomOrder()),l=e.isFullWidth(),c=e.rowNode.displayed,[d,f]=B.useState(()=>c?e.rowNode.getRowIndexString():null),[p,m]=B.useState(()=>e.rowId),[w,y]=B.useState(()=>e.businessKey),[C,T]=B.useState(()=>e.rowStyles),k=B.useRef(null),[R,P]=B.useState(()=>null),[U,O]=B.useState(),[L,K]=B.useState(()=>c?e.getInitialRowTop(t):void 0),[j,te]=B.useState(()=>c?e.getInitialTransform(t):void 0),G=B.useRef(null),V=B.useRef(),re=B.useRef(),ee=B.useRef(!1),[ie,ue]=B.useState(0);B.useEffect(()=>{var Ye;if(ee.current||!U||ie>10)return;const Ue=(Ye=G.current)==null?void 0:Ye.firstChild;Ue?(e.setupDetailRowAutoHeight(Ue),ee.current=!0):ue(ve=>ve+1)},[U,ie]);const le=B.useRef();le.current||(le.current=new bb(()=>G.current));const xe=B.useRef(()=>{}),ge=B.useCallback(Ue=>(xe.current=Ue,()=>{xe.current=()=>{}}),[]),fe=Sze(ge,()=>k.current,[]),ce=s?fe:R,Q=B.useCallback(Ue=>{if(G.current=Ue,a.current=Ue?n.createBean(new $1):n.destroyBean(a.current),!Ue){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;const Ye={setTop:K,setTransform:te,toggleCss:(ve,gt)=>le.current.toggleCss(ve,gt),setDomOrder:ve=>o.current=ve,setRowIndex:f,setRowId:m,setRowBusinessKey:y,setUserStyles:T,setCellCtrls:(ve,gt)=>{const yt=k.current,Fe=wE(yt,ve,o.current);Fe!==yt&&(k.current=Fe,s?xe.current():Pw(gt,()=>P(Fe)))},showFullWidth:ve=>{re.current=ve.params,O(ve)},getFullWidthCellRenderer:()=>V.current,getFullWidthCellRendererParams:()=>re.current,refreshFullWidth:ve=>{const gt=ve();return re.current=gt,Ce.current?(O(yt=>({...yt,params:gt})),!0):!V.current||!V.current.refresh?!1:V.current.refresh(gt)}};e.setComp(Ye,Ue,t,a.current)},[]);B.useLayoutEffect(()=>Tb(U,n,G.current,V),[U]);const Y=B.useMemo(()=>{const Ue={top:L,transform:j};return Object.assign(Ue,C),Ue},[L,j,C]),X=l&&(U==null?void 0:U.componentFromFramework),ne=!l&&ce!=null,oe=B.useMemo(()=>!!((U==null?void 0:U.componentFromFramework)&&X1(U.componentClass)),[U]),Ce=B.useRef(!1);B.useEffect(()=>{Ce.current=oe&&!!U&&!!r.get("reactiveCustomComponents")},[oe,U]);const ke=()=>ce==null?void 0:ce.map(Ue=>mn.createElement(uWe,{cellCtrl:Ue,editingCell:(i==null?void 0:i.isEditing(Ue,{withOpenEditor:!0}))??!1,printLayout:e.printLayout,key:Ue.instanceId})),Ne=()=>{const Ue=U.componentClass;return oe?mn.createElement(Ue,{...U.params}):mn.createElement(Ue,{...U.params,ref:V})};return mn.createElement("div",{ref:Q,role:"row",style:Y,"row-index":d,"row-id":p,"row-business-key":w},ne?ke():X?Ne():null)},NV=B.memo(dWe),hWe=({name:e})=>{const{context:t,gos:n}=B.useContext(Rl),r=B.useMemo(()=>Cb(e),[e]),i=B.useRef(null),s=B.useRef(null),a=B.useRef(null),o=B.useRef([]),l=B.useRef([]),[c,d]=B.useState(()=>[]),f=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,p=B.useRef([]),m=B.useRef([]),[w,y]=B.useState(()=>[]),C=B.useRef(!1),T=B.useRef(),k=B.useMemo(()=>Su("ag-viewport",yte(e)),[e]),R=B.useMemo(()=>Su(S2(e)),[e]),P=B.useMemo(()=>Su("ag-spanning-container",QMe(e)),[e]),U=r.type==="center"||f,O=U?i:s;q0(" AG Row Container "+e+" ",O);const L=B.useCallback(()=>{const ie=!U||i.current!=null,ue=s.current!=null,le=!f||a.current!=null;return ie&&ue&&le},[]),K=B.useCallback(()=>i.current==null&&s.current==null&&a.current==null,[]),j=B.useCallback(()=>{if(K()&&(T.current=t.destroyBean(T.current)),!t.isDestroyed()&&L()){const ie=xe=>{const ge=wE(l.current,o.current,C.current);ge!==l.current&&(l.current=ge,Pw(xe,()=>d(ge)))},ue=xe=>{const ge=wE(m.current,p.current,C.current);ge!==m.current&&(m.current=ge,Pw(xe,()=>y(ge)))},le={setHorizontalScroll:xe=>{i.current&&(i.current.scrollLeft=xe)},setViewportHeight:xe=>{i.current&&(i.current.style.height=xe)},setRowCtrls:({rowCtrls:xe,useFlushSync:ge})=>{const fe=!!ge&&o.current.length>0&&xe.length>0;o.current=xe,ie(fe)},setSpannedRowCtrls:(xe,ge)=>{const fe=!!ge&&p.current.length>0&&xe.length>0;p.current=xe,ue(fe)},setDomOrder:xe=>{C.current!=xe&&(C.current=xe,ie(!1))},setContainerWidth:xe=>{s.current&&(s.current.style.width=xe)},setOffsetTop:xe=>{s.current&&(s.current.style.transform=`translateY(${xe})`)}};T.current=t.createBean(new e6e(e)),T.current.setComp(le,s.current,a.current??void 0,i.current)}},[L,K]),te=B.useCallback(ie=>{s.current=ie,j()},[j]),G=B.useCallback(ie=>{a.current=ie,j()},[j]),V=B.useCallback(ie=>{i.current=ie,j()},[j]),re=()=>mn.createElement("div",{className:R,ref:te,role:U?"presentation":"rowgroup"},c.map(ie=>mn.createElement(NV,{rowCtrl:ie,containerType:r.type,key:ie.instanceId})));if(!U)return re();const ee=()=>mn.createElement("div",{className:P,ref:G,role:"presentation"},w.map(ie=>mn.createElement(NV,{rowCtrl:ie,containerType:r.type,key:ie.instanceId})));return mn.createElement("div",{className:k,ref:V,role:"rowgroup"},re(),f?ee():null)},fWe=B.memo(hWe),AWe=()=>{const e=B.useContext(Rl),{context:t,overlays:n}=e,[r,i]=B.useState(""),[s,a]=B.useState(0),[o,l]=B.useState(0),[c,d]=B.useState("0px"),[f,p]=B.useState("0px"),[m,w]=B.useState("100%"),[y,C]=B.useState("0px"),[T,k]=B.useState("0px"),[R,P]=B.useState("100%"),[U,O]=B.useState(!0),[L,K]=B.useState(!0),[j,te]=B.useState(null),[G,V]=B.useState(""),[re,ee]=B.useState(null),[ie,ue]=B.useState("ag-layout-normal"),le=B.useRef();le.current||(le.current=new bb(()=>xe.current));const xe=B.useRef(null),ge=B.useRef(null),fe=B.useRef(null),ce=B.useRef(null),Q=B.useRef(null),Y=B.useRef(null),X=B.useRef(null),ne=B.useRef([]),oe=B.useRef([]);q0(" AG Grid Body ",xe),q0(" AG Pinned Top ",ge),q0(" AG Sticky Top ",fe),q0(" AG Middle ",Y),q0(" AG Pinned Bottom ",X);const Ce=B.useCallback(ot=>{if(xe.current=ot,!ot||t.isDestroyed()){ne.current=t.destroyBeans(ne.current);for(const xn of oe.current)xn();oe.current=[];return}const An=(xn,Ht)=>{xn.appendChild(Ht),oe.current.push(()=>Ht.remove())},bn=xn=>{const Ht=t.createBean(new xn);return ne.current.push(Ht),Ht},Cn=(xn,Ht,hn)=>{An(xn,document.createComment(hn)),An(xn,bn(Ht).getGui())};Cn(ot,o6e," AG Fake Horizontal Scroll ");const Vn=n==null?void 0:n.getOverlayWrapperCompClass();Vn&&Cn(ot,Vn," AG Overlay Wrapper "),Q.current&&Cn(Q.current,c6e," AG Fake Vertical Scroll ");const Sn={setRowAnimationCssOnBodyViewport:i,setColumnCount:xn=>{xe.current&&_Re(xe.current,xn)},setRowCount:xn=>{xe.current&&BRe(xe.current,xn)},setTopHeight:a,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:p,setStickyTopWidth:w,setTopInvisible:O,setBottomInvisible:K,setColumnMovingCss:(xn,Ht)=>le.current.toggleCss(xn,Ht),updateLayoutClasses:ue,setAlwaysVerticalScrollClass:te,setPinnedTopBottomOverflowY:V,setCellSelectableCss:(xn,Ht)=>ee(Ht?xn:null),setBodyViewportWidth:xn=>{Y.current&&(Y.current.style.width=xn)},registerBodyViewportResizeListener:xn=>{if(Y.current){const Ht=zf(e,Y.current,xn);oe.current.push(()=>Ht())}},setStickyBottomHeight:C,setStickyBottomBottom:k,setStickyBottomWidth:P,setGridRootRole:xn=>ot.setAttribute("role",xn)},tr=t.createBean(new i6e);ne.current.push(tr),tr.setComp(Sn,ot,Y.current,ge.current,X.current,fe.current,ce.current)},[]),ke=B.useMemo(()=>Su("ag-root","ag-unselectable",ie),[ie]),Ne=B.useMemo(()=>Su("ag-body-viewport",r,ie,j,re),[r,ie,j,re]),Ue=B.useMemo(()=>Su("ag-body",ie),[ie]),Ye=B.useMemo(()=>Su("ag-floating-top",U?"ag-invisible":null,re),[re,U]),ve=B.useMemo(()=>Su("ag-sticky-top",re),[re]),gt=B.useMemo(()=>Su("ag-sticky-bottom",y==="0px"?"ag-invisible":null,re),[re,y]),yt=B.useMemo(()=>Su("ag-floating-bottom",L?"ag-invisible":null,re),[re,L]),Fe=B.useMemo(()=>({height:s,minHeight:s,overflowY:G}),[s,G]),Nt=B.useMemo(()=>({height:c,top:f,width:m}),[c,f,m]),nt=B.useMemo(()=>({height:y,bottom:T,width:R}),[y,T,R]),Ct=B.useMemo(()=>({height:o,minHeight:o,overflowY:G}),[o,G]),lt=ot=>mn.createElement(fWe,{name:ot,key:`${ot}-container`}),Qt=({section:ot,children:An,className:bn,style:Cn})=>mn.createElement("div",{ref:ot,className:bn,role:"presentation",style:Cn},An.map(lt));return mn.createElement("div",{ref:Ce,className:ke},mn.createElement(eWe,null),Qt({section:ge,className:Ye,style:Fe,children:["topLeft","topCenter","topRight","topFullWidth"]}),mn.createElement("div",{className:Ue,ref:Q,role:"presentation"},Qt({section:Y,className:Ne,children:["left","center","right","fullWidth"]})),Qt({section:fe,className:ve,style:Nt,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Qt({section:ce,className:gt,style:nt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Qt({section:X,className:yt,style:Ct,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},pWe=B.memo(AWe),gWe=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:a,isEmpty:o}=e,{context:l}=B.useContext(Rl),c=B.useRef(null),d=B.useRef(null),f=B.useRef(),p=T=>{var R,P;const k=T==null?void 0:parseInt(T,10).toString();for(const U of[c,d])k===void 0?(R=U.current)==null||R.removeAttribute("tabindex"):(P=U.current)==null||P.setAttribute("tabindex",k)};B.useImperativeHandle(t,()=>({forceFocusOutOfContainer(T){var k;(k=f.current)==null||k.forceFocusOutOfContainer(T)}}));const m=B.useCallback(()=>{const T=c.current,k=d.current;if(!T&&!k||l.isDestroyed()){f.current=l.destroyBean(f.current);return}if(T&&k){const R={setTabIndex:p};f.current=l.createBean(new uLe({comp:R,eTopGuard:T,eBottomGuard:k,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:P=>s.focusInnerElement(P),isEmpty:o}))}},[]),w=B.useCallback(T=>{c.current=T,m()},[m]),y=B.useCallback(T=>{d.current=T,m()},[m]),C=T=>{const k=T==="top"?Zm.TAB_GUARD_TOP:Zm.TAB_GUARD_BOTTOM;return mn.createElement("div",{className:`${Zm.TAB_GUARD} ${k}`,role:"presentation",ref:T==="top"?w:y})};return mn.createElement(mn.Fragment,null,C("top"),n,C("bottom"))},mWe=B.forwardRef(gWe),xWe=B.memo(mWe),vWe=({context:e})=>{const[t,n]=B.useState(""),[r,i]=B.useState(""),[s,a]=B.useState(null),[o,l]=B.useState(null),[c,d]=B.useState(!1),[f,p]=B.useState(),m=B.useRef(),w=B.useRef(null),y=B.useRef(),[C,T]=B.useState(null),k=B.useRef(()=>{}),R=B.useRef(),P=B.useRef([]),U=B.useCallback(()=>{},[]);q0(" AG Grid ",w);const O=B.useCallback(V=>{if(w.current=V,m.current=V?e.createBean(new xLe):e.destroyBean(m.current),!V||e.isDestroyed())return;const re=m.current;k.current=re.focusInnerElement.bind(re);const ee={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:ie=>{var ue,le;if(!ie&&((ue=R.current)!=null&&ue.isDisplayed())){R.current.forceFocusOutOfContainer(ie);return}(le=y.current)==null||le.forceFocusOutOfContainer(ie)},updateLayoutClasses:i,getFocusableContainers:()=>{var le;const ie=[],ue=(le=w.current)==null?void 0:le.querySelector(".ag-root");ue&&ie.push({getGui:()=>ue});for(const xe of P.current)xe.isDisplayed()&&ie.push(xe);return ie},setCursor:a,setUserSelect:l};re.setComp(ee,V,V),d(!0)},[]);B.useEffect(()=>{const V=m.current,re=w.current;if(!f||!V||!C||!re||e.isDestroyed())return;const ee=[],{watermarkSelector:ie,paginationSelector:ue,sideBarSelector:le,statusBarSelector:xe,gridHeaderDropZonesSelector:ge}=V.getOptionalSelectors(),fe=[];if(ge){const Q=e.createBean(new ge.component),Y=Q.getGui();re.insertAdjacentElement("afterbegin",Y),fe.push(Y),ee.push(Q)}if(le){const Q=e.createBean(new le.component),Y=Q.getGui(),X=C.querySelector(".ag-tab-guard-bottom");X&&(X.insertAdjacentElement("beforebegin",Y),fe.push(Y)),ee.push(Q),P.current.push(Q)}const ce=Q=>{const Y=e.createBean(new Q),X=Y.getGui();return re.insertAdjacentElement("beforeend",X),fe.push(X),ee.push(Y),Y};if(xe&&ce(xe.component),ue){const Q=ce(ue.component);R.current=Q,P.current.push(Q)}return ie&&ce(ie.component),()=>{e.destroyBeans(ee);for(const Q of fe)Q.remove()}},[f,C,e]);const L=B.useMemo(()=>Su("ag-root-wrapper",t,r),[t,r]),K=B.useMemo(()=>Su("ag-root-wrapper-body","ag-focus-managed",r),[r]),j=B.useMemo(()=>({userSelect:o??"",WebkitUserSelect:o??"",cursor:s??""}),[o,s]),te=B.useCallback(V=>{y.current=V,p(V!==null)},[]),G=B.useCallback(()=>{var V;return!((V=m.current)!=null&&V.isFocusable())},[]);return mn.createElement("div",{ref:O,className:L,style:j,role:"presentation"},mn.createElement("div",{className:K,ref:T,role:"presentation"},c&&C&&!e.isDestroyed()&&mn.createElement(Rl.Provider,{value:e.getBeans()},mn.createElement(xWe,{ref:te,eFocusableElement:C,onTabKeyDown:U,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:G},mn.createElement(pWe,null)))))},wWe=B.memo(vWe),bWe=class extends Kt{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},Kne={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},yWe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...Kne},qne=new Set(Object.keys(yWe)),CWe=new Set(Object.keys(Kne)),$ne=e=>{var R;const t=B.useRef(),n=B.useRef(null),r=B.useRef(null),i=B.useRef([]),s=B.useRef([]),a=B.useRef(e),o=B.useRef(),l=B.useRef(),c=B.useRef(!1),[d,f]=B.useState(void 0),[,p]=B.useState(0),m=B.useRef(),w=P=>{var L;const U=(L=n.current)==null?void 0:L.classList,O=(K="")=>K.trim().split(/\s+/g).filter(Boolean);if(m.current!==P){for(const K of O(m.current))U!=null&&U.contains(K)&&U.remove(K);for(const K of O(P))U!=null&&U.contains(K)||U==null||U.add(K);m.current=P}};B.useLayoutEffect(()=>{w(e.className)},[e.className]);const y=B.useCallback(P=>{if(n.current=P,w(e.className),!P){for(const ee of i.current)ee();i.current.length=0;return}const U=e.modules||[];r.current||(r.current=new Gze(()=>p(ee=>ee+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var ee;(ee=r.current)==null||ee.destroy(),r.current=null}));const O=D_e(e.gridOptions,e,Object.keys(e).filter(ee=>!qne.has(ee))),L=()=>{if(c.current){const ee=()=>{var ue;return(ue=o.current)!=null&&ue.shouldQueueUpdates()?void 0:s.current.shift()};let ie=ee();for(;ie;)ie(),ie=ee()}},K=new TWe(L);o.current=K;const j=new bWe,te={providedBeanInstances:{frameworkCompWrapper:new EWe(r.current,O),renderStatus:j},modules:U,frameworkOverrides:K,setThemeOnGridDiv:!0},G=ee=>{f(ee),ee.createBean(j),i.current.push(()=>{ee.destroy()}),ee.getBean("ctrlsSvc").whenReady({addDestroyFunc:ie=>{i.current.push(ie)}},()=>{var ue;if(ee.isDestroyed())return;const ie=t.current;ie&&((ue=e.passGridApi)==null||ue.call(e,ie))})},V=ee=>{ee.getBean("ctrlsSvc").whenReady({addDestroyFunc:ie=>{i.current.push(ie)}},()=>{for(const ie of s.current)ie();s.current.length=0,c.current=!0})},re=new M7e;O.gridId??(O.gridId=l.current),t.current=re.create(P,O,G,V,te),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),C=B.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),T=B.useCallback(P=>{var U;c.current&&!((U=o.current)!=null&&U.shouldQueueUpdates())?P():s.current.push(P)},[]);B.useEffect(()=>{const P=SWe(a.current,e);a.current=e,T(()=>{t.current&&P_e(P,t.current)})},[e]);const k=!mn.useSyncExternalStore||x2(e,"renderingMode")==="legacy"?"legacy":"default";return mn.createElement("div",{style:C,ref:y},mn.createElement(Une.Provider,{value:k},d&&!d.isDestroyed()?mn.createElement(wWe,{key:d.instanceId,context:d}):null,((R=r.current)==null?void 0:R.getPortals())??null))};function SWe(e,t){const n={};for(const r of Object.keys(t)){if(qne.has(r)){CWe.has(r)&&gn(274,{prop:r});continue}const i=t[r];e[r]!==i&&(n[r]=i)}return n}var EWe=class extends H7e{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(x2(n,"reactiveCustomComponents")){const a=(o=>{switch(o){case"filter":return x2(n,"enableFilterHandlers")?_ze:Rze;case"floatingFilterComponent":return x2(n,"enableFilterHandlers")?Mze:Pze;case"dateComponent":return kze;case"dragAndDropImageComponent":return Bze;case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":return Fze;case"statusPanel":return jze;case"toolPanel":return Uze;case"menuItem":return Oze;case"cellRenderer":return Ize;case"innerHeaderComponent":return Lze}})(t.name);if(a)return new a(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":yP();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new Qne(e,this.parent,t,i)}},NWe=B.forwardRef((e,t)=>{const n=B.useContext(Rl),{registry:r,context:i,gos:s,rowModel:a}=n,[o,l]=B.useState(()=>new Bu),[c,d]=B.useState(()=>new Bu),[f,p]=B.useState(),[m,w]=B.useState(),y=B.useRef(),C=B.useRef(null),T=B.useRef(),k=B.useMemo(()=>d_e(e.api.getGridId(),(f==null?void 0:f.rowModelType)??"clientSide"),[e]),R=B.useMemo(()=>o.toString()+" ag-details-row",[o]),P=B.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&B.useImperativeHandle(t,()=>({refresh(){var L;return((L=y.current)==null?void 0:L.refresh())??!1}})),e.template&&gn(230);const U=B.useCallback(L=>{var te;if(C.current=L,!L||i.isDestroyed()){y.current=i.destroyBean(y.current),(te=T.current)==null||te.call(T);return}const K={toggleCss:(G,V)=>l(re=>re.setClass(G,V)),toggleDetailGridCss:(G,V)=>d(re=>re.setClass(G,V)),setDetailGrid:G=>p(G),setRowData:G=>w(G),getGui:()=>C.current},j=r.createDynamicBean("detailCellRendererCtrl",!0);if(j&&(i.createBean(j),j.init(K,e),y.current=j,s.get("detailRowAutoHeight"))){const G=()=>{if(C.current==null)return;const V=C.current.clientHeight;V!=null&&V>0&&setTimeout(()=>{e.node.setRowHeight(V),(sa(s)||q1(s))&&a.onRowHeightChanged()},0)};T.current=zf(n,L,G),G()}},[]),O=B.useCallback(L=>{var K;(K=y.current)==null||K.registerDetailWithMaster(L)},[]);return mn.createElement("div",{className:R,ref:U},f&&mn.createElement($ne,{className:P,...f,modules:k,rowData:m,passGridApi:O}))}),TWe=class extends Dte{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:yV,agGroupRowRenderer:yV,agDetailCellRenderer:NWe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?yze(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return bze()}},IWe=class extends B.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return mn.createElement($ne,{...this.props,passGridApi:this.setGridApi})}};f_e.registerModules([wze]);const FWe=({projects:e,isReadOnly:t,onDetailClick:n,onEditClick:r,onDeleteClick:i,onRestoreClick:s,onHardDeleteClick:a,setSearchTerm:o,setStatusFilter:l})=>u.jsx("div",{className:"h-full overflow-y-auto pb-20 pr-2",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.map(c=>{var d,f;return u.jsxs("div",{onClick:()=>n(c),className:"group bg-white rounded-[2.5rem] border border-stone-200 p-1 cursor-pointer hover:shadow-xl hover:scale-[1.01] hover:border-stone-300 transition-all duration-300 flex flex-col relative",children:[c.deletedAt&&u.jsxs("div",{className:"absolute inset-0 z-50 bg-white/80 backdrop-blur-sm rounded-[2.5rem] flex flex-col items-center justify-center pointer-events-none",children:[u.jsx("p",{className:"text-rose-600 font-black text-xl uppercase tracking-widest mb-4",children:""}),u.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[u.jsxs("button",{onClick:p=>{p.stopPropagation(),s(c.id)},className:"bg-emerald-600 text-white px-4 py-2 rounded-xl text-xs font-bold flex items-center gap-2 hover:bg-emerald-700",children:[u.jsx(x3,{size:14})," "]}),u.jsxs("button",{onClick:p=>{p.stopPropagation(),a(c.id)},className:"bg-rose-600 text-white px-4 py-2 rounded-xl text-xs font-bold flex items-center gap-2 hover:bg-rose-700",children:[u.jsx(rp,{size:14})," "]})]})]}),u.jsxs("div",{className:"relative h-48 rounded-[2rem] overflow-hidden bg-stone-100 mb-2",children:[u.jsx("img",{src:c.coverImage||`https://source.unsplash.com/random/800x600?construction&sig=${c.id}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 grayscale group-hover:grayscale-0",alt:"cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),u.jsxs("div",{className:"absolute bottom-4 left-6 text-white w-[calc(100%-3rem)]",children:[u.jsxs("div",{className:"flex justify-between items-end mb-1",children:[u.jsx("span",{className:"text-[10px] font-black bg-white/20 backdrop-blur-md px-2 py-0.5 rounded text-white/90 uppercase tracking-widest border border-white/10",children:c.id}),u.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded uppercase tracking-wider ${c.status==="Active"?"bg-emerald-500 text-white":"bg-stone-500 text-white"}`,children:c.status})]}),u.jsx("h3",{className:"text-xl font-black leading-tight mb-1 truncate",children:c.name}),u.jsxs("p",{className:"text-xs font-bold opacity-70 flex items-center gap-1 truncate",children:[u.jsx(Jp,{size:12})," ",c.computedFinancials.manDays,"   ",((d=c.location)==null?void 0:d.address)||""]})]}),u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[!t&&!c.deletedAt&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:p=>{p.stopPropagation(),r(c)},className:"p-2 bg-white/90 backdrop-blur text-stone-600 rounded-xl hover:bg-blue-50 hover:text-blue-600 shadow-sm transition-all",children:u.jsx(Mo,{size:14})}),u.jsx("button",{onClick:p=>{p.stopPropagation(),i(c.id)},className:"p-2 bg-white/90 backdrop-blur text-stone-600 rounded-xl hover:bg-rose-50 hover:text-rose-600 shadow-sm transition-all",children:u.jsx(Ni,{size:14})})]}),c.computedFinancials.healthStatus!=="Healthy"&&!c.deletedAt&&u.jsxs("div",{className:`px-3 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 shadow-sm backdrop-blur-md ${c.computedFinancials.healthStatus==="Critical"?"bg-rose-500/90 text-white":"bg-amber-500/90 text-white"}`,children:[u.jsx(ho,{size:12})," ",c.computedFinancials.healthStatus==="Critical"?"":""]})]})]}),u.jsxs("div",{className:"p-5 flex-1 flex flex-col gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("span",{className:"text-[10px] uppercase font-black text-stone-400 tracking-widest",children:""}),u.jsxs("span",{className:"text-xs font-bold text-stone-600",children:[c.budget?Math.round(c.computedFinancials.totalCost/c.budget*100):0,"%"]})]}),u.jsx("div",{className:"h-3 w-full bg-stone-100 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${c.computedFinancials.healthStatus==="Critical"?"bg-rose-500":c.computedFinancials.healthStatus==="Warning"?"bg-amber-500":"bg-stone-800"}`,style:{width:`${c.budget?Math.min(c.computedFinancials.totalCost/c.budget*100,100):0}%`}})}),u.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-stone-400",children:[u.jsxs("span",{children:[" $",c.computedFinancials.totalCost.toLocaleString()]}),u.jsxs("span",{children:[" $",((f=c.budget)==null?void 0:f.toLocaleString())||0]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[u.jsxs("div",{className:"bg-emerald-50 p-3 rounded-2xl border border-emerald-100",children:[u.jsx("span",{className:"text-[9px] uppercase font-black text-emerald-600/60 block mb-0.5",children:" Profit"}),u.jsxs("span",{className:`text-lg font-black tracking-tight ${c.computedFinancials.profit>=0?"text-emerald-700":"text-rose-600"}`,children:["$",c.computedFinancials.profit.toLocaleString()]})]}),u.jsxs("div",{className:"bg-stone-50 p-3 rounded-2xl border border-stone-100",children:[u.jsx("span",{className:"text-[9px] uppercase font-black text-stone-400 block mb-0.5",children:" Margin"}),u.jsxs("span",{className:`text-lg font-black tracking-tight ${c.computedFinancials.profitMargin>=20?"text-emerald-600":"text-stone-600"}`,children:[c.computedFinancials.profitMargin.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"pt-2 border-t border-stone-100 flex items-center justify-between",children:[u.jsx("span",{className:"text-[10px] font-bold text-stone-400 uppercase tracking-wider",children:c.client}),u.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 group-hover:text-stone-900 transition-colors",children:[" ",u.jsx(HE,{size:14})]})]})]})]},c.id)}),e.length===0&&u.jsxs("div",{className:"col-span-full py-20 bg-white rounded-3xl border border-stone-200 border-dashed flex flex-col items-center justify-center gap-4 text-stone-300",children:[u.jsx(vh,{size:48,className:"opacity-20"}),u.jsx("p",{className:"text-sm font-black uppercase tracking-[0.2em] opacity-50",children:""}),u.jsx("button",{onClick:()=>{o(""),l("all")},className:"text-[10px] font-black text-orange-600 hover:underline underline-offset-4",children:""})]})]})}),kWe=B.forwardRef((e,t)=>{const[n,r]=B.useState("All");B.useImperativeHandle(t,()=>({isFilterActive(){return n!=="All"},doesFilterPass(s){return s.data.calculatedYear==n},getModel(){return{value:n}},setModel(s){r(s?s.value:"All")}}));const i=s=>{r(s.target.value),e.filterChangedCallback()};return u.jsxs("div",{className:"p-4 w-[200px] flex flex-col gap-2",children:[u.jsx("div",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:" Select Year"}),u.jsxs("select",{value:n,onChange:i,className:"w-full bg-stone-50 border border-stone-200 rounded-lg px-3 py-2 text-xs font-bold outline-none cursor-pointer hover:border-blue-500 transition-colors",onPointerDown:s=>s.stopPropagation(),children:[u.jsx("option",{value:"All",children:" (All)"}),u.jsx("option",{value:"2026",children:"2026 "}),u.jsx("option",{value:"2025",children:"2025 "}),u.jsx("option",{value:"2024",children:"2024 "}),u.jsx("option",{value:"others",children:""})]})]})}),BWe=({projects:e,onDetailClick:t,onEditClick:n,onDeleteClick:r})=>{const i=[{headerName:" / ",field:"name",minWidth:300,flex:2,cellRenderer:a=>u.jsxs("div",{className:"flex flex-col justify-center h-full leading-tight",children:[u.jsx("span",{className:"font-bold text-stone-900 text-sm mb-0.5",children:a.data.name}),u.jsx("span",{className:"text-[10px] font-mono text-stone-400 bg-stone-100 px-1.5 py-0.5 rounded w-fit",children:a.data.id})]})},{headerName:"",field:"quotationManager",minWidth:150,flex:1,cellRenderer:a=>u.jsxs("div",{className:"flex items-center gap-2 h-full",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-stone-100 flex items-center justify-center text-[10px] font-black text-stone-600 border border-stone-200",children:(a.value||"U")[0]}),u.jsx("span",{className:"text-xs font-bold text-stone-600",children:a.value||""})]})},{headerName:"",field:"status",width:120,cellRenderer:a=>{const o=a.value,l=o==="Active"?"bg-emerald-50 text-emerald-600 border-emerald-100":o==="Planning"?"bg-blue-50 text-blue-600 border-blue-100":o==="Completed"?"bg-stone-100 text-stone-500 border-stone-200":"bg-slate-50 text-slate-500 border-slate-200";return u.jsx("div",{className:"h-full flex items-center",children:u.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${l}`,children:o})})}},{headerName:"",field:"calculatedYear",width:100,filter:kWe,cellClass:"font-mono font-bold text-stone-500 text-xs flex justify-center items-center"},{headerName:"",field:"budget",width:120,type:"numericColumn",valueFormatter:a=>a.value?`$${a.value.toLocaleString()}`:"-",cellClass:"font-mono font-bold text-stone-600 text-xs"},{headerName:"",field:"computedFinancials.totalCost",width:120,type:"numericColumn",valueFormatter:a=>{var o;return`$${(o=a.value)==null?void 0:o.toLocaleString()}`},cellClass:"font-mono font-bold text-rose-600 text-xs"},{headerName:"",field:"computedFinancials.profit",width:120,type:"numericColumn",valueFormatter:a=>{var o;return`$${(o=a.value)==null?void 0:o.toLocaleString()}`},cellClass:"font-mono font-bold text-emerald-600 text-xs"},{headerName:"",field:"computedFinancials.profitMargin",width:100,type:"numericColumn",valueFormatter:a=>{var o;return`${(o=a.value)==null?void 0:o.toFixed(1)}%`},cellClass:"font-mono font-bold text-emerald-600 text-xs"},{headerName:"",sortable:!1,filter:!1,width:120,cellRenderer:a=>u.jsxs("div",{className:"flex items-center justify-center gap-1 h-full",children:[u.jsx("button",{onClick:o=>{o.stopPropagation(),n(a.data)},className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400 hover:text-blue-600 transition-colors",children:u.jsx(Mo,{size:14})}),u.jsx("button",{onClick:o=>{o.stopPropagation(),r(a.data.id)},className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400 hover:text-rose-600 transition-colors",children:u.jsx(Ni,{size:14})}),u.jsx("button",{className:"p-2 hover:bg-stone-100 rounded-lg text-stone-300 hover:text-stone-900 transition-colors",children:u.jsx(HE,{size:14})})]})}],s=B.useMemo(()=>({sortable:!0,filter:!0,resizable:!0,headerClass:"text-[10px] font-black text-stone-400 uppercase tracking-widest bg-stone-50 border-b border-stone-200"}),[]);return u.jsxs("div",{className:"w-full bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col min-h-[600px]",children:[u.jsx("style",{children:`
            .ag-theme-quartz {
                --ag-header-height: 48px;
                --ag-row-height: 60px;
                --ag-header-background-color: #fafaf9;
                --ag-header-foreground-color: #a8a29e;
                --ag-border-color: #e7e5e4;
                --ag-font-family: inherit;
                --ag-font-size: 13px;
                width: 100%;
            }
            .ag-header-cell-text {
                font-weight: 900 !important;
                letter-spacing: 0.05em;
            }
        `}),u.jsx("div",{className:"ag-theme-quartz w-full relative",children:u.jsx(IWe,{rowData:e,columnDefs:i,defaultColDef:s,onRowClicked:a=>t(a.data),rowClass:"cursor-pointer hover:bg-orange-50/20 transition-colors",animateRows:!0,pagination:!0,paginationPageSize:15,suppressCellFocus:!0,domLayout:"autoHeight",rowHeight:68,headerHeight:50,localeText:{contains:"",notContains:"",startsWith:"",endsWith:"",equals:"",notEqual:"",blank:"",notBlank:"",lessThan:"",greaterThan:"",lessThanOrEqual:"",greaterThanOrEqual:"",inRange:"",inRangeStart:"",inRangeEnd:"",andCondition:"",orCondition:"",applyFilter:"",resetFilter:"",clearFilter:"",cancelFilter:"",filterOoo:"...",empty:"",noRowsToShow:"",pinColumn:"",pinLeft:"",pinRight:"",noPin:"",autosizeThiscolumn:"",autosizeAllColumns:"",resetColumns:""}})})]})},RWe=({projectsByStatus:e,onDetailClick:t,onEditClick:n,onDeleteClick:r,getStatusColor:i})=>u.jsx("div",{className:"h-full overflow-x-auto overflow-y-hidden",children:u.jsx("div",{className:"flex gap-4 h-full min-w-max px-2 pb-4",children:Object.values(hr).filter(s=>{var a;return((a=e[s])==null?void 0:a.length)>0||["Planning","Active","Completed"].includes(s)}).map(s=>{var a,o;return u.jsxs("div",{className:"w-[340px] flex flex-col h-full bg-stone-100/50 rounded-2xl border border-stone-200/50 flex-shrink-0",children:[u.jsxs("div",{className:`p-4 flex justify-between items-center rounded-t-2xl border-b z-10 sticky top-0 bg-white shadow-sm ${i(s)}`,children:[u.jsx("div",{className:"font-bold text-sm truncate max-w-[200px]",title:s,children:s}),u.jsx("span",{className:"text-xs font-black bg-white/50 px-2 py-0.5 rounded-full",children:((a=e[s])==null?void 0:a.length)||0})]}),u.jsx("div",{className:"p-3 space-y-3 overflow-y-auto flex-1 scrollbar-thin scrollbar-thumb-stone-200",children:(o=e[s])==null?void 0:o.map(l=>u.jsxs("div",{onClick:()=>t(l),className:"bg-white p-4 rounded-xl border border-stone-200 shadow-sm hover:shadow-lg hover:translate-y-[-2px] hover:border-orange-200 transition-all cursor-pointer group flex flex-col gap-3 relative",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("span",{className:"text-[10px] font-black text-stone-400 bg-stone-50 px-1.5 py-0.5 rounded uppercase tracking-wider",children:l.id}),u.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:c=>{c.stopPropagation(),n(l)},className:"p-1 hover:bg-stone-100 rounded text-stone-400 hover:text-blue-600",children:u.jsx(Mo,{size:12})}),u.jsx("button",{onClick:c=>{c.stopPropagation(),r(l.id)},className:"p-1 hover:bg-stone-100 rounded text-stone-400 hover:text-rose-600",children:u.jsx(Ni,{size:12})})]})]}),l.coverImage&&u.jsxs("div",{className:"h-24 w-full rounded-lg overflow-hidden relative",children:[u.jsx("img",{src:l.coverImage,className:"w-full h-full object-cover",alt:"cover"}),l.computedFinancials.healthStatus!=="Healthy"&&u.jsxs("div",{className:`absolute top-2 right-2 px-2 py-1 rounded text-[9px] font-black text-white flex items-center gap-1 ${l.computedFinancials.healthStatus==="Critical"?"bg-rose-500":"bg-amber-500"}`,children:[u.jsx(ho,{size:10})," ",l.computedFinancials.healthStatus]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-stone-800 text-sm leading-snug line-clamp-2 group-hover:text-orange-600 transition-colors",children:l.name}),u.jsx("div",{className:"text-[10px] text-stone-500 mt-1",children:l.client})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-[8px] font-bold text-stone-400 uppercase",children:[u.jsx("span",{children:""}),u.jsxs("span",{children:[l.budget?Math.round(l.computedFinancials.totalCost/l.budget*100):0,"%"]})]}),u.jsx("div",{className:"h-1.5 w-full bg-stone-100 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full ${l.computedFinancials.healthStatus==="Critical"?"bg-rose-500":"bg-emerald-500"}`,style:{width:`${l.budget?Math.min(l.computedFinancials.totalCost/l.budget*100,100):0}%`}})})]}),u.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold text-stone-400 pt-2 border-t border-stone-50",children:[u.jsx("div",{className:"flex gap-2",children:l.computedFinancials.profitMargin>0&&u.jsxs("span",{className:"text-emerald-600",children:["GP ",l.computedFinancials.profitMargin.toFixed(0),"%"]})}),u.jsx("div",{className:"w-5 h-5 rounded-full bg-stone-100 flex items-center justify-center text-[9px] font-black text-stone-500",children:(l.quotationManager||"U")[0]})]})]},l.id))})]},s)})})}),_We=({projects:e,user:t,onAddClick:n,onEditClick:r,onDeleteClick:i,onRestoreClick:s,onHardDeleteClick:a,onDetailClick:o,showDeleted:l,onToggleDeleted:c,teamMembers:d=[],attendanceRecords:f=[]})=>{const[p,m]=B.useState("table"),[w,y]=B.useState(""),[C,T]=B.useState("all"),[k,R]=B.useState("all"),P=B.useMemo(()=>{const j=e.filter(G=>{const V=G.name.toLowerCase().includes(w.toLowerCase())||G.id.toLowerCase().includes(w.toLowerCase()),re=C==="all"||G.status===C,ee=l?G.deletedAt:!G.deletedAt;return V&&re&&ee}).map(G=>{let V="";if(G.year&&G.year.trim()!=="")V=G.year;else{const oe=G.id.match(/(20\d{2})/);if(oe)V=oe[1];else{const Ce=G.id.match(/^[A-Za-z]+(\d{2})/);if(Ce)V=`20${Ce[1]}`;else if(G.startDate)V=G.startDate.split("-")[0];else{const ke=G.createdAt||G.createdDate;ke&&(V=new Date(ke).getFullYear().toString())}}}let re=0,ee=0;if(G.location&&G.location.lat&&G.location.lng){const oe=G.location.lat,Ce=G.location.lng,ke=.005;f.forEach(Ne=>{if(Ne.location&&Ne.type==="work-start"&&Math.sqrt(Math.pow(Ne.location.lat-oe,2)+Math.pow(Ne.location.lng-Ce,2))<ke){const Ye=d.find(gt=>gt.id===Ne.employeeId||gt.name===Ne.name),ve=(Ye==null?void 0:Ye.dailyRate)||2500;re+=ve,ee+=1}})}const ie=Math.max(re,G.actualLaborCost||0),ue=G.actualMaterialCost||0,le=(G.expenses||[]).reduce((oe,Ce)=>oe+(Ce.amount||0),0),xe=G.introducerFeeRequired&&G.introducerFeeAmount?G.introducerFeeAmount:0,ge=ie+ue+le+xe,fe=G.budget||0,ce=G.contractAmount||0,Q=ce>0?ce:fe,Y=Q>0?Q-ge:0,X=Q>0?Y/Q*100:0;let ne="Healthy";return fe>0&&ge>fe?ne="Critical":fe>0&&ge>fe*.9&&(ne="Warning"),{...G,calculatedYear:V,computedFinancials:{laborCost:ie,materialCost:ue,expensesTotal:le,introducerFee:xe,totalCost:ge,profit:Y,profitMargin:X,healthStatus:ne,manDays:ee,revenue:Q}}}),te=k==="all"?j:j.filter(G=>G.calculatedYear===k);return typeof window<"u"&&console.log("[ProjectList Debug]",{totalProjects:e.length,afterMapping:j.length,afterYearFilter:te.length,currentYearFilter:k,yearDistribution:j.reduce((G,V)=>{const re=V.calculatedYear||"unknown";return G[re]=(G[re]||0)+1,G},{})}),te},[e,f,d,w,C,l,k]),U=B.useMemo(()=>{const K={};return Object.values(hr).forEach(j=>{K[j]=P.filter(te=>te.status===j)}),K},[P]),O=K=>{switch(K){case"Active":return"bg-orange-50 text-orange-700 border-orange-200";case"Completed":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"Planning":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-stone-50 text-stone-600 border-stone-200"}},L=t.role==="Guest";return u.jsx("div",{className:"flex flex-col h-full bg-stone-50/50",children:u.jsxs("div",{className:"flex-1 flex flex-col p-4 lg:p-8 overflow-hidden",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 shrink-0 mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black text-stone-900 tracking-tight mb-2",children:""}),u.jsxs("p",{className:"text-stone-500 font-bold flex items-center gap-2 text-xs uppercase tracking-wider",children:[u.jsx(O2,{size:16,className:"text-emerald-500"})," Project Costing Dashboard"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[!L&&u.jsxs("button",{onClick:n,className:"bg-stone-900 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-stone-800 active:scale-95 transition-all shadow-xl shadow-stone-200 text-sm",children:[u.jsx(zl,{size:18})," "]}),u.jsxs("div",{className:"flex gap-1 bg-white border border-stone-200 rounded-xl p-1 shadow-sm",children:[u.jsxs("button",{onClick:()=>m("card"),className:`px-3 py-2 rounded-lg text-xs font-bold flex items-center gap-1.5 transition-all ${p==="card"?"bg-stone-900 text-white":"text-stone-400 hover:text-stone-600"}`,children:[u.jsx(rce,{size:16})," "]}),u.jsxs("button",{onClick:()=>m("table"),className:`px-3 py-2 rounded-lg text-xs font-bold flex items-center gap-1.5 transition-all ${p==="table"?"bg-stone-900 text-white":"text-stone-400 hover:text-stone-600"}`,children:[u.jsx(uce,{size:16})," AgGrid (Beta)"]}),u.jsxs("button",{onClick:()=>m("kanban"),className:`px-3 py-2 rounded-lg text-xs font-bold flex items-center gap-1.5 transition-all ${p==="kanban"?"bg-stone-900 text-white":"text-stone-400 hover:text-stone-600"}`,children:[u.jsx(Cf,{size:16})," "]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 shrink-0 mb-8",children:[u.jsxs("div",{className:"bg-stone-900 text-white p-6 rounded-[2rem] shadow-xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2 opacity-80",children:[u.jsx(Cf,{size:18}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),u.jsx("div",{className:"text-4xl font-black",children:e.filter(K=>!K.deletedAt&&K.status==="Active").length})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2 text-stone-400",children:[u.jsx(Ww,{size:18}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:" Revenue"})]}),u.jsxs("div",{className:"text-2xl xl:text-3xl font-black text-stone-800 tabular-nums tracking-tight truncate",title:P.reduce((K,j)=>K+(j.computedFinancials.revenue||0),0).toLocaleString(),children:["$",P.reduce((K,j)=>K+(j.computedFinancials.revenue||0),0).toLocaleString()]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2 text-stone-400",children:[u.jsx(Cc,{size:18}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:" Cost"})]}),u.jsxs("div",{className:"text-2xl xl:text-3xl font-black text-rose-600 tabular-nums tracking-tight truncate",children:["$",P.reduce((K,j)=>K+j.computedFinancials.totalCost,0).toLocaleString()]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2 text-stone-400",children:[u.jsx(O2,{size:18}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:" Profit"})]}),u.jsxs("div",{className:"text-2xl xl:text-3xl font-black text-emerald-600 tabular-nums tracking-tight truncate",children:["$",P.reduce((K,j)=>K+j.computedFinancials.profit,0).toLocaleString()]})]})]}),u.jsxs("div",{className:"shrink-0 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx(Du,{size:20,className:"text-orange-600"}),u.jsx("h3",{className:"text-sm font-black text-stone-900 uppercase tracking-widest",children:" YEAR FILTER"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>R("all"),className:`px-6 py-3 rounded-2xl text-sm font-black uppercase tracking-wider transition-all shadow-sm border-2 ${k==="all"?"bg-stone-900 text-white border-stone-900 shadow-lg scale-105":"bg-white text-stone-400 border-stone-200 hover:border-stone-400 hover:text-stone-600"}`,children:" "}),u.jsx("button",{onClick:()=>R("2026"),className:`px-6 py-3 rounded-2xl text-sm font-black uppercase tracking-wider transition-all shadow-sm border-2 ${k==="2026"?"bg-emerald-600 text-white border-emerald-600 shadow-lg scale-105":"bg-white text-stone-400 border-stone-200 hover:border-emerald-300 hover:text-emerald-600"}`,children:" 2026 "}),u.jsx("button",{onClick:()=>R("2025"),className:`px-6 py-3 rounded-2xl text-sm font-black uppercase tracking-wider transition-all shadow-sm border-2 ${k==="2025"?"bg-blue-600 text-white border-blue-600 shadow-lg scale-105":"bg-white text-stone-400 border-stone-200 hover:border-blue-300 hover:text-blue-600"}`,children:" 2025 "}),u.jsx("button",{onClick:()=>R("2024"),className:`px-6 py-3 rounded-2xl text-sm font-black uppercase tracking-wider transition-all shadow-sm border-2 ${k==="2024"?"bg-amber-600 text-white border-amber-600 shadow-lg scale-105":"bg-white text-stone-400 border-stone-200 hover:border-amber-300 hover:text-amber-600"}`,children:" 2024 "})]}),u.jsxs("div",{className:"mt-2 text-xs font-bold text-stone-400",children:[": ",k==="all"?"":`${k} `," |  ",P.length," "]})]}),p!=="table"&&u.jsxs("div",{className:"flex flex-wrap gap-2 shrink-0 mb-6",children:[u.jsxs("div",{className:"flex items-center bg-white rounded-xl border border-stone-200 px-4 py-2.5 shadow-sm flex-1 min-w-[200px]",children:[u.jsx(vh,{size:14,className:"text-stone-400 mr-2"}),u.jsx("input",{className:"bg-transparent text-xs font-bold outline-none w-full text-stone-900",placeholder:"...",value:w,onChange:K=>y(K.target.value)})]}),u.jsxs("select",{className:"bg-white border border-stone-200 rounded-xl px-4 py-2.5 text-xs font-bold outline-none shadow-sm",value:C,onChange:K=>T(K.target.value),children:[u.jsx("option",{value:"all",children:""}),Object.values(hr).map(K=>u.jsx("option",{value:K,children:K},K))]}),u.jsxs("button",{onClick:()=>c(!l),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all shadow-sm border flex items-center gap-2 ${l?"bg-rose-50 border-rose-200 text-rose-600":"bg-white border-stone-200 text-stone-400 hover:text-stone-600"}`,children:[u.jsx(Ni,{size:14})," ",l?"":""]})]}),p==="table"&&u.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[u.jsx("div",{className:"text-xs font-bold text-stone-500",children:"Ag-Grid "}),u.jsxs("button",{onClick:()=>c(!l),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all shadow-sm border flex items-center gap-2 ${l?"bg-rose-50 border-rose-200 text-rose-600":"bg-white border-stone-200 text-stone-400 hover:text-stone-600"}`,children:[u.jsx(Ni,{size:14})," ",l?"":""]})]}),u.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden relative",children:[p==="card"&&u.jsx(FWe,{projects:P,isReadOnly:L,onDetailClick:o,onEditClick:r,onDeleteClick:i,onRestoreClick:s,onHardDeleteClick:a,setSearchTerm:y,setStatusFilter:T}),p==="table"&&u.jsx(BWe,{projects:P,onDetailClick:o,onEditClick:r,onDeleteClick:i}),p==="kanban"&&u.jsx(RWe,{projectsByStatus:U,onDetailClick:o,onEditClick:r,onDeleteClick:i,getStatusColor:O})]})]})})};var DWe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PWe,MWe;function LWe(){return{geminiUrl:PWe,vertexUrl:MWe}}function OWe(e,t,n,r){var i,s;if(!(e!=null&&e.baseUrl)){const a=LWe();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kf{}function $n(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function M(e,t,n){for(let s=0;s<t.length-1;s++){const a=t[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in e))if(Array.isArray(n))e[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[o])){const l=e[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const d=l[c];M(d,t.slice(s+1),n[c])}else for(const c of l)M(c,t.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in e||(e[o]=[{}]);const l=e[o];M(l[0],t.slice(s+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function F(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in e){const a=e[s];return Array.isArray(a)?a.map(o=>F(o,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function jWe(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),s=r.split("."),a=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}MB(e,i,s,0,a)}}function MB(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const s=t[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=e;if(a in o&&Array.isArray(o[a]))for(const l of o[a])MB(l,t,n,r+1,i)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,o=Object.keys(a).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of o)l[c]=a[c];for(const[c,d]of Object.entries(l)){const f=[];for(const p of n.slice(r))p==="*"?f.push(c):f.push(p);M(a,f,d)}for(const c of o)delete a[c]}}else{const a=e;s in a&&MB(a[s],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CP(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UWe(e){const t={},n=F(e,["operationName"]);n!=null&&M(t,["operationName"],n);const r=F(e,["resourceName"]);return r!=null&&M(t,["_url","resourceName"],r),t}function HWe(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata"]);r!=null&&M(t,["metadata"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["response","generateVideoResponse"]);return a!=null&&M(t,["response"],VWe(a)),t}function GWe(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata"]);r!=null&&M(t,["metadata"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["response"]);return a!=null&&M(t,["response"],QWe(a)),t}function VWe(e){const t={},n=F(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>zWe(a))),M(t,["generatedVideos"],s)}const r=F(e,["raiMediaFilteredCount"]);r!=null&&M(t,["raiMediaFilteredCount"],r);const i=F(e,["raiMediaFilteredReasons"]);return i!=null&&M(t,["raiMediaFilteredReasons"],i),t}function QWe(e){const t={},n=F(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>WWe(a))),M(t,["generatedVideos"],s)}const r=F(e,["raiMediaFilteredCount"]);r!=null&&M(t,["raiMediaFilteredCount"],r);const i=F(e,["raiMediaFilteredReasons"]);return i!=null&&M(t,["raiMediaFilteredReasons"],i),t}function zWe(e){const t={},n=F(e,["video"]);return n!=null&&M(t,["video"],JWe(n)),t}function WWe(e){const t={},n=F(e,["_self"]);return n!=null&&M(t,["video"],ZWe(n)),t}function KWe(e){const t={},n=F(e,["operationName"]);return n!=null&&M(t,["_url","operationName"],n),t}function qWe(e){const t={},n=F(e,["operationName"]);return n!=null&&M(t,["_url","operationName"],n),t}function $We(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata"]);r!=null&&M(t,["metadata"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["response"]);return a!=null&&M(t,["response"],YWe(a)),t}function YWe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["parent"]);r!=null&&M(t,["parent"],r);const i=F(e,["documentName"]);return i!=null&&M(t,["documentName"],i),t}function Yne(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata"]);r!=null&&M(t,["metadata"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["response"]);return a!=null&&M(t,["response"],XWe(a)),t}function XWe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["parent"]);r!=null&&M(t,["parent"],r);const i=F(e,["documentName"]);return i!=null&&M(t,["documentName"],i),t}function JWe(e){const t={},n=F(e,["uri"]);n!=null&&M(t,["uri"],n);const r=F(e,["encodedVideo"]);r!=null&&M(t,["videoBytes"],CP(r));const i=F(e,["encoding"]);return i!=null&&M(t,["mimeType"],i),t}function ZWe(e){const t={},n=F(e,["gcsUri"]);n!=null&&M(t,["uri"],n);const r=F(e,["bytesBase64Encoded"]);r!=null&&M(t,["videoBytes"],CP(r));const i=F(e,["mimeType"]);return i!=null&&M(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TV;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(TV||(TV={}));var IV;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(IV||(IV={}));var FV;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(FV||(FV={}));var HA;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(HA||(HA={}));var kV;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(kV||(kV={}));var BV;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(BV||(BV={}));var RV;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(RV||(RV={}));var _V;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_V||(_V={}));var DV;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(DV||(DV={}));var PV;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(PV||(PV={}));var MV;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(MV||(MV={}));var LV;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(LV||(LV={}));var OV;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(OV||(OV={}));var jV;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(jV||(jV={}));var UV;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(UV||(UV={}));var HV;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(HV||(HV={}));var GV;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(GV||(GV={}));var VV;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(VV||(VV={}));var QV;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(QV||(QV={}));var bE;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bE||(bE={}));var zV;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zV||(zV={}));var WV;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(WV||(WV={}));var KV;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(KV||(KV={}));var LB;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(LB||(LB={}));var qV;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qV||(qV={}));var $V;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})($V||($V={}));var YV;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(YV||(YV={}));var XV;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(XV||(XV={}));var JV;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(JV||(JV={}));var ZV;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ZV||(ZV={}));var eQ;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(eQ||(eQ={}));var tQ;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(tQ||(tQ={}));var nQ;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(nQ||(nQ={}));var rQ;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(rQ||(rQ={}));var iQ;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(iQ||(iQ={}));var sQ;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sQ||(sQ={}));var aQ;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aQ||(aQ={}));var oQ;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(oQ||(oQ={}));var lQ;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(lQ||(lQ={}));var cQ;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(cQ||(cQ={}));var uQ;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(uQ||(uQ={}));var dQ;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(dQ||(dQ={}));var hQ;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(hQ||(hQ={}));var fQ;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(fQ||(fQ={}));var AQ;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(AQ||(AQ={}));var pQ;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(pQ||(pQ={}));var gQ;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(gQ||(gQ={}));var mQ;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(mQ||(mQ={}));var xQ;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(xQ||(xQ={}));var vQ;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vQ||(vQ={}));var wQ;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wQ||(wQ={}));var bQ;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(bQ||(bQ={}));var yQ;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yQ||(yQ={}));var CQ;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(CQ||(CQ={}));var SQ;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(SQ||(SQ={}));var km;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(km||(km={}));class OB{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class iv{get text(){var t,n,r,i,s,a,o,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const f=[];for(const p of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[m,w]of Object.entries(p))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(w!==null||w!==void 0)&&f.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,c+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var t,n,r,i,s,a,o,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,m]of Object.entries(f))p!=="inlineData"&&(m!==null||m!==void 0)&&d.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,r,i,s,a,o,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,r,i,s,a,o,l,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,i,s,a,o,l,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class EQ{}class NQ{}class eKe{}class tKe{}class nKe{}class rKe{}class TQ{}class IQ{}class FQ{}class iKe{}class yE{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new yE;let i;const s=t;return n?i=GWe(s):i=HWe(s),Object.assign(r,i),r}}class kQ{}class BQ{}class RQ{}class _Q{}class sKe{}class aKe{}class oKe{}class SP{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new SP,s=$We(t);return Object.assign(r,s),r}}class lKe{}class cKe{}class uKe{}class DQ{}class dKe{get text(){var t,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var t,n,r;let i="";const s=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class hKe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class EP{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new EP,s=Yne(t);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wi(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Xne(e,t){const n=Wi(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Jne(e){return Array.isArray(e)?e.map(t=>CE(t)):[CE(e)]}function CE(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Zne(e){const t=CE(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ere(e){const t=CE(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function PQ(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function tre(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>PQ(t)):[PQ(e)]}function jB(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function MQ(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function LQ(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Nl(e){if(e==null)throw new Error("ContentUnion is required");return jB(e)?e:{role:"user",parts:tre(e)}}function NP(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Nl(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Nl(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Nl(n)):[Nl(t)]}function _u(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(MQ(e)||LQ(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nl(e)]}const t=[],n=[],r=jB(e[0]);for(const i of e){const s=jB(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(i);else{if(MQ(i)||LQ(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:tre(n)}),t}function fKe(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(HA).includes(n[0].toUpperCase())?n[0].toUpperCase():HA.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(HA).includes(r.toUpperCase())?r.toUpperCase():HA.TYPE_UNSPECIFIED})}}function i1(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&fKe(e.type,t);for(const[a,o]of Object.entries(e))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(HA).includes(o.toUpperCase())?o.toUpperCase():HA.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=i1(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){t.nullable=!0;continue}l.push(i1(c))}t[a]=l}else if(i.includes(a)){const l={};for(const[c,d]of Object.entries(o))l[c]=i1(d);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=o}return t}function TP(e){return i1(e)}function IP(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function FP(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function J1(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=i1(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=i1(t.response));return e}function Z1(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function AKe(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function qf(e,t){if(typeof t!="string")throw new Error("name must be a string");return AKe(e,t,"cachedContents")}function nre(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function v0(e){return CP(e)}function pKe(e){return e!=null&&typeof e=="object"&&"name"in e}function gKe(e){return e!=null&&typeof e=="object"&&"video"in e}function mKe(e){return e!=null&&typeof e=="object"&&"uri"in e}function rre(e){var t;let n;if(pKe(e)&&(n=e.name),!(mKe(e)&&(n=e.uri,n===void 0))&&!(gKe(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ire(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function sre(e){for(const t of["models","tunedModels","publisherModels"])if(xKe(e,t))return e[t];return[]}function xKe(e,t){return e!==null&&typeof e=="object"&&t in e}function vKe(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function wKe(e,t={}){const n=[],r=new Set;for(const i of e){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=vKe(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function are(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function bKe(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function ore(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ex(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function lre(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yKe(e){const t={},n=F(e,["responsesFile"]);n!=null&&M(t,["fileName"],n);const r=F(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>nqe(a))),M(t,["inlinedResponses"],s)}const i=F(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["inlinedEmbedContentResponses"],s)}return t}function CKe(e){const t={},n=F(e,["predictionsFormat"]);n!=null&&M(t,["format"],n);const r=F(e,["gcsDestination","outputUriPrefix"]);r!=null&&M(t,["gcsUri"],r);const i=F(e,["bigqueryDestination","outputUri"]);return i!=null&&M(t,["bigqueryUri"],i),t}function SKe(e){const t={},n=F(e,["format"]);n!=null&&M(t,["predictionsFormat"],n);const r=F(e,["gcsUri"]);r!=null&&M(t,["gcsDestination","outputUriPrefix"],r);const i=F(e,["bigqueryUri"]);if(i!=null&&M(t,["bigqueryDestination","outputUri"],i),F(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(F(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(F(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function B2(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata","displayName"]);r!=null&&M(t,["displayName"],r);const i=F(e,["metadata","state"]);i!=null&&M(t,["state"],lre(i));const s=F(e,["metadata","createTime"]);s!=null&&M(t,["createTime"],s);const a=F(e,["metadata","endTime"]);a!=null&&M(t,["endTime"],a);const o=F(e,["metadata","updateTime"]);o!=null&&M(t,["updateTime"],o);const l=F(e,["metadata","model"]);l!=null&&M(t,["model"],l);const c=F(e,["metadata","output"]);return c!=null&&M(t,["dest"],yKe(ore(c))),t}function UB(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["displayName"]);r!=null&&M(t,["displayName"],r);const i=F(e,["state"]);i!=null&&M(t,["state"],lre(i));const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["createTime"]);a!=null&&M(t,["createTime"],a);const o=F(e,["startTime"]);o!=null&&M(t,["startTime"],o);const l=F(e,["endTime"]);l!=null&&M(t,["endTime"],l);const c=F(e,["updateTime"]);c!=null&&M(t,["updateTime"],c);const d=F(e,["model"]);d!=null&&M(t,["model"],d);const f=F(e,["inputConfig"]);f!=null&&M(t,["src"],EKe(f));const p=F(e,["outputConfig"]);p!=null&&M(t,["dest"],CKe(ore(p)));const m=F(e,["completionStats"]);return m!=null&&M(t,["completionStats"],m),t}function EKe(e){const t={},n=F(e,["instancesFormat"]);n!=null&&M(t,["format"],n);const r=F(e,["gcsSource","uris"]);r!=null&&M(t,["gcsUri"],r);const i=F(e,["bigquerySource","inputUri"]);return i!=null&&M(t,["bigqueryUri"],i),t}function NKe(e,t){const n={};if(F(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(F(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(F(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=F(t,["fileName"]);r!=null&&M(n,["fileName"],r);const i=F(t,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>tqe(e,a))),M(n,["requests","requests"],s)}return n}function TKe(e){const t={},n=F(e,["format"]);n!=null&&M(t,["instancesFormat"],n);const r=F(e,["gcsUri"]);r!=null&&M(t,["gcsSource","uris"],r);const i=F(e,["bigqueryUri"]);if(i!=null&&M(t,["bigquerySource","inputUri"],i),F(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(F(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function IKe(e){const t={},n=F(e,["data"]);if(n!=null&&M(t,["data"],n),F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function FKe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],ex(e,r)),n}function kKe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],ex(e,r)),n}function BKe(e){const t={},n=F(e,["content"]);n!=null&&M(t,["content"],n);const r=F(e,["citationMetadata"]);r!=null&&M(t,["citationMetadata"],RKe(r));const i=F(e,["tokenCount"]);i!=null&&M(t,["tokenCount"],i);const s=F(e,["finishReason"]);s!=null&&M(t,["finishReason"],s);const a=F(e,["avgLogprobs"]);a!=null&&M(t,["avgLogprobs"],a);const o=F(e,["groundingMetadata"]);o!=null&&M(t,["groundingMetadata"],o);const l=F(e,["index"]);l!=null&&M(t,["index"],l);const c=F(e,["logprobsResult"]);c!=null&&M(t,["logprobsResult"],c);const d=F(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>m)),M(t,["safetyRatings"],p)}const f=F(e,["urlContextMetadata"]);return f!=null&&M(t,["urlContextMetadata"],f),t}function RKe(e){const t={},n=F(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),M(t,["citations"],r)}return t}function cre(e){const t={},n=F(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>cqe(s))),M(t,["parts"],i)}const r=F(e,["role"]);return r!=null&&M(t,["role"],r),t}function _Ke(e,t){const n={},r=F(e,["displayName"]);if(t!==void 0&&r!=null&&M(t,["batch","displayName"],r),F(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function DKe(e,t){const n={},r=F(e,["displayName"]);t!==void 0&&r!=null&&M(t,["displayName"],r);const i=F(e,["dest"]);return t!==void 0&&i!=null&&M(t,["outputConfig"],SKe(bKe(i))),n}function OQ(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["src"]);i!=null&&M(n,["batch","inputConfig"],NKe(e,are(e,i)));const s=F(t,["config"]);return s!=null&&_Ke(s,n),n}function PKe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["model"],Wi(e,r));const i=F(t,["src"]);i!=null&&M(n,["inputConfig"],TKe(are(e,i)));const s=F(t,["config"]);return s!=null&&DKe(s,n),n}function MKe(e,t){const n={},r=F(e,["displayName"]);return t!==void 0&&r!=null&&M(t,["batch","displayName"],r),n}function LKe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["src"]);i!=null&&M(n,["batch","inputConfig"],QKe(e,i));const s=F(t,["config"]);return s!=null&&MKe(s,n),n}function OKe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],ex(e,r)),n}function jKe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],ex(e,r)),n}function UKe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["name"]);r!=null&&M(t,["name"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);return s!=null&&M(t,["error"],s),t}function HKe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["name"]);r!=null&&M(t,["name"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);return s!=null&&M(t,["error"],s),t}function GKe(e,t){const n={},r=F(t,["contents"]);if(r!=null){let s=NP(e,r);Array.isArray(s)&&(s=s.map(a=>a)),M(n,["requests[]","request","content"],s)}const i=F(t,["config"]);return i!=null&&(M(n,["_self"],VKe(i,n)),jWe(n,{"requests[].*":"requests[].request.*"})),n}function VKe(e,t){const n={},r=F(e,["taskType"]);t!==void 0&&r!=null&&M(t,["requests[]","taskType"],r);const i=F(e,["title"]);t!==void 0&&i!=null&&M(t,["requests[]","title"],i);const s=F(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&M(t,["requests[]","outputDimensionality"],s),F(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(F(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function QKe(e,t){const n={},r=F(t,["fileName"]);r!=null&&M(n,["file_name"],r);const i=F(t,["inlinedRequests"]);return i!=null&&M(n,["requests"],GKe(e,i)),n}function zKe(e){const t={};if(F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);n!=null&&M(t,["fileUri"],n);const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function WKe(e){const t={},n=F(e,["id"]);n!=null&&M(t,["id"],n);const r=F(e,["args"]);r!=null&&M(t,["args"],r);const i=F(e,["name"]);if(i!=null&&M(t,["name"],i),F(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(F(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KKe(e){const t={},n=F(e,["mode"]);n!=null&&M(t,["mode"],n);const r=F(e,["allowedFunctionNames"]);if(r!=null&&M(t,["allowedFunctionNames"],r),F(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function qKe(e,t,n){const r={},i=F(t,["systemInstruction"]);n!==void 0&&i!=null&&M(n,["systemInstruction"],cre(Nl(i)));const s=F(t,["temperature"]);s!=null&&M(r,["temperature"],s);const a=F(t,["topP"]);a!=null&&M(r,["topP"],a);const o=F(t,["topK"]);o!=null&&M(r,["topK"],o);const l=F(t,["candidateCount"]);l!=null&&M(r,["candidateCount"],l);const c=F(t,["maxOutputTokens"]);c!=null&&M(r,["maxOutputTokens"],c);const d=F(t,["stopSequences"]);d!=null&&M(r,["stopSequences"],d);const f=F(t,["responseLogprobs"]);f!=null&&M(r,["responseLogprobs"],f);const p=F(t,["logprobs"]);p!=null&&M(r,["logprobs"],p);const m=F(t,["presencePenalty"]);m!=null&&M(r,["presencePenalty"],m);const w=F(t,["frequencyPenalty"]);w!=null&&M(r,["frequencyPenalty"],w);const y=F(t,["seed"]);y!=null&&M(r,["seed"],y);const C=F(t,["responseMimeType"]);C!=null&&M(r,["responseMimeType"],C);const T=F(t,["responseSchema"]);T!=null&&M(r,["responseSchema"],TP(T));const k=F(t,["responseJsonSchema"]);if(k!=null&&M(r,["responseJsonSchema"],k),F(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(F(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=F(t,["safetySettings"]);if(n!==void 0&&R!=null){let re=R;Array.isArray(re)&&(re=re.map(ee=>uqe(ee))),M(n,["safetySettings"],re)}const P=F(t,["tools"]);if(n!==void 0&&P!=null){let re=Z1(P);Array.isArray(re)&&(re=re.map(ee=>hqe(J1(ee)))),M(n,["tools"],re)}const U=F(t,["toolConfig"]);if(n!==void 0&&U!=null&&M(n,["toolConfig"],dqe(U)),F(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=F(t,["cachedContent"]);n!==void 0&&O!=null&&M(n,["cachedContent"],qf(e,O));const L=F(t,["responseModalities"]);L!=null&&M(r,["responseModalities"],L);const K=F(t,["mediaResolution"]);K!=null&&M(r,["mediaResolution"],K);const j=F(t,["speechConfig"]);if(j!=null&&M(r,["speechConfig"],IP(j)),F(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=F(t,["thinkingConfig"]);te!=null&&M(r,["thinkingConfig"],te);const G=F(t,["imageConfig"]);G!=null&&M(r,["imageConfig"],eqe(G));const V=F(t,["enableEnhancedCivicAnswers"]);return V!=null&&M(r,["enableEnhancedCivicAnswers"],V),r}function $Ke(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>BKe(c))),M(t,["candidates"],l)}const i=F(e,["modelVersion"]);i!=null&&M(t,["modelVersion"],i);const s=F(e,["promptFeedback"]);s!=null&&M(t,["promptFeedback"],s);const a=F(e,["responseId"]);a!=null&&M(t,["responseId"],a);const o=F(e,["usageMetadata"]);return o!=null&&M(t,["usageMetadata"],o),t}function YKe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],ex(e,r)),n}function XKe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],ex(e,r)),n}function JKe(e){const t={};if(F(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);return n!=null&&M(t,["enableWidget"],n),t}function ZKe(e){const t={};if(F(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(F(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=F(e,["timeRangeFilter"]);return n!=null&&M(t,["timeRangeFilter"],n),t}function eqe(e){const t={},n=F(e,["aspectRatio"]);n!=null&&M(t,["aspectRatio"],n);const r=F(e,["imageSize"]);if(r!=null&&M(t,["imageSize"],r),F(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(F(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function tqe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["request","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let o=_u(i);Array.isArray(o)&&(o=o.map(l=>cre(l))),M(n,["request","contents"],o)}const s=F(t,["metadata"]);s!=null&&M(n,["metadata"],s);const a=F(t,["config"]);return a!=null&&M(n,["request","generationConfig"],qKe(e,a,F(n,["request"],{}))),n}function nqe(e){const t={},n=F(e,["response"]);n!=null&&M(t,["response"],$Ke(n));const r=F(e,["error"]);return r!=null&&M(t,["error"],r),t}function rqe(e,t){const n={},r=F(e,["pageSize"]);t!==void 0&&r!=null&&M(t,["_query","pageSize"],r);const i=F(e,["pageToken"]);if(t!==void 0&&i!=null&&M(t,["_query","pageToken"],i),F(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function iqe(e,t){const n={},r=F(e,["pageSize"]);t!==void 0&&r!=null&&M(t,["_query","pageSize"],r);const i=F(e,["pageToken"]);t!==void 0&&i!=null&&M(t,["_query","pageToken"],i);const s=F(e,["filter"]);return t!==void 0&&s!=null&&M(t,["_query","filter"],s),n}function sqe(e){const t={},n=F(e,["config"]);return n!=null&&rqe(n,t),t}function aqe(e){const t={},n=F(e,["config"]);return n!=null&&iqe(n,t),t}function oqe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>B2(a))),M(t,["batchJobs"],s)}return t}function lqe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>UB(a))),M(t,["batchJobs"],s)}return t}function cqe(e){const t={},n=F(e,["mediaResolution"]);n!=null&&M(t,["mediaResolution"],n);const r=F(e,["codeExecutionResult"]);r!=null&&M(t,["codeExecutionResult"],r);const i=F(e,["executableCode"]);i!=null&&M(t,["executableCode"],i);const s=F(e,["fileData"]);s!=null&&M(t,["fileData"],zKe(s));const a=F(e,["functionCall"]);a!=null&&M(t,["functionCall"],WKe(a));const o=F(e,["functionResponse"]);o!=null&&M(t,["functionResponse"],o);const l=F(e,["inlineData"]);l!=null&&M(t,["inlineData"],IKe(l));const c=F(e,["text"]);c!=null&&M(t,["text"],c);const d=F(e,["thought"]);d!=null&&M(t,["thought"],d);const f=F(e,["thoughtSignature"]);f!=null&&M(t,["thoughtSignature"],f);const p=F(e,["videoMetadata"]);return p!=null&&M(t,["videoMetadata"],p),t}function uqe(e){const t={},n=F(e,["category"]);if(n!=null&&M(t,["category"],n),F(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=F(e,["threshold"]);return r!=null&&M(t,["threshold"],r),t}function dqe(e){const t={},n=F(e,["functionCallingConfig"]);n!=null&&M(t,["functionCallingConfig"],KKe(n));const r=F(e,["retrievalConfig"]);return r!=null&&M(t,["retrievalConfig"],r),t}function hqe(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),M(t,["functionDeclarations"],d)}if(F(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearchRetrieval"]);r!=null&&M(t,["googleSearchRetrieval"],r);const i=F(e,["computerUse"]);i!=null&&M(t,["computerUse"],i);const s=F(e,["fileSearch"]);s!=null&&M(t,["fileSearch"],s);const a=F(e,["codeExecution"]);if(a!=null&&M(t,["codeExecution"],a),F(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=F(e,["googleMaps"]);o!=null&&M(t,["googleMaps"],JKe(o));const l=F(e,["googleSearch"]);l!=null&&M(t,["googleSearch"],ZKe(l));const c=F(e,["urlContext"]);return c!=null&&M(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Df;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Df||(Df={}));class lg{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fqe extends Kf{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new lg(Df.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=OQ(this.apiClient,t),r=n._url,i=$n("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const p=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=p,f.request=m}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(t),a=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=PKe(this.apiClient,t);return o=$n("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>UB(d))}else{const c=OQ(this.apiClient,t);return o=$n("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>B2(d))}}async createEmbeddingsInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=LKe(this.apiClient,t);return s=$n("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>B2(l))}}async get(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=XKe(this.apiClient,t);return o=$n("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>UB(d))}else{const c=YKe(this.apiClient,t);return o=$n("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>B2(d))}}async cancel(t){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=kKe(this.apiClient,t);a=$n("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=FKe(this.apiClient,t);a=$n("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=aqe(t);return o=$n("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=lqe(d),p=new DQ;return Object.assign(p,f),p})}else{const c=sqe(t);return o=$n("batches",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=oqe(d),p=new DQ;return Object.assign(p,f),p})}}async delete(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=jKe(this.apiClient,t);return o=$n("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>HKe(d))}else{const c=OKe(this.apiClient,t);return o=$n("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>UKe(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aqe(e){const t={},n=F(e,["data"]);if(n!=null&&M(t,["data"],n),F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function jQ(e){const t={},n=F(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Lqe(s))),M(t,["parts"],i)}const r=F(e,["role"]);return r!=null&&M(t,["role"],r),t}function pqe(e,t){const n={},r=F(e,["ttl"]);t!==void 0&&r!=null&&M(t,["ttl"],r);const i=F(e,["expireTime"]);t!==void 0&&i!=null&&M(t,["expireTime"],i);const s=F(e,["displayName"]);t!==void 0&&s!=null&&M(t,["displayName"],s);const a=F(e,["contents"]);if(t!==void 0&&a!=null){let d=_u(a);Array.isArray(d)&&(d=d.map(f=>jQ(f))),M(t,["contents"],d)}const o=F(e,["systemInstruction"]);t!==void 0&&o!=null&&M(t,["systemInstruction"],jQ(Nl(o)));const l=F(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>jqe(f))),M(t,["tools"],d)}const c=F(e,["toolConfig"]);if(t!==void 0&&c!=null&&M(t,["toolConfig"],Oqe(c)),F(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function gqe(e,t){const n={},r=F(e,["ttl"]);t!==void 0&&r!=null&&M(t,["ttl"],r);const i=F(e,["expireTime"]);t!==void 0&&i!=null&&M(t,["expireTime"],i);const s=F(e,["displayName"]);t!==void 0&&s!=null&&M(t,["displayName"],s);const a=F(e,["contents"]);if(t!==void 0&&a!=null){let f=_u(a);Array.isArray(f)&&(f=f.map(p=>p)),M(t,["contents"],f)}const o=F(e,["systemInstruction"]);t!==void 0&&o!=null&&M(t,["systemInstruction"],Nl(o));const l=F(e,["tools"]);if(t!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Uqe(p))),M(t,["tools"],f)}const c=F(e,["toolConfig"]);t!==void 0&&c!=null&&M(t,["toolConfig"],c);const d=F(e,["kmsKeyName"]);return t!==void 0&&d!=null&&M(t,["encryption_spec","kmsKeyName"],d),n}function mqe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["model"],Xne(e,r));const i=F(t,["config"]);return i!=null&&pqe(i,n),n}function xqe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["model"],Xne(e,r));const i=F(t,["config"]);return i!=null&&gqe(i,n),n}function vqe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],qf(e,r)),n}function wqe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],qf(e,r)),n}function bqe(e){const t={},n=F(e,["sdkHttpResponse"]);return n!=null&&M(t,["sdkHttpResponse"],n),t}function yqe(e){const t={},n=F(e,["sdkHttpResponse"]);return n!=null&&M(t,["sdkHttpResponse"],n),t}function Cqe(e){const t={};if(F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);n!=null&&M(t,["fileUri"],n);const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function Sqe(e){const t={},n=F(e,["id"]);n!=null&&M(t,["id"],n);const r=F(e,["args"]);r!=null&&M(t,["args"],r);const i=F(e,["name"]);if(i!=null&&M(t,["name"],i),F(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(F(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Eqe(e){const t={},n=F(e,["mode"]);n!=null&&M(t,["mode"],n);const r=F(e,["allowedFunctionNames"]);if(r!=null&&M(t,["allowedFunctionNames"],r),F(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Nqe(e){const t={};if(F(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=F(e,["description"]);n!=null&&M(t,["description"],n);const r=F(e,["name"]);r!=null&&M(t,["name"],r);const i=F(e,["parameters"]);i!=null&&M(t,["parameters"],i);const s=F(e,["parametersJsonSchema"]);s!=null&&M(t,["parametersJsonSchema"],s);const a=F(e,["response"]);a!=null&&M(t,["response"],a);const o=F(e,["responseJsonSchema"]);return o!=null&&M(t,["responseJsonSchema"],o),t}function Tqe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],qf(e,r)),n}function Iqe(e,t){const n={},r=F(t,["name"]);return r!=null&&M(n,["_url","name"],qf(e,r)),n}function Fqe(e){const t={};if(F(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);return n!=null&&M(t,["enableWidget"],n),t}function kqe(e){const t={};if(F(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(F(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=F(e,["timeRangeFilter"]);return n!=null&&M(t,["timeRangeFilter"],n),t}function Bqe(e,t){const n={},r=F(e,["pageSize"]);t!==void 0&&r!=null&&M(t,["_query","pageSize"],r);const i=F(e,["pageToken"]);return t!==void 0&&i!=null&&M(t,["_query","pageToken"],i),n}function Rqe(e,t){const n={},r=F(e,["pageSize"]);t!==void 0&&r!=null&&M(t,["_query","pageSize"],r);const i=F(e,["pageToken"]);return t!==void 0&&i!=null&&M(t,["_query","pageToken"],i),n}function _qe(e){const t={},n=F(e,["config"]);return n!=null&&Bqe(n,t),t}function Dqe(e){const t={},n=F(e,["config"]);return n!=null&&Rqe(n,t),t}function Pqe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["cachedContents"],s)}return t}function Mqe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["cachedContents"],s)}return t}function Lqe(e){const t={},n=F(e,["mediaResolution"]);n!=null&&M(t,["mediaResolution"],n);const r=F(e,["codeExecutionResult"]);r!=null&&M(t,["codeExecutionResult"],r);const i=F(e,["executableCode"]);i!=null&&M(t,["executableCode"],i);const s=F(e,["fileData"]);s!=null&&M(t,["fileData"],Cqe(s));const a=F(e,["functionCall"]);a!=null&&M(t,["functionCall"],Sqe(a));const o=F(e,["functionResponse"]);o!=null&&M(t,["functionResponse"],o);const l=F(e,["inlineData"]);l!=null&&M(t,["inlineData"],Aqe(l));const c=F(e,["text"]);c!=null&&M(t,["text"],c);const d=F(e,["thought"]);d!=null&&M(t,["thought"],d);const f=F(e,["thoughtSignature"]);f!=null&&M(t,["thoughtSignature"],f);const p=F(e,["videoMetadata"]);return p!=null&&M(t,["videoMetadata"],p),t}function Oqe(e){const t={},n=F(e,["functionCallingConfig"]);n!=null&&M(t,["functionCallingConfig"],Eqe(n));const r=F(e,["retrievalConfig"]);return r!=null&&M(t,["retrievalConfig"],r),t}function jqe(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),M(t,["functionDeclarations"],d)}if(F(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearchRetrieval"]);r!=null&&M(t,["googleSearchRetrieval"],r);const i=F(e,["computerUse"]);i!=null&&M(t,["computerUse"],i);const s=F(e,["fileSearch"]);s!=null&&M(t,["fileSearch"],s);const a=F(e,["codeExecution"]);if(a!=null&&M(t,["codeExecution"],a),F(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=F(e,["googleMaps"]);o!=null&&M(t,["googleMaps"],Fqe(o));const l=F(e,["googleSearch"]);l!=null&&M(t,["googleSearch"],kqe(l));const c=F(e,["urlContext"]);return c!=null&&M(t,["urlContext"],c),t}function Uqe(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>Nqe(p))),M(t,["functionDeclarations"],f)}const r=F(e,["retrieval"]);r!=null&&M(t,["retrieval"],r);const i=F(e,["googleSearchRetrieval"]);i!=null&&M(t,["googleSearchRetrieval"],i);const s=F(e,["computerUse"]);if(s!=null&&M(t,["computerUse"],s),F(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=F(e,["codeExecution"]);a!=null&&M(t,["codeExecution"],a);const o=F(e,["enterpriseWebSearch"]);o!=null&&M(t,["enterpriseWebSearch"],o);const l=F(e,["googleMaps"]);l!=null&&M(t,["googleMaps"],l);const c=F(e,["googleSearch"]);c!=null&&M(t,["googleSearch"],c);const d=F(e,["urlContext"]);return d!=null&&M(t,["urlContext"],d),t}function Hqe(e,t){const n={},r=F(e,["ttl"]);t!==void 0&&r!=null&&M(t,["ttl"],r);const i=F(e,["expireTime"]);return t!==void 0&&i!=null&&M(t,["expireTime"],i),n}function Gqe(e,t){const n={},r=F(e,["ttl"]);t!==void 0&&r!=null&&M(t,["ttl"],r);const i=F(e,["expireTime"]);return t!==void 0&&i!=null&&M(t,["expireTime"],i),n}function Vqe(e,t){const n={},r=F(t,["name"]);r!=null&&M(n,["_url","name"],qf(e,r));const i=F(t,["config"]);return i!=null&&Hqe(i,n),n}function Qqe(e,t){const n={},r=F(t,["name"]);r!=null&&M(n,["_url","name"],qf(e,r));const i=F(t,["config"]);return i!=null&&Gqe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zqe extends Kf{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new lg(Df.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=xqe(this.apiClient,t);return o=$n("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=mqe(this.apiClient,t);return o=$n("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Iqe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=Tqe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=wqe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=yqe(d),p=new RQ;return Object.assign(p,f),p})}else{const c=vqe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=bqe(d),p=new RQ;return Object.assign(p,f),p})}}async update(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Qqe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const c=Vqe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Dqe(t);return o=$n("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=Mqe(d),p=new _Q;return Object.assign(p,f),p})}else{const c=_qe(t);return o=$n("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=Pqe(d),p=new _Q;return Object.assign(p,f),p})}}}function SE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function UQ(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qr(e){return this instanceof Qr?(this.v=e,this):new Qr(e)}function wd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(w){return Promise.resolve(w).then(m,f)}}function o(m,w){r[m]&&(i[m]=function(y){return new Promise(function(C,T){s.push([m,y,C,T])>1||l(m,y)})},w&&(i[m]=w(i[m])))}function l(m,w){try{c(r[m](w))}catch(y){p(s[0][3],y)}}function c(m){m.value instanceof Qr?Promise.resolve(m.value.v).then(d,f):p(s[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function p(m,w){m(w),s.shift(),s.length&&l(s[0][0],s[0][1])}}function bd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof UQ=="function"?UQ(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(a){return new Promise(function(o,l){a=e[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wqe(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:ure(n)}function ure(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Kqe(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function HQ(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let s=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),s&&!ure(e[r])&&(s=!1),r++;s?t.push(...i):t.pop()}return t}class qqe{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new $qe(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class $qe{constructor(t,n,r,i={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Kqe(s)}async sendMessage(t){var n;await this.sendPromise;const r=Nl(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let p=[];d!=null&&(p=(o=d.slice(f))!==null&&o!==void 0?o:[]);const m=c?[c]:[];this.recordHistory(r,m,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Nl(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(t=!1){const n=t?HQ(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return wd(this,arguments,function*(){var i,s,a,o,l,c;const d=[];try{for(var f=!0,p=bd(t),m;m=yield Qr(p.next()),i=m.done,!i;f=!0){o=m.value,f=!1;const w=o;if(Wqe(w)){const y=(c=(l=w.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;y!==void 0&&d.push(y)}yield yield Qr(w)}}catch(w){s={error:w}}finally{try{!f&&!i&&(a=p.return)&&(yield Qr(a.call(p)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...HQ(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fN extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,fN.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yqe(e){const t={},n=F(e,["file"]);return n!=null&&M(t,["file"],n),t}function Xqe(e){const t={},n=F(e,["sdkHttpResponse"]);return n!=null&&M(t,["sdkHttpResponse"],n),t}function Jqe(e){const t={},n=F(e,["name"]);return n!=null&&M(t,["_url","file"],rre(n)),t}function Zqe(e){const t={},n=F(e,["sdkHttpResponse"]);return n!=null&&M(t,["sdkHttpResponse"],n),t}function e$e(e){const t={},n=F(e,["name"]);return n!=null&&M(t,["_url","file"],rre(n)),t}function t$e(e,t){const n={},r=F(e,["pageSize"]);t!==void 0&&r!=null&&M(t,["_query","pageSize"],r);const i=F(e,["pageToken"]);return t!==void 0&&i!=null&&M(t,["_query","pageToken"],i),n}function n$e(e){const t={},n=F(e,["config"]);return n!=null&&t$e(n,t),t}function r$e(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i$e extends Kf{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new lg(Df.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=n$e(t);return s=$n("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=r$e(l),d=new lKe;return Object.assign(d,c),d})}}async createInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Yqe(t);return s=$n("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Xqe(l),d=new cKe;return Object.assign(d,c),d})}}async get(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=e$e(t);return s=$n("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jqe(t);return s=$n("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=Zqe(l),d=new uKe;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R2(e){const t={},n=F(e,["data"]);if(n!=null&&M(t,["data"],n),F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function s$e(e){const t={},n=F(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>b$e(s))),M(t,["parts"],i)}const r=F(e,["role"]);return r!=null&&M(t,["role"],r),t}function a$e(e){const t={};if(F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);n!=null&&M(t,["fileUri"],n);const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function o$e(e){const t={},n=F(e,["id"]);n!=null&&M(t,["id"],n);const r=F(e,["args"]);r!=null&&M(t,["args"],r);const i=F(e,["name"]);if(i!=null&&M(t,["name"],i),F(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(F(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function l$e(e){const t={};if(F(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=F(e,["description"]);n!=null&&M(t,["description"],n);const r=F(e,["name"]);r!=null&&M(t,["name"],r);const i=F(e,["parameters"]);i!=null&&M(t,["parameters"],i);const s=F(e,["parametersJsonSchema"]);s!=null&&M(t,["parametersJsonSchema"],s);const a=F(e,["response"]);a!=null&&M(t,["response"],a);const o=F(e,["responseJsonSchema"]);return o!=null&&M(t,["responseJsonSchema"],o),t}function c$e(e){const t={},n=F(e,["modelSelectionConfig"]);n!=null&&M(t,["modelConfig"],n);const r=F(e,["responseJsonSchema"]);r!=null&&M(t,["responseJsonSchema"],r);const i=F(e,["audioTimestamp"]);i!=null&&M(t,["audioTimestamp"],i);const s=F(e,["candidateCount"]);s!=null&&M(t,["candidateCount"],s);const a=F(e,["enableAffectiveDialog"]);a!=null&&M(t,["enableAffectiveDialog"],a);const o=F(e,["frequencyPenalty"]);o!=null&&M(t,["frequencyPenalty"],o);const l=F(e,["logprobs"]);l!=null&&M(t,["logprobs"],l);const c=F(e,["maxOutputTokens"]);c!=null&&M(t,["maxOutputTokens"],c);const d=F(e,["mediaResolution"]);d!=null&&M(t,["mediaResolution"],d);const f=F(e,["presencePenalty"]);f!=null&&M(t,["presencePenalty"],f);const p=F(e,["responseLogprobs"]);p!=null&&M(t,["responseLogprobs"],p);const m=F(e,["responseMimeType"]);m!=null&&M(t,["responseMimeType"],m);const w=F(e,["responseModalities"]);w!=null&&M(t,["responseModalities"],w);const y=F(e,["responseSchema"]);y!=null&&M(t,["responseSchema"],y);const C=F(e,["routingConfig"]);C!=null&&M(t,["routingConfig"],C);const T=F(e,["seed"]);T!=null&&M(t,["seed"],T);const k=F(e,["speechConfig"]);k!=null&&M(t,["speechConfig"],k);const R=F(e,["stopSequences"]);R!=null&&M(t,["stopSequences"],R);const P=F(e,["temperature"]);P!=null&&M(t,["temperature"],P);const U=F(e,["thinkingConfig"]);U!=null&&M(t,["thinkingConfig"],U);const O=F(e,["topK"]);O!=null&&M(t,["topK"],O);const L=F(e,["topP"]);if(L!=null&&M(t,["topP"],L),F(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function u$e(e){const t={};if(F(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);return n!=null&&M(t,["enableWidget"],n),t}function d$e(e){const t={};if(F(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(F(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=F(e,["timeRangeFilter"]);return n!=null&&M(t,["timeRangeFilter"],n),t}function h$e(e,t){const n={},r=F(e,["generationConfig"]);t!==void 0&&r!=null&&M(t,["setup","generationConfig"],r);const i=F(e,["responseModalities"]);t!==void 0&&i!=null&&M(t,["setup","generationConfig","responseModalities"],i);const s=F(e,["temperature"]);t!==void 0&&s!=null&&M(t,["setup","generationConfig","temperature"],s);const a=F(e,["topP"]);t!==void 0&&a!=null&&M(t,["setup","generationConfig","topP"],a);const o=F(e,["topK"]);t!==void 0&&o!=null&&M(t,["setup","generationConfig","topK"],o);const l=F(e,["maxOutputTokens"]);t!==void 0&&l!=null&&M(t,["setup","generationConfig","maxOutputTokens"],l);const c=F(e,["mediaResolution"]);t!==void 0&&c!=null&&M(t,["setup","generationConfig","mediaResolution"],c);const d=F(e,["seed"]);t!==void 0&&d!=null&&M(t,["setup","generationConfig","seed"],d);const f=F(e,["speechConfig"]);t!==void 0&&f!=null&&M(t,["setup","generationConfig","speechConfig"],FP(f));const p=F(e,["thinkingConfig"]);t!==void 0&&p!=null&&M(t,["setup","generationConfig","thinkingConfig"],p);const m=F(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&M(t,["setup","generationConfig","enableAffectiveDialog"],m);const w=F(e,["systemInstruction"]);t!==void 0&&w!=null&&M(t,["setup","systemInstruction"],s$e(Nl(w)));const y=F(e,["tools"]);if(t!==void 0&&y!=null){let O=Z1(y);Array.isArray(O)&&(O=O.map(L=>C$e(J1(L)))),M(t,["setup","tools"],O)}const C=F(e,["sessionResumption"]);t!==void 0&&C!=null&&M(t,["setup","sessionResumption"],y$e(C));const T=F(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&M(t,["setup","inputAudioTranscription"],T);const k=F(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&M(t,["setup","outputAudioTranscription"],k);const R=F(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&M(t,["setup","realtimeInputConfig"],R);const P=F(e,["contextWindowCompression"]);t!==void 0&&P!=null&&M(t,["setup","contextWindowCompression"],P);const U=F(e,["proactivity"]);if(t!==void 0&&U!=null&&M(t,["setup","proactivity"],U),F(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function f$e(e,t){const n={},r=F(e,["generationConfig"]);t!==void 0&&r!=null&&M(t,["setup","generationConfig"],c$e(r));const i=F(e,["responseModalities"]);t!==void 0&&i!=null&&M(t,["setup","generationConfig","responseModalities"],i);const s=F(e,["temperature"]);t!==void 0&&s!=null&&M(t,["setup","generationConfig","temperature"],s);const a=F(e,["topP"]);t!==void 0&&a!=null&&M(t,["setup","generationConfig","topP"],a);const o=F(e,["topK"]);t!==void 0&&o!=null&&M(t,["setup","generationConfig","topK"],o);const l=F(e,["maxOutputTokens"]);t!==void 0&&l!=null&&M(t,["setup","generationConfig","maxOutputTokens"],l);const c=F(e,["mediaResolution"]);t!==void 0&&c!=null&&M(t,["setup","generationConfig","mediaResolution"],c);const d=F(e,["seed"]);t!==void 0&&d!=null&&M(t,["setup","generationConfig","seed"],d);const f=F(e,["speechConfig"]);t!==void 0&&f!=null&&M(t,["setup","generationConfig","speechConfig"],FP(f));const p=F(e,["thinkingConfig"]);t!==void 0&&p!=null&&M(t,["setup","generationConfig","thinkingConfig"],p);const m=F(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&M(t,["setup","generationConfig","enableAffectiveDialog"],m);const w=F(e,["systemInstruction"]);t!==void 0&&w!=null&&M(t,["setup","systemInstruction"],Nl(w));const y=F(e,["tools"]);if(t!==void 0&&y!=null){let L=Z1(y);Array.isArray(L)&&(L=L.map(K=>S$e(J1(K)))),M(t,["setup","tools"],L)}const C=F(e,["sessionResumption"]);t!==void 0&&C!=null&&M(t,["setup","sessionResumption"],C);const T=F(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&M(t,["setup","inputAudioTranscription"],T);const k=F(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&M(t,["setup","outputAudioTranscription"],k);const R=F(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&M(t,["setup","realtimeInputConfig"],R);const P=F(e,["contextWindowCompression"]);t!==void 0&&P!=null&&M(t,["setup","contextWindowCompression"],P);const U=F(e,["proactivity"]);t!==void 0&&U!=null&&M(t,["setup","proactivity"],U);const O=F(e,["explicitVadSignal"]);return t!==void 0&&O!=null&&M(t,["setup","explicitVadSignal"],O),n}function A$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["setup","model"],Wi(e,r));const i=F(t,["config"]);return i!=null&&M(n,["config"],h$e(i,n)),n}function p$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["setup","model"],Wi(e,r));const i=F(t,["config"]);return i!=null&&M(n,["config"],f$e(i,n)),n}function g$e(e){const t={},n=F(e,["musicGenerationConfig"]);return n!=null&&M(t,["musicGenerationConfig"],n),t}function m$e(e){const t={},n=F(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),M(t,["weightedPrompts"],r)}return t}function x$e(e){const t={},n=F(e,["media"]);if(n!=null){let c=Jne(n);Array.isArray(c)&&(c=c.map(d=>R2(d))),M(t,["mediaChunks"],c)}const r=F(e,["audio"]);r!=null&&M(t,["audio"],R2(ere(r)));const i=F(e,["audioStreamEnd"]);i!=null&&M(t,["audioStreamEnd"],i);const s=F(e,["video"]);s!=null&&M(t,["video"],R2(Zne(s)));const a=F(e,["text"]);a!=null&&M(t,["text"],a);const o=F(e,["activityStart"]);o!=null&&M(t,["activityStart"],o);const l=F(e,["activityEnd"]);return l!=null&&M(t,["activityEnd"],l),t}function v$e(e){const t={},n=F(e,["media"]);if(n!=null){let c=Jne(n);Array.isArray(c)&&(c=c.map(d=>d)),M(t,["mediaChunks"],c)}const r=F(e,["audio"]);r!=null&&M(t,["audio"],ere(r));const i=F(e,["audioStreamEnd"]);i!=null&&M(t,["audioStreamEnd"],i);const s=F(e,["video"]);s!=null&&M(t,["video"],Zne(s));const a=F(e,["text"]);a!=null&&M(t,["text"],a);const o=F(e,["activityStart"]);o!=null&&M(t,["activityStart"],o);const l=F(e,["activityEnd"]);return l!=null&&M(t,["activityEnd"],l),t}function w$e(e){const t={},n=F(e,["setupComplete"]);n!=null&&M(t,["setupComplete"],n);const r=F(e,["serverContent"]);r!=null&&M(t,["serverContent"],r);const i=F(e,["toolCall"]);i!=null&&M(t,["toolCall"],i);const s=F(e,["toolCallCancellation"]);s!=null&&M(t,["toolCallCancellation"],s);const a=F(e,["usageMetadata"]);a!=null&&M(t,["usageMetadata"],E$e(a));const o=F(e,["goAway"]);o!=null&&M(t,["goAway"],o);const l=F(e,["sessionResumptionUpdate"]);l!=null&&M(t,["sessionResumptionUpdate"],l);const c=F(e,["voiceActivityDetectionSignal"]);return c!=null&&M(t,["voiceActivityDetectionSignal"],c),t}function b$e(e){const t={},n=F(e,["mediaResolution"]);n!=null&&M(t,["mediaResolution"],n);const r=F(e,["codeExecutionResult"]);r!=null&&M(t,["codeExecutionResult"],r);const i=F(e,["executableCode"]);i!=null&&M(t,["executableCode"],i);const s=F(e,["fileData"]);s!=null&&M(t,["fileData"],a$e(s));const a=F(e,["functionCall"]);a!=null&&M(t,["functionCall"],o$e(a));const o=F(e,["functionResponse"]);o!=null&&M(t,["functionResponse"],o);const l=F(e,["inlineData"]);l!=null&&M(t,["inlineData"],R2(l));const c=F(e,["text"]);c!=null&&M(t,["text"],c);const d=F(e,["thought"]);d!=null&&M(t,["thought"],d);const f=F(e,["thoughtSignature"]);f!=null&&M(t,["thoughtSignature"],f);const p=F(e,["videoMetadata"]);return p!=null&&M(t,["videoMetadata"],p),t}function y$e(e){const t={},n=F(e,["handle"]);if(n!=null&&M(t,["handle"],n),F(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function C$e(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),M(t,["functionDeclarations"],d)}if(F(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearchRetrieval"]);r!=null&&M(t,["googleSearchRetrieval"],r);const i=F(e,["computerUse"]);i!=null&&M(t,["computerUse"],i);const s=F(e,["fileSearch"]);s!=null&&M(t,["fileSearch"],s);const a=F(e,["codeExecution"]);if(a!=null&&M(t,["codeExecution"],a),F(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=F(e,["googleMaps"]);o!=null&&M(t,["googleMaps"],u$e(o));const l=F(e,["googleSearch"]);l!=null&&M(t,["googleSearch"],d$e(l));const c=F(e,["urlContext"]);return c!=null&&M(t,["urlContext"],c),t}function S$e(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>l$e(p))),M(t,["functionDeclarations"],f)}const r=F(e,["retrieval"]);r!=null&&M(t,["retrieval"],r);const i=F(e,["googleSearchRetrieval"]);i!=null&&M(t,["googleSearchRetrieval"],i);const s=F(e,["computerUse"]);if(s!=null&&M(t,["computerUse"],s),F(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=F(e,["codeExecution"]);a!=null&&M(t,["codeExecution"],a);const o=F(e,["enterpriseWebSearch"]);o!=null&&M(t,["enterpriseWebSearch"],o);const l=F(e,["googleMaps"]);l!=null&&M(t,["googleMaps"],l);const c=F(e,["googleSearch"]);c!=null&&M(t,["googleSearch"],c);const d=F(e,["urlContext"]);return d!=null&&M(t,["urlContext"],d),t}function E$e(e){const t={},n=F(e,["promptTokenCount"]);n!=null&&M(t,["promptTokenCount"],n);const r=F(e,["cachedContentTokenCount"]);r!=null&&M(t,["cachedContentTokenCount"],r);const i=F(e,["candidatesTokenCount"]);i!=null&&M(t,["responseTokenCount"],i);const s=F(e,["toolUsePromptTokenCount"]);s!=null&&M(t,["toolUsePromptTokenCount"],s);const a=F(e,["thoughtsTokenCount"]);a!=null&&M(t,["thoughtsTokenCount"],a);const o=F(e,["totalTokenCount"]);o!=null&&M(t,["totalTokenCount"],o);const l=F(e,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(w=>w)),M(t,["promptTokensDetails"],m)}const c=F(e,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(w=>w)),M(t,["cacheTokensDetails"],m)}const d=F(e,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(w=>w)),M(t,["responseTokensDetails"],m)}const f=F(e,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(w=>w)),M(t,["toolUsePromptTokensDetails"],m)}const p=F(e,["trafficType"]);return p!=null&&M(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N$e(e){const t={},n=F(e,["data"]);if(n!=null&&M(t,["data"],n),F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function T$e(e){const t={},n=F(e,["content"]);n!=null&&M(t,["content"],n);const r=F(e,["citationMetadata"]);r!=null&&M(t,["citationMetadata"],I$e(r));const i=F(e,["tokenCount"]);i!=null&&M(t,["tokenCount"],i);const s=F(e,["finishReason"]);s!=null&&M(t,["finishReason"],s);const a=F(e,["avgLogprobs"]);a!=null&&M(t,["avgLogprobs"],a);const o=F(e,["groundingMetadata"]);o!=null&&M(t,["groundingMetadata"],o);const l=F(e,["index"]);l!=null&&M(t,["index"],l);const c=F(e,["logprobsResult"]);c!=null&&M(t,["logprobsResult"],c);const d=F(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>m)),M(t,["safetyRatings"],p)}const f=F(e,["urlContextMetadata"]);return f!=null&&M(t,["urlContextMetadata"],f),t}function I$e(e){const t={},n=F(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),M(t,["citations"],r)}return t}function F$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let s=_u(i);Array.isArray(s)&&(s=s.map(a=>a)),M(n,["contents"],s)}return n}function k$e(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),M(t,["tokensInfo"],i)}return t}function B$e(e){const t={},n=F(e,["values"]);n!=null&&M(t,["values"],n);const r=F(e,["statistics"]);return r!=null&&M(t,["statistics"],R$e(r)),t}function R$e(e){const t={},n=F(e,["truncated"]);n!=null&&M(t,["truncated"],n);const r=F(e,["token_count"]);return r!=null&&M(t,["tokenCount"],r),t}function AN(e){const t={},n=F(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>HYe(s))),M(t,["parts"],i)}const r=F(e,["role"]);return r!=null&&M(t,["role"],r),t}function _$e(e){const t={},n=F(e,["controlType"]);n!=null&&M(t,["controlType"],n);const r=F(e,["enableControlImageComputation"]);return r!=null&&M(t,["computeControl"],r),t}function D$e(e){const t={};if(F(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(F(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(F(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function P$e(e,t){const n={},r=F(e,["systemInstruction"]);t!==void 0&&r!=null&&M(t,["systemInstruction"],Nl(r));const i=F(e,["tools"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Are(o))),M(t,["tools"],a)}const s=F(e,["generationConfig"]);return t!==void 0&&s!=null&&M(t,["generationConfig"],NYe(s)),n}function M$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let a=_u(i);Array.isArray(a)&&(a=a.map(o=>AN(o))),M(n,["contents"],a)}const s=F(t,["config"]);return s!=null&&D$e(s),n}function L$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let a=_u(i);Array.isArray(a)&&(a=a.map(o=>o)),M(n,["contents"],a)}const s=F(t,["config"]);return s!=null&&P$e(s,n),n}function O$e(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["totalTokens"]);r!=null&&M(t,["totalTokens"],r);const i=F(e,["cachedContentTokenCount"]);return i!=null&&M(t,["cachedContentTokenCount"],i),t}function j$e(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["totalTokens"]);return r!=null&&M(t,["totalTokens"],r),t}function U$e(e,t){const n={},r=F(t,["model"]);return r!=null&&M(n,["_url","name"],Wi(e,r)),n}function H$e(e,t){const n={},r=F(t,["model"]);return r!=null&&M(n,["_url","name"],Wi(e,r)),n}function G$e(e){const t={},n=F(e,["sdkHttpResponse"]);return n!=null&&M(t,["sdkHttpResponse"],n),t}function V$e(e){const t={},n=F(e,["sdkHttpResponse"]);return n!=null&&M(t,["sdkHttpResponse"],n),t}function Q$e(e,t){const n={},r=F(e,["outputGcsUri"]);t!==void 0&&r!=null&&M(t,["parameters","storageUri"],r);const i=F(e,["negativePrompt"]);t!==void 0&&i!=null&&M(t,["parameters","negativePrompt"],i);const s=F(e,["numberOfImages"]);t!==void 0&&s!=null&&M(t,["parameters","sampleCount"],s);const a=F(e,["aspectRatio"]);t!==void 0&&a!=null&&M(t,["parameters","aspectRatio"],a);const o=F(e,["guidanceScale"]);t!==void 0&&o!=null&&M(t,["parameters","guidanceScale"],o);const l=F(e,["seed"]);t!==void 0&&l!=null&&M(t,["parameters","seed"],l);const c=F(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&M(t,["parameters","safetySetting"],c);const d=F(e,["personGeneration"]);t!==void 0&&d!=null&&M(t,["parameters","personGeneration"],d);const f=F(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&M(t,["parameters","includeSafetyAttributes"],f);const p=F(e,["includeRaiReason"]);t!==void 0&&p!=null&&M(t,["parameters","includeRaiReason"],p);const m=F(e,["language"]);t!==void 0&&m!=null&&M(t,["parameters","language"],m);const w=F(e,["outputMimeType"]);t!==void 0&&w!=null&&M(t,["parameters","outputOptions","mimeType"],w);const y=F(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&M(t,["parameters","outputOptions","compressionQuality"],y);const C=F(e,["addWatermark"]);t!==void 0&&C!=null&&M(t,["parameters","addWatermark"],C);const T=F(e,["labels"]);t!==void 0&&T!=null&&M(t,["labels"],T);const k=F(e,["editMode"]);t!==void 0&&k!=null&&M(t,["parameters","editMode"],k);const R=F(e,["baseSteps"]);return t!==void 0&&R!=null&&M(t,["parameters","editConfig","baseSteps"],R),n}function z$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["prompt"]);i!=null&&M(n,["instances[0]","prompt"],i);const s=F(t,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>KYe(l))),M(n,["instances[0]","referenceImages"],o)}const a=F(t,["config"]);return a!=null&&Q$e(a,n),n}function W$e(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>pN(s))),M(t,["generatedImages"],i)}return t}function K$e(e,t){const n={},r=F(e,["taskType"]);t!==void 0&&r!=null&&M(t,["requests[]","taskType"],r);const i=F(e,["title"]);t!==void 0&&i!=null&&M(t,["requests[]","title"],i);const s=F(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&M(t,["requests[]","outputDimensionality"],s),F(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(F(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function q$e(e,t){const n={},r=F(e,["taskType"]);t!==void 0&&r!=null&&M(t,["instances[]","task_type"],r);const i=F(e,["title"]);t!==void 0&&i!=null&&M(t,["instances[]","title"],i);const s=F(e,["outputDimensionality"]);t!==void 0&&s!=null&&M(t,["parameters","outputDimensionality"],s);const a=F(e,["mimeType"]);t!==void 0&&a!=null&&M(t,["instances[]","mimeType"],a);const o=F(e,["autoTruncate"]);return t!==void 0&&o!=null&&M(t,["parameters","autoTruncate"],o),n}function $$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let o=NP(e,i);Array.isArray(o)&&(o=o.map(l=>l)),M(n,["requests[]","content"],o)}const s=F(t,["config"]);s!=null&&K$e(s,n);const a=F(t,["model"]);return a!==void 0&&M(n,["requests[]","model"],Wi(e,a)),n}function Y$e(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let a=NP(e,i);Array.isArray(a)&&(a=a.map(o=>o)),M(n,["instances[]","content"],a)}const s=F(t,["config"]);return s!=null&&q$e(s,n),n}function X$e(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["embeddings"],s)}const i=F(e,["metadata"]);return i!=null&&M(t,["metadata"],i),t}function J$e(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>B$e(a))),M(t,["embeddings"],s)}const i=F(e,["metadata"]);return i!=null&&M(t,["metadata"],i),t}function Z$e(e){const t={},n=F(e,["endpoint"]);n!=null&&M(t,["name"],n);const r=F(e,["deployedModelId"]);return r!=null&&M(t,["deployedModelId"],r),t}function eYe(e){const t={};if(F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);n!=null&&M(t,["fileUri"],n);const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function tYe(e){const t={},n=F(e,["id"]);n!=null&&M(t,["id"],n);const r=F(e,["args"]);r!=null&&M(t,["args"],r);const i=F(e,["name"]);if(i!=null&&M(t,["name"],i),F(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(F(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nYe(e){const t={},n=F(e,["mode"]);n!=null&&M(t,["mode"],n);const r=F(e,["allowedFunctionNames"]);if(r!=null&&M(t,["allowedFunctionNames"],r),F(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rYe(e){const t={};if(F(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=F(e,["description"]);n!=null&&M(t,["description"],n);const r=F(e,["name"]);r!=null&&M(t,["name"],r);const i=F(e,["parameters"]);i!=null&&M(t,["parameters"],i);const s=F(e,["parametersJsonSchema"]);s!=null&&M(t,["parametersJsonSchema"],s);const a=F(e,["response"]);a!=null&&M(t,["response"],a);const o=F(e,["responseJsonSchema"]);return o!=null&&M(t,["responseJsonSchema"],o),t}function iYe(e,t,n){const r={},i=F(t,["systemInstruction"]);n!==void 0&&i!=null&&M(n,["systemInstruction"],AN(Nl(i)));const s=F(t,["temperature"]);s!=null&&M(r,["temperature"],s);const a=F(t,["topP"]);a!=null&&M(r,["topP"],a);const o=F(t,["topK"]);o!=null&&M(r,["topK"],o);const l=F(t,["candidateCount"]);l!=null&&M(r,["candidateCount"],l);const c=F(t,["maxOutputTokens"]);c!=null&&M(r,["maxOutputTokens"],c);const d=F(t,["stopSequences"]);d!=null&&M(r,["stopSequences"],d);const f=F(t,["responseLogprobs"]);f!=null&&M(r,["responseLogprobs"],f);const p=F(t,["logprobs"]);p!=null&&M(r,["logprobs"],p);const m=F(t,["presencePenalty"]);m!=null&&M(r,["presencePenalty"],m);const w=F(t,["frequencyPenalty"]);w!=null&&M(r,["frequencyPenalty"],w);const y=F(t,["seed"]);y!=null&&M(r,["seed"],y);const C=F(t,["responseMimeType"]);C!=null&&M(r,["responseMimeType"],C);const T=F(t,["responseSchema"]);T!=null&&M(r,["responseSchema"],TP(T));const k=F(t,["responseJsonSchema"]);if(k!=null&&M(r,["responseJsonSchema"],k),F(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(F(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=F(t,["safetySettings"]);if(n!==void 0&&R!=null){let re=R;Array.isArray(re)&&(re=re.map(ee=>qYe(ee))),M(n,["safetySettings"],re)}const P=F(t,["tools"]);if(n!==void 0&&P!=null){let re=Z1(P);Array.isArray(re)&&(re=re.map(ee=>tXe(J1(ee)))),M(n,["tools"],re)}const U=F(t,["toolConfig"]);if(n!==void 0&&U!=null&&M(n,["toolConfig"],eXe(U)),F(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=F(t,["cachedContent"]);n!==void 0&&O!=null&&M(n,["cachedContent"],qf(e,O));const L=F(t,["responseModalities"]);L!=null&&M(r,["responseModalities"],L);const K=F(t,["mediaResolution"]);K!=null&&M(r,["mediaResolution"],K);const j=F(t,["speechConfig"]);if(j!=null&&M(r,["speechConfig"],IP(j)),F(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=F(t,["thinkingConfig"]);te!=null&&M(r,["thinkingConfig"],te);const G=F(t,["imageConfig"]);G!=null&&M(r,["imageConfig"],BYe(G));const V=F(t,["enableEnhancedCivicAnswers"]);return V!=null&&M(r,["enableEnhancedCivicAnswers"],V),r}function sYe(e,t,n){const r={},i=F(t,["systemInstruction"]);n!==void 0&&i!=null&&M(n,["systemInstruction"],Nl(i));const s=F(t,["temperature"]);s!=null&&M(r,["temperature"],s);const a=F(t,["topP"]);a!=null&&M(r,["topP"],a);const o=F(t,["topK"]);o!=null&&M(r,["topK"],o);const l=F(t,["candidateCount"]);l!=null&&M(r,["candidateCount"],l);const c=F(t,["maxOutputTokens"]);c!=null&&M(r,["maxOutputTokens"],c);const d=F(t,["stopSequences"]);d!=null&&M(r,["stopSequences"],d);const f=F(t,["responseLogprobs"]);f!=null&&M(r,["responseLogprobs"],f);const p=F(t,["logprobs"]);p!=null&&M(r,["logprobs"],p);const m=F(t,["presencePenalty"]);m!=null&&M(r,["presencePenalty"],m);const w=F(t,["frequencyPenalty"]);w!=null&&M(r,["frequencyPenalty"],w);const y=F(t,["seed"]);y!=null&&M(r,["seed"],y);const C=F(t,["responseMimeType"]);C!=null&&M(r,["responseMimeType"],C);const T=F(t,["responseSchema"]);T!=null&&M(r,["responseSchema"],TP(T));const k=F(t,["responseJsonSchema"]);k!=null&&M(r,["responseJsonSchema"],k);const R=F(t,["routingConfig"]);R!=null&&M(r,["routingConfig"],R);const P=F(t,["modelSelectionConfig"]);P!=null&&M(r,["modelConfig"],P);const U=F(t,["safetySettings"]);if(n!==void 0&&U!=null){let ue=U;Array.isArray(ue)&&(ue=ue.map(le=>le)),M(n,["safetySettings"],ue)}const O=F(t,["tools"]);if(n!==void 0&&O!=null){let ue=Z1(O);Array.isArray(ue)&&(ue=ue.map(le=>Are(J1(le)))),M(n,["tools"],ue)}const L=F(t,["toolConfig"]);n!==void 0&&L!=null&&M(n,["toolConfig"],L);const K=F(t,["labels"]);n!==void 0&&K!=null&&M(n,["labels"],K);const j=F(t,["cachedContent"]);n!==void 0&&j!=null&&M(n,["cachedContent"],qf(e,j));const te=F(t,["responseModalities"]);te!=null&&M(r,["responseModalities"],te);const G=F(t,["mediaResolution"]);G!=null&&M(r,["mediaResolution"],G);const V=F(t,["speechConfig"]);V!=null&&M(r,["speechConfig"],IP(V));const re=F(t,["audioTimestamp"]);re!=null&&M(r,["audioTimestamp"],re);const ee=F(t,["thinkingConfig"]);ee!=null&&M(r,["thinkingConfig"],ee);const ie=F(t,["imageConfig"]);if(ie!=null&&M(r,["imageConfig"],RYe(ie)),F(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function GQ(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let a=_u(i);Array.isArray(a)&&(a=a.map(o=>AN(o))),M(n,["contents"],a)}const s=F(t,["config"]);return s!=null&&M(n,["generationConfig"],iYe(e,s,n)),n}function VQ(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["contents"]);if(i!=null){let a=_u(i);Array.isArray(a)&&(a=a.map(o=>o)),M(n,["contents"],a)}const s=F(t,["config"]);return s!=null&&M(n,["generationConfig"],sYe(e,s,n)),n}function QQ(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>T$e(c))),M(t,["candidates"],l)}const i=F(e,["modelVersion"]);i!=null&&M(t,["modelVersion"],i);const s=F(e,["promptFeedback"]);s!=null&&M(t,["promptFeedback"],s);const a=F(e,["responseId"]);a!=null&&M(t,["responseId"],a);const o=F(e,["usageMetadata"]);return o!=null&&M(t,["usageMetadata"],o),t}function zQ(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),M(t,["candidates"],c)}const i=F(e,["createTime"]);i!=null&&M(t,["createTime"],i);const s=F(e,["modelVersion"]);s!=null&&M(t,["modelVersion"],s);const a=F(e,["promptFeedback"]);a!=null&&M(t,["promptFeedback"],a);const o=F(e,["responseId"]);o!=null&&M(t,["responseId"],o);const l=F(e,["usageMetadata"]);return l!=null&&M(t,["usageMetadata"],l),t}function aYe(e,t){const n={};if(F(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(F(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=F(e,["numberOfImages"]);t!==void 0&&r!=null&&M(t,["parameters","sampleCount"],r);const i=F(e,["aspectRatio"]);t!==void 0&&i!=null&&M(t,["parameters","aspectRatio"],i);const s=F(e,["guidanceScale"]);if(t!==void 0&&s!=null&&M(t,["parameters","guidanceScale"],s),F(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=F(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&M(t,["parameters","safetySetting"],a);const o=F(e,["personGeneration"]);t!==void 0&&o!=null&&M(t,["parameters","personGeneration"],o);const l=F(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&M(t,["parameters","includeSafetyAttributes"],l);const c=F(e,["includeRaiReason"]);t!==void 0&&c!=null&&M(t,["parameters","includeRaiReason"],c);const d=F(e,["language"]);t!==void 0&&d!=null&&M(t,["parameters","language"],d);const f=F(e,["outputMimeType"]);t!==void 0&&f!=null&&M(t,["parameters","outputOptions","mimeType"],f);const p=F(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&M(t,["parameters","outputOptions","compressionQuality"],p),F(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(F(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=F(e,["imageSize"]);if(t!==void 0&&m!=null&&M(t,["parameters","sampleImageSize"],m),F(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function oYe(e,t){const n={},r=F(e,["outputGcsUri"]);t!==void 0&&r!=null&&M(t,["parameters","storageUri"],r);const i=F(e,["negativePrompt"]);t!==void 0&&i!=null&&M(t,["parameters","negativePrompt"],i);const s=F(e,["numberOfImages"]);t!==void 0&&s!=null&&M(t,["parameters","sampleCount"],s);const a=F(e,["aspectRatio"]);t!==void 0&&a!=null&&M(t,["parameters","aspectRatio"],a);const o=F(e,["guidanceScale"]);t!==void 0&&o!=null&&M(t,["parameters","guidanceScale"],o);const l=F(e,["seed"]);t!==void 0&&l!=null&&M(t,["parameters","seed"],l);const c=F(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&M(t,["parameters","safetySetting"],c);const d=F(e,["personGeneration"]);t!==void 0&&d!=null&&M(t,["parameters","personGeneration"],d);const f=F(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&M(t,["parameters","includeSafetyAttributes"],f);const p=F(e,["includeRaiReason"]);t!==void 0&&p!=null&&M(t,["parameters","includeRaiReason"],p);const m=F(e,["language"]);t!==void 0&&m!=null&&M(t,["parameters","language"],m);const w=F(e,["outputMimeType"]);t!==void 0&&w!=null&&M(t,["parameters","outputOptions","mimeType"],w);const y=F(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&M(t,["parameters","outputOptions","compressionQuality"],y);const C=F(e,["addWatermark"]);t!==void 0&&C!=null&&M(t,["parameters","addWatermark"],C);const T=F(e,["labels"]);t!==void 0&&T!=null&&M(t,["labels"],T);const k=F(e,["imageSize"]);t!==void 0&&k!=null&&M(t,["parameters","sampleImageSize"],k);const R=F(e,["enhancePrompt"]);return t!==void 0&&R!=null&&M(t,["parameters","enhancePrompt"],R),n}function lYe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["prompt"]);i!=null&&M(n,["instances[0]","prompt"],i);const s=F(t,["config"]);return s!=null&&aYe(s,n),n}function cYe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["prompt"]);i!=null&&M(n,["instances[0]","prompt"],i);const s=F(t,["config"]);return s!=null&&oYe(s,n),n}function uYe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>yYe(a))),M(t,["generatedImages"],s)}const i=F(e,["positivePromptSafetyAttributes"]);return i!=null&&M(t,["positivePromptSafetyAttributes"],hre(i)),t}function dYe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>pN(a))),M(t,["generatedImages"],s)}const i=F(e,["positivePromptSafetyAttributes"]);return i!=null&&M(t,["positivePromptSafetyAttributes"],fre(i)),t}function hYe(e,t){const n={},r=F(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&M(t,["parameters","sampleCount"],r),F(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(F(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=F(e,["durationSeconds"]);if(t!==void 0&&i!=null&&M(t,["parameters","durationSeconds"],i),F(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=F(e,["aspectRatio"]);t!==void 0&&s!=null&&M(t,["parameters","aspectRatio"],s);const a=F(e,["resolution"]);t!==void 0&&a!=null&&M(t,["parameters","resolution"],a);const o=F(e,["personGeneration"]);if(t!==void 0&&o!=null&&M(t,["parameters","personGeneration"],o),F(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=F(e,["negativePrompt"]);t!==void 0&&l!=null&&M(t,["parameters","negativePrompt"],l);const c=F(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&M(t,["parameters","enhancePrompt"],c),F(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=F(e,["lastFrame"]);t!==void 0&&d!=null&&M(t,["instances[0]","lastFrame"],gN(d));const f=F(e,["referenceImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>AXe(m))),M(t,["instances[0]","referenceImages"],p)}if(F(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(F(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function fYe(e,t){const n={},r=F(e,["numberOfVideos"]);t!==void 0&&r!=null&&M(t,["parameters","sampleCount"],r);const i=F(e,["outputGcsUri"]);t!==void 0&&i!=null&&M(t,["parameters","storageUri"],i);const s=F(e,["fps"]);t!==void 0&&s!=null&&M(t,["parameters","fps"],s);const a=F(e,["durationSeconds"]);t!==void 0&&a!=null&&M(t,["parameters","durationSeconds"],a);const o=F(e,["seed"]);t!==void 0&&o!=null&&M(t,["parameters","seed"],o);const l=F(e,["aspectRatio"]);t!==void 0&&l!=null&&M(t,["parameters","aspectRatio"],l);const c=F(e,["resolution"]);t!==void 0&&c!=null&&M(t,["parameters","resolution"],c);const d=F(e,["personGeneration"]);t!==void 0&&d!=null&&M(t,["parameters","personGeneration"],d);const f=F(e,["pubsubTopic"]);t!==void 0&&f!=null&&M(t,["parameters","pubsubTopic"],f);const p=F(e,["negativePrompt"]);t!==void 0&&p!=null&&M(t,["parameters","negativePrompt"],p);const m=F(e,["enhancePrompt"]);t!==void 0&&m!=null&&M(t,["parameters","enhancePrompt"],m);const w=F(e,["generateAudio"]);t!==void 0&&w!=null&&M(t,["parameters","generateAudio"],w);const y=F(e,["lastFrame"]);t!==void 0&&y!=null&&M(t,["instances[0]","lastFrame"],Rd(y));const C=F(e,["referenceImages"]);if(t!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(P=>pXe(P))),M(t,["instances[0]","referenceImages"],R)}const T=F(e,["mask"]);t!==void 0&&T!=null&&M(t,["instances[0]","mask"],fXe(T));const k=F(e,["compressionQuality"]);return t!==void 0&&k!=null&&M(t,["parameters","compressionQuality"],k),n}function AYe(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata"]);r!=null&&M(t,["metadata"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["response","generateVideoResponse"]);return a!=null&&M(t,["response"],xYe(a)),t}function pYe(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata"]);r!=null&&M(t,["metadata"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["response"]);return a!=null&&M(t,["response"],vYe(a)),t}function gYe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["prompt"]);i!=null&&M(n,["instances[0]","prompt"],i);const s=F(t,["image"]);s!=null&&M(n,["instances[0]","image"],gN(s));const a=F(t,["video"]);a!=null&&M(n,["instances[0]","video"],pre(a));const o=F(t,["source"]);o!=null&&wYe(o,n);const l=F(t,["config"]);return l!=null&&hYe(l,n),n}function mYe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["prompt"]);i!=null&&M(n,["instances[0]","prompt"],i);const s=F(t,["image"]);s!=null&&M(n,["instances[0]","image"],Rd(s));const a=F(t,["video"]);a!=null&&M(n,["instances[0]","video"],gre(a));const o=F(t,["source"]);o!=null&&bYe(o,n);const l=F(t,["config"]);return l!=null&&fYe(l,n),n}function xYe(e){const t={},n=F(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>SYe(a))),M(t,["generatedVideos"],s)}const r=F(e,["raiMediaFilteredCount"]);r!=null&&M(t,["raiMediaFilteredCount"],r);const i=F(e,["raiMediaFilteredReasons"]);return i!=null&&M(t,["raiMediaFilteredReasons"],i),t}function vYe(e){const t={},n=F(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>EYe(a))),M(t,["generatedVideos"],s)}const r=F(e,["raiMediaFilteredCount"]);r!=null&&M(t,["raiMediaFilteredCount"],r);const i=F(e,["raiMediaFilteredReasons"]);return i!=null&&M(t,["raiMediaFilteredReasons"],i),t}function wYe(e,t){const n={},r=F(e,["prompt"]);t!==void 0&&r!=null&&M(t,["instances[0]","prompt"],r);const i=F(e,["image"]);t!==void 0&&i!=null&&M(t,["instances[0]","image"],gN(i));const s=F(e,["video"]);return t!==void 0&&s!=null&&M(t,["instances[0]","video"],pre(s)),n}function bYe(e,t){const n={},r=F(e,["prompt"]);t!==void 0&&r!=null&&M(t,["instances[0]","prompt"],r);const i=F(e,["image"]);t!==void 0&&i!=null&&M(t,["instances[0]","image"],Rd(i));const s=F(e,["video"]);return t!==void 0&&s!=null&&M(t,["instances[0]","video"],gre(s)),n}function yYe(e){const t={},n=F(e,["_self"]);n!=null&&M(t,["image"],_Ye(n));const r=F(e,["raiFilteredReason"]);r!=null&&M(t,["raiFilteredReason"],r);const i=F(e,["_self"]);return i!=null&&M(t,["safetyAttributes"],hre(i)),t}function pN(e){const t={},n=F(e,["_self"]);n!=null&&M(t,["image"],dre(n));const r=F(e,["raiFilteredReason"]);r!=null&&M(t,["raiFilteredReason"],r);const i=F(e,["_self"]);i!=null&&M(t,["safetyAttributes"],fre(i));const s=F(e,["prompt"]);return s!=null&&M(t,["enhancedPrompt"],s),t}function CYe(e){const t={},n=F(e,["_self"]);n!=null&&M(t,["mask"],dre(n));const r=F(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),M(t,["labels"],i)}return t}function SYe(e){const t={},n=F(e,["video"]);return n!=null&&M(t,["video"],dXe(n)),t}function EYe(e){const t={},n=F(e,["_self"]);return n!=null&&M(t,["video"],hXe(n)),t}function NYe(e){const t={},n=F(e,["modelSelectionConfig"]);n!=null&&M(t,["modelConfig"],n);const r=F(e,["responseJsonSchema"]);r!=null&&M(t,["responseJsonSchema"],r);const i=F(e,["audioTimestamp"]);i!=null&&M(t,["audioTimestamp"],i);const s=F(e,["candidateCount"]);s!=null&&M(t,["candidateCount"],s);const a=F(e,["enableAffectiveDialog"]);a!=null&&M(t,["enableAffectiveDialog"],a);const o=F(e,["frequencyPenalty"]);o!=null&&M(t,["frequencyPenalty"],o);const l=F(e,["logprobs"]);l!=null&&M(t,["logprobs"],l);const c=F(e,["maxOutputTokens"]);c!=null&&M(t,["maxOutputTokens"],c);const d=F(e,["mediaResolution"]);d!=null&&M(t,["mediaResolution"],d);const f=F(e,["presencePenalty"]);f!=null&&M(t,["presencePenalty"],f);const p=F(e,["responseLogprobs"]);p!=null&&M(t,["responseLogprobs"],p);const m=F(e,["responseMimeType"]);m!=null&&M(t,["responseMimeType"],m);const w=F(e,["responseModalities"]);w!=null&&M(t,["responseModalities"],w);const y=F(e,["responseSchema"]);y!=null&&M(t,["responseSchema"],y);const C=F(e,["routingConfig"]);C!=null&&M(t,["routingConfig"],C);const T=F(e,["seed"]);T!=null&&M(t,["seed"],T);const k=F(e,["speechConfig"]);k!=null&&M(t,["speechConfig"],k);const R=F(e,["stopSequences"]);R!=null&&M(t,["stopSequences"],R);const P=F(e,["temperature"]);P!=null&&M(t,["temperature"],P);const U=F(e,["thinkingConfig"]);U!=null&&M(t,["thinkingConfig"],U);const O=F(e,["topK"]);O!=null&&M(t,["topK"],O);const L=F(e,["topP"]);if(L!=null&&M(t,["topP"],L),F(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function TYe(e,t){const n={},r=F(t,["model"]);return r!=null&&M(n,["_url","name"],Wi(e,r)),n}function IYe(e,t){const n={},r=F(t,["model"]);return r!=null&&M(n,["_url","name"],Wi(e,r)),n}function FYe(e){const t={};if(F(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);return n!=null&&M(t,["enableWidget"],n),t}function kYe(e){const t={};if(F(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(F(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=F(e,["timeRangeFilter"]);return n!=null&&M(t,["timeRangeFilter"],n),t}function BYe(e){const t={},n=F(e,["aspectRatio"]);n!=null&&M(t,["aspectRatio"],n);const r=F(e,["imageSize"]);if(r!=null&&M(t,["imageSize"],r),F(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(F(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function RYe(e){const t={},n=F(e,["aspectRatio"]);n!=null&&M(t,["aspectRatio"],n);const r=F(e,["imageSize"]);r!=null&&M(t,["imageSize"],r);const i=F(e,["outputMimeType"]);i!=null&&M(t,["imageOutputOptions","mimeType"],i);const s=F(e,["outputCompressionQuality"]);return s!=null&&M(t,["imageOutputOptions","compressionQuality"],s),t}function _Ye(e){const t={},n=F(e,["bytesBase64Encoded"]);n!=null&&M(t,["imageBytes"],v0(n));const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function dre(e){const t={},n=F(e,["gcsUri"]);n!=null&&M(t,["gcsUri"],n);const r=F(e,["bytesBase64Encoded"]);r!=null&&M(t,["imageBytes"],v0(r));const i=F(e,["mimeType"]);return i!=null&&M(t,["mimeType"],i),t}function gN(e){const t={};if(F(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=F(e,["imageBytes"]);n!=null&&M(t,["bytesBase64Encoded"],v0(n));const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function Rd(e){const t={},n=F(e,["gcsUri"]);n!=null&&M(t,["gcsUri"],n);const r=F(e,["imageBytes"]);r!=null&&M(t,["bytesBase64Encoded"],v0(r));const i=F(e,["mimeType"]);return i!=null&&M(t,["mimeType"],i),t}function DYe(e,t,n){const r={},i=F(t,["pageSize"]);n!==void 0&&i!=null&&M(n,["_query","pageSize"],i);const s=F(t,["pageToken"]);n!==void 0&&s!=null&&M(n,["_query","pageToken"],s);const a=F(t,["filter"]);n!==void 0&&a!=null&&M(n,["_query","filter"],a);const o=F(t,["queryBase"]);return n!==void 0&&o!=null&&M(n,["_url","models_url"],ire(e,o)),r}function PYe(e,t,n){const r={},i=F(t,["pageSize"]);n!==void 0&&i!=null&&M(n,["_query","pageSize"],i);const s=F(t,["pageToken"]);n!==void 0&&s!=null&&M(n,["_query","pageToken"],s);const a=F(t,["filter"]);n!==void 0&&a!=null&&M(n,["_query","filter"],a);const o=F(t,["queryBase"]);return n!==void 0&&o!=null&&M(n,["_url","models_url"],ire(e,o)),r}function MYe(e,t){const n={},r=F(t,["config"]);return r!=null&&DYe(e,r,n),n}function LYe(e,t){const n={},r=F(t,["config"]);return r!=null&&PYe(e,r,n),n}function OYe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["_self"]);if(i!=null){let s=sre(i);Array.isArray(s)&&(s=s.map(a=>HB(a))),M(t,["models"],s)}return t}function jYe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["_self"]);if(i!=null){let s=sre(i);Array.isArray(s)&&(s=s.map(a=>GB(a))),M(t,["models"],s)}return t}function UYe(e){const t={},n=F(e,["maskMode"]);n!=null&&M(t,["maskMode"],n);const r=F(e,["segmentationClasses"]);r!=null&&M(t,["maskClasses"],r);const i=F(e,["maskDilation"]);return i!=null&&M(t,["dilation"],i),t}function HB(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["displayName"]);r!=null&&M(t,["displayName"],r);const i=F(e,["description"]);i!=null&&M(t,["description"],i);const s=F(e,["version"]);s!=null&&M(t,["version"],s);const a=F(e,["_self"]);a!=null&&M(t,["tunedModelInfo"],nXe(a));const o=F(e,["inputTokenLimit"]);o!=null&&M(t,["inputTokenLimit"],o);const l=F(e,["outputTokenLimit"]);l!=null&&M(t,["outputTokenLimit"],l);const c=F(e,["supportedGenerationMethods"]);c!=null&&M(t,["supportedActions"],c);const d=F(e,["temperature"]);d!=null&&M(t,["temperature"],d);const f=F(e,["maxTemperature"]);f!=null&&M(t,["maxTemperature"],f);const p=F(e,["topP"]);p!=null&&M(t,["topP"],p);const m=F(e,["topK"]);m!=null&&M(t,["topK"],m);const w=F(e,["thinking"]);return w!=null&&M(t,["thinking"],w),t}function GB(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["displayName"]);r!=null&&M(t,["displayName"],r);const i=F(e,["description"]);i!=null&&M(t,["description"],i);const s=F(e,["versionId"]);s!=null&&M(t,["version"],s);const a=F(e,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Z$e(p))),M(t,["endpoints"],f)}const o=F(e,["labels"]);o!=null&&M(t,["labels"],o);const l=F(e,["_self"]);l!=null&&M(t,["tunedModelInfo"],rXe(l));const c=F(e,["defaultCheckpointId"]);c!=null&&M(t,["defaultCheckpointId"],c);const d=F(e,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>p)),M(t,["checkpoints"],f)}return t}function HYe(e){const t={},n=F(e,["mediaResolution"]);n!=null&&M(t,["mediaResolution"],n);const r=F(e,["codeExecutionResult"]);r!=null&&M(t,["codeExecutionResult"],r);const i=F(e,["executableCode"]);i!=null&&M(t,["executableCode"],i);const s=F(e,["fileData"]);s!=null&&M(t,["fileData"],eYe(s));const a=F(e,["functionCall"]);a!=null&&M(t,["functionCall"],tYe(a));const o=F(e,["functionResponse"]);o!=null&&M(t,["functionResponse"],o);const l=F(e,["inlineData"]);l!=null&&M(t,["inlineData"],N$e(l));const c=F(e,["text"]);c!=null&&M(t,["text"],c);const d=F(e,["thought"]);d!=null&&M(t,["thought"],d);const f=F(e,["thoughtSignature"]);f!=null&&M(t,["thoughtSignature"],f);const p=F(e,["videoMetadata"]);return p!=null&&M(t,["videoMetadata"],p),t}function GYe(e){const t={},n=F(e,["productImage"]);return n!=null&&M(t,["image"],Rd(n)),t}function VYe(e,t){const n={},r=F(e,["numberOfImages"]);t!==void 0&&r!=null&&M(t,["parameters","sampleCount"],r);const i=F(e,["baseSteps"]);t!==void 0&&i!=null&&M(t,["parameters","baseSteps"],i);const s=F(e,["outputGcsUri"]);t!==void 0&&s!=null&&M(t,["parameters","storageUri"],s);const a=F(e,["seed"]);t!==void 0&&a!=null&&M(t,["parameters","seed"],a);const o=F(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&M(t,["parameters","safetySetting"],o);const l=F(e,["personGeneration"]);t!==void 0&&l!=null&&M(t,["parameters","personGeneration"],l);const c=F(e,["addWatermark"]);t!==void 0&&c!=null&&M(t,["parameters","addWatermark"],c);const d=F(e,["outputMimeType"]);t!==void 0&&d!=null&&M(t,["parameters","outputOptions","mimeType"],d);const f=F(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&M(t,["parameters","outputOptions","compressionQuality"],f);const p=F(e,["enhancePrompt"]);t!==void 0&&p!=null&&M(t,["parameters","enhancePrompt"],p);const m=F(e,["labels"]);return t!==void 0&&m!=null&&M(t,["labels"],m),n}function QYe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["source"]);i!=null&&WYe(i,n);const s=F(t,["config"]);return s!=null&&VYe(s,n),n}function zYe(e){const t={},n=F(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pN(i))),M(t,["generatedImages"],r)}return t}function WYe(e,t){const n={},r=F(e,["prompt"]);t!==void 0&&r!=null&&M(t,["instances[0]","prompt"],r);const i=F(e,["personImage"]);t!==void 0&&i!=null&&M(t,["instances[0]","personImage","image"],Rd(i));const s=F(e,["productImages"]);if(t!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>GYe(o))),M(t,["instances[0]","productImages"],a)}return n}function KYe(e){const t={},n=F(e,["referenceImage"]);n!=null&&M(t,["referenceImage"],Rd(n));const r=F(e,["referenceId"]);r!=null&&M(t,["referenceId"],r);const i=F(e,["referenceType"]);i!=null&&M(t,["referenceType"],i);const s=F(e,["maskImageConfig"]);s!=null&&M(t,["maskImageConfig"],UYe(s));const a=F(e,["controlImageConfig"]);a!=null&&M(t,["controlImageConfig"],_$e(a));const o=F(e,["styleImageConfig"]);o!=null&&M(t,["styleImageConfig"],o);const l=F(e,["subjectImageConfig"]);return l!=null&&M(t,["subjectImageConfig"],l),t}function hre(e){const t={},n=F(e,["safetyAttributes","categories"]);n!=null&&M(t,["categories"],n);const r=F(e,["safetyAttributes","scores"]);r!=null&&M(t,["scores"],r);const i=F(e,["contentType"]);return i!=null&&M(t,["contentType"],i),t}function fre(e){const t={},n=F(e,["safetyAttributes","categories"]);n!=null&&M(t,["categories"],n);const r=F(e,["safetyAttributes","scores"]);r!=null&&M(t,["scores"],r);const i=F(e,["contentType"]);return i!=null&&M(t,["contentType"],i),t}function qYe(e){const t={},n=F(e,["category"]);if(n!=null&&M(t,["category"],n),F(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=F(e,["threshold"]);return r!=null&&M(t,["threshold"],r),t}function $Ye(e){const t={},n=F(e,["image"]);return n!=null&&M(t,["image"],Rd(n)),t}function YYe(e,t){const n={},r=F(e,["mode"]);t!==void 0&&r!=null&&M(t,["parameters","mode"],r);const i=F(e,["maxPredictions"]);t!==void 0&&i!=null&&M(t,["parameters","maxPredictions"],i);const s=F(e,["confidenceThreshold"]);t!==void 0&&s!=null&&M(t,["parameters","confidenceThreshold"],s);const a=F(e,["maskDilation"]);t!==void 0&&a!=null&&M(t,["parameters","maskDilation"],a);const o=F(e,["binaryColorThreshold"]);t!==void 0&&o!=null&&M(t,["parameters","binaryColorThreshold"],o);const l=F(e,["labels"]);return t!==void 0&&l!=null&&M(t,["labels"],l),n}function XYe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["source"]);i!=null&&ZYe(i,n);const s=F(t,["config"]);return s!=null&&YYe(s,n),n}function JYe(e){const t={},n=F(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CYe(i))),M(t,["generatedMasks"],r)}return t}function ZYe(e,t){const n={},r=F(e,["prompt"]);t!==void 0&&r!=null&&M(t,["instances[0]","prompt"],r);const i=F(e,["image"]);t!==void 0&&i!=null&&M(t,["instances[0]","image"],Rd(i));const s=F(e,["scribbleImage"]);return t!==void 0&&s!=null&&M(t,["instances[0]","scribble"],$Ye(s)),n}function eXe(e){const t={},n=F(e,["functionCallingConfig"]);n!=null&&M(t,["functionCallingConfig"],nYe(n));const r=F(e,["retrievalConfig"]);return r!=null&&M(t,["retrievalConfig"],r),t}function tXe(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),M(t,["functionDeclarations"],d)}if(F(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearchRetrieval"]);r!=null&&M(t,["googleSearchRetrieval"],r);const i=F(e,["computerUse"]);i!=null&&M(t,["computerUse"],i);const s=F(e,["fileSearch"]);s!=null&&M(t,["fileSearch"],s);const a=F(e,["codeExecution"]);if(a!=null&&M(t,["codeExecution"],a),F(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=F(e,["googleMaps"]);o!=null&&M(t,["googleMaps"],FYe(o));const l=F(e,["googleSearch"]);l!=null&&M(t,["googleSearch"],kYe(l));const c=F(e,["urlContext"]);return c!=null&&M(t,["urlContext"],c),t}function Are(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>rYe(p))),M(t,["functionDeclarations"],f)}const r=F(e,["retrieval"]);r!=null&&M(t,["retrieval"],r);const i=F(e,["googleSearchRetrieval"]);i!=null&&M(t,["googleSearchRetrieval"],i);const s=F(e,["computerUse"]);if(s!=null&&M(t,["computerUse"],s),F(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=F(e,["codeExecution"]);a!=null&&M(t,["codeExecution"],a);const o=F(e,["enterpriseWebSearch"]);o!=null&&M(t,["enterpriseWebSearch"],o);const l=F(e,["googleMaps"]);l!=null&&M(t,["googleMaps"],l);const c=F(e,["googleSearch"]);c!=null&&M(t,["googleSearch"],c);const d=F(e,["urlContext"]);return d!=null&&M(t,["urlContext"],d),t}function nXe(e){const t={},n=F(e,["baseModel"]);n!=null&&M(t,["baseModel"],n);const r=F(e,["createTime"]);r!=null&&M(t,["createTime"],r);const i=F(e,["updateTime"]);return i!=null&&M(t,["updateTime"],i),t}function rXe(e){const t={},n=F(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&M(t,["baseModel"],n);const r=F(e,["createTime"]);r!=null&&M(t,["createTime"],r);const i=F(e,["updateTime"]);return i!=null&&M(t,["updateTime"],i),t}function iXe(e,t){const n={},r=F(e,["displayName"]);t!==void 0&&r!=null&&M(t,["displayName"],r);const i=F(e,["description"]);t!==void 0&&i!=null&&M(t,["description"],i);const s=F(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&M(t,["defaultCheckpointId"],s),n}function sXe(e,t){const n={},r=F(e,["displayName"]);t!==void 0&&r!=null&&M(t,["displayName"],r);const i=F(e,["description"]);t!==void 0&&i!=null&&M(t,["description"],i);const s=F(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&M(t,["defaultCheckpointId"],s),n}function aXe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","name"],Wi(e,r));const i=F(t,["config"]);return i!=null&&iXe(i,n),n}function oXe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["config"]);return i!=null&&sXe(i,n),n}function lXe(e,t){const n={},r=F(e,["outputGcsUri"]);t!==void 0&&r!=null&&M(t,["parameters","storageUri"],r);const i=F(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&M(t,["parameters","safetySetting"],i);const s=F(e,["personGeneration"]);t!==void 0&&s!=null&&M(t,["parameters","personGeneration"],s);const a=F(e,["includeRaiReason"]);t!==void 0&&a!=null&&M(t,["parameters","includeRaiReason"],a);const o=F(e,["outputMimeType"]);t!==void 0&&o!=null&&M(t,["parameters","outputOptions","mimeType"],o);const l=F(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&M(t,["parameters","outputOptions","compressionQuality"],l);const c=F(e,["enhanceInputImage"]);t!==void 0&&c!=null&&M(t,["parameters","upscaleConfig","enhanceInputImage"],c);const d=F(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&M(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=F(e,["labels"]);t!==void 0&&f!=null&&M(t,["labels"],f);const p=F(e,["numberOfImages"]);t!==void 0&&p!=null&&M(t,["parameters","sampleCount"],p);const m=F(e,["mode"]);return t!==void 0&&m!=null&&M(t,["parameters","mode"],m),n}function cXe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["_url","model"],Wi(e,r));const i=F(t,["image"]);i!=null&&M(n,["instances[0]","image"],Rd(i));const s=F(t,["upscaleFactor"]);s!=null&&M(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=F(t,["config"]);return a!=null&&lXe(a,n),n}function uXe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>pN(s))),M(t,["generatedImages"],i)}return t}function dXe(e){const t={},n=F(e,["uri"]);n!=null&&M(t,["uri"],n);const r=F(e,["encodedVideo"]);r!=null&&M(t,["videoBytes"],v0(r));const i=F(e,["encoding"]);return i!=null&&M(t,["mimeType"],i),t}function hXe(e){const t={},n=F(e,["gcsUri"]);n!=null&&M(t,["uri"],n);const r=F(e,["bytesBase64Encoded"]);r!=null&&M(t,["videoBytes"],v0(r));const i=F(e,["mimeType"]);return i!=null&&M(t,["mimeType"],i),t}function fXe(e){const t={},n=F(e,["image"]);n!=null&&M(t,["_self"],Rd(n));const r=F(e,["maskMode"]);return r!=null&&M(t,["maskMode"],r),t}function AXe(e){const t={},n=F(e,["image"]);n!=null&&M(t,["image"],gN(n));const r=F(e,["referenceType"]);return r!=null&&M(t,["referenceType"],r),t}function pXe(e){const t={},n=F(e,["image"]);n!=null&&M(t,["image"],Rd(n));const r=F(e,["referenceType"]);return r!=null&&M(t,["referenceType"],r),t}function pre(e){const t={},n=F(e,["uri"]);n!=null&&M(t,["uri"],n);const r=F(e,["videoBytes"]);r!=null&&M(t,["encodedVideo"],v0(r));const i=F(e,["mimeType"]);return i!=null&&M(t,["encoding"],i),t}function gre(e){const t={},n=F(e,["uri"]);n!=null&&M(t,["gcsUri"],n);const r=F(e,["videoBytes"]);r!=null&&M(t,["bytesBase64Encoded"],v0(r));const i=F(e,["mimeType"]);return i!=null&&M(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gXe(e,t){const n={},r=F(e,["displayName"]);return t!==void 0&&r!=null&&M(t,["displayName"],r),n}function mXe(e){const t={},n=F(e,["config"]);return n!=null&&gXe(n,t),t}function xXe(e,t){const n={},r=F(e,["force"]);return t!==void 0&&r!=null&&M(t,["_query","force"],r),n}function vXe(e){const t={},n=F(e,["name"]);n!=null&&M(t,["_url","name"],n);const r=F(e,["config"]);return r!=null&&xXe(r,t),t}function wXe(e){const t={},n=F(e,["name"]);return n!=null&&M(t,["_url","name"],n),t}function bXe(e,t){const n={},r=F(e,["customMetadata"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["customMetadata"],s)}const i=F(e,["chunkingConfig"]);return t!==void 0&&i!=null&&M(t,["chunkingConfig"],i),n}function yXe(e){const t={},n=F(e,["name"]);n!=null&&M(t,["name"],n);const r=F(e,["metadata"]);r!=null&&M(t,["metadata"],r);const i=F(e,["done"]);i!=null&&M(t,["done"],i);const s=F(e,["error"]);s!=null&&M(t,["error"],s);const a=F(e,["response"]);return a!=null&&M(t,["response"],SXe(a)),t}function CXe(e){const t={},n=F(e,["fileSearchStoreName"]);n!=null&&M(t,["_url","file_search_store_name"],n);const r=F(e,["fileName"]);r!=null&&M(t,["fileName"],r);const i=F(e,["config"]);return i!=null&&bXe(i,t),t}function SXe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["parent"]);r!=null&&M(t,["parent"],r);const i=F(e,["documentName"]);return i!=null&&M(t,["documentName"],i),t}function EXe(e,t){const n={},r=F(e,["pageSize"]);t!==void 0&&r!=null&&M(t,["_query","pageSize"],r);const i=F(e,["pageToken"]);return t!==void 0&&i!=null&&M(t,["_query","pageToken"],i),n}function NXe(e){const t={},n=F(e,["config"]);return n!=null&&EXe(n,t),t}function TXe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["fileSearchStores"],s)}return t}function mre(e,t){const n={},r=F(e,["mimeType"]);t!==void 0&&r!=null&&M(t,["mimeType"],r);const i=F(e,["displayName"]);t!==void 0&&i!=null&&M(t,["displayName"],i);const s=F(e,["customMetadata"]);if(t!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),M(t,["customMetadata"],o)}const a=F(e,["chunkingConfig"]);return t!==void 0&&a!=null&&M(t,["chunkingConfig"],a),n}function IXe(e){const t={},n=F(e,["fileSearchStoreName"]);n!=null&&M(t,["_url","file_search_store_name"],n);const r=F(e,["config"]);return r!=null&&mre(r,t),t}function FXe(e){const t={},n=F(e,["sdkHttpResponse"]);return n!=null&&M(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kXe="Content-Type",BXe="X-Server-Timeout",RXe="User-Agent",VB="x-goog-api-client",_Xe="1.34.0",DXe=`google-genai-sdk/${_Xe}`,PXe="v1beta1",MXe="v1beta";class LXe{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:PXe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:MXe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,o]of Object.entries(t.queryParams))i.searchParams.append(a,String(o));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),t.abortSignal),this.unaryApiCall(i,s,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),t.abortSignal),this.streamApiCall(i,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const s=new AbortController,a=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>s.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),t.signal=a}return n&&n.extraBody!==null&&OXe(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await WQ(i),new OB(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await WQ(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return wd(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const o="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:d}=yield Qr(i.read());if(c){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(d,{stream:!0});try{const w=JSON.parse(f);if("error"in w){const y=JSON.parse(JSON.stringify(w.error)),C=y.status,T=y.code,k=`got status: ${C}. ${JSON.stringify(w)}`;if(T>=400&&T<600)throw new fN({message:k,status:T})}}catch(w){if(w.name==="ApiError")throw w}a+=f;let p=-1,m=0;for(;;){p=-1,m=0;for(const C of l){const T=a.indexOf(C);T!==-1&&(p===-1||T<p)&&(p=T,m=C.length)}if(p===-1)break;const w=a.substring(0,p);a=a.substring(p+m);const y=w.trim();if(y.startsWith(o)){const C=y.substring(o.length).trim();try{const T=new Response(C,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Qr(new OB(T))}catch(T){throw new Error(`exception parsing stream chunk ${C}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=DXe+" "+this.clientOptions.userAgentExtra;return t[RXe]=n,t[VB]=n,t[kXe]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,s]of Object.entries(t.headers))r.append(i,s);t.timeout&&t.timeout>0&&r.append(BXe,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(t);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},c=this.getFileName(t),d=$n("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,c,l,n==null?void 0:n.httpOptions);return s.upload(t,f,this)}async uploadFileToFileSearchStore(t,n,r){var i;const s=this.clientOptions.uploader,a=await s.stat(n),o=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&mre(r,f);const p=await this.fetchUploadUrl(c,o,l,d,f,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function WQ(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new fN({message:i,status:n}):new Error(i)}}function OXe(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],d=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=r(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jXe="mcp_used/unknown";let UXe=!1;function xre(e){for(const t of e)if(HXe(t)||typeof t=="object"&&"inputSchema"in t)return!0;return UXe}function vre(e){var t;const n=(t=e[VB])!==null&&t!==void 0?t:"";e[VB]=(n+` ${jXe}`).trimStart()}function HXe(e){return e!==null&&typeof e=="object"&&e instanceof kP}function GXe(e){return wd(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const a=yield Qr(n.listTools({cursor:i}));for(const o of a.tools)yield yield Qr(o),s++;if(!a.nextCursor)break;i=a.nextCursor}})}class kP{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new kP(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(n=void 0,bd(GXe(d))),c;c=await l.next(),t=c.done,!t;o=!0){i=c.value,o=!1;const f=i;a.push(f);const p=f.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=d}}catch(f){n={error:f}}finally{try{!o&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),wKe(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VXe(e,t,n){const r=new hKe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class QXe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=KXe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const d=new Promise(R=>{c=R}),f=t.callbacks,p=function(){c({})},m=this.apiClient,w={onopen:p,onmessage:R=>{VXe(m,f.onmessage,R)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(R){}},y=this.webSocketFactory.create(l,WXe(a),w);y.connect(),await d;const k={setup:{model:Wi(this.apiClient,t.model)}};return y.send(JSON.stringify(k)),new zXe(y,this.apiClient)}}class zXe{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=m$e(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=g$e(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(km.PLAY)}pause(){this.sendPlaybackControl(km.PAUSE)}stop(){this.sendPlaybackControl(km.STOP)}resetContext(){this.sendPlaybackControl(km.RESET_CONTEXT)}close(){this.conn.close()}}function WXe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function KXe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qXe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $Xe(e,t,n){const r=new dKe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(e.isVertexAI()){const a=w$e(s);Object.assign(r,a)}else Object.assign(r,s);t(r)}class YXe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new QXe(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,s,a,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();t.config&&t.config.tools&&xre(t.config.tools)&&vre(f);const p=eJe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const j=this.apiClient.getApiKey();let te="BidiGenerateContent",G="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",G="access_token"),d=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${te}?${G}=${j}`}let m=()=>{};const w=new Promise(j=>{m=j}),y=t.callbacks,C=function(){var j;(j=y==null?void 0:y.onopen)===null||j===void 0||j.call(y),m({})},T=this.apiClient,k={onopen:C,onmessage:j=>{$Xe(T,y.onmessage,j)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(j){}},R=this.webSocketFactory.create(d,ZXe(p),k);R.connect(),await w;let P=Wi(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const j=this.apiClient.getProject(),te=this.apiClient.getLocation();P=`projects/${j}/locations/${te}/`+P}let U={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bE.AUDIO]}:t.config.responseModalities=[bE.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],L=[];for(const j of O)if(this.isCallableTool(j)){const te=j;L.push(await te.tool())}else L.push(j);L.length>0&&(t.config.tools=L);const K={model:P,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?U=p$e(this.apiClient,K):U=A$e(this.apiClient,K),delete U.config,R.send(JSON.stringify(U)),new JXe(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const XXe={turnComplete:!0};class JXe{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_u(n.turns),t.isVertexAI()||(r=r.map(i=>AN(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(qXe)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},XXe),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:v$e(t)}:n={realtimeInput:x$e(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ZXe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function eJe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KQ=10;function qQ(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(s1(a)){i=!0;break}if(!i)return!0;const s=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function s1(e){return"callTool"in e&&typeof e.callTool=="function"}function tJe(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>s1(i)))!==null&&r!==void 0?r:!1}function $Q(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(s1(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function YQ(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nJe extends Kf{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tJe(n)||qQ(n.config))return await this.generateContentInternal(l);const c=$Q(n);if(c.length>0){const y=c.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const p=_u(l.contents),m=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:KQ;let w=0;for(;w<m&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,C=[];for(const T of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(s1(T)){const R=await T.callTool(d.functionCalls);C.push(...R)}w++,f={role:"user",parts:C},l.contents=_u(l.contents),l.contents.push(y),l.contents.push(f),YQ(l.config)&&(p.push(y),p.push(f))}return YQ(l.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(n),qQ(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=$Q(n);if(l.length>0){const f=l.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new lg(Df.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,a,o,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(s=n.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const a=await Promise.all(s.map(async l=>s1(l)?await l.tool():l)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(o.config.tools=a,t.config&&t.config.tools&&xre(t.config.tools)){const l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),vre(c),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(t){var n,r,i;const s=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(s1(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(t){var n,r,i;const s=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:KQ;let a=!1,o=0;const l=await this.initAfcToolsMap(t);return(function(c,d,f){return wd(this,arguments,function*(){for(var p,m,w,y,C,T;o<s;){a&&(o++,a=!1);const U=yield Qr(c.processParamsMaybeAddMcpUsage(f)),O=yield Qr(c.generateContentStreamInternal(U)),L=[],K=[];try{for(var k=!0,R=(m=void 0,bd(O)),P;P=yield Qr(R.next()),p=P.done,!p;k=!0){y=P.value,k=!1;const j=y;if(yield yield Qr(j),j.candidates&&(!((C=j.candidates[0])===null||C===void 0)&&C.content)){K.push(j.candidates[0].content);for(const te of(T=j.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(o<s&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(te.functionCall.name)){const G=yield Qr(d.get(te.functionCall.name).callTool([te.functionCall]));L.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(j){m={error:j}}finally{try{!k&&!p&&(w=R.return)&&(yield Qr(w.call(R)))}finally{if(m)throw m.error}}if(L.length>0){a=!0;const j=new iv;j.candidates=[{content:{role:"user",parts:L}}],yield yield Qr(j);const te=[];te.push(...K),te.push({role:"user",parts:L});const G=_u(f.contents).concat(te);f.contents=G}else break}})})(this,l,t)}async generateContentInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=VQ(this.apiClient,t);return o=$n("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=zQ(d),p=new iv;return Object.assign(p,f),p})}else{const c=GQ(this.apiClient,t);return o=$n("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=QQ(d),p=new iv;return Object.assign(p,f),p})}}async generateContentStreamInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=VQ(this.apiClient,t);return o=$n("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return wd(this,arguments,function*(){var p,m,w,y;try{for(var C=!0,T=bd(f),k;k=yield Qr(T.next()),p=k.done,!p;C=!0){y=k.value,C=!1;const R=y,P=zQ(yield Qr(R.json()));P.sdkHttpResponse={headers:R.headers};const U=new iv;Object.assign(U,P),yield yield Qr(U)}}catch(R){m={error:R}}finally{try{!C&&!p&&(w=T.return)&&(yield Qr(w.call(T)))}finally{if(m)throw m.error}}})})}else{const c=GQ(this.apiClient,t);return o=$n("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return wd(this,arguments,function*(){var p,m,w,y;try{for(var C=!0,T=bd(f),k;k=yield Qr(T.next()),p=k.done,!p;C=!0){y=k.value,C=!1;const R=y,P=QQ(yield Qr(R.json()));P.sdkHttpResponse={headers:R.headers};const U=new iv;Object.assign(U,P),yield yield Qr(U)}}catch(R){m={error:R}}finally{try{!C&&!p&&(w=T.return)&&(yield Qr(w.call(T)))}finally{if(m)throw m.error}}})})}}async embedContent(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Y$e(this.apiClient,t);return o=$n("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=J$e(d),p=new EQ;return Object.assign(p,f),p})}else{const c=$$e(this.apiClient,t);return o=$n("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=X$e(d),p=new EQ;return Object.assign(p,f),p})}}async generateImagesInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=cYe(this.apiClient,t);return o=$n("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=dYe(d),p=new NQ;return Object.assign(p,f),p})}else{const c=lYe(this.apiClient,t);return o=$n("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=uYe(d),p=new NQ;return Object.assign(p,f),p})}}async editImageInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=z$e(this.apiClient,t);return s=$n("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=W$e(l),d=new eKe;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=cXe(this.apiClient,t);return s=$n("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=uXe(l),d=new tKe;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=QYe(this.apiClient,t);return s=$n("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=zYe(l),d=new nKe;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=XYe(this.apiClient,t);return s=$n("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=JYe(l),d=new rKe;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=IYe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>GB(d))}else{const c=TYe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>HB(d))}}async listInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=LYe(this.apiClient,t);return o=$n("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=jYe(d),p=new TQ;return Object.assign(p,f),p})}else{const c=MYe(this.apiClient,t);return o=$n("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=OYe(d),p=new TQ;return Object.assign(p,f),p})}}async update(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=oXe(this.apiClient,t);return o=$n("{model}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>GB(d))}else{const c=aXe(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>HB(d))}}async delete(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=H$e(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=V$e(d),p=new IQ;return Object.assign(p,f),p})}else{const c=U$e(this.apiClient,t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=G$e(d),p=new IQ;return Object.assign(p,f),p})}}async countTokens(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=L$e(this.apiClient,t);return o=$n("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=j$e(d),p=new FQ;return Object.assign(p,f),p})}else{const c=M$e(this.apiClient,t);return o=$n("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=O$e(d),p=new FQ;return Object.assign(p,f),p})}}async computeTokens(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=F$e(this.apiClient,t);return s=$n("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const c=k$e(l),d=new iKe;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=mYe(this.apiClient,t);return o=$n("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=pYe(d),p=new yE;return Object.assign(p,f),p})}else{const c=gYe(this.apiClient,t);return o=$n("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const f=AYe(d),p=new yE;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rJe extends Kf{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=qWe(t);return o=$n("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const c=KWe(t);return o=$n("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=UWe(t);return s=$n("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iJe(e){const t={},n=F(e,["data"]);if(n!=null&&M(t,["data"],n),F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function sJe(e){const t={},n=F(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>AJe(s))),M(t,["parts"],i)}const r=F(e,["role"]);return r!=null&&M(t,["role"],r),t}function aJe(e,t,n){const r={},i=F(t,["expireTime"]);n!==void 0&&i!=null&&M(n,["expireTime"],i);const s=F(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&M(n,["newSessionExpireTime"],s);const a=F(t,["uses"]);n!==void 0&&a!=null&&M(n,["uses"],a);const o=F(t,["liveConnectConstraints"]);n!==void 0&&o!=null&&M(n,["bidiGenerateContentSetup"],fJe(e,o));const l=F(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&M(n,["fieldMask"],l),r}function oJe(e,t){const n={},r=F(t,["config"]);return r!=null&&M(n,["config"],aJe(e,r,n)),n}function lJe(e){const t={};if(F(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);n!=null&&M(t,["fileUri"],n);const r=F(e,["mimeType"]);return r!=null&&M(t,["mimeType"],r),t}function cJe(e){const t={},n=F(e,["id"]);n!=null&&M(t,["id"],n);const r=F(e,["args"]);r!=null&&M(t,["args"],r);const i=F(e,["name"]);if(i!=null&&M(t,["name"],i),F(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(F(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uJe(e){const t={};if(F(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);return n!=null&&M(t,["enableWidget"],n),t}function dJe(e){const t={};if(F(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(F(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=F(e,["timeRangeFilter"]);return n!=null&&M(t,["timeRangeFilter"],n),t}function hJe(e,t){const n={},r=F(e,["generationConfig"]);t!==void 0&&r!=null&&M(t,["setup","generationConfig"],r);const i=F(e,["responseModalities"]);t!==void 0&&i!=null&&M(t,["setup","generationConfig","responseModalities"],i);const s=F(e,["temperature"]);t!==void 0&&s!=null&&M(t,["setup","generationConfig","temperature"],s);const a=F(e,["topP"]);t!==void 0&&a!=null&&M(t,["setup","generationConfig","topP"],a);const o=F(e,["topK"]);t!==void 0&&o!=null&&M(t,["setup","generationConfig","topK"],o);const l=F(e,["maxOutputTokens"]);t!==void 0&&l!=null&&M(t,["setup","generationConfig","maxOutputTokens"],l);const c=F(e,["mediaResolution"]);t!==void 0&&c!=null&&M(t,["setup","generationConfig","mediaResolution"],c);const d=F(e,["seed"]);t!==void 0&&d!=null&&M(t,["setup","generationConfig","seed"],d);const f=F(e,["speechConfig"]);t!==void 0&&f!=null&&M(t,["setup","generationConfig","speechConfig"],FP(f));const p=F(e,["thinkingConfig"]);t!==void 0&&p!=null&&M(t,["setup","generationConfig","thinkingConfig"],p);const m=F(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&M(t,["setup","generationConfig","enableAffectiveDialog"],m);const w=F(e,["systemInstruction"]);t!==void 0&&w!=null&&M(t,["setup","systemInstruction"],sJe(Nl(w)));const y=F(e,["tools"]);if(t!==void 0&&y!=null){let O=Z1(y);Array.isArray(O)&&(O=O.map(L=>gJe(J1(L)))),M(t,["setup","tools"],O)}const C=F(e,["sessionResumption"]);t!==void 0&&C!=null&&M(t,["setup","sessionResumption"],pJe(C));const T=F(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&M(t,["setup","inputAudioTranscription"],T);const k=F(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&M(t,["setup","outputAudioTranscription"],k);const R=F(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&M(t,["setup","realtimeInputConfig"],R);const P=F(e,["contextWindowCompression"]);t!==void 0&&P!=null&&M(t,["setup","contextWindowCompression"],P);const U=F(e,["proactivity"]);if(t!==void 0&&U!=null&&M(t,["setup","proactivity"],U),F(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fJe(e,t){const n={},r=F(t,["model"]);r!=null&&M(n,["setup","model"],Wi(e,r));const i=F(t,["config"]);return i!=null&&M(n,["config"],hJe(i,n)),n}function AJe(e){const t={},n=F(e,["mediaResolution"]);n!=null&&M(t,["mediaResolution"],n);const r=F(e,["codeExecutionResult"]);r!=null&&M(t,["codeExecutionResult"],r);const i=F(e,["executableCode"]);i!=null&&M(t,["executableCode"],i);const s=F(e,["fileData"]);s!=null&&M(t,["fileData"],lJe(s));const a=F(e,["functionCall"]);a!=null&&M(t,["functionCall"],cJe(a));const o=F(e,["functionResponse"]);o!=null&&M(t,["functionResponse"],o);const l=F(e,["inlineData"]);l!=null&&M(t,["inlineData"],iJe(l));const c=F(e,["text"]);c!=null&&M(t,["text"],c);const d=F(e,["thought"]);d!=null&&M(t,["thought"],d);const f=F(e,["thoughtSignature"]);f!=null&&M(t,["thoughtSignature"],f);const p=F(e,["videoMetadata"]);return p!=null&&M(t,["videoMetadata"],p),t}function pJe(e){const t={},n=F(e,["handle"]);if(n!=null&&M(t,["handle"],n),F(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function gJe(e){const t={},n=F(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),M(t,["functionDeclarations"],d)}if(F(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearchRetrieval"]);r!=null&&M(t,["googleSearchRetrieval"],r);const i=F(e,["computerUse"]);i!=null&&M(t,["computerUse"],i);const s=F(e,["fileSearch"]);s!=null&&M(t,["fileSearch"],s);const a=F(e,["codeExecution"]);if(a!=null&&M(t,["codeExecution"],a),F(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=F(e,["googleMaps"]);o!=null&&M(t,["googleMaps"],uJe(o));const l=F(e,["googleSearch"]);l!=null&&M(t,["googleSearch"],dJe(l));const c=F(e,["urlContext"]);return c!=null&&M(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mJe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);t.push(...i)}else t.push(n)}return t.join(",")}function xJe(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const s=mJe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class vJe extends Kf{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=oJe(this.apiClient,t);s=$n("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=xJe(o,t.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wJe(e,t){const n={},r=F(e,["force"]);return t!==void 0&&r!=null&&M(t,["_query","force"],r),n}function bJe(e){const t={},n=F(e,["name"]);n!=null&&M(t,["_url","name"],n);const r=F(e,["config"]);return r!=null&&wJe(r,t),t}function yJe(e){const t={},n=F(e,["name"]);return n!=null&&M(t,["_url","name"],n),t}function CJe(e,t){const n={},r=F(e,["pageSize"]);t!==void 0&&r!=null&&M(t,["_query","pageSize"],r);const i=F(e,["pageToken"]);return t!==void 0&&i!=null&&M(t,["_query","pageToken"],i),n}function SJe(e){const t={},n=F(e,["parent"]);n!=null&&M(t,["_url","parent"],n);const r=F(e,["config"]);return r!=null&&CJe(r,t),t}function EJe(e){const t={},n=F(e,["sdkHttpResponse"]);n!=null&&M(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);r!=null&&M(t,["nextPageToken"],r);const i=F(e,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),M(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NJe extends Kf{constructor(t){super(),this.apiClient=t,this.list=async n=>new lg(Df.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yJe(t);return s=$n("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bJe(t);i=$n("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=SJe(t);return s=$n("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=EJe(l),d=new sKe;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TJe extends Kf{constructor(t,n=new NJe(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new lg(Df.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mXe(t);return s=$n("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wXe(t);return s=$n("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vXe(t);i=$n("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=NXe(t);return s=$n("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=TXe(l),d=new aKe;return Object.assign(d,c),d})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=IXe(t);return s=$n("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=FXe(l),d=new oKe;return Object.assign(d,c),d})}}async importFile(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=CXe(t);return s=$n("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=yXe(l),d=new SP;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wre=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return wre=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const IJe=()=>wre();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QB(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const zB=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gu extends Error{}class Jl extends Gu{constructor(t,n,r,i){super(`${Jl.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new mN({message:r,cause:zB(n)});const s=n;return t===400?new yre(t,s,r,i):t===401?new Cre(t,s,r,i):t===403?new Sre(t,s,r,i):t===404?new Ere(t,s,r,i):t===409?new Nre(t,s,r,i):t===422?new Tre(t,s,r,i):t===429?new Ire(t,s,r,i):t>=500?new Fre(t,s,r,i):new Jl(t,s,r,i)}}class WB extends Jl{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class mN extends Jl{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class bre extends mN{constructor({message:t}={}){super({message:t??"Request timed out."})}}class yre extends Jl{}class Cre extends Jl{}class Sre extends Jl{}class Ere extends Jl{}class Nre extends Jl{}class Tre extends Jl{}class Ire extends Jl{}class Fre extends Jl{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FJe=/^[a-z][a-z0-9+.-]*:/i,kJe=e=>FJe.test(e);let KB=e=>(KB=Array.isArray,KB(e));const BJe=KB;let RJe=BJe;const XQ=RJe;function _Je(e){if(!e)return!0;for(const t in e)return!1;return!0}function DJe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const PJe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Gu(`${e} must be an integer`);if(t<0)throw new Gu(`${e} must be a positive integer`);return t},MJe=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LJe=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pm="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OJe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const jJe=()=>{var e,t,n,r,i;const s=OJe();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pm,"X-Stainless-OS":ZQ(Deno.build.os),"X-Stainless-Arch":JQ(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pm,"X-Stainless-OS":ZQ((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":JQ((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=UJe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":pm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function UJe(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const JQ=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",ZQ=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let RC;const HJe=()=>RC??(RC=jJe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GJe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function kre(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function VJe(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return kre({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Bre(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function QJe(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zJe=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rre=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function qF(e,t,n){return Rre(),new File(e,t??"unknown_file",n)}function WJe(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const KJe=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _re=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",qJe=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&_re(e),$Je=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function YJe(e,t,n){if(Rre(),e=await e,qJe(e))return e instanceof File?e:qF([await e.arrayBuffer()],e.name);if($Je(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),qF(await qB(i),t,n)}const r=await qB(e);if(t||(t=WJe(e)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return qF(r,t,n)}async function qB(e){var t,n,r,i,s;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(_re(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(KJe(e))try{for(var o=!0,l=bd(e),c;c=await l.next(),t=c.done,!t;o=!0){i=c.value,o=!1;const d=i;a.push(...await qB(d))}}catch(d){n={error:d}}finally{try{!o&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${XJe(e)}`)}return a}function XJe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dre{constructor(t){this._client=t}}Dre._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pre(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ez=Object.freeze(Object.create(null)),JJe=(e=Pre)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],a=n.reduce((d,f,p)=>{var m,w,y;/[?#]/.test(f)&&(i=!0);const C=r[p];let T=(i?encodeURIComponent:e)(""+C);return p!==r.length&&(C==null||typeof C=="object"&&C.toString===((y=Object.getPrototypeOf((w=Object.getPrototypeOf((m=C.hasOwnProperty)!==null&&m!==void 0?m:ez))!==null&&w!==void 0?w:ez))===null||y===void 0?void 0:y.toString))&&(T=C+"",s.push({start:d.length+f.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),d+f+(p===r.length?"":T)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((d,f)=>d.start-f.start),s.length>0){let d=0;const f=s.reduce((p,m)=>{const w=" ".repeat(m.start-d),y="^".repeat(m.length);return d=m.start+m.length,p+w+y},"");throw new Gu(`Path parameters result in path with invalid segments:
${s.map(p=>p.error).join(`
`)}
${a}
${f}`)}return a}),_C=JJe(Pre);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mre extends Dre{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,s=SE(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new Gu("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Gu("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_C`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(_C`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(_C`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const s=n??{},{api_version:a=this._client.apiVersion}=s,o=SE(s,["api_version"]);return this._client.get(_C`/${a}/interactions/${t}`,Object.assign(Object.assign({query:o},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Mre._key=Object.freeze(["interactions"]);class Lre extends Mre{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZJe(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let DC;function BP(e){let t;return(DC??(t=new globalThis.TextEncoder,DC=t.encode.bind(t)))(e)}let PC;function tz(e){let t;return(PC??(t=new globalThis.TextDecoder,PC=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xN{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?BP(t):t;this.buffer=ZJe([this.buffer,n]);const r=[];let i;for(;(i=eZe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(tz(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=tz(this.buffer.subarray(0,s));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}xN.NEWLINE_CHARS=new Set([`
`,"\r"]);xN.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eZe(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tZe(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EE={off:0,error:200,warn:300,info:400,debug:500},nz=(e,t,n)=>{if(e){if(DJe(EE,e))return e;Hl(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(EE))}`)}};function xv(){}function MC(e,t,n){return!t||EE[e]>EE[n]?xv:t[e].bind(t)}const nZe={error:xv,warn:xv,info:xv,debug:xv};let rz=new WeakMap;function Hl(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return nZe;const i=rz.get(n);if(i&&i[0]===r)return i[1];const s={error:MC("error",n,r),warn:MC("warn",n,r),info:MC("info",n,r),debug:MC("debug",n,r)};return rz.set(n,[r,s]),s}const Q0=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bm{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const s=r?Hl(r):console;function a(){return wd(this,arguments,function*(){var l,c,d,f;if(i)throw new Gu("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var m=!0,w=bd(rZe(t,n)),y;y=yield Qr(w.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const C=f;if(!p)if(C.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield Qr(JSON.parse(C.data))}catch(T){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),T}}}catch(C){c={error:C}}finally{try{!m&&!l&&(d=w.return)&&(yield Qr(d.call(w)))}finally{if(c)throw c.error}}p=!0}catch(C){if(QB(C))return yield Qr(void 0);throw C}finally{p||n.abort()}})}return new Bm(a,n,r)}static fromReadableStream(t,n,r){let i=!1;function s(){return wd(this,arguments,function*(){var l,c,d,f;const p=new xN,m=Bre(t);try{for(var w=!0,y=bd(m),C;C=yield Qr(y.next()),l=C.done,!l;w=!0){f=C.value,w=!1;const T=f;for(const k of p.decode(T))yield yield Qr(k)}}catch(T){c={error:T}}finally{try{!w&&!l&&(d=y.return)&&(yield Qr(d.call(y)))}finally{if(c)throw c.error}}for(const T of p.flush())yield yield Qr(T)})}function a(){return wd(this,arguments,function*(){var l,c,d,f;if(i)throw new Gu("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var m=!0,w=bd(s()),y;y=yield Qr(w.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const C=f;p||C&&(yield yield Qr(JSON.parse(C)))}}catch(C){c={error:C}}finally{try{!m&&!l&&(d=w.return)&&(yield Qr(d.call(w)))}finally{if(c)throw c.error}}p=!0}catch(C){if(QB(C))return yield Qr(void 0);throw C}finally{p||n.abort()}})}return new Bm(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();t.push(a),n.push(a)}return s.shift()}});return[new Bm(()=>i(t),this.controller,this.client),new Bm(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return kre({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const a=BP(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function rZe(e,t){return wd(this,arguments,function*(){var r,i,s,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Gu("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Gu("Attempted to iterate over a response with no body");const o=new sZe,l=new xN,c=Bre(e.body);try{for(var d=!0,f=bd(iZe(c)),p;p=yield Qr(f.next()),r=p.done,!r;d=!0){a=p.value,d=!1;const m=a;for(const w of l.decode(m)){const y=o.decode(w);y&&(yield yield Qr(y))}}}catch(m){i={error:m}}finally{try{!d&&!r&&(s=f.return)&&(yield Qr(s.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const w=o.decode(m);w&&(yield yield Qr(w))}})}function iZe(e){return wd(this,arguments,function*(){var n,r,i,s;let a=new Uint8Array;try{for(var o=!0,l=bd(e),c;c=yield Qr(l.next()),n=c.done,!n;o=!0){s=c.value,o=!1;const d=s;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?BP(d):d;let p=new Uint8Array(a.length+f.length);p.set(a),p.set(f,a.length),a=p;let m;for(;(m=tZe(a))!==-1;)yield yield Qr(a.slice(0,m)),a=a.slice(m)}}catch(d){r={error:d}}finally{try{!o&&!n&&(i=l.return)&&(yield Qr(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield Qr(a))})}class sZe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=aZe(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function aZe(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oZe(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=t,a=await(async()=>{var o;if(t.options.stream)return Hl(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Bm.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),c=(o=l==null?void 0:l.split(";")[0])===null||o===void 0?void 0:o.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return Hl(e).debug(`[${r}] response parsed`,Q0({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-s})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RP extends Promise{constructor(t,n,r=oZe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new RP(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ore=Symbol("brand.privateNullableHeaders");function*lZe(e){if(!e)return;if(Ore in e){const{values:r,nulls:i}=e;yield*r.entries();for(const s of i)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():XQ(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=XQ(r[1])?r[1]:[r[1]];let a=!1;for(const o of s)o!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const sv=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[s,a]of lZe(r)){const o=s.toLowerCase();i.has(o)||(t.delete(s),i.add(o)),a===null?(t.delete(s),n.add(o)):(t.append(s,a),n.delete(o))}}return{[Ore]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $F=e=>{var t,n,r,i,s,a;if(typeof globalThis.process<"u")return(r=(n=(t=DWe)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jre;class vN{constructor(t){var n,r,i,s,a,o,l,{baseURL:c=$F("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=$F("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=t,p=SE(t,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:d,apiVersion:f},p),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:vN.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const w="warn";this.logLevel=w,this.logLevel=(a=(s=nz(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:nz($F("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:w,this.fetchOptions=m.fetchOptions,this.maxRetries=(o=m.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:GJe(),this.encoder=zJe,this._options=m,this.apiKey=d,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=sv([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return sv([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return sv([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Gu(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${pm}`}defaultIdempotencyKey(){return`stainless-node-retry-${IJe()}`}makeStatusError(t,n,r,i){return Jl.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=kJe(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return _Je(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new RP(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,s,a;const o=await t,l=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(o);const{req:c,url:d,timeout:f}=await this.buildRequest(o,{retryCount:l-n});await this.prepareRequest(c,{url:d,options:o});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,w=Date.now();if(Hl(this).debug(`[${p}] sending request`,Q0({retryOfRequestLogID:r,method:o.method,url:d,options:o,headers:c.headers})),!((s=o.signal)===null||s===void 0)&&s.aborted)throw new WB;const y=new AbortController,C=await this.fetchWithTimeout(d,c,f,y).catch(zB),T=Date.now();if(C instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((a=o.signal)===null||a===void 0)&&a.aborted)throw new WB;const P=QB(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Hl(this).info(`[${p}] connection ${P?"timed out":"failed"} - ${R}`),Hl(this).debug(`[${p}] connection ${P?"timed out":"failed"} (${R})`,Q0({retryOfRequestLogID:r,url:d,durationMs:T-w,message:C.message})),this.retryRequest(o,n,r??p);throw Hl(this).info(`[${p}] connection ${P?"timed out":"failed"} - error; no more retries left`),Hl(this).debug(`[${p}] connection ${P?"timed out":"failed"} (error; no more retries left)`,Q0({retryOfRequestLogID:r,url:d,durationMs:T-w,message:C.message})),P?new bre:new mN({cause:C})}const k=`[${p}${m}] ${c.method} ${d} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${T-w}ms`;if(!C.ok){const R=await this.shouldRetry(C);if(n&&R){const j=`retrying, ${n} attempts remaining`;return await QJe(C.body),Hl(this).info(`${k} - ${j}`),Hl(this).debug(`[${p}] response error (${j})`,Q0({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:T-w})),this.retryRequest(o,n,r??p,C.headers)}const P=R?"error; no more retries left":"error; not retryable";Hl(this).info(`${k} - ${P}`);const U=await C.text().catch(j=>zB(j).message),O=MJe(U),L=O?void 0:U;throw Hl(this).debug(`[${p}] response error (${P})`,Q0({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:L,durationMs:Date.now()-w})),this.makeStatusError(C.status,O,L,C.headers)}return Hl(this).info(k),Hl(this).debug(`[${p}] response start`,Q0({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:T-w})),{response:C,options:o,controller:y,requestLogID:p,retryOfRequestLogID:r,startTime:w}}async fetchWithTimeout(t,n,r,i){const s=n||{},{signal:a,method:o}=s,l=SE(s,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);o&&(f.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,f)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var s;let a;const o=i==null?void 0:i.get("retry-after-ms");if(o){const c=parseFloat(o);Number.isNaN(c)||(a=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,c)}return await LJe(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,s;const a=Object.assign({},t),{method:o,path:l,query:c,defaultBaseURL:d}=a,f=this.buildURL(l,c,d);"timeout"in a&&PJe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:p,body:m}=this.buildBody({options:a}),w=await this.buildHeaders({options:t,method:o,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:w},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=a.fetchOptions)!==null&&s!==void 0?s:{}),url:f,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let o=sv([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),HJe()),this._options.defaultHeaders,r,t.headers,a]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=sv([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:VJe(t)}:this.encoder({body:t,headers:r})}}vN.DEFAULT_TIMEOUT=6e4;class Go extends vN{constructor(){super(...arguments),this.interactions=new Lre(this)}}jre=Go;Go.GeminiNextGenAPIClient=jre;Go.GeminiNextGenAPIClientError=Gu;Go.APIError=Jl;Go.APIConnectionError=mN;Go.APIConnectionTimeoutError=bre;Go.APIUserAbortError=WB;Go.NotFoundError=Ere;Go.ConflictError=Nre;Go.RateLimitError=Ire;Go.BadRequestError=yre;Go.AuthenticationError=Cre;Go.InternalServerError=Fre;Go.PermissionDeniedError=Sre;Go.UnprocessableEntityError=Tre;Go.toFile=YJe;Go.Interactions=Lre;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cZe(e,t){const n={},r=F(e,["name"]);return r!=null&&M(n,["_url","name"],r),n}function uZe(e,t){const n={},r=F(e,["name"]);return r!=null&&M(n,["_url","name"],r),n}function dZe(e,t){const n={},r=F(e,["sdkHttpResponse"]);return r!=null&&M(n,["sdkHttpResponse"],r),n}function hZe(e,t){const n={},r=F(e,["sdkHttpResponse"]);return r!=null&&M(n,["sdkHttpResponse"],r),n}function fZe(e,t,n){const r={};if(F(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=F(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&M(t,["displayName"],i),F(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=F(e,["epochCount"]);t!==void 0&&s!=null&&M(t,["tuningTask","hyperparameters","epochCount"],s);const a=F(e,["learningRateMultiplier"]);if(a!=null&&M(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),F(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(F(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(F(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=F(e,["batchSize"]);t!==void 0&&o!=null&&M(t,["tuningTask","hyperparameters","batchSize"],o);const l=F(e,["learningRate"]);if(t!==void 0&&l!=null&&M(t,["tuningTask","hyperparameters","learningRate"],l),F(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(F(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function AZe(e,t,n){const r={};let i=F(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=F(e,["validationDataset"]);t!==void 0&&m!=null&&M(t,["supervisedTuningSpec"],iz(m))}else if(i==="PREFERENCE_TUNING"){const m=F(e,["validationDataset"]);t!==void 0&&m!=null&&M(t,["preferenceOptimizationSpec"],iz(m))}const s=F(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&M(t,["tunedModelDisplayName"],s);const a=F(e,["description"]);t!==void 0&&a!=null&&M(t,["description"],a);let o=F(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=F(e,["epochCount"]);t!==void 0&&m!=null&&M(t,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(o==="PREFERENCE_TUNING"){const m=F(e,["epochCount"]);t!==void 0&&m!=null&&M(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=F(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=F(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&M(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=F(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&M(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let c=F(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=F(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&M(t,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(c==="PREFERENCE_TUNING"){const m=F(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&M(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let d=F(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=F(e,["adapterSize"]);t!==void 0&&m!=null&&M(t,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(d==="PREFERENCE_TUNING"){const m=F(e,["adapterSize"]);t!==void 0&&m!=null&&M(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(F(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(F(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=F(e,["labels"]);t!==void 0&&f!=null&&M(t,["labels"],f);const p=F(e,["beta"]);return t!==void 0&&p!=null&&M(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),r}function pZe(e,t){const n={},r=F(e,["baseModel"]);r!=null&&M(n,["baseModel"],r);const i=F(e,["preTunedModel"]);i!=null&&M(n,["preTunedModel"],i);const s=F(e,["trainingDataset"]);s!=null&&NZe(s);const a=F(e,["config"]);return a!=null&&fZe(a,n),n}function gZe(e,t){const n={},r=F(e,["baseModel"]);r!=null&&M(n,["baseModel"],r);const i=F(e,["preTunedModel"]);i!=null&&M(n,["preTunedModel"],i);const s=F(e,["trainingDataset"]);s!=null&&TZe(s,n,t);const a=F(e,["config"]);return a!=null&&AZe(a,n,t),n}function mZe(e,t){const n={},r=F(e,["name"]);return r!=null&&M(n,["_url","name"],r),n}function xZe(e,t){const n={},r=F(e,["name"]);return r!=null&&M(n,["_url","name"],r),n}function vZe(e,t,n){const r={},i=F(e,["pageSize"]);t!==void 0&&i!=null&&M(t,["_query","pageSize"],i);const s=F(e,["pageToken"]);t!==void 0&&s!=null&&M(t,["_query","pageToken"],s);const a=F(e,["filter"]);return t!==void 0&&a!=null&&M(t,["_query","filter"],a),r}function wZe(e,t,n){const r={},i=F(e,["pageSize"]);t!==void 0&&i!=null&&M(t,["_query","pageSize"],i);const s=F(e,["pageToken"]);t!==void 0&&s!=null&&M(t,["_query","pageToken"],s);const a=F(e,["filter"]);return t!==void 0&&a!=null&&M(t,["_query","filter"],a),r}function bZe(e,t){const n={},r=F(e,["config"]);return r!=null&&vZe(r,n),n}function yZe(e,t){const n={},r=F(e,["config"]);return r!=null&&wZe(r,n),n}function CZe(e,t){const n={},r=F(e,["sdkHttpResponse"]);r!=null&&M(n,["sdkHttpResponse"],r);const i=F(e,["nextPageToken"]);i!=null&&M(n,["nextPageToken"],i);const s=F(e,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>Ure(o))),M(n,["tuningJobs"],a)}return n}function SZe(e,t){const n={},r=F(e,["sdkHttpResponse"]);r!=null&&M(n,["sdkHttpResponse"],r);const i=F(e,["nextPageToken"]);i!=null&&M(n,["nextPageToken"],i);const s=F(e,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>$B(o))),M(n,["tuningJobs"],a)}return n}function EZe(e,t){const n={},r=F(e,["name"]);r!=null&&M(n,["model"],r);const i=F(e,["name"]);return i!=null&&M(n,["endpoint"],i),n}function NZe(e,t){const n={};if(F(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(F(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=F(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),M(n,["examples","examples"],i)}return n}function TZe(e,t,n){const r={};let i=F(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=F(e,["gcsUri"]);t!==void 0&&a!=null&&M(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=F(e,["gcsUri"]);t!==void 0&&a!=null&&M(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=F(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=F(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&M(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=F(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&M(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(F(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Ure(e,t){const n={},r=F(e,["sdkHttpResponse"]);r!=null&&M(n,["sdkHttpResponse"],r);const i=F(e,["name"]);i!=null&&M(n,["name"],i);const s=F(e,["state"]);s!=null&&M(n,["state"],nre(s));const a=F(e,["createTime"]);a!=null&&M(n,["createTime"],a);const o=F(e,["tuningTask","startTime"]);o!=null&&M(n,["startTime"],o);const l=F(e,["tuningTask","completeTime"]);l!=null&&M(n,["endTime"],l);const c=F(e,["updateTime"]);c!=null&&M(n,["updateTime"],c);const d=F(e,["description"]);d!=null&&M(n,["description"],d);const f=F(e,["baseModel"]);f!=null&&M(n,["baseModel"],f);const p=F(e,["_self"]);return p!=null&&M(n,["tunedModel"],EZe(p)),n}function $B(e,t){const n={},r=F(e,["sdkHttpResponse"]);r!=null&&M(n,["sdkHttpResponse"],r);const i=F(e,["name"]);i!=null&&M(n,["name"],i);const s=F(e,["state"]);s!=null&&M(n,["state"],nre(s));const a=F(e,["createTime"]);a!=null&&M(n,["createTime"],a);const o=F(e,["startTime"]);o!=null&&M(n,["startTime"],o);const l=F(e,["endTime"]);l!=null&&M(n,["endTime"],l);const c=F(e,["updateTime"]);c!=null&&M(n,["updateTime"],c);const d=F(e,["error"]);d!=null&&M(n,["error"],d);const f=F(e,["description"]);f!=null&&M(n,["description"],f);const p=F(e,["baseModel"]);p!=null&&M(n,["baseModel"],p);const m=F(e,["tunedModel"]);m!=null&&M(n,["tunedModel"],m);const w=F(e,["preTunedModel"]);w!=null&&M(n,["preTunedModel"],w);const y=F(e,["supervisedTuningSpec"]);y!=null&&M(n,["supervisedTuningSpec"],y);const C=F(e,["preferenceOptimizationSpec"]);C!=null&&M(n,["preferenceOptimizationSpec"],C);const T=F(e,["tuningDataStats"]);T!=null&&M(n,["tuningDataStats"],T);const k=F(e,["encryptionSpec"]);k!=null&&M(n,["encryptionSpec"],k);const R=F(e,["partnerModelTuningSpec"]);R!=null&&M(n,["partnerModelTuningSpec"],R);const P=F(e,["customBaseModel"]);P!=null&&M(n,["customBaseModel"],P);const U=F(e,["experiment"]);U!=null&&M(n,["experiment"],U);const O=F(e,["labels"]);O!=null&&M(n,["labels"],O);const L=F(e,["outputUri"]);L!=null&&M(n,["outputUri"],L);const K=F(e,["pipelineJob"]);K!=null&&M(n,["pipelineJob"],K);const j=F(e,["serviceAccount"]);j!=null&&M(n,["serviceAccount"],j);const te=F(e,["tunedModelDisplayName"]);te!=null&&M(n,["tunedModelDisplayName"],te);const G=F(e,["veoTuningSpec"]);return G!=null&&M(n,["veoTuningSpec"],G),n}function IZe(e,t){const n={},r=F(e,["sdkHttpResponse"]);r!=null&&M(n,["sdkHttpResponse"],r);const i=F(e,["name"]);i!=null&&M(n,["name"],i);const s=F(e,["metadata"]);s!=null&&M(n,["metadata"],s);const a=F(e,["done"]);a!=null&&M(n,["done"],a);const o=F(e,["error"]);return o!=null&&M(n,["error"],o),n}function iz(e,t){const n={},r=F(e,["gcsUri"]);r!=null&&M(n,["validationDatasetUri"],r);const i=F(e,["vertexDatasetResource"]);return i!=null&&M(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FZe extends Kf{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new lg(Df.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:LB.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=xZe(t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>$B(d))}else{const c=mZe(t);return o=$n("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>Ure(d))}}async listInternal(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=yZe(t);return o=$n("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=SZe(d),p=new kQ;return Object.assign(p,f),p})}else{const c=bZe(t);return o=$n("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=CZe(d),p=new kQ;return Object.assign(p,f),p})}}async cancel(t){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=uZe(t);return o=$n("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=hZe(d),p=new BQ;return Object.assign(p,f),p})}else{const c=cZe(t);return o=$n("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=dZe(d),p=new BQ;return Object.assign(p,f),p})}}async tuneInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=gZe(t,t);return s=$n("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>$B(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pZe(t);return s=$n("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>IZe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kZe{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BZe=1024*1024*8,RZe=3,_Ze=1e3,DZe=2,NE="x-goog-upload-status";async function PZe(e,t,n){var r;const i=await Hre(e,t,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[NE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function MZe(e,t,n){var r;const i=await Hre(e,t,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[NE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=Yne(s),o=new EP;return Object.assign(o,a),o}async function Hre(e,t,n){var r,i;let s=0,a=0,o=new OB(new Response),l="upload";for(s=e.size;a<s;){const c=Math.min(BZe,s-a),d=e.slice(a,a+c);a+c>=s&&(l+=", finalize");let f=0,p=_Ze;for(;f<RZe&&(o=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[NE]));)f++,await OZe(p),p=p*DZe;if(a+=c,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[NE])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function LZe(e){return{size:e.size,type:e.type}}function OZe(e){return new Promise(t=>setTimeout(t,e))}class jZe{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await PZe(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await MZe(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await LZe(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UZe{create(t,n,r){return new HZe(t,n,r)}}class HZe{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sz="x-goog-api-key";class GZe{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(sz)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(sz,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VZe="gl-node/";class Gre{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Go({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=OWe(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new GZe(this.apiKey);this.apiClient=new LXe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:VZe+"web",uploader:new jZe,downloader:new kZe}),this.models=new nJe(this.apiClient),this.live=new YXe(this.apiClient,i,new UZe),this.batches=new fqe(this.apiClient),this.chats=new qqe(this.models,this.apiClient),this.caches=new zqe(this.apiClient),this.files=new i$e(this.apiClient),this.operations=new rJe(this.apiClient),this.authTokens=new vJe(this.apiClient),this.tunings=new FZe(this.apiClient),this.fileSearchStores=new TJe(this.apiClient)}}const LC=["gemini-1.5-flash","gemini-1.5-pro","gemini-2.0-flash-exp","gemini-2.0-flash","gemini-1.5-flash-latest","gemini-1.5-pro-latest"],QZe="gemini-1.5-flash",Ib=()=>{const e=typeof window<"u"?localStorage.getItem("GEMINI_API_KEY"):null,t="AIzaSyDM5F-SFvUSAFDVDEMtbr2c-0Ndw3QZuJY",n=i=>!i||i==="PLACEHOLDER_API_KEY"||i==="undefined"||i==="";let r="";if(n(t)||(r=t),n(e)||(r=e),n(r))throw console.error("Gemini API Key is missing or invalid."),new Error("Gemini API AI ");console.log(`Using AI Key: ${r.substring(0,8)}... (GenAI SDK - ${QZe})`);try{return new Gre({apiKey:r})}catch(i){throw console.error("GenAI Initialization failed:",i),i}},Pc=(e,t,n)=>{console.warn(`${t}  ${n} :`,e);const r=(e==null?void 0:e.message)||"";if(r.includes("limit: 0")||r.includes("RESOURCE_EXHAUSTED")||r.includes("429"))return"QUOTA_EXCEEDED";if(r.includes("403")||r.includes("PERMISSION_DENIED")||r.includes("leaked"))return"KEY_INVALID";if(r.includes("503")||r.includes("overloaded"))return"SERVER_OVERLOADED";throw e};async function rl(e,t){const n=Ib();let r=null;console.log("[AI Config] Fallback list:",LC);for(const i of LC)try{return console.log(`[AI v2.1] : ${i} (${t})`),await n.models.generateContent({...e,model:i})}catch(s){r=s;const a=Pc(s,t,i);if(a==="QUOTA_EXCEEDED"){console.warn(`[AI]  ${i}  (429) 2 ...`),await new Promise(o=>setTimeout(o,2e3));continue}if(a==="SERVER_OVERLOADED"){console.warn(`[AI]  ${i}  (503) 1 ...`),await new Promise(o=>setTimeout(o,1e3));continue}if(a==="MODEL_NOT_FOUND"||a==="KEY_INVALID"){const o=a==="KEY_INVALID"?" API  () ":` ${i} `;console.warn(`[AI] ${o}...`),a==="KEY_INVALID"&&i===LC[LC.length-1]&&alert(" AI Google  API KeyAI ");continue}throw s}throw r||new Error(`${t}  ()`)}const Fb=e=>e?e.replace(/```json/g,"").replace(/```/g,"").trim():"[]",Vre=async e=>{try{const t=Ib(),n=e.filter(o=>!o.name.toLowerCase().includes("test")&&!o.name.includes("")),r=n.length,s=n.filter(o=>o.status===""&&o.progress<20||o.status==="").slice(0,50).map(o=>{const l=(o.workAssignments||[]).reduce((d,f)=>d+f.totalCost,0),c=(o.expenses||[]).reduce((d,f)=>d+f.amount,0);return`- ${o.name}:  ${o.status},  ${o.progress}%,  ${o.budget},  ${l},  ${c}`}).join(`
`);return{text:(await rl({contents:[{parts:[{text:`
 ${r} 

${s}


1. ****()
2. ****
3. ****

 Markdown `}]}]},"")).text}}catch(t){throw t}},Qre=async(e,t)=>{Ib();try{return{text:(await rl({contents:[{parts:[{text:`


: ${e.name}
: ${e.status}
: ${e.progress}%
: ${e.budget}
: ${e.spent}
: ${t}`}]}]},"")).text}}catch(n){throw n}},zre=async e=>{var t,n,r;try{const i=await rl({contents:[{parts:[{text:`

: ${e}`}]}],config:{tools:[{googleSearch:{}}]}},""),a=(((r=(n=(t=i.candidates)==null?void 0:t[0])==null?void 0:n.groundingMetadata)==null?void 0:r.groundingChunks)||[]).map(o=>{var l,c;return{title:((l=o.web)==null?void 0:l.title)||"",uri:(c=o.web)==null?void 0:c.uri}}).filter(o=>o.uri);return{text:i.text,chunks:a}}catch(i){return Pc(i,"")}},Wre=async e=>{try{return{text:(await rl({contents:[{parts:[{text:`

: ${e.name}, : ${e.category}, : ${e.startDate} ~ ${e.endDate}
`}]}]},"")).text}}catch(t){return Pc(t,"")}},Kre=async(e,t)=>{try{const n=e.map(s=>{var a,o;return`- ${s.name}${(a=s.nicknames)!=null&&a.length?` (: ${s.nicknames.join(", ")})`:""} (${s.role}):  ${s.activeProjectsCount} , : ${s.status}, : ${(o=s.specialty)==null?void 0:o.join(",")}`}).join(`
`),r=t.filter(s=>s.status==="").map(s=>`- ${s.name}:  ${s.progress}%, : ${s.manager}`).join(`
`);return{text:(await rl({contents:[{parts:[{text:` AI 

1.  5 
2. 
3. 
 (0-100)


${n}


${r}`}]}]},"")).text}}catch(n){return Pc(n,"")}},_P=async(e,t,n,r)=>{var i,s,a;try{const o=await rl({contents:[{parts:[{text:` ${e}  ${r} `}]}],config:{tools:[{googleMaps:{}}],toolConfig:{retrievalConfig:{latLng:{latitude:t,longitude:n}}}}},""),c=(((a=(s=(i=o.candidates)==null?void 0:i[0])==null?void 0:s.groundingMetadata)==null?void 0:a.groundingChunks)||[]).map(d=>{var f,p;return{title:((f=d.maps)==null?void 0:f.title)||"",uri:(p=d.maps)==null?void 0:p.uri}}).filter(d=>d.uri);return{text:o.text,links:c}}catch(o){return Pc(o,"")}},qre=async(e,t=[])=>{Ib();try{const n=t.length>0?` ()
${t.map(s=>{var a;return`- ${s.name}${(a=s.nicknames)!=null&&a.length?` (: ${s.nicknames.join(", ")})`:""}`}).join(`
`)}

`:"",r=await rl({contents:[{parts:[{text:` JSON 
 JSON 
:
- projectId: 
- date:  (YYYY-MM-DD)
- memberName:  ()
- description: 

${n}


${e}`}]}]},""),i=Fb(r.text||"[]");return JSON.parse(i)}catch(n){return Pc(n,"")}},$re=async e=>{try{const t=await rl({contents:[{inlineData:{mimeType:"image/jpeg",data:e}}," JSON EmailLine ID "]},"");try{return JSON.parse(t.text||"{}")}catch{return console.error("JSON :",t.text),{}}}catch(t){return Pc(t,"")}},Yre=async e=>{Ib();try{const t=await rl({contents:[{inlineData:{mimeType:"image/jpeg",data:e}},`
         JSON 
        
        
        - date:  ( YYYY-MM-DD)
        - name:  ()
        - amount:  ()
        - supplier: /
        - category:  ('', '', '', '', '')
        
         JSON  Markdown  \`\`\`json `]},"");try{const n=Fb(t.text||"{}");return JSON.parse(n)}catch{return console.error("JSON :",t.text),null}}catch(t){return Pc(t,"")}},Xre=async e=>{try{const t=await rl({contents:[{inlineData:{mimeType:"image/jpeg",data:e}},`
        
        
        1.  (amount)  0
        2.  (name)
        3.  (category) ''''  ''
        4.  (supplier)

         JSON 
        [
          {
            "name": "",
            "category": "",
            "supplier": "()",
            "amount": 0
          }
        ]
        
         JSON markdown `]},"");try{const n=Fb(t.text||"[]"),r=JSON.parse(n);return Array.isArray(r)?r:[]}catch{return console.error("JSON :",t.text),[]}}catch(t){return Pc(t,"")}},YB=async e=>{try{const t=(e.workAssignments||[]).reduce((o,l)=>o+l.totalCost,0),n=(e.expenses||[]).filter(o=>o.category==="").reduce((o,l)=>o+l.amount,0),r=(e.expenses||[]).filter(o=>o.category==="").reduce((o,l)=>o+l.amount,0),i=(e.expenses||[]).filter(o=>!["",""].includes(o.category)).reduce((o,l)=>o+l.amount,0),s=t+n+r+i;return{text:(await rl({contents:[{parts:[{text:`30


- ${e.name}
- NT$ ${(e.budget||0).toLocaleString()}
- NT$ ${(s||0).toLocaleString()}
- ${e.progress}% (${e.status})


-  ()NT$ ${(t||0).toLocaleString()}
- NT$ ${(n||0).toLocaleString()}
-  ()NT$ ${(r||0).toLocaleString()}
- NT$ ${(i||0).toLocaleString()}

 Markdown 
1. **** (Gross Margin)
2. **** 1-3  ( ${e.progress}%  40%)
3. ****

`}]}]},"")).text}}catch(t){return Pc(t,"")}},XB=async(e,t,n)=>{try{const r=`
    
    
    1. ${t}
    2. ${n?" ()":" ()"}
    
    
    
     JSON  Markdown  \`\`\`json 
    
    - name:  ()
    - startDate:  (YYYY-MM-DD)
    - endDate:  (YYYY-MM-DD)
    - status:  'Upcoming'
    - progress:  0`,i=await rl({contents:[{inlineData:{mimeType:"image/jpeg",data:e}},r]},"");try{return JSON.parse(Fb(i.text||"[]"))}catch{return console.error("JSON :",i.text),[]}}catch(r){return Pc(r,"")}},Jre=async e=>{var t;try{const n=await rl({contents:[{parts:[{text:`
          
${e.name}
${e.category}
${((t=e.location)==null?void 0:t.address)||""}
${e.startDate} ~ ${e.endDate}

 JSON  Markdown  \`\`\`json 
1. materialsAndTools:  ()
2. notice: 

 JSON `}]}]},""),r=Fb(n.text||"{}");return JSON.parse(r)}catch(n){return Pc(n,"")}};async function Zre(e){try{let n=(await rl({contents:[{parts:[{text:`
       AI 
      "${e}"

       (Intent)
      1. CREATE_PROJECT: """"""
      2. QUERY_PROJECT: """"""
      3. GENERAL_CHAT: 

       JSON  ( markdown code block)
      {
        "intent": "CREATE_PROJECT" | "QUERY_PROJECT" | "GENERAL_CHAT",
        "data": {
          //  CREATE_PROJECT
          "name": " ()",
          "client": "",
          "budget":  ( 0),
          "location": "",
          "notes": ""
          
          //  QUERY_PROJECT
          "keywords": ""
        },
        "response": " (XXX...)"
      }`}]}]},"")).text||"";return n=n.replace(/^```json\s*/,"").replace(/\s*```$/,""),JSON.parse(n)}catch(t){return console.warn("Voice parsing failed",t),{intent:"GENERAL_CHAT",response:""}}}const eie=async e=>{try{return(await rl({contents:[{inlineData:{mimeType:"image/jpeg",data:e}},`
    1. 
    2. 
    3.  ()
    
     professional ()  50-100 `]},"")).text}catch(t){return Pc(t,"")}},tie=async e=>{try{const t=`
    
    ${e}
    
    
    1. 
    2.  ()
    3. `;return(await rl({contents:[{parts:[{text:t}]}]},"")).text}catch(t){return Pc(t,"")}},nie=async(e,t)=>{try{return(await rl({contents:[{parts:[{text:` [${e}, ${t}] 
          `}]}],config:{tools:[{googleSearch:{}}]}},"")).text.trim()}catch(n){return console.warn("Gemini Geocoding :",n),`${e.toFixed(6)}, ${t.toFixed(6)}`}},zZe=Object.freeze(Object.defineProperty({__proto__:null,analyzeProjectFinancials:YB,analyzeQuotationItems:Xre,analyzeSitePhoto:eie,generatePreConstructionPrep:Jre,getAddressFromCoords:nie,getPortfolioAnalysis:Vre,getProjectInsights:Qre,getTeamLoadAnalysis:Kre,parseScheduleFromImage:XB,parseVoiceCommand:Zre,parseWorkDispatchText:qre,refineSiteNotes:tie,scanBusinessCard:$re,scanReceipt:Yre,searchEngineeringKnowledge:zre,searchNearbyResources:_P,suggestProjectSchedule:Wre},Symbol.toStringTag,{value:"Module"}));/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var rie=1252,WZe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],DP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},PP=function(e){WZe.indexOf(e)!=-1&&(rie=DP[0]=e)};function KZe(){PP(1252)}var Ad=function(e){PP(e)};function iie(){Ad(1200),KZe()}function az(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function qZe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function sie(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var vv=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?qZe(e.slice(2)):t==254&&n==255?sie(e.slice(2)):t==65279?e.slice(1):e},OC=function(t){return String.fromCharCode(t)},oz=function(t){return String.fromCharCode(t)},Mw,GA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function lz(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),s=n>>2,r=e.charCodeAt(c++),a=(n&3)<<4|r>>4,i=e.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),t+=GA.charAt(s)+GA.charAt(a)+GA.charAt(o)+GA.charAt(l);return t}function ru(e){var t="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=GA.indexOf(e.charAt(c++)),a=GA.indexOf(e.charAt(c++)),n=s<<2|a>>4,t+=String.fromCharCode(n),o=GA.indexOf(e.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),l=GA.indexOf(e.charAt(c++)),i=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var Ti=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),cg=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function u0(e){return Ti?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function cz(e){return Ti?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var hd=function(t){return Ti?cg(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function ug(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function MP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return MP(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var _A=Ti?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:cg(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function $Ze(e){for(var t=[],n=0,r=e.length+250,i=u0(e.length+255),s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=e.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(t.push(i.slice(0,n)),n=0,i=u0(65535),r=65530)}return t.push(i.slice(0,n)),_A(t)}var $l=/\u0000/g,wv=/[\u0001-\u0006]/g;function a1(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function pd(e,t){var n=""+e;return n.length>=t?n:Ca("0",t-n.length)+n}function LP(e,t){var n=""+e;return n.length>=t?n:Ca(" ",t-n.length)+n}function TE(e,t){var n=""+e;return n.length>=t?n:n+Ca(" ",t-n.length)}function YZe(e,t){var n=""+Math.round(e);return n.length>=t?n:Ca("0",t-n.length)+n}function XZe(e,t){var n=""+e;return n.length>=t?n:Ca("0",t-n.length)+n}var uz=Math.pow(2,32);function lm(e,t){if(e>uz||e<-uz)return YZe(e,t);var n=Math.round(e);return XZe(n,t)}function IE(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var dz=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],YF=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function JZe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Jr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},hz={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZZe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function FE(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,a=1,o=0,l=1,c=0,d=0,f=Math.floor(i);c<t&&(f=Math.floor(i),o=f*a+s,d=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=s):(d=c,o=a)),!n)return[0,r*o,d];var p=Math.floor(r*o/d);return[p,r*o-p*d,d]}function np(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,a=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=set(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var aie=new Date(1899,11,31,0,0,0),eet=aie.getTime(),tet=new Date(1900,2,1,0,0,0);function oie(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=tet&&(n+=1440*60*1e3),(n-(eet+(e.getTimezoneOffset()-aie.getTimezoneOffset())*6e4))/(1440*60*1e3)}function OP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function net(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ret(e){var t=e<0?12:11,n=OP(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function iet(e){var t=OP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Lw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=ret(e):t===10?n=e.toFixed(10).substr(0,12):n=iet(e),OP(net(n.toUpperCase()))}function qp(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Lw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vu(14,oie(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function set(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function aet(e,t,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(e){case 98:o=n.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return YF[n.m-1][1];case 5:return YF[n.m-1][0];default:return YF[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return dz[n.q][0];default:return dz[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?pd(n.S,t.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),t==="s"?s===0?"0":""+s/a:(i=pd(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var d=c>0?pd(l,c):"";return d}function VA(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var lie=/%/g;function oet(e,t,n){var r=t.replace(lie,""),i=t.length-r.length;return bf(e,r,n*Math.pow(10,2*i))+Ca("%",i)}function cet(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return bf(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function cie(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+cie(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var uie=/# (\?+)( ?)\/( ?)(\d+)/;function uet(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?Ca(" ",e[1].length+1+e[4].length):LP(a,e[1].length)+e[2]+"/"+e[3]+pd(o,e[4].length))}function det(e,t,n){return n+(t===0?"":""+t)+Ca(" ",e[1].length+2+e[4].length)}var die=/^#*0*\.([0#]+)/,hie=/\).*[0#]/,fie=/\(###\) ###\\?-####/;function Gl(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function fz(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Az(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function het(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function fet(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function mu(e,t,n){if(e.charCodeAt(0)===40&&!t.match(hie)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?mu("n",r,n):"("+mu("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return cet(e,t,n);if(t.indexOf("%")!==-1)return oet(e,t,n);if(t.indexOf("E")!==-1)return cie(t,n);if(t.charCodeAt(0)===36)return"$"+mu(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+lm(l,t.length);if(t.match(/^[#?]+$/))return i=lm(n,0),i==="0"&&(i=""),i.length>t.length?i:Gl(t.substr(0,t.length-i.length))+i;if(s=t.match(uie))return uet(s,l,c);if(t.match(/^#+0+$/))return c+lm(l,t.length-t.indexOf("0"));if(s=t.match(die))return i=fz(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Gl(s[1])).replace(/\.$/,"."+Gl(s[1])).replace(/\.(\d*)$/,function(w,y){return"."+y+Ca("0",Gl(s[1]).length-y.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+fz(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+VA(lm(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+mu(e,t,-n):VA(""+(Math.floor(n)+het(n,s[1].length)))+"."+pd(Az(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return mu(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=a1(mu(e,t.replace(/[\\-]/g,""),n)),a=0,a1(a1(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return a<i.length?i.charAt(a++):w==="0"?"0":""}));if(t.match(fie))return i=mu(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=FE(l,Math.pow(10,a)-1,!1),i=""+c,d=bf("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=TE(o[2],a),d.length<s[4].length&&(d=Gl(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=FE(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?LP(o[1],a)+s[2]+"/"+s[3]+TE(o[2],a):Ca(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=lm(n,0),t.length<=i.length?i:Gl(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=t.indexOf(".")-a,p=t.length-i.length-f;return Gl(t.substr(0,f)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=Az(n,s[1].length),n<0?"-"+mu(e,t,-n):VA(fet(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?pd(0,3-w.length):"")+w})+"."+pd(a,s[1].length);switch(t){case"###,##0.00":return mu(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=VA(lm(l,0));return m!=="0"?c+m:"";case"###,###.00":return mu(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return mu(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Aet(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return bf(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function pet(e,t,n){var r=t.replace(lie,""),i=t.length-r.length;return bf(e,r,n*Math.pow(10,2*i))+Ca("%",i)}function Aie(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Aie(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function th(e,t,n){if(e.charCodeAt(0)===40&&!t.match(hie)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?th("n",r,n):"("+th("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return Aet(e,t,n);if(t.indexOf("%")!==-1)return pet(e,t,n);if(t.indexOf("E")!==-1)return Aie(t,n);if(t.charCodeAt(0)===36)return"$"+th(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+pd(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:Gl(t.substr(0,t.length-i.length))+i;if(s=t.match(uie))return det(s,l,c);if(t.match(/^#+0+$/))return c+pd(l,t.length-t.indexOf("0"));if(s=t.match(die))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Gl(s[1])).replace(/\.$/,"."+Gl(s[1])),i=i.replace(/\.(\d*)$/,function(w,y){return"."+y+Ca("0",Gl(s[1]).length-y.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+VA(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+th(e,t,-n):VA(""+n)+"."+Ca("0",s[1].length);if(s=t.match(/^#,#*,#0/))return th(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=a1(th(e,t.replace(/[\\-]/g,""),n)),a=0,a1(a1(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return a<i.length?i.charAt(a++):w==="0"?"0":""}));if(t.match(fie))return i=th(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=FE(l,Math.pow(10,a)-1,!1),i=""+c,d=bf("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=TE(o[2],a),d.length<s[4].length&&(d=Gl(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=FE(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?LP(o[1],a)+s[2]+"/"+s[3]+TE(o[2],a):Ca(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:Gl(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=t.indexOf(".")-a,p=t.length-i.length-f;return Gl(t.substr(0,f)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+th(e,t,-n):VA(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?pd(0,3-w.length):"")+w})+"."+pd(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=VA(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return th(e,t.slice(0,t.lastIndexOf(".")),n)+Gl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bf(e,t,n){return(n|0)===n?th(e,t,n):mu(e,t,n)}function get(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var pie=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function tx(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":IE(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(pie))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function met(e,t,n,r){for(var i=[],s="",a=0,o="",l="t",c,d,f,p="H";a<e.length;)switch(o=e.charAt(a)){case"G":if(!IE(e,a))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=e.charCodeAt(++a))!==34&&a<e.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=e.charAt(++a),w=m==="("||m===")"?m:"t";i[i.length]={t:w,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:t},++a;break;case"B":case"b":if(e.charAt(a+1)==="1"||e.charAt(a+1)==="2"){if(c==null&&(c=np(t,n,e.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=np(t,n),c==null))return"";for(s=o;++a<e.length&&e.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var y={t:o,v:o};if(c==null&&(c=np(t,n)),e.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(y.v=c.H>=12?"P":"A"),y.t="T",p="h",a+=3):e.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(y.v=c.H>=12?"PM":"AM"),y.t="T",a+=5,p="h"):e.substr(a,5).toUpperCase()==="/"?(c!=null&&(y.v=c.H>=12?"":""),y.t="T",a+=5,p="h"):(y.t="t",++a),c==null&&y.t==="T")return"";i[i.length]=y,l=o;break;case"[":for(s=o;e.charAt(a++)!=="]"&&a<e.length;)s+=e.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pie)){if(c==null&&(c=np(t,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",tx(e)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<e.length&&(o=e.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(e.charAt(a)==" "||e.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<e.length&&"0123456789".indexOf(e.charAt(++a))>-1;)s+=e.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++a;break}var C=0,T=0,k;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=p,l="h",C<1&&(C=1);break;case"s":(k=i[a].v.match(/\.0+$/))&&(T=Math.max(T,k[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[a].v.match(/[Hh]/)&&(C=1),C<2&&i[a].v.match(/[Mm]/)&&(C=2),C<3&&i[a].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var R="",P;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=aet(i[a].t.charCodeAt(0),i[a].v,c,T),i[a].t="t";break;case"n":case"?":for(P=a+1;i[P]!=null&&((o=i[P].t)==="?"||o==="D"||(o===" "||o==="t")&&i[P+1]!=null&&(i[P+1].t==="?"||i[P+1].t==="t"&&i[P+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[P].v==="/"||i[P].v===" "&&i[P+1]!=null&&i[P+1].t=="?"));)i[a].v+=i[P].v,i[P]={v:"",t:";"},++P;R+=i[a].v,a=P-1;break;case"G":i[a].t="t",i[a].v=qp(t,n);break}var U="",O,L;if(R.length>0){R.charCodeAt(0)==40?(O=t<0&&R.charCodeAt(0)===45?-t:t,L=bf("n",R,O)):(O=t<0&&r>1?-t:t,L=bf("n",R,O),O<0&&i[0]&&i[0].t=="t"&&(L=L.substr(1),i[0].v="-"+i[0].v)),P=L.length-1;var K=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){K=a;break}var j=i.length;if(K===i.length&&L.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(P>=i[a].v.length-1?(P-=i[a].v.length,i[a].v=L.substr(P+1,i[a].v.length)):P<0?i[a].v="":(i[a].v=L.substr(0,P+1),P=-1),i[a].t="t",j=a);P>=0&&j<i.length&&(i[j].v=L.substr(0,P+1)+i[j].v)}else if(K!==i.length&&L.indexOf("E")===-1){for(P=L.indexOf(".")-1,a=K;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===K?i[a].v.indexOf(".")-1:i[a].v.length-1,U=i[a].v.substr(d+1);d>=0;--d)P>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(U=L.charAt(P--)+U);i[a].v=U,i[a].t="t",j=a}for(P>=0&&j<i.length&&(i[j].v=L.substr(0,P+1)+i[j].v),P=L.indexOf(".")+1,a=K;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==K)){for(d=i[a].v.indexOf(".")>-1&&a===K?i[a].v.indexOf(".")+1:0,U=i[a].v.substr(0,d);d<i[a].v.length;++d)P<L.length&&(U+=L.charAt(P++));i[a].v=U,i[a].t="t",j=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(O=r>1&&t<0&&a>0&&i[a-1].v==="-"?-t:t,i[a].v=bf(i[a].t,i[a].v,O),i[a].t="t");var te="";for(a=0;a!==i.length;++a)i[a]!=null&&(te+=i[a].v);return te}var pz=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function gz(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function xet(e,t){var n=get(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(pz),o=n[1].match(pz);return gz(t,a)?[r,n[0]]:gz(t,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function Vu(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Jr)[e],r==null&&(r=n.table&&n.table[hz[e]]||Jr[hz[e]]),r==null&&(r=ZZe[e]||"General");break}if(IE(r,0))return qp(t,n);t instanceof Date&&(t=oie(t,n.date1904));var i=xet(r,t);if(IE(i[1]))return qp(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return met(i[1],t,n,i[0])}function Sp(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Jr[n]==null){t<0&&(t=n);continue}if(Jr[n]==e){t=n;break}}t<0&&(t=391)}return Jr[t]=e,t}function gie(){Jr=JZe()}var vet={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},mie=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function wet(e){var t=typeof e=="number"?Jr[e]:e;return t=t.replace(mie,"(\\d+)"),new RegExp("^"+t+"$")}function bet(e,t,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(t.match(mie)||[]).forEach(function(f,p){var m=parseInt(n[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?d:c+"T"+d}var yet=(function(){var e={};e.version="1.2.0";function t(){for(var L=0,K=new Array(256),j=0;j!=256;++j)L=j,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,K[j]=L;return typeof Int32Array<"u"?new Int32Array(K):K}var n=t();function r(L){var K=0,j=0,te=0,G=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(te=0;te!=256;++te)G[te]=L[te];for(te=0;te!=256;++te)for(j=L[te],K=256+te;K<4096;K+=256)j=G[K]=j>>>8^L[j&255];var V=[];for(te=1;te!=16;++te)V[te-1]=typeof Int32Array<"u"?G.subarray(te*256,te*256+256):G.slice(te*256,te*256+256);return V}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],d=i[5],f=i[6],p=i[7],m=i[8],w=i[9],y=i[10],C=i[11],T=i[12],k=i[13],R=i[14];function P(L,K){for(var j=K^-1,te=0,G=L.length;te<G;)j=j>>>8^n[(j^L.charCodeAt(te++))&255];return~j}function U(L,K){for(var j=K^-1,te=L.length-15,G=0;G<te;)j=R[L[G++]^j&255]^k[L[G++]^j>>8&255]^T[L[G++]^j>>16&255]^C[L[G++]^j>>>24]^y[L[G++]]^w[L[G++]]^m[L[G++]]^p[L[G++]]^f[L[G++]]^d[L[G++]]^c[L[G++]]^l[L[G++]]^o[L[G++]]^a[L[G++]]^s[L[G++]]^n[L[G++]];for(te+=15;G<te;)j=j>>>8^n[(j^L[G++])&255];return~j}function O(L,K){for(var j=K^-1,te=0,G=L.length,V=0,re=0;te<G;)V=L.charCodeAt(te++),V<128?j=j>>>8^n[(j^V)&255]:V<2048?(j=j>>>8^n[(j^(192|V>>6&31))&255],j=j>>>8^n[(j^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,re=L.charCodeAt(te++)&1023,j=j>>>8^n[(j^(240|V>>8&7))&255],j=j>>>8^n[(j^(128|V>>2&63))&255],j=j>>>8^n[(j^(128|re>>6&15|(V&3)<<4))&255],j=j>>>8^n[(j^(128|re&63))&255]):(j=j>>>8^n[(j^(224|V>>12&15))&255],j=j>>>8^n[(j^(128|V>>6&63))&255],j=j>>>8^n[(j^(128|V&63))&255]);return~j}return e.table=n,e.bstr=P,e.buf=U,e.str=O,e})(),Ri=(function(){var t={};t.version="1.2.1";function n(Ee,_e){for(var Le=Ee.split("/"),Me=_e.split("/"),He=0,Ve=0,At=Math.min(Le.length,Me.length);He<At;++He){if(Ve=Le[He].length-Me[He].length)return Ve;if(Le[He]!=Me[He])return Le[He]<Me[He]?-1:1}return Le.length-Me.length}function r(Ee){if(Ee.charAt(Ee.length-1)=="/")return Ee.slice(0,-1).indexOf("/")===-1?Ee:r(Ee.slice(0,-1));var _e=Ee.lastIndexOf("/");return _e===-1?Ee:Ee.slice(0,_e+1)}function i(Ee){if(Ee.charAt(Ee.length-1)=="/")return i(Ee.slice(0,-1));var _e=Ee.lastIndexOf("/");return _e===-1?Ee:Ee.slice(_e+1)}function s(Ee,_e){typeof _e=="string"&&(_e=new Date(_e));var Le=_e.getHours();Le=Le<<6|_e.getMinutes(),Le=Le<<5|_e.getSeconds()>>>1,Ee.write_shift(2,Le);var Me=_e.getFullYear()-1980;Me=Me<<4|_e.getMonth()+1,Me=Me<<5|_e.getDate(),Ee.write_shift(2,Me)}function a(Ee){var _e=Ee.read_shift(2)&65535,Le=Ee.read_shift(2)&65535,Me=new Date,He=Le&31;Le>>>=5;var Ve=Le&15;Le>>>=4,Me.setMilliseconds(0),Me.setFullYear(Le+1980),Me.setMonth(Ve-1),Me.setDate(He);var At=_e&31;_e>>>=5;var Tt=_e&63;return _e>>>=6,Me.setHours(_e),Me.setMinutes(Tt),Me.setSeconds(At<<1),Me}function o(Ee){Jo(Ee,0);for(var _e={},Le=0;Ee.l<=Ee.length-4;){var Me=Ee.read_shift(2),He=Ee.read_shift(2),Ve=Ee.l+He,At={};switch(Me){case 21589:Le=Ee.read_shift(1),Le&1&&(At.mtime=Ee.read_shift(4)),He>5&&(Le&2&&(At.atime=Ee.read_shift(4)),Le&4&&(At.ctime=Ee.read_shift(4))),At.mtime&&(At.mt=new Date(At.mtime*1e3));break}Ee.l=Ve,_e[Me]=At}return _e}var l;function c(){return l||(l={})}function d(Ee,_e){if(Ee[0]==80&&Ee[1]==75)return Kn(Ee,_e);if((Ee[0]|32)==109&&(Ee[1]|32)==105)return qn(Ee,_e);if(Ee.length<512)throw new Error("CFB file size "+Ee.length+" < 512");var Le=3,Me=512,He=0,Ve=0,At=0,Tt=0,ft=0,vt=[],bt=Ee.slice(0,512);Jo(bt,0);var Xt=f(bt);switch(Le=Xt[0],Le){case 3:Me=512;break;case 4:Me=4096;break;case 0:if(Xt[1]==0)return Kn(Ee,_e);default:throw new Error("Major Version: Expected 3 or 4 saw "+Le)}Me!==512&&(bt=Ee.slice(0,Me),Jo(bt,28));var an=Ee.slice(0,Me);p(bt,Le);var on=bt.read_shift(4,"i");if(Le===3&&on!==0)throw new Error("# Directory Sectors: Expected 0 saw "+on);bt.l+=4,At=bt.read_shift(4,"i"),bt.l+=4,bt.chk("00100000","Mini Stream Cutoff Size: "),Tt=bt.read_shift(4,"i"),He=bt.read_shift(4,"i"),ft=bt.read_shift(4,"i"),Ve=bt.read_shift(4,"i");for(var fn=-1,vn=0;vn<109&&(fn=bt.read_shift(4,"i"),!(fn<0));++vn)vt[vn]=fn;var On=m(Ee,Me);C(ft,Ve,On,Me,vt);var Pt=k(On,At,vt,Me);Pt[At].name="!Directory",He>0&&Tt!==re&&(Pt[Tt].name="!MiniFAT"),Pt[vt[0]].name="!FAT",Pt.fat_addrs=vt,Pt.ssz=Me;var Un={},ir=[],vi=[],ca=[];R(At,Pt,On,ir,He,Un,vi,Tt),w(vi,ca,ir),ir.shift();var Dr={FileIndex:vi,FullPaths:ca};return _e&&_e.raw&&(Dr.raw={header:an,sectors:On}),Dr}function f(Ee){if(Ee[Ee.l]==80&&Ee[Ee.l+1]==75)return[0,0];Ee.chk(ee,"Header Signature: "),Ee.l+=16;var _e=Ee.read_shift(2,"u");return[Ee.read_shift(2,"u"),_e]}function p(Ee,_e){var Le=9;switch(Ee.l+=2,Le=Ee.read_shift(2)){case 9:if(_e!=3)throw new Error("Sector Shift: Expected 9 saw "+Le);break;case 12:if(_e!=4)throw new Error("Sector Shift: Expected 12 saw "+Le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Le)}Ee.chk("0600","Mini Sector Shift: "),Ee.chk("000000000000","Reserved: ")}function m(Ee,_e){for(var Le=Math.ceil(Ee.length/_e)-1,Me=[],He=1;He<Le;++He)Me[He-1]=Ee.slice(He*_e,(He+1)*_e);return Me[Le-1]=Ee.slice(Le*_e),Me}function w(Ee,_e,Le){for(var Me=0,He=0,Ve=0,At=0,Tt=0,ft=Le.length,vt=[],bt=[];Me<ft;++Me)vt[Me]=bt[Me]=Me,_e[Me]=Le[Me];for(;Tt<bt.length;++Tt)Me=bt[Tt],He=Ee[Me].L,Ve=Ee[Me].R,At=Ee[Me].C,vt[Me]===Me&&(He!==-1&&vt[He]!==He&&(vt[Me]=vt[He]),Ve!==-1&&vt[Ve]!==Ve&&(vt[Me]=vt[Ve])),At!==-1&&(vt[At]=Me),He!==-1&&Me!=vt[Me]&&(vt[He]=vt[Me],bt.lastIndexOf(He)<Tt&&bt.push(He)),Ve!==-1&&Me!=vt[Me]&&(vt[Ve]=vt[Me],bt.lastIndexOf(Ve)<Tt&&bt.push(Ve));for(Me=1;Me<ft;++Me)vt[Me]===Me&&(Ve!==-1&&vt[Ve]!==Ve?vt[Me]=vt[Ve]:He!==-1&&vt[He]!==He&&(vt[Me]=vt[He]));for(Me=1;Me<ft;++Me)if(Ee[Me].type!==0){if(Tt=Me,Tt!=vt[Tt])do Tt=vt[Tt],_e[Me]=_e[Tt]+"/"+_e[Me];while(Tt!==0&&vt[Tt]!==-1&&Tt!=vt[Tt]);vt[Me]=-1}for(_e[0]+="/",Me=1;Me<ft;++Me)Ee[Me].type!==2&&(_e[Me]+="/")}function y(Ee,_e,Le){for(var Me=Ee.start,He=Ee.size,Ve=[],At=Me;Le&&He>0&&At>=0;)Ve.push(_e.slice(At*V,At*V+V)),He-=V,At=$0(Le,At*4);return Ve.length===0?oo(0):_A(Ve).slice(0,Ee.size)}function C(Ee,_e,Le,Me,He){var Ve=re;if(Ee===re){if(_e!==0)throw new Error("DIFAT chain shorter than expected")}else if(Ee!==-1){var At=Le[Ee],Tt=(Me>>>2)-1;if(!At)return;for(var ft=0;ft<Tt&&(Ve=$0(At,ft*4))!==re;++ft)He.push(Ve);C($0(At,Me-4),_e-1,Le,Me,He)}}function T(Ee,_e,Le,Me,He){var Ve=[],At=[];He||(He=[]);var Tt=Me-1,ft=0,vt=0;for(ft=_e;ft>=0;){He[ft]=!0,Ve[Ve.length]=ft,At.push(Ee[ft]);var bt=Le[Math.floor(ft*4/Me)];if(vt=ft*4&Tt,Me<4+vt)throw new Error("FAT boundary crossed: "+ft+" 4 "+Me);if(!Ee[bt])break;ft=$0(Ee[bt],vt)}return{nodes:Ve,data:Nz([At])}}function k(Ee,_e,Le,Me){var He=Ee.length,Ve=[],At=[],Tt=[],ft=[],vt=Me-1,bt=0,Xt=0,an=0,on=0;for(bt=0;bt<He;++bt)if(Tt=[],an=bt+_e,an>=He&&(an-=He),!At[an]){ft=[];var fn=[];for(Xt=an;Xt>=0;){fn[Xt]=!0,At[Xt]=!0,Tt[Tt.length]=Xt,ft.push(Ee[Xt]);var vn=Le[Math.floor(Xt*4/Me)];if(on=Xt*4&vt,Me<4+on)throw new Error("FAT boundary crossed: "+Xt+" 4 "+Me);if(!Ee[vn]||(Xt=$0(Ee[vn],on),fn[Xt]))break}Ve[an]={nodes:Tt,data:Nz([ft])}}return Ve}function R(Ee,_e,Le,Me,He,Ve,At,Tt){for(var ft=0,vt=Me.length?2:0,bt=_e[Ee].data,Xt=0,an=0,on;Xt<bt.length;Xt+=128){var fn=bt.slice(Xt,Xt+128);Jo(fn,64),an=fn.read_shift(2),on=VP(fn,0,an-vt),Me.push(on);var vn={name:on,type:fn.read_shift(1),color:fn.read_shift(1),L:fn.read_shift(4,"i"),R:fn.read_shift(4,"i"),C:fn.read_shift(4,"i"),clsid:fn.read_shift(16),state:fn.read_shift(4,"i"),start:0,size:0},On=fn.read_shift(2)+fn.read_shift(2)+fn.read_shift(2)+fn.read_shift(2);On!==0&&(vn.ct=P(fn,fn.l-8));var Pt=fn.read_shift(2)+fn.read_shift(2)+fn.read_shift(2)+fn.read_shift(2);Pt!==0&&(vn.mt=P(fn,fn.l-8)),vn.start=fn.read_shift(4,"i"),vn.size=fn.read_shift(4,"i"),vn.size<0&&vn.start<0&&(vn.size=vn.type=0,vn.start=re,vn.name=""),vn.type===5?(ft=vn.start,He>0&&ft!==re&&(_e[ft].name="!StreamData")):vn.size>=4096?(vn.storage="fat",_e[vn.start]===void 0&&(_e[vn.start]=T(Le,vn.start,_e.fat_addrs,_e.ssz)),_e[vn.start].name=vn.name,vn.content=_e[vn.start].data.slice(0,vn.size)):(vn.storage="minifat",vn.size<0?vn.size=0:ft!==re&&vn.start!==re&&_e[ft]&&(vn.content=y(vn,_e[ft].data,(_e[Tt]||{}).data))),vn.content&&Jo(vn.content,0),Ve[on]=vn,At.push(vn)}}function P(Ee,_e){return new Date((Kc(Ee,_e+4)/1e7*Math.pow(2,32)+Kc(Ee,_e)/1e7-11644473600)*1e3)}function U(Ee,_e){return c(),d(l.readFileSync(Ee),_e)}function O(Ee,_e){var Le=_e&&_e.type;switch(Le||Ti&&Buffer.isBuffer(Ee)&&(Le="buffer"),Le||"base64"){case"file":return U(Ee,_e);case"base64":return d(hd(ru(Ee)),_e);case"binary":return d(hd(Ee),_e)}return d(Ee,_e)}function L(Ee,_e){var Le=_e||{},Me=Le.root||"Root Entry";if(Ee.FullPaths||(Ee.FullPaths=[]),Ee.FileIndex||(Ee.FileIndex=[]),Ee.FullPaths.length!==Ee.FileIndex.length)throw new Error("inconsistent CFB structure");Ee.FullPaths.length===0&&(Ee.FullPaths[0]=Me+"/",Ee.FileIndex[0]={name:Me,type:5}),Le.CLSID&&(Ee.FileIndex[0].clsid=Le.CLSID),K(Ee)}function K(Ee){var _e="Sh33tJ5";if(!Ri.find(Ee,"/"+_e)){var Le=oo(4);Le[0]=55,Le[1]=Le[3]=50,Le[2]=54,Ee.FileIndex.push({name:_e,type:2,content:Le,size:4,L:69,R:69,C:69}),Ee.FullPaths.push(Ee.FullPaths[0]+_e),j(Ee)}}function j(Ee,_e){L(Ee);for(var Le=!1,Me=!1,He=Ee.FullPaths.length-1;He>=0;--He){var Ve=Ee.FileIndex[He];switch(Ve.type){case 0:Me?Le=!0:(Ee.FileIndex.pop(),Ee.FullPaths.pop());break;case 1:case 2:case 5:Me=!0,isNaN(Ve.R*Ve.L*Ve.C)&&(Le=!0),Ve.R>-1&&Ve.L>-1&&Ve.R==Ve.L&&(Le=!0);break;default:Le=!0;break}}if(!(!Le&&!_e)){var At=new Date(1987,1,19),Tt=0,ft=Object.create?Object.create(null):{},vt=[];for(He=0;He<Ee.FullPaths.length;++He)ft[Ee.FullPaths[He]]=!0,Ee.FileIndex[He].type!==0&&vt.push([Ee.FullPaths[He],Ee.FileIndex[He]]);for(He=0;He<vt.length;++He){var bt=r(vt[He][0]);Me=ft[bt],Me||(vt.push([bt,{name:i(bt).replace("/",""),type:1,clsid:ue,ct:At,mt:At,content:null}]),ft[bt]=!0)}for(vt.sort(function(on,fn){return n(on[0],fn[0])}),Ee.FullPaths=[],Ee.FileIndex=[],He=0;He<vt.length;++He)Ee.FullPaths[He]=vt[He][0],Ee.FileIndex[He]=vt[He][1];for(He=0;He<vt.length;++He){var Xt=Ee.FileIndex[He],an=Ee.FullPaths[He];if(Xt.name=i(an).replace("/",""),Xt.L=Xt.R=Xt.C=-(Xt.color=1),Xt.size=Xt.content?Xt.content.length:0,Xt.start=0,Xt.clsid=Xt.clsid||ue,He===0)Xt.C=vt.length>1?1:-1,Xt.size=0,Xt.type=5;else if(an.slice(-1)=="/"){for(Tt=He+1;Tt<vt.length&&r(Ee.FullPaths[Tt])!=an;++Tt);for(Xt.C=Tt>=vt.length?-1:Tt,Tt=He+1;Tt<vt.length&&r(Ee.FullPaths[Tt])!=r(an);++Tt);Xt.R=Tt>=vt.length?-1:Tt,Xt.type=1}else r(Ee.FullPaths[He+1]||"")==r(an)&&(Xt.R=He+1),Xt.type=2}}}function te(Ee,_e){var Le=_e||{};if(Le.fileType=="mad")return Di(Ee,Le);switch(j(Ee),Le.fileType){case"zip":return Hn(Ee,Le)}var Me=(function(on){for(var fn=0,vn=0,On=0;On<on.FileIndex.length;++On){var Pt=on.FileIndex[On];if(Pt.content){var Un=Pt.content.length;Un>0&&(Un<4096?fn+=Un+63>>6:vn+=Un+511>>9)}}for(var ir=on.FullPaths.length+3>>2,vi=fn+7>>3,ca=fn+127>>7,Dr=vi+vn+ir+ca,yr=Dr+127>>7,Br=yr<=109?0:Math.ceil((yr-109)/127);Dr+yr+Br+127>>7>yr;)Br=++yr<=109?0:Math.ceil((yr-109)/127);var wi=[1,Br,yr,ca,ir,vn,fn,0];return on.FileIndex[0].size=fn<<6,wi[7]=(on.FileIndex[0].start=wi[0]+wi[1]+wi[2]+wi[3]+wi[4]+wi[5])+(wi[6]+7>>3),wi})(Ee),He=oo(Me[7]<<9),Ve=0,At=0;{for(Ve=0;Ve<8;++Ve)He.write_shift(1,ie[Ve]);for(Ve=0;Ve<8;++Ve)He.write_shift(2,0);for(He.write_shift(2,62),He.write_shift(2,3),He.write_shift(2,65534),He.write_shift(2,9),He.write_shift(2,6),Ve=0;Ve<3;++Ve)He.write_shift(2,0);for(He.write_shift(4,0),He.write_shift(4,Me[2]),He.write_shift(4,Me[0]+Me[1]+Me[2]+Me[3]-1),He.write_shift(4,0),He.write_shift(4,4096),He.write_shift(4,Me[3]?Me[0]+Me[1]+Me[2]-1:re),He.write_shift(4,Me[3]),He.write_shift(-4,Me[1]?Me[0]-1:re),He.write_shift(4,Me[1]),Ve=0;Ve<109;++Ve)He.write_shift(-4,Ve<Me[2]?Me[1]+Ve:-1)}if(Me[1])for(At=0;At<Me[1];++At){for(;Ve<236+At*127;++Ve)He.write_shift(-4,Ve<Me[2]?Me[1]+Ve:-1);He.write_shift(-4,At===Me[1]-1?re:At+1)}var Tt=function(on){for(At+=on;Ve<At-1;++Ve)He.write_shift(-4,Ve+1);on&&(++Ve,He.write_shift(-4,re))};for(At=Ve=0,At+=Me[1];Ve<At;++Ve)He.write_shift(-4,le.DIFSECT);for(At+=Me[2];Ve<At;++Ve)He.write_shift(-4,le.FATSECT);Tt(Me[3]),Tt(Me[4]);for(var ft=0,vt=0,bt=Ee.FileIndex[0];ft<Ee.FileIndex.length;++ft)bt=Ee.FileIndex[ft],bt.content&&(vt=bt.content.length,!(vt<4096)&&(bt.start=At,Tt(vt+511>>9)));for(Tt(Me[6]+7>>3);He.l&511;)He.write_shift(-4,le.ENDOFCHAIN);for(At=Ve=0,ft=0;ft<Ee.FileIndex.length;++ft)bt=Ee.FileIndex[ft],bt.content&&(vt=bt.content.length,!(!vt||vt>=4096)&&(bt.start=At,Tt(vt+63>>6)));for(;He.l&511;)He.write_shift(-4,le.ENDOFCHAIN);for(Ve=0;Ve<Me[4]<<2;++Ve){var Xt=Ee.FullPaths[Ve];if(!Xt||Xt.length===0){for(ft=0;ft<17;++ft)He.write_shift(4,0);for(ft=0;ft<3;++ft)He.write_shift(4,-1);for(ft=0;ft<12;++ft)He.write_shift(4,0);continue}bt=Ee.FileIndex[Ve],Ve===0&&(bt.start=bt.size?bt.start-1:re);var an=Ve===0&&Le.root||bt.name;if(vt=2*(an.length+1),He.write_shift(64,an,"utf16le"),He.write_shift(2,vt),He.write_shift(1,bt.type),He.write_shift(1,bt.color),He.write_shift(-4,bt.L),He.write_shift(-4,bt.R),He.write_shift(-4,bt.C),bt.clsid)He.write_shift(16,bt.clsid,"hex");else for(ft=0;ft<4;++ft)He.write_shift(4,0);He.write_shift(4,bt.state||0),He.write_shift(4,0),He.write_shift(4,0),He.write_shift(4,0),He.write_shift(4,0),He.write_shift(4,bt.start),He.write_shift(4,bt.size),He.write_shift(4,0)}for(Ve=1;Ve<Ee.FileIndex.length;++Ve)if(bt=Ee.FileIndex[Ve],bt.size>=4096)if(He.l=bt.start+1<<9,Ti&&Buffer.isBuffer(bt.content))bt.content.copy(He,He.l,0,bt.size),He.l+=bt.size+511&-512;else{for(ft=0;ft<bt.size;++ft)He.write_shift(1,bt.content[ft]);for(;ft&511;++ft)He.write_shift(1,0)}for(Ve=1;Ve<Ee.FileIndex.length;++Ve)if(bt=Ee.FileIndex[Ve],bt.size>0&&bt.size<4096)if(Ti&&Buffer.isBuffer(bt.content))bt.content.copy(He,He.l,0,bt.size),He.l+=bt.size+63&-64;else{for(ft=0;ft<bt.size;++ft)He.write_shift(1,bt.content[ft]);for(;ft&63;++ft)He.write_shift(1,0)}if(Ti)He.l=He.length;else for(;He.l<He.length;)He.write_shift(1,0);return He}function G(Ee,_e){var Le=Ee.FullPaths.map(function(ft){return ft.toUpperCase()}),Me=Le.map(function(ft){var vt=ft.split("/");return vt[vt.length-(ft.slice(-1)=="/"?2:1)]}),He=!1;_e.charCodeAt(0)===47?(He=!0,_e=Le[0].slice(0,-1)+_e):He=_e.indexOf("/")!==-1;var Ve=_e.toUpperCase(),At=He===!0?Le.indexOf(Ve):Me.indexOf(Ve);if(At!==-1)return Ee.FileIndex[At];var Tt=!Ve.match(wv);for(Ve=Ve.replace($l,""),Tt&&(Ve=Ve.replace(wv,"!")),At=0;At<Le.length;++At)if((Tt?Le[At].replace(wv,"!"):Le[At]).replace($l,"")==Ve||(Tt?Me[At].replace(wv,"!"):Me[At]).replace($l,"")==Ve)return Ee.FileIndex[At];return null}var V=64,re=-2,ee="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],ue="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:re,FREESECT:-1,HEADER_SIGNATURE:ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ue,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function xe(Ee,_e,Le){c();var Me=te(Ee,Le);l.writeFileSync(_e,Me)}function ge(Ee){for(var _e=new Array(Ee.length),Le=0;Le<Ee.length;++Le)_e[Le]=String.fromCharCode(Ee[Le]);return _e.join("")}function fe(Ee,_e){var Le=te(Ee,_e);switch(_e&&_e.type||"buffer"){case"file":return c(),l.writeFileSync(_e.filename,Le),Le;case"binary":return typeof Le=="string"?Le:ge(Le);case"base64":return lz(typeof Le=="string"?Le:ge(Le));case"buffer":if(Ti)return Buffer.isBuffer(Le)?Le:cg(Le);case"array":return typeof Le=="string"?hd(Le):Le}return Le}var ce;function Q(Ee){try{var _e=Ee.InflateRaw,Le=new _e;if(Le._processChunk(new Uint8Array([3,0]),Le._finishFlushFlag),Le.bytesRead)ce=Ee;else throw new Error("zlib does not expose bytesRead")}catch(Me){console.error("cannot use native zlib: "+(Me.message||Me))}}function Y(Ee,_e){if(!ce)return or(Ee,_e);var Le=ce.InflateRaw,Me=new Le,He=Me._processChunk(Ee.slice(Ee.l),Me._finishFlushFlag);return Ee.l+=Me.bytesRead,He}function X(Ee){return ce?ce.deflateRawSync(Ee):hn(Ee)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(Ee){var _e=(Ee<<1|Ee<<11)&139536|(Ee<<5|Ee<<15)&558144;return(_e>>16|_e>>8|_e)&255}for(var Ne=typeof Uint8Array<"u",Ue=Ne?new Uint8Array(256):[],Ye=0;Ye<256;++Ye)Ue[Ye]=ke(Ye);function ve(Ee,_e){var Le=Ue[Ee&255];return _e<=8?Le>>>8-_e:(Le=Le<<8|Ue[Ee>>8&255],_e<=16?Le>>>16-_e:(Le=Le<<8|Ue[Ee>>16&255],Le>>>24-_e))}function gt(Ee,_e){var Le=_e&7,Me=_e>>>3;return(Ee[Me]|(Le<=6?0:Ee[Me+1]<<8))>>>Le&3}function yt(Ee,_e){var Le=_e&7,Me=_e>>>3;return(Ee[Me]|(Le<=5?0:Ee[Me+1]<<8))>>>Le&7}function Fe(Ee,_e){var Le=_e&7,Me=_e>>>3;return(Ee[Me]|(Le<=4?0:Ee[Me+1]<<8))>>>Le&15}function Nt(Ee,_e){var Le=_e&7,Me=_e>>>3;return(Ee[Me]|(Le<=3?0:Ee[Me+1]<<8))>>>Le&31}function nt(Ee,_e){var Le=_e&7,Me=_e>>>3;return(Ee[Me]|(Le<=1?0:Ee[Me+1]<<8))>>>Le&127}function Ct(Ee,_e,Le){var Me=_e&7,He=_e>>>3,Ve=(1<<Le)-1,At=Ee[He]>>>Me;return Le<8-Me||(At|=Ee[He+1]<<8-Me,Le<16-Me)||(At|=Ee[He+2]<<16-Me,Le<24-Me)||(At|=Ee[He+3]<<24-Me),At&Ve}function lt(Ee,_e,Le){var Me=_e&7,He=_e>>>3;return Me<=5?Ee[He]|=(Le&7)<<Me:(Ee[He]|=Le<<Me&255,Ee[He+1]=(Le&7)>>8-Me),_e+3}function Qt(Ee,_e,Le){var Me=_e&7,He=_e>>>3;return Le=(Le&1)<<Me,Ee[He]|=Le,_e+1}function ot(Ee,_e,Le){var Me=_e&7,He=_e>>>3;return Le<<=Me,Ee[He]|=Le&255,Le>>>=8,Ee[He+1]=Le,_e+8}function An(Ee,_e,Le){var Me=_e&7,He=_e>>>3;return Le<<=Me,Ee[He]|=Le&255,Le>>>=8,Ee[He+1]=Le&255,Ee[He+2]=Le>>>8,_e+16}function bn(Ee,_e){var Le=Ee.length,Me=2*Le>_e?2*Le:_e+5,He=0;if(Le>=_e)return Ee;if(Ti){var Ve=cz(Me);if(Ee.copy)Ee.copy(Ve);else for(;He<Ee.length;++He)Ve[He]=Ee[He];return Ve}else if(Ne){var At=new Uint8Array(Me);if(At.set)At.set(Ee);else for(;He<Le;++He)At[He]=Ee[He];return At}return Ee.length=Me,Ee}function Cn(Ee){for(var _e=new Array(Ee),Le=0;Le<Ee;++Le)_e[Le]=0;return _e}function Vn(Ee,_e,Le){var Me=1,He=0,Ve=0,At=0,Tt=0,ft=Ee.length,vt=Ne?new Uint16Array(32):Cn(32);for(Ve=0;Ve<32;++Ve)vt[Ve]=0;for(Ve=ft;Ve<Le;++Ve)Ee[Ve]=0;ft=Ee.length;var bt=Ne?new Uint16Array(ft):Cn(ft);for(Ve=0;Ve<ft;++Ve)vt[He=Ee[Ve]]++,Me<He&&(Me=He),bt[Ve]=0;for(vt[0]=0,Ve=1;Ve<=Me;++Ve)vt[Ve+16]=Tt=Tt+vt[Ve-1]<<1;for(Ve=0;Ve<ft;++Ve)Tt=Ee[Ve],Tt!=0&&(bt[Ve]=vt[Tt+16]++);var Xt=0;for(Ve=0;Ve<ft;++Ve)if(Xt=Ee[Ve],Xt!=0)for(Tt=ve(bt[Ve],Me)>>Me-Xt,At=(1<<Me+4-Xt)-1;At>=0;--At)_e[Tt|At<<Xt]=Xt&15|Ve<<4;return Me}var Sn=Ne?new Uint16Array(512):Cn(512),tr=Ne?new Uint16Array(32):Cn(32);if(!Ne){for(var xn=0;xn<512;++xn)Sn[xn]=0;for(xn=0;xn<32;++xn)tr[xn]=0}(function(){for(var Ee=[],_e=0;_e<32;_e++)Ee.push(5);Vn(Ee,tr,32);var Le=[];for(_e=0;_e<=143;_e++)Le.push(8);for(;_e<=255;_e++)Le.push(9);for(;_e<=279;_e++)Le.push(7);for(;_e<=287;_e++)Le.push(8);Vn(Le,Sn,288)})();var Ht=(function(){for(var _e=Ne?new Uint8Array(32768):[],Le=0,Me=0;Le<Ce.length-1;++Le)for(;Me<Ce[Le+1];++Me)_e[Me]=Le;for(;Me<32768;++Me)_e[Me]=29;var He=Ne?new Uint8Array(259):[];for(Le=0,Me=0;Le<oe.length-1;++Le)for(;Me<oe[Le+1];++Me)He[Me]=Le;function Ve(Tt,ft){for(var vt=0;vt<Tt.length;){var bt=Math.min(65535,Tt.length-vt),Xt=vt+bt==Tt.length;for(ft.write_shift(1,+Xt),ft.write_shift(2,bt),ft.write_shift(2,~bt&65535);bt-- >0;)ft[ft.l++]=Tt[vt++]}return ft.l}function At(Tt,ft){for(var vt=0,bt=0,Xt=Ne?new Uint16Array(32768):[];bt<Tt.length;){var an=Math.min(65535,Tt.length-bt);if(an<10){for(vt=lt(ft,vt,+(bt+an==Tt.length)),vt&7&&(vt+=8-(vt&7)),ft.l=vt/8|0,ft.write_shift(2,an),ft.write_shift(2,~an&65535);an-- >0;)ft[ft.l++]=Tt[bt++];vt=ft.l*8;continue}vt=lt(ft,vt,+(bt+an==Tt.length)+2);for(var on=0;an-- >0;){var fn=Tt[bt];on=(on<<5^fn)&32767;var vn=-1,On=0;if((vn=Xt[on])&&(vn|=bt&-32768,vn>bt&&(vn-=32768),vn<bt))for(;Tt[vn+On]==Tt[bt+On]&&On<250;)++On;if(On>2){fn=He[On],fn<=22?vt=ot(ft,vt,Ue[fn+1]>>1)-1:(ot(ft,vt,3),vt+=5,ot(ft,vt,Ue[fn-23]>>5),vt+=3);var Pt=fn<8?0:fn-4>>2;Pt>0&&(An(ft,vt,On-oe[fn]),vt+=Pt),fn=_e[bt-vn],vt=ot(ft,vt,Ue[fn]>>3),vt-=3;var Un=fn<4?0:fn-2>>1;Un>0&&(An(ft,vt,bt-vn-Ce[fn]),vt+=Un);for(var ir=0;ir<On;++ir)Xt[on]=bt&32767,on=(on<<5^Tt[bt])&32767,++bt;an-=On-1}else fn<=143?fn=fn+48:vt=Qt(ft,vt,1),vt=ot(ft,vt,Ue[fn]),Xt[on]=bt&32767,++bt}vt=ot(ft,vt,0)-1}return ft.l=(vt+7)/8|0,ft.l}return function(ft,vt){return ft.length<8?Ve(ft,vt):At(ft,vt)}})();function hn(Ee){var _e=oo(50+Math.floor(Ee.length*1.1)),Le=Ht(Ee,_e);return _e.slice(0,Le)}var rn=Ne?new Uint16Array(32768):Cn(32768),br=Ne?new Uint16Array(32768):Cn(32768),Tn=Ne?new Uint16Array(128):Cn(128),ut=1,yn=1;function un(Ee,_e){var Le=Nt(Ee,_e)+257;_e+=5;var Me=Nt(Ee,_e)+1;_e+=5;var He=Fe(Ee,_e)+4;_e+=4;for(var Ve=0,At=Ne?new Uint8Array(19):Cn(19),Tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ft=1,vt=Ne?new Uint8Array(8):Cn(8),bt=Ne?new Uint8Array(8):Cn(8),Xt=At.length,an=0;an<He;++an)At[ne[an]]=Ve=yt(Ee,_e),ft<Ve&&(ft=Ve),vt[Ve]++,_e+=3;var on=0;for(vt[0]=0,an=1;an<=ft;++an)bt[an]=on=on+vt[an-1]<<1;for(an=0;an<Xt;++an)(on=At[an])!=0&&(Tt[an]=bt[on]++);var fn=0;for(an=0;an<Xt;++an)if(fn=At[an],fn!=0){on=Ue[Tt[an]]>>8-fn;for(var vn=(1<<7-fn)-1;vn>=0;--vn)Tn[on|vn<<fn]=fn&7|an<<3}var On=[];for(ft=1;On.length<Le+Me;)switch(on=Tn[nt(Ee,_e)],_e+=on&7,on>>>=3){case 16:for(Ve=3+gt(Ee,_e),_e+=2,on=On[On.length-1];Ve-- >0;)On.push(on);break;case 17:for(Ve=3+yt(Ee,_e),_e+=3;Ve-- >0;)On.push(0);break;case 18:for(Ve=11+nt(Ee,_e),_e+=7;Ve-- >0;)On.push(0);break;default:On.push(on),ft<on&&(ft=on);break}var Pt=On.slice(0,Le),Un=On.slice(Le);for(an=Le;an<286;++an)Pt[an]=0;for(an=Me;an<30;++an)Un[an]=0;return ut=Vn(Pt,rn,286),yn=Vn(Un,br,30),_e}function cn(Ee,_e){if(Ee[0]==3&&!(Ee[1]&3))return[u0(_e),2];for(var Le=0,Me=0,He=cz(_e||1<<18),Ve=0,At=He.length>>>0,Tt=0,ft=0;(Me&1)==0;){if(Me=yt(Ee,Le),Le+=3,Me>>>1)Me>>1==1?(Tt=9,ft=5):(Le=un(Ee,Le),Tt=ut,ft=yn);else{Le&7&&(Le+=8-(Le&7));var vt=Ee[Le>>>3]|Ee[(Le>>>3)+1]<<8;if(Le+=32,vt>0)for(!_e&&At<Ve+vt&&(He=bn(He,Ve+vt),At=He.length);vt-- >0;)He[Ve++]=Ee[Le>>>3],Le+=8;continue}for(;;){!_e&&At<Ve+32767&&(He=bn(He,Ve+32767),At=He.length);var bt=Ct(Ee,Le,Tt),Xt=Me>>>1==1?Sn[bt]:rn[bt];if(Le+=Xt&15,Xt>>>=4,(Xt>>>8&255)===0)He[Ve++]=Xt;else{if(Xt==256)break;Xt-=257;var an=Xt<8?0:Xt-4>>2;an>5&&(an=0);var on=Ve+oe[Xt];an>0&&(on+=Ct(Ee,Le,an),Le+=an),bt=Ct(Ee,Le,ft),Xt=Me>>>1==1?tr[bt]:br[bt],Le+=Xt&15,Xt>>>=4;var fn=Xt<4?0:Xt-2>>1,vn=Ce[Xt];for(fn>0&&(vn+=Ct(Ee,Le,fn),Le+=fn),!_e&&At<on&&(He=bn(He,on+100),At=He.length);Ve<on;)He[Ve]=He[Ve-vn],++Ve}}}return _e?[He,Le+7>>>3]:[He.slice(0,Ve),Le+7>>>3]}function or(Ee,_e){var Le=Ee.slice(Ee.l||0),Me=cn(Le,_e);return Ee.l+=Me[1],Me[0]}function zn(Ee,_e){if(Ee)typeof console<"u"&&console.error(_e);else throw new Error(_e)}function Kn(Ee,_e){var Le=Ee;Jo(Le,0);var Me=[],He=[],Ve={FileIndex:Me,FullPaths:He};L(Ve,{root:_e.root});for(var At=Le.length-4;(Le[At]!=80||Le[At+1]!=75||Le[At+2]!=5||Le[At+3]!=6)&&At>=0;)--At;Le.l=At+4,Le.l+=4;var Tt=Le.read_shift(2);Le.l+=6;var ft=Le.read_shift(4);for(Le.l=ft,At=0;At<Tt;++At){Le.l+=20;var vt=Le.read_shift(4),bt=Le.read_shift(4),Xt=Le.read_shift(2),an=Le.read_shift(2),on=Le.read_shift(2);Le.l+=8;var fn=Le.read_shift(4),vn=o(Le.slice(Le.l+Xt,Le.l+Xt+an));Le.l+=Xt+an+on;var On=Le.l;Le.l=fn+4,Qn(Le,vt,bt,Ve,vn),Le.l=On}return Ve}function Qn(Ee,_e,Le,Me,He){Ee.l+=2;var Ve=Ee.read_shift(2),At=Ee.read_shift(2),Tt=a(Ee);if(Ve&8257)throw new Error("Unsupported ZIP encryption");for(var ft=Ee.read_shift(4),vt=Ee.read_shift(4),bt=Ee.read_shift(4),Xt=Ee.read_shift(2),an=Ee.read_shift(2),on="",fn=0;fn<Xt;++fn)on+=String.fromCharCode(Ee[Ee.l++]);if(an){var vn=o(Ee.slice(Ee.l,Ee.l+an));(vn[21589]||{}).mt&&(Tt=vn[21589].mt),((He||{})[21589]||{}).mt&&(Tt=He[21589].mt)}Ee.l+=an;var On=Ee.slice(Ee.l,Ee.l+vt);switch(At){case 8:On=Y(Ee,bt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+At)}var Pt=!1;Ve&8&&(ft=Ee.read_shift(4),ft==134695760&&(ft=Ee.read_shift(4),Pt=!0),vt=Ee.read_shift(4),bt=Ee.read_shift(4)),vt!=_e&&zn(Pt,"Bad compressed size: "+_e+" != "+vt),bt!=Le&&zn(Pt,"Bad uncompressed size: "+Le+" != "+bt),xi(Me,on,On,{unsafe:!0,mt:Tt})}function Hn(Ee,_e){var Le=_e||{},Me=[],He=[],Ve=oo(1),At=Le.compression?8:0,Tt=0,ft=0,vt=0,bt=0,Xt=0,an=Ee.FullPaths[0],on=an,fn=Ee.FileIndex[0],vn=[],On=0;for(ft=1;ft<Ee.FullPaths.length;++ft)if(on=Ee.FullPaths[ft].slice(an.length),fn=Ee.FileIndex[ft],!(!fn.size||!fn.content||on=="Sh33tJ5")){var Pt=bt,Un=oo(on.length);for(vt=0;vt<on.length;++vt)Un.write_shift(1,on.charCodeAt(vt)&127);Un=Un.slice(0,Un.l),vn[Xt]=yet.buf(fn.content,0);var ir=fn.content;At==8&&(ir=X(ir)),Ve=oo(30),Ve.write_shift(4,67324752),Ve.write_shift(2,20),Ve.write_shift(2,Tt),Ve.write_shift(2,At),fn.mt?s(Ve,fn.mt):Ve.write_shift(4,0),Ve.write_shift(-4,vn[Xt]),Ve.write_shift(4,ir.length),Ve.write_shift(4,fn.content.length),Ve.write_shift(2,Un.length),Ve.write_shift(2,0),bt+=Ve.length,Me.push(Ve),bt+=Un.length,Me.push(Un),bt+=ir.length,Me.push(ir),Ve=oo(46),Ve.write_shift(4,33639248),Ve.write_shift(2,0),Ve.write_shift(2,20),Ve.write_shift(2,Tt),Ve.write_shift(2,At),Ve.write_shift(4,0),Ve.write_shift(-4,vn[Xt]),Ve.write_shift(4,ir.length),Ve.write_shift(4,fn.content.length),Ve.write_shift(2,Un.length),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(4,0),Ve.write_shift(4,Pt),On+=Ve.l,He.push(Ve),On+=Un.length,He.push(Un),++Xt}return Ve=oo(22),Ve.write_shift(4,101010256),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(2,Xt),Ve.write_shift(2,Xt),Ve.write_shift(4,On),Ve.write_shift(4,bt),Ve.write_shift(2,0),_A([_A(Me),_A(He),Ve])}var kn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kr(Ee,_e){if(Ee.ctype)return Ee.ctype;var Le=Ee.name||"",Me=Le.match(/\.([^\.]+)$/);return Me&&kn[Me[1]]||_e&&(Me=(Le=_e).match(/[\.\\]([^\.\\])+$/),Me&&kn[Me[1]])?kn[Me[1]]:"application/octet-stream"}function ei(Ee){for(var _e=lz(Ee),Le=[],Me=0;Me<_e.length;Me+=76)Le.push(_e.slice(Me,Me+76));return Le.join(`\r
`)+`\r
`}function mi(Ee){var _e=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(vt){var bt=vt.charCodeAt(0).toString(16).toUpperCase();return"="+(bt.length==1?"0"+bt:bt)});_e=_e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_e.charAt(0)==`
`&&(_e="=0D"+_e.slice(1)),_e=_e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Le=[],Me=_e.split(`\r
`),He=0;He<Me.length;++He){var Ve=Me[He];if(Ve.length==0){Le.push("");continue}for(var At=0;At<Ve.length;){var Tt=76,ft=Ve.slice(At,At+Tt);ft.charAt(Tt-1)=="="?Tt--:ft.charAt(Tt-2)=="="?Tt-=2:ft.charAt(Tt-3)=="="&&(Tt-=3),ft=Ve.slice(At,At+Tt),At+=Tt,At<Ve.length&&(ft+="="),Le.push(ft)}}return Le.join(`\r
`)}function ii(Ee){for(var _e=[],Le=0;Le<Ee.length;++Le){for(var Me=Ee[Le];Le<=Ee.length&&Me.charAt(Me.length-1)=="=";)Me=Me.slice(0,Me.length-1)+Ee[++Le];_e.push(Me)}for(var He=0;He<_e.length;++He)_e[He]=_e[He].replace(/[=][0-9A-Fa-f]{2}/g,function(Ve){return String.fromCharCode(parseInt(Ve.slice(1),16))});return hd(_e.join(`\r
`))}function Ki(Ee,_e,Le){for(var Me="",He="",Ve="",At,Tt=0;Tt<10;++Tt){var ft=_e[Tt];if(!ft||ft.match(/^\s*$/))break;var vt=ft.match(/^(.*?):\s*([^\s].*)$/);if(vt)switch(vt[1].toLowerCase()){case"content-location":Me=vt[2].trim();break;case"content-type":Ve=vt[2].trim();break;case"content-transfer-encoding":He=vt[2].trim();break}}switch(++Tt,He.toLowerCase()){case"base64":At=hd(ru(_e.slice(Tt).join("")));break;case"quoted-printable":At=ii(_e.slice(Tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+He)}var bt=xi(Ee,Me.slice(Le.length),At,{unsafe:!0});Ve&&(bt.ctype=Ve)}function qn(Ee,_e){if(ge(Ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Le=_e&&_e.root||"",Me=(Ti&&Buffer.isBuffer(Ee)?Ee.toString("binary"):ge(Ee)).split(`\r
`),He=0,Ve="";for(He=0;He<Me.length;++He)if(Ve=Me[He],!!/^Content-Location:/i.test(Ve)&&(Ve=Ve.slice(Ve.indexOf("file")),Le||(Le=Ve.slice(0,Ve.lastIndexOf("/")+1)),Ve.slice(0,Le.length)!=Le))for(;Le.length>0&&(Le=Le.slice(0,Le.length-1),Le=Le.slice(0,Le.lastIndexOf("/")+1),Ve.slice(0,Le.length)!=Le););var At=(Me[1]||"").match(/boundary="(.*?)"/);if(!At)throw new Error("MAD cannot find boundary");var Tt="--"+(At[1]||""),ft=[],vt=[],bt={FileIndex:ft,FullPaths:vt};L(bt);var Xt,an=0;for(He=0;He<Me.length;++He){var on=Me[He];on!==Tt&&on!==Tt+"--"||(an++&&Ki(bt,Me.slice(Xt,He),Le),Xt=He)}return bt}function Di(Ee,_e){var Le=_e||{},Me=Le.boundary||"SheetJS";Me="------="+Me;for(var He=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Me.slice(2)+'"',"","",""],Ve=Ee.FullPaths[0],At=Ve,Tt=Ee.FileIndex[0],ft=1;ft<Ee.FullPaths.length;++ft)if(At=Ee.FullPaths[ft].slice(Ve.length),Tt=Ee.FileIndex[ft],!(!Tt.size||!Tt.content||At=="Sh33tJ5")){At=At.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(On){return"_x"+On.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(On){return"_u"+On.charCodeAt(0).toString(16)+"_"});for(var vt=Tt.content,bt=Ti&&Buffer.isBuffer(vt)?vt.toString("binary"):ge(vt),Xt=0,an=Math.min(1024,bt.length),on=0,fn=0;fn<=an;++fn)(on=bt.charCodeAt(fn))>=32&&on<128&&++Xt;var vn=Xt>=an*4/5;He.push(Me),He.push("Content-Location: "+(Le.root||"file:///C:/SheetJS/")+At),He.push("Content-Transfer-Encoding: "+(vn?"quoted-printable":"base64")),He.push("Content-Type: "+kr(Tt,At)),He.push(""),He.push(vn?mi(bt):ei(bt))}return He.push(Me+`--\r
`),He.join(`\r
`)}function ea(Ee){var _e={};return L(_e,Ee),_e}function xi(Ee,_e,Le,Me){var He=Me&&Me.unsafe;He||L(Ee);var Ve=!He&&Ri.find(Ee,_e);if(!Ve){var At=Ee.FullPaths[0];_e.slice(0,At.length)==At?At=_e:(At.slice(-1)!="/"&&(At+="/"),At=(At+_e).replace("//","/")),Ve={name:i(_e),type:2},Ee.FileIndex.push(Ve),Ee.FullPaths.push(At),He||Ri.utils.cfb_gc(Ee)}return Ve.content=Le,Ve.size=Le?Le.length:0,Me&&(Me.CLSID&&(Ve.clsid=Me.CLSID),Me.mt&&(Ve.mt=Me.mt),Me.ct&&(Ve.ct=Me.ct)),Ve}function Si(Ee,_e){L(Ee);var Le=Ri.find(Ee,_e);if(Le){for(var Me=0;Me<Ee.FileIndex.length;++Me)if(Ee.FileIndex[Me]==Le)return Ee.FileIndex.splice(Me,1),Ee.FullPaths.splice(Me,1),!0}return!1}function Rr(Ee,_e,Le){L(Ee);var Me=Ri.find(Ee,_e);if(Me){for(var He=0;He<Ee.FileIndex.length;++He)if(Ee.FileIndex[He]==Me)return Ee.FileIndex[He].name=i(Le),Ee.FullPaths[He]=Le,!0}return!1}function Yr(Ee){j(Ee,!0)}return t.find=G,t.read=O,t.parse=d,t.write=fe,t.writeFile=xe,t.utils={cfb_new:ea,cfb_add:xi,cfb_del:Si,cfb_mov:Rr,cfb_gc:Yr,ReadShift:Vv,CheckField:jie,prep_blob:Jo,bconcat:_A,use_zlib:Q,_deflateRaw:hn,_inflateRaw:or,consts:le},t})();function Cet(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Nh(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function jP(e){for(var t=[],n=Nh(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var kE=new Date(1899,11,30,0,0,0);function Zl(e,t){var n=e.getTime(),r=kE.getTime()+(e.getTimezoneOffset()-kE.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var xie=new Date,Eet=kE.getTime()+(xie.getTimezoneOffset()-kE.getTimezoneOffset())*6e4,mz=xie.getTimezoneOffset();function wN(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Eet),t.getTimezoneOffset()!==mz&&t.setTime(t.getTime()+(t.getTimezoneOffset()-mz)*6e4),t}function Net(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var xz=new Date("2017-02-19T19:06:09.000Z"),vie=isNaN(xz.getFullYear())?new Date("2/19/17"):xz,Tet=vie.getFullYear()==2017;function Uo(e,t){var n=new Date(e);if(Tet)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(vie.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function $p(e,t){if(Ti&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return yv(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return yv(sie(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return yv(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return yv(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function tl(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=tl(e[n]));return t}function Ca(e,t){for(var n="";n.length<t;)n+=e;return n}function yd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var Iet=["january","february","march","april","may","june","july","august","september","october","november","december"];function B1(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Iet.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var Fet=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function wie(e){return e?e.content&&e.type?$p(e.content,!0):e.data?vv(e.data):e.asNodeBuffer&&Ti?vv(e.asNodeBuffer().toString("binary")):e.asBinary?vv(e.asBinary()):e._data&&e._data.getContent?vv($p(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function bie(e){if(!e)return null;if(e.data)return az(e.data);if(e.asNodeBuffer&&Ti)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?az(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function ket(e){return e&&e.name.slice(-4)===".bin"?bie(e):wie(e)}function Cu(e,t){for(var n=e.FullPaths||Nh(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function UP(e,t){var n=Cu(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Wa(e,t,n){if(!n)return ket(UP(e,t));if(!t)return null;try{return Wa(e,t)}catch{return null}}function $c(e,t,n){if(!n)return wie(UP(e,t));if(!t)return null;try{return $c(e,t)}catch{return null}}function Bet(e,t,n){return bie(UP(e,t))}function vz(e){for(var t=e.FullPaths||Nh(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Ret(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Ti?r=cg(n):r=$Ze(n),Ri.utils.cfb_add(e,t,r)}Ri.utils.cfb_add(e,t,n)}else e.file(t,n)}function yie(e,t){switch(t.type){case"base64":return Ri.read(e,{type:"base64"});case"binary":return Ri.read(e,{type:"binary"});case"buffer":case"array":return Ri.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function bv(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Cie=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_et=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,wz=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Det=/<[^>]*>/g,_l=Cie.match(wz)?wz:Det,Pet=/<\w*:/,Met=/<(\/?)\w+:/;function Ur(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var a=e.match(_et),o=0,l="",c=0,d="",f="",p=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(p=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+p,f.length-p),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,r[d.toLowerCase()]=l;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(r[m]&&d.slice(o-3,o)=="ext")continue;r[m]=l,r[m.toLowerCase()]=l}}return r}function Rh(e){return e.replace(Met,"<$1")}var Sie={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Let=jP(Sie),Hi=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(o,l){return Sie[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),Oet=/[&<>'"]/g,jet=/[\u0000-\u001f]/g;function HP(e){var t=e+"";return t.replace(Oet,function(n){return Let[n]}).replace(/\n/g,"<br/>").replace(jet,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var bz=(function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function Ys(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function XF(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=e.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function yz(e){var t=u0(2*e.length),n,r,i=1,s=0,a=0,o;for(r=0;r<e.length;r+=i)i=1,(o=e.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(e.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(t[s++]=a&255,t[s++]=a>>>8,a=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function Cz(e){return cg(e,"binary").toString("utf8")}var jC="foo bar baz",Fs=Ti&&(Cz(jC)==XF(jC)&&Cz||yz(jC)==XF(jC)&&yz)||XF,yv=Ti?function(e){return cg(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Ow=(function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),Eie=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}})(),Uet=(function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),Het=/<\/?(?:vt:)?variant>/g,Get=/<(?:vt:)([^>]*)>([\s\S]*)</;function Sz(e,t){var n=Ur(e),r=e.match(Uet(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(Het,"").match(Get);a&&i.push({v:Fs(a[2]),t:a[1]})}),i}var Vet=/(^\s|\s$|\n)/;function Qet(e){return Nh(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function zet(e,t,n){return"<"+e+(n!=null?Qet(n):"")+(t!=null?(t.match(Vet)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function GP(e){if(Ti&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Fs(ug(MP(e)));throw new Error("Bad input format: expected Buffer or string")}var jw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Wet={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Ket=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function qet(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function $et(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,a=r?-t:t;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[n+o]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var Ez=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},Nz=Ti?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:cg(t)})):Ez(e)}:Ez,Tz=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(ff(e,i)));return r.join("").replace($l,"")},VP=Ti?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace($l,""):Tz(e,t,n)}:Tz,Iz=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},Nie=Ti?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):Iz(e,t,n)}:Iz,Fz=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(gm(e,i)));return r.join("")},kb=Ti?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):Fz(t,n,r)}:Fz,Tie=function(e,t){var n=Kc(e,t);return n>0?kb(e,t+4,t+4+n-1):""},Iie=Tie,Fie=function(e,t){var n=Kc(e,t);return n>0?kb(e,t+4,t+4+n-1):""},kie=Fie,Bie=function(e,t){var n=2*Kc(e,t);return n>0?kb(e,t+4,t+4+n-1):""},Rie=Bie,_ie=function(t,n){var r=Kc(t,n);return r>0?VP(t,n+4,n+4+r):""},Die=_ie,Pie=function(e,t){var n=Kc(e,t);return n>0?kb(e,t+4,t+4+n):""},Mie=Pie,Lie=function(e,t){return qet(e,t)},BE=Lie,Oie=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ti&&(Iie=function(t,n){if(!Buffer.isBuffer(t))return Tie(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},kie=function(t,n){if(!Buffer.isBuffer(t))return Fie(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},Rie=function(t,n){if(!Buffer.isBuffer(t))return Bie(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},Die=function(t,n){if(!Buffer.isBuffer(t))return _ie(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},Mie=function(t,n){if(!Buffer.isBuffer(t))return Pie(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},BE=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):Lie(t,n)},Oie=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var gm=function(e,t){return e[t]},ff=function(e,t){return e[t+1]*256+e[t]},Yet=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Kc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},$0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Xet=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Vv(e,t){var n="",r,i,s=[],a,o,l,c;switch(t){case"dbcs":if(c=this.l,Ti&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(ff(this,c)),c+=2;e*=2;break;case"utf8":n=kb(this,this.l,this.l+e);break;case"utf16le":e*=2,n=VP(this,this.l,this.l+e);break;case"wstr":return Vv.call(this,e,"dbcs");case"lpstr-ansi":n=Iie(this,this.l),e=4+Kc(this,this.l);break;case"lpstr-cp":n=kie(this,this.l),e=4+Kc(this,this.l);break;case"lpwstr":n=Rie(this,this.l),e=4+2*Kc(this,this.l);break;case"lpp4":e=4+Kc(this,this.l),n=Die(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Kc(this,this.l),n=Mie(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(a=gm(this,this.l+e++))!==0;)s.push(OC(a));n=s.join("");break;case"_wstr":for(e=0,n="";(a=ff(this,this.l+e))!==0;)s.push(OC(a)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=gm(this,c),this.l=c+1,o=Vv.call(this,e-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(OC(ff(this,c))),c+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=gm(this,c),this.l=c+1,o=Vv.call(this,e-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(OC(gm(this,c))),c+=1}n=s.join("");break;default:switch(e){case 1:return r=gm(this,this.l),this.l++,r;case 2:return r=(t==="i"?Yet:ff)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?$0:Xet)(this,this.l),this.l+=4,r):(i=Kc(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=BE(this,this.l):i=BE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=Nie(this,this.l,e);break}}return this.l+=e,n}var Jet=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Zet=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},ett=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function ttt(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)ett(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,Jet(this,t,this.l);break;case 8:if(r=8,n==="f"){$et(this,t,this.l);break}case 16:break;case-4:r=4,Zet(this,t,this.l);break}return this.l+=r,this}function jie(e,t){var n=Nie(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Jo(e,t){e.l=t,e.read_shift=Vv,e.chk=jie,e.write_shift=ttt}function kl(e,t){e.l+=t}function oo(e){var t=u0(e);return Jo(t,0),t}function $f(e,t,n){if(e){var r,i,s;Jo(e,e.l||0);for(var a=e.length,o=0,l=0;e.l<a;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=LE[o]||LE[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;l=e.l+s;var d=c.f&&c.f(e,s,n);if(e.l=l,t(d,c,o))return}}}function JB(){var e=[],t=Ti?256:2048,n=function(c){var d=oo(c);return Jo(d,0),d},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,t)))},a=function(){return i(),_A(e)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:o,end:a,_bufs:e}}function Qv(e,t,n){var r=tl(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function kz(e,t,n){var r=tl(e);return r.s=Qv(r.s,t.s,n),r.e=Qv(r.e,t.s,n),r}function zv(e,t){if(e.cRel&&e.c<0)for(e=tl(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=tl(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=qr(e);return!e.cRel&&e.cRel!=null&&(n=itt(n)),!e.rRel&&e.rRel!=null&&(n=ntt(n)),n}function JF(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+uo(e.s.c)+":"+(e.e.cRel?"":"$")+uo(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+nl(e.s.r)+":"+(e.e.rRel?"":"$")+nl(e.e.r):zv(e.s,t.biff)+":"+zv(e.e,t.biff)}function QP(e){return parseInt(rtt(e),10)-1}function nl(e){return""+(e+1)}function ntt(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rtt(e){return e.replace(/\$(\d+)$/,"$1")}function zP(e){for(var t=stt(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function uo(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function itt(e){return e.replace(/^([A-Z])/,"$$$1")}function stt(e){return e.replace(/^\$([A-Z])/,"$1")}function att(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kl(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function qr(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function nx(e){var t=e.indexOf(":");return t==-1?{s:Kl(e),e:Kl(e)}:{s:Kl(e.slice(0,t)),e:Kl(e.slice(t+1))}}function _i(e,t){return typeof t>"u"||typeof t=="number"?_i(e.s,e.e):(typeof e!="string"&&(e=qr(e)),typeof t!="string"&&(t=qr(t)),e==t?e:e+":"+t)}function Sa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function Bz(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vu(e.z,n?Zl(t):t)}catch{}try{return e.w=Vu((e.XF||{}).numFmtId||(n?14:0),n?Zl(t):t)}catch{return""+t}}function Pf(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?fg[e.v]||e.v:t==null?Bz(e,e.v):Bz(e,t))}function w0(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function Uie(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Kl(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Sa(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),a==-1&&(c.e.r=a=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var m={v:t[f][p]},w=a+f,y=o+p;if(c.s.r>w&&(c.s.r=w),c.s.c>y&&(c.s.c=y),c.e.r<w&&(c.e.r=w),c.e.c<y&&(c.e.c=y),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))m=t[f][p];else if(Array.isArray(m.v)&&(m.f=t[f][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Jr[14],r.cellDates?(m.t="d",m.w=Vu(m.z,Zl(m.v))):(m.t="n",m.v=Zl(m.v),m.w=Vu(m.z,m.v))):m.t="s";if(i)s[w]||(s[w]=[]),s[w][y]&&s[w][y].z&&(m.z=s[w][y].z),s[w][y]=m;else{var C=qr({c:y,r:w});s[C]&&s[C].z&&(m.z=s[C].z),s[C]=m}}}return c.s.c<1e7&&(s["!ref"]=_i(c)),s}function rx(e,t){return Uie(null,e,t)}function ott(e){return e.read_shift(4,"i")}function Fl(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ltt(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function WP(e,t){var n=e.l,r=e.read_shift(1),i=Fl(e),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(ltt(e));a.r=s}else a.r=[{ich:0,ifnt:0}];return e.l=n+t,a}var ctt=WP;function Wu(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function dg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var utt=Fl;function KP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var dtt=Fl,ZB=KP;function qP(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?BE([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):$0(t,0)>>2;return n?i/100:i}function Hie(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var hg=Hie;function El(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function htt(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),a=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=Ep[i];c&&(t.rgb=Hw(c));break;case 2:t.rgb=Hw([a,o,l]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function ftt(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function Gie(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Att(e){return Gie(e,1)}function ptt(e){return Gie(e,2)}var $P=2,bc=3,UC=11,Rz=12,RE=19,HC=64,gtt=65,mtt=71,xtt=4108,vtt=4126,Do=80,Vie=81,wtt=[Do,Vie],btt={1:{n:"CodePage",t:$P},2:{n:"Category",t:Do},3:{n:"PresentationFormat",t:Do},4:{n:"ByteCount",t:bc},5:{n:"LineCount",t:bc},6:{n:"ParagraphCount",t:bc},7:{n:"SlideCount",t:bc},8:{n:"NoteCount",t:bc},9:{n:"HiddenCount",t:bc},10:{n:"MultimediaClipCount",t:bc},11:{n:"ScaleCrop",t:UC},12:{n:"HeadingPairs",t:xtt},13:{n:"TitlesOfParts",t:vtt},14:{n:"Manager",t:Do},15:{n:"Company",t:Do},16:{n:"LinksUpToDate",t:UC},17:{n:"CharacterCount",t:bc},19:{n:"SharedDoc",t:UC},22:{n:"HyperlinksChanged",t:UC},23:{n:"AppVersion",t:bc,p:"version"},24:{n:"DigSig",t:gtt},26:{n:"ContentType",t:Do},27:{n:"ContentStatus",t:Do},28:{n:"Language",t:Do},29:{n:"Version",t:Do},255:{},2147483648:{n:"Locale",t:RE},2147483651:{n:"Behavior",t:RE},1919054434:{}},ytt={1:{n:"CodePage",t:$P},2:{n:"Title",t:Do},3:{n:"Subject",t:Do},4:{n:"Author",t:Do},5:{n:"Keywords",t:Do},6:{n:"Comments",t:Do},7:{n:"Template",t:Do},8:{n:"LastAuthor",t:Do},9:{n:"RevNumber",t:Do},10:{n:"EditTime",t:HC},11:{n:"LastPrinted",t:HC},12:{n:"CreatedDate",t:HC},13:{n:"ModifiedDate",t:HC},14:{n:"PageCount",t:bc},15:{n:"WordCount",t:bc},16:{n:"CharCount",t:bc},17:{n:"Thumbnail",t:mtt},18:{n:"Application",t:Do},19:{n:"DocSecurity",t:bc},255:{},2147483648:{n:"Locale",t:RE},2147483651:{n:"Behavior",t:RE},1919054434:{}},_z={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ctt=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Stt(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ett=Stt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ep=tl(Ett),fg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Qie={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Dz={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Ntt(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Ttt(e){var t=Ntt();if(!e||!e.match)return t;var n={};if((e.match(_l)||[]).forEach(function(r){var i=Ur(r);switch(i[0].replace(Pet,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[Dz[i.ContentType]]!==void 0&&t[Dz[i.ContentType]].push(i.PartName);break}}),t.xmlns!==Wet.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var Rm={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function eR(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Wv(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(_l)||[]).forEach(function(i){var s=Ur(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:bv(s.Target,t);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}var Itt="application/vnd.oasis.opendocument.spreadsheet";function Ftt(e,t){for(var n=GP(e),r,i;r=jw.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Ur(r[0],!1),i.path=="/"&&i.type!==Itt)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var Kv=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ktt=(function(){for(var e=new Array(Kv.length),t=0;t<Kv.length;++t){var n=Kv[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function zie(e){var t={};e=Fs(e);for(var n=0;n<Kv.length;++n){var r=Kv[n],i=e.match(ktt[n]);i!=null&&i.length>0&&(t[r[1]]=Hi(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Uo(t[r[1]]))}return t}var Btt=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Wie(e,t,n,r){var i=[];if(typeof e=="string")i=Sz(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(d){return{v:d}}));var a=typeof t=="string"?Sz(t,r).map(function(d){return d.v}):t,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function Rtt(e,t,n){var r={};return t||(t={}),e=Fs(e),Btt.forEach(function(i){var s=(e.match(Ow(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Hi(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var a=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Wie(r.HeadingPairs,r.TitlesOfParts,t,n),t}var _tt=/<[^>]+>[^<]*/g;function Dtt(e,t){var n={},r="",i=e.match(_tt);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Ur(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Hi(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Hi(d);break;case"bool":n[r]=Ys(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=Uo(d);break;case"cy":case"error":n[r]=Hi(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return n}var Ptt={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},ZF;function Mtt(e,t,n){ZF||(ZF=jP(Ptt)),t=ZF[t]||t,e[t]=n}function YP(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Kie(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function qie(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function $ie(e,t,n){return t===31?qie(e):Kie(e,t,n)}function tR(e,t,n){return $ie(e,t,n===!1?0:4)}function Ltt(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return $ie(e,t,0)}function Ott(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace($l,""),e.l-i&2&&(e.l+=2)}return n}function jtt(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace($l,"");return n}function Utt(e){var t=e.l,n=_E(e,Vie);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=_E(e,bc);return[n,r]}function Htt(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(Utt(e));return n}function Pz(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),a=e.read_shift(4);r[s]=e.read_shift(a,t===1200?"utf16le":"utf8").replace($l,"").replace(wv,"!"),t===1200&&a%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function Yie(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function Gtt(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function _E(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==Rz&&r!==t&&wtt.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===Rz?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return Kie(e,r,4).replace($l,"");case 31:return qie(e);case 64:return YP(e);case 65:return Yie(e);case 71:return Gtt(e);case 80:return tR(e,r,!s.raw).replace($l,"");case 81:return Ltt(e,r).replace($l,"");case 4108:return Htt(e);case 4126:case 4127:return r==4127?Ott(e):jtt(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function Mz(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var d=e.read_shift(4),f=e.read_shift(4);s[a]=[d,f+n]}s.sort(function(k,R){return k[1]-R[1]});var p={};for(a=0;a!=i;++a){if(e.l!==s[a][1]){var m=!0;if(a>0&&t)switch(t[s[a-1][0]].t){case 2:e.l+2===s[a][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[a][1]&&(e.l=s[a][1],m=!1);break;case 4108:e.l<=s[a][1]&&(e.l=s[a][1],m=!1);break}if((!t||a==0)&&e.l<=s[a][1]&&(m=!1,e.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+e.l+" :"+a)}if(t){var w=t[s[a][0]];if(p[w.n]=_E(e,w.t,{raw:!0}),w.p==="version"&&(p[w.n]=String(p[w.n]>>16)+"."+("0000"+String(p[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(p[w.n]){case 0:p[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ad(o=p[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[w.n])}}else if(s[a][0]===1){if(o=p.CodePage=_E(e,$P),Ad(o),l!==-1){var y=e.l;e.l=s[l][1],c=Pz(e,o),e.l=y}}else if(s[a][0]===0){if(o===0){l=a,e.l=s[a+1][1];continue}c=Pz(e,o)}else{var C=c[s[a][0]],T;switch(e[e.l]){case 65:e.l+=4,T=Yie(e);break;case 30:e.l+=4,T=tR(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,T=tR(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,T=e.read_shift(4,"i");break;case 19:e.l+=4,T=e.read_shift(4);break;case 5:e.l+=4,T=e.read_shift(8,"f");break;case 11:e.l+=4,T=Da(e,4);break;case 64:e.l+=4,T=Uo(YP(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[C]=T}}return e.l=n+r,p}function Lz(e,t,n){var r=e.content;if(!r)return{};Jo(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==Ri.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=Mz(r,t),p={SystemIdentifier:c};for(var m in f)p[m]=f[m];if(p.FMTID=s,i===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var w;try{w=Mz(r,null)}catch{}for(m in w)p[m]=w[m];return p.FMTID=[s,a],p}function EA(e,t){return e.read_shift(t),null}function Vtt(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Da(e,t){return e.read_shift(t)===1}function Ka(e){return e.read_shift(2,"u")}function Xie(e,t){return Vtt(e,t,Ka)}function Qtt(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function Bb(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?e.read_shift(r,i):"";return a}function ztt(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=e.read_shift(2)),r&&(o=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,c);return i&&(e.l+=4*a),r&&(e.l+=o),l.t=d,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Yp(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Rb(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Yp(e,r,n)}function Ag(e,t,n){if(n.biff>5)return Rb(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Wtt(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function Ktt(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace($l,"");return r&&(e.l+=24),i}function qtt(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=e.read_shift(s>>1,"utf16le").replace($l,"");return n+a}function $tt(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return Ktt(e);case"0303000000000000c000000000000046":return qtt(e);default:throw new Error("Unsupported Moniker "+n)}}function GC(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace($l,""):"";return n}function Ytt(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,a,o,l,c="",d,f;i&16&&(s=GC(e,n-e.l)),i&128&&(a=GC(e,n-e.l)),(i&257)===257&&(o=GC(e,n-e.l)),(i&257)===1&&(l=$tt(e,n-e.l)),i&8&&(c=GC(e,n-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(f=YP(e)),e.l=n;var p=a||o||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function Jie(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function Zie(e,t){var n=Jie(e);return n[3]=0,n}function _h(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function Xtt(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function Jtt(e,t,n){return t===0?"":Ag(e,t,n)}function Ztt(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),a=e.read_shift(r,"i");return[i,s,a]}function ese(e){var t=e.read_shift(2),n=qP(e);return[t,n]}function ent(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=Bb(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function bN(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function tse(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var tnt=tse;function nse(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function nnt(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function rnt(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function xl(e){e.l+=2,e.l+=e.read_shift(2)}var int={0:xl,4:xl,5:xl,6:xl,7:rnt,8:xl,9:xl,10:xl,11:xl,12:xl,13:nnt,14:xl,15:xl,16:xl,17:xl,18:xl,19:xl,20:xl,21:nse};function snt(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(int[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function VC(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function ant(e,t){return t===0||e.read_shift(2),1200}function ont(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=Ag(e,0,n);return e.read_shift(t+r-e.l),i}function lnt(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function cnt(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Bb(e,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function unt(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],a=0;a!=i&&e.l<n;++a)s.push(ztt(e));return s.Count=r,s.Unique=i,s}function dnt(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function hnt(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function fnt(e){var t=Xtt(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function Ant(e){return e.read_shift(2),e.read_shift(4)}function Oz(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function pnt(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function gnt(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function mnt(){}function xnt(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=Bb(e,0,n),r}function vnt(e){var t=_h(e);return t.isst=e.read_shift(4),t}function wnt(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=_h(e);n.biff==2&&e.l++;var s=Rb(e,r-e.l,n);return i.val=s,i}function bnt(e,t,n){var r=e.read_shift(2),i=Ag(e,0,n);return[r,i]}var ynt=Ag;function jz(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),a=e.read_shift(i),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function Cnt(e){var t=e.read_shift(2),n=e.read_shift(2),r=ese(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function Snt(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(ese(e));if(e.l!==n)throw new Error("MulRK read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function Ent(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var a=e.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function Nnt(e,t,n,r){var i={},s=e.read_shift(4),a=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return i.patternType=Ctt[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function Tnt(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=Nnt(e,t,r.fStyle,n),r}function Int(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Uz(e,t,n){var r=_h(e);(n.biff==2||t==9)&&++e.l;var i=Qtt(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function Fnt(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=_h(e),i=El(e);return r.val=i,r}var Hz=Jtt;function knt(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Yp(e,s),o=[];r>e.l;)o.push(Rb(e));return[s,i,a,o]}function Gz(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=ent(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var Bnt=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Vz(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),a=e.read_shift(1),o=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=Yp(e,a,n);i&32&&(c=Bnt[c.charCodeAt(0)]);var d=r-e.l;n&&n.biff==2&&--d;var f=r==e.l||o===0||!(d>0)?[]:hat(e,d,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function rse(e,t,n){if(n.biff<8)return Rnt(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(Ztt(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function Rnt(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=Bb(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function _nt(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=Yp(e,r,n),a=Yp(e,i,n);return[s,a]}function Dnt(e,t,n){var r=tse(e);e.l++;var i=e.read_shift(1);return t-=8,[fat(e,t,n),i,r]}function Qz(e,t,n){var r=tnt(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,uat(e,t,n)]}function Pnt(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function Mnt(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),o=Ag(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},o,a,s]}}function Lnt(e,t,n){return Mnt(e,t,n)}function Ont(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(bN(e));return n}function jnt(e,t,n){if(n&&n.biff<8)return Hnt(e,t,n);var r=nse(e),i=snt(e,t-22,r[1]);return{cmo:r,ft:i}}var Unt={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function Hnt(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var a=[];return a.push((Unt[r]||kl)(e,t,n)),{cmo:[i,r,s],ft:a}}function Gnt(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:a=Wtt(e,6,n);var o=e.read_shift(2);e.read_shift(2),Ka(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],f=Yp(e,e.lens[c+1]-e.lens[c]-1);if(i+=f,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function Vnt(e,t){var n=bN(e);e.l+=16;var r=Ytt(e,t-24);return[n,r]}function Qnt(e,t){e.read_shift(2);var n=bN(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace($l,""),[n,r]}function znt(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=_z[n]||n,n=e.read_shift(2),t[1]=_z[n]||n,t}function Wnt(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Zie(e));return n}function Knt(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Zie(e));return n}function qnt(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function ise(e,t,n){if(!n.cellStyles)return kl(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function $nt(e,t){var n={};return t<32||(e.l+=16,n.header=El(e),n.footer=El(e),e.l+=2),n}function Ynt(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}var Xnt=_h,Jnt=Xie,Znt=Rb;function ert(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function trt(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=_h(e);++e.l;var i=Ag(e,t-7,n);return r.t="str",r.val=i,r}function nrt(e){var t=_h(e);++e.l;var n=El(e);return t.t="n",t.val=n,t}function rrt(e){var t=_h(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function irt(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function srt(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function art(e,t,n){var r=e.l+t,i=_h(e),s=e.read_shift(2),a=Yp(e,s,n);return e.l=r,i.t="str",i.val=a,i}var ort=[2,3,48,49,131,139,140,245],zz=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=jP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],d=u0(1);switch(l.type){case"base64":d=hd(ru(o));break;case"binary":d=hd(o);break;case"buffer":case"array":d=o;break}Jo(d,0);var f=d.read_shift(1),p=!!(f&136),m=!1,w=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var y=0,C=521;f==2&&(y=d.read_shift(2)),d.l+=3,f!=2&&(y=d.read_shift(4)),y>1048576&&(y=1e6),f!=2&&(C=d.read_shift(2));var T=d.read_shift(2),k=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(k=e[d[d.l]]),d.l+=1,d.l+=2),w&&(d.l+=36);for(var R=[],P={},U=Math.min(d.length,f==2?521:C-10-(m?264:0)),O=w?32:11;d.l<U&&d[d.l]!=13;)switch(P={},P.name=Mw.utils.decode(k,d.slice(d.l,d.l+O)).replace(/[\u0000\r\n].*$/g,""),d.l+=O,P.type=String.fromCharCode(d.read_shift(1)),f!=2&&!w&&(P.offset=d.read_shift(4)),P.len=d.read_shift(1),f==2&&(P.offset=d.read_shift(2)),P.dec=d.read_shift(1),P.name.length&&R.push(P),f!=2&&(d.l+=w?13:14),P.type){case"B":(!m||P.len!=8)&&l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(d[d.l]!==13&&(d.l=C-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=C;var L=0,K=0;for(c[0]=[],K=0;K!=R.length;++K)c[0][K]=R[K].name;for(;y-- >0;){if(d[d.l]===42){d.l+=T;continue}for(++d.l,c[++L]=[],K=0,K=0;K!=R.length;++K){var j=d.slice(d.l,d.l+R[K].len);d.l+=R[K].len,Jo(j,0);var te=Mw.utils.decode(k,j);switch(R[K].type){case"C":te.trim().length&&(c[L][K]=te.replace(/\s+$/,""));break;case"D":te.length===8?c[L][K]=new Date(+te.slice(0,4),+te.slice(4,6)-1,+te.slice(6,8)):c[L][K]=te;break;case"F":c[L][K]=parseFloat(te.trim());break;case"+":case"I":c[L][K]=w?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(te.trim().toUpperCase()){case"Y":case"T":c[L][K]=!0;break;case"N":case"F":c[L][K]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+te+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[L][K]="##MEMO##"+(w?parseInt(te.trim(),10):j.read_shift(4));break;case"N":te=te.replace(/\u0000/g,"").trim(),te&&te!="."&&(c[L][K]=+te||0);break;case"@":c[L][K]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":c[L][K]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":c[L][K]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[L][K]=-j.read_shift(-8,"f");break;case"B":if(m&&R[K].len==8){c[L][K]=j.read_shift(8,"f");break}case"G":case"P":j.l+=R[K].len;break;case"0":if(R[K].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[K].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=R,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=rx(n(o,c),c);return d["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,d}function i(o,l){try{return w0(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Ad(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=JB(),f=lR(o,{header:1,raw:!0,cellDates:!0}),p=f[0],m=f.slice(1),w=o["!cols"]||[],y=0,C=0,T=0,k=1;for(y=0;y<p.length;++y){if(((w[y]||{}).DBF||{}).name){p[y]=w[y].DBF.name,++T;continue}if(p[y]!=null){if(++T,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(C=0;C<1024;++C)if(p.indexOf(p[y]+"_"+C)==-1){p[y]+="_"+C;break}}}}var R=Sa(o["!ref"]),P=[],U=[],O=[];for(y=0;y<=R.e.c-R.s.c;++y){var L="",K="",j=0,te=[];for(C=0;C<m.length;++C)m[C][y]!=null&&te.push(m[C][y]);if(te.length==0||p[y]==null){P[y]="?";continue}for(C=0;C<te.length;++C){switch(typeof te[C]){case"number":K="B";break;case"string":K="C";break;case"boolean":K="L";break;case"object":K=te[C]instanceof Date?"D":"C";break;default:K="C"}j=Math.max(j,String(te[C]).length),L=L&&L!=K?"C":K}j>250&&(j=250),K=((w[y]||{}).DBF||{}).type,K=="C"&&w[y].DBF.len>j&&(j=w[y].DBF.len),L=="B"&&K=="N"&&(L="N",O[y]=w[y].DBF.dec,j=w[y].DBF.len),U[y]=L=="C"||K=="N"?j:s[L]||0,k+=U[y],P[y]=L}var G=d.next(32);for(G.write_shift(4,318902576),G.write_shift(4,m.length),G.write_shift(2,296+32*T),G.write_shift(2,k),y=0;y<4;++y)G.write_shift(4,0);for(G.write_shift(4,0|(+t[rie]||3)<<8),y=0,C=0;y<p.length;++y)if(p[y]!=null){var V=d.next(32),re=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,re,"sbcs"),V.write_shift(1,P[y]=="?"?"C":P[y],"sbcs"),V.write_shift(4,C),V.write_shift(1,U[y]||s[P[y]]||0),V.write_shift(1,O[y]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),C+=U[y]||s[P[y]]||0}var ee=d.next(264);for(ee.write_shift(4,13),y=0;y<65;++y)ee.write_shift(4,0);for(y=0;y<m.length;++y){var ie=d.next(k);for(ie.write_shift(1,0),C=0;C<p.length;++C)if(p[C]!=null)switch(P[C]){case"L":ie.write_shift(1,m[y][C]==null?63:m[y][C]?84:70);break;case"B":ie.write_shift(8,m[y][C]||0,"f");break;case"N":var ue="0";for(typeof m[y][C]=="number"&&(ue=m[y][C].toFixed(O[C]||0)),T=0;T<U[C]-ue.length;++T)ie.write_shift(1,32);ie.write_shift(1,ue,"sbcs");break;case"D":m[y][C]?(ie.write_shift(4,("0000"+m[y][C].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(m[y][C].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+m[y][C].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var le=String(m[y][C]!=null?m[y][C]:"").slice(0,U[C]);for(ie.write_shift(1,le,"sbcs"),T=0;T<U[C]-le.length;++T)ie.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),lrt=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nh(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,m){var w=e[m];return typeof w=="number"?oz(w):w},r=function(p,m,w){var y=m.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return y==59?p:oz(y)};e["|"]=254;function i(p,m){switch(m.type){case"base64":return s(ru(p),m);case"binary":return s(p,m);case"buffer":return s(Ti&&Buffer.isBuffer(p)?p.toString("binary"):ug(p),m);case"array":return s($p(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var w=p.split(/[\n\r]+/),y=-1,C=-1,T=0,k=0,R=[],P=[],U=null,O={},L=[],K=[],j=[],te=0,G;for(+m.codepage>=0&&Ad(+m.codepage);T!==w.length;++T){te=0;var V=w[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),re=V.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),ee=re[0],ie;if(V.length>0)switch(ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":re[1].charAt(0)=="P"&&P.push(V.slice(3).replace(/;;/g,";"));break;case"C":var ue=!1,le=!1,xe=!1,ge=!1,fe=-1,ce=-1;for(k=1;k<re.length;++k)switch(re[k].charAt(0)){case"A":break;case"X":C=parseInt(re[k].slice(1))-1,le=!0;break;case"Y":for(y=parseInt(re[k].slice(1))-1,le||(C=0),G=R.length;G<=y;++G)R[G]=[];break;case"K":ie=re[k].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(yd(ie))?isNaN(B1(ie).getDate())||(ie=Uo(ie)):(ie=yd(ie),U!==null&&tx(U)&&(ie=wN(ie))),ue=!0;break;case"E":ge=!0;var Q=o1(re[k].slice(1),{r:y,c:C});R[y][C]=[R[y][C],Q];break;case"S":xe=!0,R[y][C]=[R[y][C],"S5S"];break;case"G":break;case"R":fe=parseInt(re[k].slice(1))-1;break;case"C":ce=parseInt(re[k].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}if(ue&&(R[y][C]&&R[y][C].length==2?R[y][C][0]=ie:R[y][C]=ie,U=null),xe){if(ge)throw new Error("SYLK shared formula cannot have own formula");var Y=fe>-1&&R[fe][ce];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");R[y][C][1]=Ase(Y[1],{r:y-fe,c:C-ce})}break;case"F":var X=0;for(k=1;k<re.length;++k)switch(re[k].charAt(0)){case"X":C=parseInt(re[k].slice(1))-1,++X;break;case"Y":for(y=parseInt(re[k].slice(1))-1,G=R.length;G<=y;++G)R[G]=[];break;case"M":te=parseInt(re[k].slice(1))/20;break;case"F":break;case"G":break;case"P":U=P[parseInt(re[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=re[k].slice(1).split(" "),G=parseInt(j[0],10);G<=parseInt(j[1],10);++G)te=parseInt(j[2],10),K[G-1]=te===0?{hidden:!0}:{wch:te},R1(K[G-1]);break;case"C":C=parseInt(re[k].slice(1))-1,K[C]||(K[C]={});break;case"R":y=parseInt(re[k].slice(1))-1,L[y]||(L[y]={}),te>0?(L[y].hpt=te,L[y].hpx=Gw(te)):te===0&&(L[y].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}X<1&&(U=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}}return L.length>0&&(O["!rows"]=L),K.length>0&&(O["!cols"]=K),m&&m.sheetRows&&(R=R.slice(0,m.sheetRows)),[R,O]}function a(p,m){var w=i(p,m),y=w[0],C=w[1],T=rx(y,m);return Nh(C).forEach(function(k){T[k]=C[k]}),T}function o(p,m){return w0(a(p,m),m)}function l(p,m,w,y){var C="C;Y"+(w+1)+";X"+(y+1)+";K";switch(p.t){case"n":C+=p.v||0,p.f&&!p.F&&(C+=";E"+qit(p.f,{r:w,c:y}));break;case"b":C+=p.v?"TRUE":"FALSE";break;case"e":C+=p.w||p.v;break;case"d":C+='"'+(p.w||p.v)+'"';break;case"s":C+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(p,m){m.forEach(function(w,y){var C="F;W"+(y+1)+" "+(y+1)+" ";w.hidden?C+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=PE(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=ME(w.wpx)),typeof w.wch=="number"&&(C+=Math.round(w.wch))),C.charAt(C.length-1)!=" "&&p.push(C)})}function d(p,m){m.forEach(function(w,y){var C="F;";w.hidden?C+="M0;":w.hpt?C+="M"+20*w.hpt+";":w.hpx&&(C+="M"+20*dse(w.hpx)+";"),C.length>2&&p.push(C+"R"+(y+1))})}function f(p,m){var w=["ID;PWXL;N;E"],y=[],C=Sa(p["!ref"]),T,k=Array.isArray(p),R=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),p["!cols"]&&c(w,p["!cols"]),p["!rows"]&&d(w,p["!rows"]),w.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var P=C.s.r;P<=C.e.r;++P)for(var U=C.s.c;U<=C.e.c;++U){var O=qr({r:P,c:U});T=k?(p[P]||[])[U]:p[O],!(!T||T.v==null&&(!T.f||T.F))&&y.push(l(T,p,P,U))}return w.join(R)+R+y.join(R)+R+"E"+R}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),crt=(function(){function e(s,a){switch(a.type){case"base64":return t(ru(s),a);case"binary":return t(s,a);case"buffer":return t(Ti&&Buffer.isBuffer(s)?s.toString("binary"):ug(s),a);case"array":return t($p(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){for(var o=s.split(`
`),l=-1,c=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var p=o[d].trim().split(","),m=p[0],w=p[1];++d;for(var y=o[d]||"";(y.match(/["]/g)||[]).length&1&&d<o.length-1;)y+=`
`+o[++d];switch(y=y.trim(),+m){case-1:if(y==="BOT"){f[++l]=[],c=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?f[l][c]=!0:y==="FALSE"?f[l][c]=!1:isNaN(yd(w))?isNaN(B1(w).getDate())?f[l][c]=w:f[l][c]=Uo(w):f[l][c]=yd(w),++c;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),f[l][c++]=y!==""?y:null;break}if(y==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return rx(e(s,a),a)}function r(s,a){return w0(n(s,a),a)}var i=(function(){var s=function(l,c,d,f,p){l.push(c),l.push(d+","+f),l.push('"'+p.replace(/"/g,'""')+'"')},a=function(l,c,d,f){l.push(c+","+d),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],d=Sa(l["!ref"]),f,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){a(c,-1,0,"BOT");for(var w=d.s.c;w<=d.e.c;++w){var y=qr({r:m,c:w});if(f=p?(l[m]||[])[w]:l[y],!f){a(c,1,0,"");continue}switch(f.t){case"n":var C=f.w;!C&&f.v!=null&&(C=f.v),C==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,C,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Vu(f.z||Jr[14],Zl(Uo(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var T=`\r
`,k=c.join(T);return k}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),urt=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,p){for(var m=f.split(`
`),w=-1,y=-1,C=0,T=[];C!==m.length;++C){var k=m[C].trim().split(":");if(k[0]==="cell"){var R=Kl(k[1]);if(T.length<=R.r)for(w=T.length;w<=R.r;++w)T[w]||(T[w]=[]);switch(w=R.r,y=R.c,k[2]){case"t":T[w][y]=e(k[3]);break;case"v":T[w][y]=+k[3];break;case"vtf":var P=k[k.length-1];case"vtc":switch(k[3]){case"nl":T[w][y]=!!+k[4];break;default:T[w][y]=+k[4];break}k[2]=="vtf"&&(T[w][y]=[T[w][y],P])}}}return p&&p.sheetRows&&(T=T.slice(0,p.sheetRows)),T}function r(f,p){return rx(n(f,p),p)}function i(f,p){return w0(r(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var p=[],m=[],w,y="",C=nx(f["!ref"]),T=Array.isArray(f),k=C.s.r;k<=C.e.r;++k)for(var R=C.s.c;R<=C.e.c;++R)if(y=qr({r:k,c:R}),w=T?(f[k]||[])[R]:f[y],!(!w||w.v==null||w.t==="z")){switch(m=["cell",y,"t"],w.t){case"s":case"str":m.push(t(w.v));break;case"n":w.f?(m[2]="vtf",m[3]="n",m[4]=w.v,m[5]=t(w.f)):(m[2]="v",m[3]=w.v);break;case"b":m[2]="vt"+(w.f?"f":"c"),m[3]="nl",m[4]=w.v?"1":"0",m[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var P=Zl(Uo(w.v));m[2]="vtc",m[3]="nd",m[4]=""+P,m[5]=w.w||Vu(w.z||Jr[14],P);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}})(),Uw=(function(){function e(d,f,p,m,w){w.raw?f[p][m]=d:d===""||(d==="TRUE"?f[p][m]=!0:d==="FALSE"?f[p][m]=!1:isNaN(yd(d))?isNaN(B1(d).getDate())?f[p][m]=d:f[p][m]=Uo(d):f[p][m]=yd(d))}function t(d,f){var p=f||{},m=[];if(!d||d.length===0)return m;for(var w=d.split(/[\r\n]/),y=w.length-1;y>=0&&w[y].length===0;)--y;for(var C=10,T=0,k=0;k<=y;++k)T=w[k].indexOf(" "),T==-1?T=w[k].length:T++,C=Math.max(C,T);for(k=0;k<=y;++k){m[k]=[];var R=0;for(e(w[k].slice(0,C).trim(),m,k,R,p),R=1;R<=(w[k].length-C)/10+1;++R)e(w[k].slice(C+(R-1)*10,C+R*10).trim(),m,k,R,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var f={},p=!1,m=0,w=0;m<d.length;++m)(w=d.charCodeAt(m))==34?p=!p:!p&&w in n&&(f[w]=(f[w]||0)+1);w=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&w.push([f[m],m]);if(!w.length){f=r;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&w.push([f[m],m])}return w.sort(function(y,C){return y[0]-C[0]||r[y[1]]-r[C[1]]}),n[w.pop()[1]]||44}function s(d,f){var p=f||{},m="",w=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=i(d.slice(0,1024)):p&&p.FS?m=p.FS:m=i(d.slice(0,1024));var C=0,T=0,k=0,R=0,P=0,U=m.charCodeAt(0),O=!1,L=0,K=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var j=p.dateNF!=null?wet(p.dateNF):null;function te(){var G=d.slice(R,P),V={};if(G.charAt(0)=='"'&&G.charAt(G.length-1)=='"'&&(G=G.slice(1,-1).replace(/""/g,'"')),G.length===0)V.t="z";else if(p.raw)V.t="s",V.v=G;else if(G.trim().length===0)V.t="s",V.v=G;else if(G.charCodeAt(0)==61)G.charCodeAt(1)==34&&G.charCodeAt(G.length-1)==34?(V.t="s",V.v=G.slice(2,-1).replace(/""/g,'"')):Yit(G)?(V.t="n",V.f=G.slice(1)):(V.t="s",V.v=G);else if(G=="TRUE")V.t="b",V.v=!0;else if(G=="FALSE")V.t="b",V.v=!1;else if(!isNaN(k=yd(G)))V.t="n",p.cellText!==!1&&(V.w=G),V.v=k;else if(!isNaN(B1(G).getDate())||j&&G.match(j)){V.z=p.dateNF||Jr[14];var re=0;j&&G.match(j)&&(G=bet(G,p.dateNF,G.match(j)||[]),re=1),p.cellDates?(V.t="d",V.v=Uo(G,re)):(V.t="n",V.v=Zl(Uo(G,re))),p.cellText!==!1&&(V.w=Vu(V.z,V.v instanceof Date?Zl(V.v):V.v)),p.cellNF||delete V.z}else V.t="s",V.v=G;if(V.t=="z"||(p.dense?(w[C]||(w[C]=[]),w[C][T]=V):w[qr({c:T,r:C})]=V),R=P+1,K=d.charCodeAt(R),y.e.c<T&&(y.e.c=T),y.e.r<C&&(y.e.r=C),L==U)++T;else if(T=0,++C,p.sheetRows&&p.sheetRows<=C)return!0}e:for(;P<d.length;++P)switch(L=d.charCodeAt(P)){case 34:K===34&&(O=!O);break;case U:case 10:case 13:if(!O&&te())break e;break}return P-R>0&&te(),w["!ref"]=_i(y),w}function a(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):rx(t(d,f),f)}function o(d,f){var p="",m=f.type=="string"?[0,0,0,0]:iM(d,f);switch(f.type){case"base64":p=ru(d);break;case"binary":p=d;break;case"buffer":f.codepage==65001?p=d.toString("utf8"):f.codepage&&typeof Mw<"u"||(p=Ti&&Buffer.isBuffer(d)?d.toString("binary"):ug(d));break;case"array":p=$p(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Fs(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=Fs(p):f.type=="binary"&&typeof Mw<"u",p.slice(0,19)=="socialcalc:version:"?urt.to_sheet(f.type=="string"?p:Fs(p),f):a(p,f)}function l(d,f){return w0(o(d,f),f)}function c(d){for(var f=[],p=Sa(d["!ref"]),m,w=Array.isArray(d),y=p.s.r;y<=p.e.r;++y){for(var C=[],T=p.s.c;T<=p.e.c;++T){var k=qr({r:y,c:T});if(m=w?(d[y]||[])[T]:d[k],!m||m.v==null){C.push("          ");continue}for(var R=(m.w||(Pf(m),m.w)||"").slice(0,10);R.length<10;)R+=" ";C.push(R+(T===0?" ":""))}f.push(C.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function drt(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=lrt.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Uw.to_workbook(e,t)}}var qv=(function(){function e(Q,Y,X){if(Q){Jo(Q,Q.l||0);for(var ne=X.Enum||fe;Q.l<Q.length;){var oe=Q.read_shift(2),Ce=ne[oe]||ne[65535],ke=Q.read_shift(2),Ne=Q.l+ke,Ue=Ce.f&&Ce.f(Q,ke,X);if(Q.l=Ne,Y(Ue,Ce,oe))return}}}function t(Q,Y){switch(Y.type){case"base64":return n(hd(ru(Q)),Y);case"binary":return n(hd(Q),Y);case"buffer":case"array":return n(Q,Y)}throw"Unsupported type "+Y.type}function n(Q,Y){if(!Q)return Q;var X=Y||{},ne=X.dense?[]:{},oe="Sheet1",Ce="",ke=0,Ne={},Ue=[],Ye=[],ve={s:{r:0,c:0},e:{r:0,c:0}},gt=X.sheetRows||0;if(Q[2]==0&&(Q[3]==8||Q[3]==9)&&Q.length>=16&&Q[14]==5&&Q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Q[2]==2)X.Enum=fe,e(Q,function(nt,Ct,lt){switch(lt){case 0:X.vers=nt,nt>=4096&&(X.qpro=!0);break;case 6:ve=nt;break;case 204:nt&&(Ce=nt);break;case 222:Ce=nt;break;case 15:case 51:X.qpro||(nt[1].v=nt[1].v.slice(1));case 13:case 14:case 16:lt==14&&(nt[2]&112)==112&&(nt[2]&15)>1&&(nt[2]&15)<15&&(nt[1].z=X.dateNF||Jr[14],X.cellDates&&(nt[1].t="d",nt[1].v=wN(nt[1].v))),X.qpro&&nt[3]>ke&&(ne["!ref"]=_i(ve),Ne[oe]=ne,Ue.push(oe),ne=X.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},ke=nt[3],oe=Ce||"Sheet"+(ke+1),Ce="");var Qt=X.dense?(ne[nt[0].r]||[])[nt[0].c]:ne[qr(nt[0])];if(Qt){Qt.t=nt[1].t,Qt.v=nt[1].v,nt[1].z!=null&&(Qt.z=nt[1].z),nt[1].f!=null&&(Qt.f=nt[1].f);break}X.dense?(ne[nt[0].r]||(ne[nt[0].r]=[]),ne[nt[0].r][nt[0].c]=nt[1]):ne[qr(nt[0])]=nt[1];break}},X);else if(Q[2]==26||Q[2]==14)X.Enum=ce,Q[2]==14&&(X.qpro=!0,Q.l=0),e(Q,function(nt,Ct,lt){switch(lt){case 204:oe=nt;break;case 22:nt[1].v=nt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(nt[3]>ke&&(ne["!ref"]=_i(ve),Ne[oe]=ne,Ue.push(oe),ne=X.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},ke=nt[3],oe="Sheet"+(ke+1)),gt>0&&nt[0].r>=gt)break;X.dense?(ne[nt[0].r]||(ne[nt[0].r]=[]),ne[nt[0].r][nt[0].c]=nt[1]):ne[qr(nt[0])]=nt[1],ve.e.c<nt[0].c&&(ve.e.c=nt[0].c),ve.e.r<nt[0].r&&(ve.e.r=nt[0].r);break;case 27:nt[14e3]&&(Ye[nt[14e3][0]]=nt[14e3][1]);break;case 1537:Ye[nt[0]]=nt[1],nt[0]==ke&&(oe=nt[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+Q[2]);if(ne["!ref"]=_i(ve),Ne[Ce||oe]=ne,Ue.push(Ce||oe),!Ye.length)return{SheetNames:Ue,Sheets:Ne};for(var yt={},Fe=[],Nt=0;Nt<Ye.length;++Nt)Ne[Ue[Nt]]?(Fe.push(Ye[Nt]||Ue[Nt]),yt[Ye[Nt]]=Ne[Ye[Nt]]||Ne[Ue[Nt]]):(Fe.push(Ye[Nt]),yt[Ye[Nt]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:yt}}function r(Q,Y){var X=Y||{};if(+X.codepage>=0&&Ad(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=JB(),oe=Sa(Q["!ref"]),Ce=Array.isArray(Q),ke=[];od(ne,0,s(1030)),od(ne,6,l(oe));for(var Ne=Math.min(oe.e.r,8191),Ue=oe.s.r;Ue<=Ne;++Ue)for(var Ye=nl(Ue),ve=oe.s.c;ve<=oe.e.c;++ve){Ue===oe.s.r&&(ke[ve]=uo(ve));var gt=ke[ve]+Ye,yt=Ce?(Q[Ue]||[])[ve]:Q[gt];if(!(!yt||yt.t=="z"))if(yt.t=="n")(yt.v|0)==yt.v&&yt.v>=-32768&&yt.v<=32767?od(ne,13,m(Ue,ve,yt.v)):od(ne,14,y(Ue,ve,yt.v));else{var Fe=Pf(yt);od(ne,15,f(Ue,ve,Fe.slice(0,239)))}}return od(ne,1),ne.end()}function i(Q,Y){var X=Y||{};if(+X.codepage>=0&&Ad(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=JB();od(ne,0,a(Q));for(var oe=0,Ce=0;oe<Q.SheetNames.length;++oe)(Q.Sheets[Q.SheetNames[oe]]||{})["!ref"]&&od(ne,27,ge(Q.SheetNames[oe],Ce++));var ke=0;for(oe=0;oe<Q.SheetNames.length;++oe){var Ne=Q.Sheets[Q.SheetNames[oe]];if(!(!Ne||!Ne["!ref"])){for(var Ue=Sa(Ne["!ref"]),Ye=Array.isArray(Ne),ve=[],gt=Math.min(Ue.e.r,8191),yt=Ue.s.r;yt<=gt;++yt)for(var Fe=nl(yt),Nt=Ue.s.c;Nt<=Ue.e.c;++Nt){yt===Ue.s.r&&(ve[Nt]=uo(Nt));var nt=ve[Nt]+Fe,Ct=Ye?(Ne[yt]||[])[Nt]:Ne[nt];if(!(!Ct||Ct.t=="z"))if(Ct.t=="n")od(ne,23,te(yt,Nt,ke,Ct.v));else{var lt=Pf(Ct);od(ne,22,L(yt,Nt,ke,lt.slice(0,239)))}}++ke}}return od(ne,1),ne.end()}function s(Q){var Y=oo(2);return Y.write_shift(2,Q),Y}function a(Q){var Y=oo(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var X=0,ne=0,oe=0,Ce=0;Ce<Q.SheetNames.length;++Ce){var ke=Q.SheetNames[Ce],Ne=Q.Sheets[ke];if(!(!Ne||!Ne["!ref"])){++oe;var Ue=nx(Ne["!ref"]);X<Ue.e.r&&(X=Ue.e.r),ne<Ue.e.c&&(ne=Ue.e.c)}}return X>8191&&(X=8191),Y.write_shift(2,X),Y.write_shift(1,oe),Y.write_shift(1,ne),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(Q,Y,X){var ne={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&X.qpro?(ne.s.c=Q.read_shift(1),Q.l++,ne.s.r=Q.read_shift(2),ne.e.c=Q.read_shift(1),Q.l++,ne.e.r=Q.read_shift(2),ne):(ne.s.c=Q.read_shift(2),ne.s.r=Q.read_shift(2),Y==12&&X.qpro&&(Q.l+=2),ne.e.c=Q.read_shift(2),ne.e.r=Q.read_shift(2),Y==12&&X.qpro&&(Q.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function l(Q){var Y=oo(8);return Y.write_shift(2,Q.s.c),Y.write_shift(2,Q.s.r),Y.write_shift(2,Q.e.c),Y.write_shift(2,Q.e.r),Y}function c(Q,Y,X){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(ne[0].c=Q.read_shift(1),ne[3]=Q.read_shift(1),ne[0].r=Q.read_shift(2),Q.l+=2):(ne[2]=Q.read_shift(1),ne[0].c=Q.read_shift(2),ne[0].r=Q.read_shift(2)),ne}function d(Q,Y,X){var ne=Q.l+Y,oe=c(Q,Y,X);if(oe[1].t="s",X.vers==20768){Q.l++;var Ce=Q.read_shift(1);return oe[1].v=Q.read_shift(Ce,"utf8"),oe}return X.qpro&&Q.l++,oe[1].v=Q.read_shift(ne-Q.l,"cstr"),oe}function f(Q,Y,X){var ne=oo(7+X.length);ne.write_shift(1,255),ne.write_shift(2,Y),ne.write_shift(2,Q),ne.write_shift(1,39);for(var oe=0;oe<ne.length;++oe){var Ce=X.charCodeAt(oe);ne.write_shift(1,Ce>=128?95:Ce)}return ne.write_shift(1,0),ne}function p(Q,Y,X){var ne=c(Q,Y,X);return ne[1].v=Q.read_shift(2,"i"),ne}function m(Q,Y,X){var ne=oo(7);return ne.write_shift(1,255),ne.write_shift(2,Y),ne.write_shift(2,Q),ne.write_shift(2,X,"i"),ne}function w(Q,Y,X){var ne=c(Q,Y,X);return ne[1].v=Q.read_shift(8,"f"),ne}function y(Q,Y,X){var ne=oo(13);return ne.write_shift(1,255),ne.write_shift(2,Y),ne.write_shift(2,Q),ne.write_shift(8,X,"f"),ne}function C(Q,Y,X){var ne=Q.l+Y,oe=c(Q,Y,X);if(oe[1].v=Q.read_shift(8,"f"),X.qpro)Q.l=ne;else{var Ce=Q.read_shift(2);P(Q.slice(Q.l,Q.l+Ce),oe),Q.l+=Ce}return oe}function T(Q,Y,X){var ne=Y&32768;return Y&=-32769,Y=(ne?Q:0)+(Y>=8192?Y-16384:Y),(ne?"":"$")+(X?uo(Y):nl(Y))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(Q,Y){Jo(Q,0);for(var X=[],ne=0,oe="",Ce="",ke="",Ne="";Q.l<Q.length;){var Ue=Q[Q.l++];switch(Ue){case 0:X.push(Q.read_shift(8,"f"));break;case 1:Ce=T(Y[0].c,Q.read_shift(2),!0),oe=T(Y[0].r,Q.read_shift(2),!1),X.push(Ce+oe);break;case 2:{var Ye=T(Y[0].c,Q.read_shift(2),!0),ve=T(Y[0].r,Q.read_shift(2),!1);Ce=T(Y[0].c,Q.read_shift(2),!0),oe=T(Y[0].r,Q.read_shift(2),!1),X.push(Ye+ve+":"+Ce+oe)}break;case 3:if(Q.l<Q.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(Q.read_shift(2));break;case 6:{for(var gt="";Ue=Q[Q.l++];)gt+=String.fromCharCode(Ue);X.push('"'+gt.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:Ne=X.pop(),ke=X.pop(),X.push(["AND","OR"][Ue-20]+"("+ke+","+Ne+")");break;default:if(Ue<32&&R[Ue])Ne=X.pop(),ke=X.pop(),X.push(ke+R[Ue]+Ne);else if(k[Ue]){if(ne=k[Ue][1],ne==69&&(ne=Q[Q.l++]),ne>X.length){console.error("WK1 bad formula parse 0x"+Ue.toString(16)+":|"+X.join("|")+"|");return}var yt=X.slice(-ne);X.length-=ne,X.push(k[Ue][0]+"("+yt.join(",")+")")}else return Ue<=7?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=24?console.error("WK1 unsupported op "+Ue.toString(16)):Ue<=30?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=115?console.error("WK1 unsupported function opcode "+Ue.toString(16)):console.error("WK1 unrecognized opcode "+Ue.toString(16))}}X.length==1?Y[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function U(Q){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=Q.read_shift(2),Y[3]=Q[Q.l++],Y[0].c=Q[Q.l++],Y}function O(Q,Y){var X=U(Q);return X[1].t="s",X[1].v=Q.read_shift(Y-4,"cstr"),X}function L(Q,Y,X,ne){var oe=oo(6+ne.length);oe.write_shift(2,Q),oe.write_shift(1,X),oe.write_shift(1,Y),oe.write_shift(1,39);for(var Ce=0;Ce<ne.length;++Ce){var ke=ne.charCodeAt(Ce);oe.write_shift(1,ke>=128?95:ke)}return oe.write_shift(1,0),oe}function K(Q,Y){var X=U(Q);X[1].v=Q.read_shift(2);var ne=X[1].v>>1;if(X[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return X[1].v=ne,X}function j(Q,Y){var X=U(Q),ne=Q.read_shift(4),oe=Q.read_shift(4),Ce=Q.read_shift(2);if(Ce==65535)return ne===0&&oe===3221225472?(X[1].t="e",X[1].v=15):ne===0&&oe===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var ke=Ce&32768;return Ce=(Ce&32767)-16446,X[1].v=(1-ke*2)*(oe*Math.pow(2,Ce+32)+ne*Math.pow(2,Ce)),X}function te(Q,Y,X,ne){var oe=oo(14);if(oe.write_shift(2,Q),oe.write_shift(1,X),oe.write_shift(1,Y),ne==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Ce=0,ke=0,Ne=0,Ue=0;return ne<0&&(Ce=1,ne=-ne),ke=Math.log2(ne)|0,ne/=Math.pow(2,ke-31),Ue=ne>>>0,(Ue&2147483648)==0&&(ne/=2,++ke,Ue=ne>>>0),ne-=Ue,Ue|=2147483648,Ue>>>=0,ne*=Math.pow(2,32),Ne=ne>>>0,oe.write_shift(4,Ne),oe.write_shift(4,Ue),ke+=16383+(Ce?32768:0),oe.write_shift(2,ke),oe}function G(Q,Y){var X=j(Q);return Q.l+=Y-14,X}function V(Q,Y){var X=U(Q),ne=Q.read_shift(4);return X[1].v=ne>>6,X}function re(Q,Y){var X=U(Q),ne=Q.read_shift(8,"f");return X[1].v=ne,X}function ee(Q,Y){var X=re(Q);return Q.l+=Y-10,X}function ie(Q,Y){return Q[Q.l+Y-1]==0?Q.read_shift(Y,"cstr"):""}function ue(Q,Y){var X=Q[Q.l++];X>Y-1&&(X=Y-1);for(var ne="";ne.length<X;)ne+=String.fromCharCode(Q[Q.l++]);return ne}function le(Q,Y,X){if(!(!X.qpro||Y<21)){var ne=Q.read_shift(1);Q.l+=17,Q.l+=1,Q.l+=2;var oe=Q.read_shift(Y-21,"cstr");return[ne,oe]}}function xe(Q,Y){for(var X={},ne=Q.l+Y;Q.l<ne;){var oe=Q.read_shift(2);if(oe==14e3){for(X[oe]=[0,""],X[oe][0]=Q.read_shift(2);Q[Q.l];)X[oe][1]+=String.fromCharCode(Q[Q.l]),Q.l++;Q.l++}}return X}function ge(Q,Y){var X=oo(5+Q.length);X.write_shift(2,14e3),X.write_shift(2,Y);for(var ne=0;ne<Q.length;++ne){var oe=Q.charCodeAt(ne);X[X.l++]=oe>127?95:oe}return X[X.l++]=0,X}var fe={0:{n:"BOF",f:Ka},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:ue},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:K},25:{n:"FORMULA19",f:G},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:xe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:re},40:{n:"FORMULA28",f:ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}})();function hrt(e){var t={},n=e.match(_l),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Ur(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=DP[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var frt=(function(){var e=Ow("t"),t=Ow("rPr");function n(s){var a=s.match(e);if(!a)return{t:"s",v:""};var o={t:"s",v:Hi(a[1])},l=s.match(t);return l&&(o.s=hrt(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),Art=(function(){var t=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),prt=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,grt=/<(?:\w+:)?r>/,mrt=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function XP(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Hi(Fs(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Fs(e),n&&(r.h=HP(r.t))):e.match(grt)&&(r.r=Fs(e),r.t=Hi(Fs((e.replace(mrt,"").match(prt)||[]).join("").replace(_l,""))),n&&(r.h=Art(frt(r.r)))),r):{t:""}}var xrt=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,vrt=/<(?:\w+:)?(?:si|sstItem)>/g,wrt=/<\/(?:\w+:)?(?:si|sstItem)>/;function brt(e,t){var n=[],r="";if(!e)return n;var i=e.match(xrt);if(i){r=i[2].replace(vrt,"").split(wrt);for(var s=0;s!=r.length;++s){var a=XP(r[s].trim(),t);a!=null&&(n[n.length]=a)}i=Ur(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function yrt(e){return[e.read_shift(4),e.read_shift(4)]}function Crt(e,t){var n=[],r=!1;return $f(e,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function sse(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function yf(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function Srt(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=yf(e,4),t.U=yf(e,4),t.W=yf(e,4),t}function Ert(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function Nrt(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(Ert(e));return t}function Trt(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Irt(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=yf(e,4),t.U=yf(e,4),t.W=yf(e,4),t}function Frt(e){var t=Irt(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function ase(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function ose(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function krt(e){var t=yf(e);switch(t.Minor){case 2:return[t.Minor,Brt(e)];case 3:return[t.Minor,Rrt()];case 4:return[t.Minor,_rt(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Brt(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=ase(e,n),i=ose(e,e.length-e.l);return{t:"Std",h:r,v:i}}function Rrt(){throw new Error("File is password-protected: ECMA-376 Extensible")}function _rt(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(_l,function(s){var a=Ur(s);switch(Rh(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function Drt(e,t){var n={},r=n.EncryptionVersionInfo=yf(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=ase(e,i),t-=i,n.EncryptionVerifier=ose(e,t),n}function Prt(e){var t={},n=t.EncryptionVersionInfo=yf(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Mrt(e){var t=0,n,r=sse(e),i=r.length+1,s,a,o,l,c;for(n=u0(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(t&16384)===0?0:1,l=t<<1&32767,c=o|l,t=c^a;return t^52811}var lse=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=t[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var d=a[c],f=0;f!=7;++f)d&64&&(o^=n[l]),d*=2,--l;return o};return function(a){for(var o=sse(a),l=s(o),c=o.length,d=u0(16),f=0;f!=16;++f)d[f]=0;var p,m,w;for((c&1)===1&&(p=l>>8,d[c]=i(e[0],p),--c,p=l&255,m=o[o.length-1],d[c]=i(m,p));c>0;)--c,p=l>>8,d[c]=i(o[c],p),--c,p=l&255,d[c]=i(o[c],p);for(c=15,w=15-o.length;w>0;)p=l>>8,d[c]=i(e[w],p),--c,--w,p=l&255,d[c]=i(o[c],p),--c,--w;return d}})(),Lrt=function(e,t,n,r,i){i||(i=t),r||(r=lse(e));var s,a;for(s=0;s!=t.length;++s)a=t[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},Ort=function(e){var t=0,n=lse(e);return function(r){var i=Lrt("",r,t,n);return t=i[1],i[0]}};function jrt(e,t,n,r){var i={key:Ka(e),verificationBytes:Ka(e)};return n.password&&(i.verifier=Mrt(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=Ort(n.password)),i}function Urt(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=Prt(e):r.Data=Drt(e,t),r}function Hrt(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?Urt(e,t-2,r):jrt(e,n.biff>=8?t:t-2,n,r),r}var Grt=(function(){function e(i,s){switch(s.type){case"base64":return t(ru(i),s);case"binary":return t(i,s);case"buffer":return t(Ti&&Buffer.isBuffer(i)?i.toString("binary"):ug(i),s);case"array":return t($p(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var p=/\\\w+\b/g,m=0,w,y=-1;w=p.exec(d);){switch(w[0]){case"\\cell":var C=d.slice(m,p.lastIndex-w[0].length);if(C[0]==" "&&(C=C.slice(1)),++y,C.length){var T={v:C,t:"s"};Array.isArray(o)?o[f][y]=T:o[qr({r:f,c:y})]=T}break}m=p.lastIndex}y>c.e.c&&(c.e.c=y)}),o["!ref"]=_i(c),o}function n(i,s){return w0(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Sa(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var f=qr({r:c,c:d});o=l?(i[c]||[])[d]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Pf(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function Vrt(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Hw(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function Qrt(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=i-s;if(a===0)return[0,0,t];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case t:o=((n-r)/a+6)%6;break;case n:o=(r-t)/a+2;break;case r:o=(t-n)/a+4;break}return[o/6,l,c/2]}function zrt(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*t,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function DE(e,t){if(t===0)return e;var n=Qrt(Vrt(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Hw(zrt(n))}var cse=6,Wrt=15,Krt=1,Ql=cse;function PE(e){return Math.floor((e+Math.round(128/Ql)/256)*Ql)}function ME(e){return Math.floor((e-5)/Ql*100+.5)/100}function nR(e){return Math.round((e*Ql+5)/Ql*256)/256}function e3(e){return nR(ME(PE(e)))}function JP(e){var t=Math.abs(e-e3(e)),n=Ql;if(t>.005)for(Ql=Krt;Ql<Wrt;++Ql)Math.abs(e-e3(e))<=t&&(t=Math.abs(e-e3(e)),n=Ql);Ql=n}function R1(e){e.width?(e.wpx=PE(e.width),e.wch=ME(e.wpx),e.MDW=Ql):e.wpx?(e.wch=ME(e.wpx),e.width=nR(e.wch),e.MDW=Ql):typeof e.wch=="number"&&(e.width=nR(e.wch),e.wpx=PE(e.width),e.MDW=Ql),e.customWidth&&delete e.customWidth}var qrt=96,use=qrt;function dse(e){return e*96/use}function Gw(e){return e*use/96}var $rt={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Yrt(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(_l)||[]).forEach(function(a){var o=Ur(a);switch(Rh(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Ys(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Ys(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Xrt(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(_l)||[]).forEach(function(a){var o=Ur(a);switch(Rh(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function Jrt(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(_l)||[]).forEach(function(a){var o=Ur(a);switch(Rh(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Fs(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Ys(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Ys(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Ys(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Ys(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Ys(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Ys(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Ys(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=DP[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Ys(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Ep[i.color.index];i.color.index==81&&(l=Ep[1]),l||(l=Ep[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=DE(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Zrt(e,t,n){t.NumberFmt=[];for(var r=Nh(Jr),i=0;i<r.length;++i)t.NumberFmt[r[i]]=Jr[r[i]];var s=e[0].match(_l);if(s)for(i=0;i<s.length;++i){var a=Ur(s[i]);switch(Rh(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Hi(Fs(a.formatCode)),l=parseInt(a.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Sp(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var QC=["numFmtId","fillId","fontId","borderId","xfId"],zC=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function eit(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(_l)||[]).forEach(function(s){var a=Ur(s),o=0;switch(Rh(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<QC.length;++o)r[QC[o]]&&(r[QC[o]]=parseInt(r[QC[o]],10));for(o=0;o<zC.length;++o)r[zC[o]]&&(r[zC[o]]=Ys(r[zC[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=Ys(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var tit=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Zrt(f,d,c),(f=o.match(i))&&Jrt(f,d,l,c),(f=o.match(r))&&Xrt(f,d,l,c),(f=o.match(s))&&Yrt(f,d,l,c),(f=o.match(n))&&eit(f,d,c),d}})();function nit(e,t){var n=e.read_shift(2),r=Fl(e);return[n,r]}function rit(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=ftt(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=e.read_shift(1);a!=0&&(r.underline=a);var o=e.read_shift(1);o>0&&(r.family=o);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=htt(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Fl(e),r}var iit=kl;function sit(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}var ait=kl;function oit(e,t,n){var r={};r.NumberFmt=[];for(var i in Jr)r.NumberFmt[i]=Jr[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return $f(e,function(l,c,d){switch(d){case 44:r.NumberFmt[l[0]]=l[1],Sp(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=DE(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(d),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var lit=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function cit(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(_l)||[]).forEach(function(i){var s=Ur(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[lit.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function uit(){}function dit(){}var hit=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fit=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Ait=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function pit(e,t,n){t.themeElements={};var r;[["clrScheme",hit,cit],["fontScheme",fit,uit],["fmtScheme",Ait,dit]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var git=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function hse(e,t){(!e||e.length===0)&&(e=mit());var n,r={};if(!(n=e.match(git)))throw new Error("themeElements not found in theme");return pit(n[0],r,t),r.raw=e,r}function mit(e,t){var n=[Cie];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function xit(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var a;try{a=yie(s,{type:"array"})}catch{return}var o=$c(a,"theme/theme/theme1.xml",!0);if(o)return hse(o,n)}}function vit(e){return e.read_shift(4)}function wit(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=bit(e,4);break;case 2:t.xclrValue=Jie(e);break;case 3:t.xclrValue=vit(e);break;case 4:e.l+=4;break}return e.l+=8,t}function bit(e,t){return kl(e,t)}function yit(e,t){return kl(e,t)}function Cit(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=wit(e);break;case 6:r[1]=yit(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function Sit(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(Cit(e,n-e.l));return{ixfe:r,ext:s}}function Eit(e,t){t.forEach(function(n){n[0]})}function Nit(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Fl(e)}}function Tit(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Iit(e){return e.l+=4,e.read_shift(4)!=0}function Fit(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return $f(e,function(l,c,d){switch(d){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function kit(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,a;return e.replace(_l,function(o){var l=Ur(o);switch(Rh(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function Bit(e){var t=[];if(!e)return t;var n=1;return(e.match(_l)||[]).forEach(function(r){var i=Ur(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function Rit(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=qr(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function _it(e,t,n){var r=[];return $f(e,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Dit(e,t,n,r){if(!e)return e;var i=r||{},s=!1;$f(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function Pit(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function Wz(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(a){var o=Kl(a.ref);if(i?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[a.ref],!s){s={t:"z"},i?e[o.r][o.c]=s:e[a.ref]=s;var l=Sa(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=_i(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var d={a:a.author,t:a.t,r:a.r,T:n};a.h&&(d.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(d.a==r[f].id){d.a=r[f].name||d.a;break}}s.c.push(d)})}function Mit(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Ur(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=Kl(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&XP(f[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function Lit(e,t){var n=[],r=!1,i={},s=0;return e.replace(_l,function(o,l){var c=Ur(o);switch(Rh(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function Oit(e,t){var n=[],r=!1;return e.replace(_l,function(s){var a=Ur(s);switch(Rh(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function jit(e){var t={};t.iauthor=e.read_shift(4);var n=hg(e);return t.rfx=n.s,t.ref=qr(n.s),e.l+=16,t}var Uit=Fl;function Hit(e,t){var n=[],r=[],i={},s=!1;return $f(e,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var Git="application/vnd.ms-office.vbaProject";function Vit(e){var t=Ri.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ri.utils.cfb_add(t,i,e.FileIndex[r].content)}}),Ri.write(t)}function Qit(){return{"!type":"dialog"}}function zit(){return{"!type":"dialog"}}function Wit(){return{"!type":"macro"}}function Kit(){return{"!type":"macro"}}var o1=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=t.c:--d,l?c+=t.r:--c,i+(o?"":"$")+uo(d)+(l?"":"$")+nl(c)}return function(i,s){return t=s,i.replace(e,n)}})(),fse=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,qit=(function(){return function(t,n){return t.replace(fse,function(r,i,s,a,o,l){var c=zP(a)-(s?0:n.c),d=QP(l)-(o?0:n.r),f=d==0?"":o?d+1:"["+d+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+p})}})();function Ase(e,t){return e.replace(fse,function(n,r,i,s,a,o){return r+(i=="$"?i+s:uo(zP(s)+t.c))+(a=="$"?a+o:nl(QP(o)+t.r))})}function $it(e,t,n){var r=nx(t),i=r.s,s=Kl(n),a={r:s.r-i.r,c:s.c-i.c};return Ase(e,a)}function Yit(e){return e.length!=1}function Kz(e){return e.replace(/_xlfn\./g,"")}function za(e){e.l+=1}function d0(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function pse(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return gse(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),a=d0(e),o=d0(e);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function gse(e){var t=d0(e),n=d0(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Xit(e,t,n){if(n.biff<8)return gse(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=d0(e),a=d0(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function mse(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return Jit(e);var r=e.read_shift(n&&n.biff==12?4:2),i=d0(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Jit(e){var t=d0(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Zit(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function est(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return tst(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function tst(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function nst(e,t,n){var r=(e[e.l++]&96)>>5,i=pse(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function rst(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var a=pse(e,s,n);return[r,i,a]}function ist(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function sst(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function ast(e,t,n){var r=(e[e.l++]&96)>>5,i=Xit(e,t-1,n);return[r,i]}function ost(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function qz(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function lst(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function cst(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function ust(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function dst(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function hst(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function xse(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function fst(e){return e.read_shift(2),xse(e)}function Ast(e){return e.read_shift(2),xse(e)}function pst(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=mse(e,0,n);return[r,i]}function gst(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=est(e,0,n);return[r,i]}function mst(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=mse(e,0,n);return[r,i,s]}function xst(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[vat[i],bse[i],r]}function vst(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:wst(e);return[i,(s[0]===0?bse:xat)[s[1]]]}function wst(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function bst(e,t,n){e.l+=n&&n.biff==2?3:4}function yst(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function Cst(e){return e.l++,fg[e.read_shift(1)]}function Sst(e){return e.l++,e.read_shift(2)}function Est(e){return e.l++,e.read_shift(1)!==0}function Nst(e){return e.l++,El(e)}function Tst(e,t,n){return e.l++,Bb(e,t-1,n)}function Ist(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Da(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=fg[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=El(e);break;case 2:n[1]=Ag(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Fst(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?hg:bN)(e));return i}function kst(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=Ist(e,n.biff);return a}function Bst(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function Rst(e,t,n){if(n.biff==5)return _st(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function _st(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function Dst(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function Pst(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function Mst(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function Lst(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var Ost=kl,jst=kl,Ust=kl;function _b(e,t,n){return e.l+=2,[Zit(e)]}function ZP(e){return e.l+=6,[]}var Hst=_b,Gst=ZP,Vst=ZP,Qst=_b;function vse(e){return e.l+=2,[Ka(e),e.read_shift(2)&1]}var zst=_b,Wst=vse,Kst=ZP,qst=_b,$st=_b,Yst=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Xst(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),a=Yst[n>>2&31];return{ixti:t,coltype:n&3,rt:a,idx:r,c:i,C:s}}function Jst(e){return e.l+=2,[e.read_shift(4)]}function Zst(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function eat(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function tat(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function nat(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function rat(e){return e.l+=4,[0,0]}var $z={1:{n:"PtgExp",f:yst},2:{n:"PtgTbl",f:Ust},3:{n:"PtgAdd",f:za},4:{n:"PtgSub",f:za},5:{n:"PtgMul",f:za},6:{n:"PtgDiv",f:za},7:{n:"PtgPower",f:za},8:{n:"PtgConcat",f:za},9:{n:"PtgLt",f:za},10:{n:"PtgLe",f:za},11:{n:"PtgEq",f:za},12:{n:"PtgGe",f:za},13:{n:"PtgGt",f:za},14:{n:"PtgNe",f:za},15:{n:"PtgIsect",f:za},16:{n:"PtgUnion",f:za},17:{n:"PtgRange",f:za},18:{n:"PtgUplus",f:za},19:{n:"PtgUminus",f:za},20:{n:"PtgPercent",f:za},21:{n:"PtgParen",f:za},22:{n:"PtgMissArg",f:za},23:{n:"PtgStr",f:Tst},26:{n:"PtgSheet",f:Zst},27:{n:"PtgEndSheet",f:eat},28:{n:"PtgErr",f:Cst},29:{n:"PtgBool",f:Est},30:{n:"PtgInt",f:Sst},31:{n:"PtgNum",f:Nst},32:{n:"PtgArray",f:ost},33:{n:"PtgFunc",f:xst},34:{n:"PtgFuncVar",f:vst},35:{n:"PtgName",f:Bst},36:{n:"PtgRef",f:pst},37:{n:"PtgArea",f:nst},38:{n:"PtgMemArea",f:Dst},39:{n:"PtgMemErr",f:Ost},40:{n:"PtgMemNoMem",f:jst},41:{n:"PtgMemFunc",f:Pst},42:{n:"PtgRefErr",f:Mst},43:{n:"PtgAreaErr",f:ist},44:{n:"PtgRefN",f:gst},45:{n:"PtgAreaN",f:ast},46:{n:"PtgMemAreaN",f:tat},47:{n:"PtgMemNoMemN",f:nat},57:{n:"PtgNameX",f:Rst},58:{n:"PtgRef3d",f:mst},59:{n:"PtgArea3d",f:rst},60:{n:"PtgRefErr3d",f:Lst},61:{n:"PtgAreaErr3d",f:sst},255:{}},iat={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},sat={1:{n:"PtgElfLel",f:vse},2:{n:"PtgElfRw",f:qst},3:{n:"PtgElfCol",f:Hst},6:{n:"PtgElfRwV",f:$st},7:{n:"PtgElfColV",f:Qst},10:{n:"PtgElfRadical",f:zst},11:{n:"PtgElfRadicalS",f:Kst},13:{n:"PtgElfColS",f:Gst},15:{n:"PtgElfColSV",f:Vst},16:{n:"PtgElfRadicalLel",f:Wst},25:{n:"PtgList",f:Xst},29:{n:"PtgSxName",f:Jst},255:{}},aat={0:{n:"PtgAttrNoop",f:rat},1:{n:"PtgAttrSemi",f:hst},2:{n:"PtgAttrIf",f:ust},4:{n:"PtgAttrChoose",f:lst},8:{n:"PtgAttrGoto",f:cst},16:{n:"PtgAttrSum",f:bst},32:{n:"PtgAttrBaxcel",f:qz},33:{n:"PtgAttrBaxcel",f:qz},64:{n:"PtgAttrSpace",f:fst},65:{n:"PtgAttrSpaceSemi",f:Ast},128:{n:"PtgAttrIfError",f:dst},255:{}};function Db(e,t,n,r){if(r.biff<8)return kl(e,t);for(var i=e.l+t,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=kst(e,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=Fst(e,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=e.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return t=i-e.l,t!==0&&s.push(kl(e,t)),s}function Pb(e,t,n){for(var r=e.l+t,i,s,a=[];r!=e.l;)t=r-e.l,s=e[e.l],i=$z[s]||$z[iat[s]],(s===24||s===25)&&(i=(s===24?sat:aat)[e[e.l+1]]),!i||!i.f?kl(e,t):a.push([i.n,i.f(e,t,n)]);return a}function oat(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var lat={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cat(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function wse(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Yz(e,t,n){var r=wse(e,t,n);return r=="#REF"?r:cat(r,n)}function Cl(e,t,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,d,f=0,p=0,m,w="";if(!e[0]||!e[0][0])return"";for(var y=-1,C="",T=0,k=e[0].length;T<k;++T){var R=e[0][T];switch(R[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:C=Ca(" ",e[0][y][1][1]);break;case 1:C=Ca("\r",e[0][y][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}c=c+C,y=-1}o.push(c+lat[R[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Qv(R[1][1],a,i),o.push(zv(d,s));break;case"PtgRefN":d=n?Qv(R[1][1],n,i):R[1][1],o.push(zv(d,s));break;case"PtgRef3d":f=R[1][1],d=Qv(R[1][2],a,i),w=Yz(r,f,i),o.push(w+"!"+zv(d,s));break;case"PtgFunc":case"PtgFuncVar":var P=R[1][0],U=R[1][1];P||(P=0),P&=127;var O=P==0?[]:o.slice(-P);o.length-=P,U==="User"&&(U=O.shift()),o.push(U+"("+O.join(",")+")");break;case"PtgBool":o.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(R[1]);break;case"PtgNum":o.push(String(R[1]));break;case"PtgStr":o.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(R[1]);break;case"PtgAreaN":m=kz(R[1][1],n?{s:n}:a,i),o.push(JF(m,i));break;case"PtgArea":m=kz(R[1][1],a,i),o.push(JF(m,i));break;case"PtgArea3d":f=R[1][1],m=R[1][2],w=Yz(r,f,i),o.push(w+"!"+JF(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=R[1][2];var L=(r.names||[])[p-1]||(r[0]||[])[p],K=L?L.Name:"SH33TJSNAME"+String(p);K&&K.slice(0,6)=="_xlfn."&&!i.xlfn&&(K=K.slice(6)),o.push(K);break;case"PtgNameX":var j=R[1][1];p=R[1][2];var te;if(i.biff<=5)j<0&&(j=-j),r[j]&&(te=r[j][p]);else{var G="";if(((r[j]||[])[0]||[])[0]==14849||(((r[j]||[])[0]||[])[0]==1025?r[j][p]&&r[j][p].itab>0&&(G=r.SheetNames[r[j][p].itab-1]+"!"):G=r.SheetNames[p-1]+"!"),r[j]&&r[j][p])G+=r[j][p].Name;else if(r[0]&&r[0][p])G+=r[0][p].Name;else{var V=(wse(r,j,i)||"").split(";;");V[p-1]?G=V[p-1]:G+="SH33TJSERRX"}o.push(G);break}te||(te={Name:"SH33TJSERRY"}),o.push(te.Name);break;case"PtgParen":var re="(",ee=")";if(y>=0){switch(C="",e[0][y][1][0]){case 2:re=Ca(" ",e[0][y][1][1])+re;break;case 3:re=Ca("\r",e[0][y][1][1])+re;break;case 4:ee=Ca(" ",e[0][y][1][1])+ee;break;case 5:ee=Ca("\r",e[0][y][1][1])+ee;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(re+o.pop()+ee);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:R[1][1],r:R[1][0]};var ie={c:n.c,r:n.r};if(r.sharedf[qr(d)]){var ue=r.sharedf[qr(d)];o.push(Cl(ue,a,ie,r,i))}else{var le=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){o.push(Cl(c[1],a,ie,r,i)),le=!0;break}le||o.push(R[1])}break;case"PtgArray":o.push("{"+oat(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var xe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&xe.indexOf(e[0][T][0])==-1){R=e[0][y];var ge=!0;switch(R[1][0]){case 4:ge=!1;case 0:C=Ca(" ",R[1][1]);break;case 5:ge=!1;case 1:C=Ca("\r",R[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}o.push((ge?C:"")+o.pop()+(ge?"":C)),y=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function uat(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],kl(e,t-2)];var o=Pb(e,a,n);return t!==a+i&&(s=Db(e,t-a-i,o,n)),e.l=r,[o,s]}function dat(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,a=e.read_shift(i);if(a==65535)return[[],kl(e,t-2)];var o=Pb(e,a,n);return t!==a+i&&(s=Db(e,t-a-i,o,n)),e.l=r,[o,s]}function hat(e,t,n,r){var i=e.l+t,s=Pb(e,r,n),a;return i!==e.l&&(a=Db(e,i-e.l,s,n)),[s,a]}function fat(e,t,n){var r=e.l+t,i,s=e.read_shift(2),a=Pb(e,s,n);return s==65535?[[],kl(e,t-2)]:(t!==s+2&&(i=Db(e,r-s-2,a,n)),[a,i])}function Aat(e){var t;if(ff(e,e.l+6)!==65535)return[El(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function t3(e,t,n){var r=e.l+t,i=_h(e);n.biff==2&&++e.l;var s=Aat(e),a=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=dat(e,r-e.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function yN(e,t,n){var r=e.read_shift(4),i=Pb(e,r,n),s=e.read_shift(4),a=s>0?Db(e,s,i,n):null;return[i,a]}var pat=yN,CN=yN,gat=yN,mat=yN,xat={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},bse={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},vat={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Xz(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function n3(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var $v={},l1={};function Yv(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function yse(e,t,n,r,i,s){try{r.cellNF&&(e.z=Jr[t])}catch(o){if(r.WTF)throw o}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Uo(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Jr[t]==null&&Sp(vet[t]||"General",t),e.t==="e")e.w=e.w||fg[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lw(e.v);else if(e.t==="d"){var a=Zl(e.v);(a|0)===a?e.w=a.toString(10):e.w=Lw(a)}else{if(e.v===void 0)return"";e.w=qp(e.v,l1)}else e.t==="d"?e.w=Vu(t,Zl(e.v),l1):e.w=Vu(t,e.v,l1)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=DE(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=DE(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function wat(e,t){var n=Sa(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=_i(n))}var bat=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,yat=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Cat=/<(?:\w:)?hyperlink [^>]*>/mg,Sat=/"(\w*:\w*)"/,Eat=/<(?:\w:)?col\b[^>]*[\/]?>/g,Nat=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Tat=/<(?:\w:)?pageMargins[^>]*\/>/g,Cse=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Iat=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Fat=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function kat(e,t,n,r,i,s,a){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",f=e.match(yat);f?(c=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):c=d=e;var p=c.match(Cse);p?eM(p[0],o,i,n):(p=c.match(Iat))&&Bat(p[0],p[1]||"",o,i,n);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var w=c.slice(m,m+50).match(Sat);w&&wat(o,w[1])}var y=c.match(Fat);y&&y[1]&&Lat(y[1],i);var C=[];if(t.cellStyles){var T=c.match(Eat);T&&Dat(C,T)}f&&Oat(f[1],o,t,l,s,a);var k=d.match(Nat);k&&(o["!autofilter"]=Pat(k[0]));var R=[],P=d.match(bat);if(P)for(m=0;m!=P.length;++m)R[m]=Sa(P[m].slice(P[m].indexOf('"')+1));var U=d.match(Cat);U&&Rat(o,U,r);var O=d.match(Tat);if(O&&(o["!margins"]=_at(Ur(O[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=_i(l)),t.sheetRows>0&&o["!ref"]){var L=Sa(o["!ref"]);t.sheetRows<=+L.e.r&&(L.e.r=t.sheetRows-1,L.e.r>l.e.r&&(L.e.r=l.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>l.e.c&&(L.e.c=l.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),o["!fullref"]=o["!ref"],o["!ref"]=_i(L))}return C.length>0&&(o["!cols"]=C),R.length>0&&(o["!merges"]=R),o}function eM(e,t,n,r){var i=Ur(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Hi(Fs(i.codeName)))}function Bat(e,t,n,r,i){eM(e.slice(0,e.indexOf(">")),n,r,i)}function Rat(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=Ur(Fs(t[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Hi(s.location))):(s.Target="#"+Hi(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Sa(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=qr({c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function _at(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function Dat(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=Ur(t[r],!0);i.hidden&&(i.hidden=Ys(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,JP(i.width)),R1(i);s<=a;)e[s++]=tl(i)}}function Pat(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Mat=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Lat(e,t){t.Views||(t.Views=[{}]),(e.match(Mat)||[]).forEach(function(n,r){var i=Ur(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),Ys(i.rightToLeft)&&(t.Views[r].RTL=!0)})}var Oat=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Ow("v"),a=Ow("f");return function(l,c,d,f,p,m){for(var w=0,y="",C=[],T=[],k=0,R=0,P=0,U="",O,L,K=0,j=0,te,G,V=0,re=0,ee=Array.isArray(m.CellXf),ie,ue=[],le=[],xe=Array.isArray(c),ge=[],fe={},ce=!1,Q=!!d.sheetStubs,Y=l.split(t),X=0,ne=Y.length;X!=ne;++X){y=Y[X].trim();var oe=y.length;if(oe!==0){var Ce=0;e:for(w=0;w<oe;++w)switch(y[w]){case">":if(y[w-1]!="/"){++w;break e}if(d&&d.cellStyles){if(L=Ur(y.slice(Ce,w),!0),K=L.r!=null?parseInt(L.r,10):K+1,j=-1,d.sheetRows&&d.sheetRows<K)continue;fe={},ce=!1,L.ht&&(ce=!0,fe.hpt=parseFloat(L.ht),fe.hpx=Gw(fe.hpt)),L.hidden=="1"&&(ce=!0,fe.hidden=!0),L.outlineLevel!=null&&(ce=!0,fe.level=+L.outlineLevel),ce&&(ge[K-1]=fe)}break;case"<":Ce=w;break}if(Ce>=w)break;if(L=Ur(y.slice(Ce,w),!0),K=L.r!=null?parseInt(L.r,10):K+1,j=-1,!(d.sheetRows&&d.sheetRows<K)){f.s.r>K-1&&(f.s.r=K-1),f.e.r<K-1&&(f.e.r=K-1),d&&d.cellStyles&&(fe={},ce=!1,L.ht&&(ce=!0,fe.hpt=parseFloat(L.ht),fe.hpx=Gw(fe.hpt)),L.hidden=="1"&&(ce=!0,fe.hidden=!0),L.outlineLevel!=null&&(ce=!0,fe.level=+L.outlineLevel),ce&&(ge[K-1]=fe)),C=y.slice(w).split(e);for(var ke=0;ke!=C.length&&C[ke].trim().charAt(0)=="<";++ke);for(C=C.slice(ke),w=0;w!=C.length;++w)if(y=C[w].trim(),y.length!==0){if(T=y.match(n),k=w,R=0,P=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,T!=null&&T.length===2){for(k=0,U=T[1],R=0;R!=U.length&&!((P=U.charCodeAt(R)-64)<1||P>26);++R)k=26*k+P;--k,j=k}else++j;for(R=0;R!=y.length&&y.charCodeAt(R)!==62;++R);if(++R,L=Ur(y.slice(0,R),!0),L.r||(L.r=qr({r:K-1,c:j})),U=y.slice(R),O={t:""},(T=U.match(s))!=null&&T[1]!==""&&(O.v=Hi(T[1])),d.cellFormula){if((T=U.match(a))!=null&&T[1]!==""){if(O.f=Hi(Fs(T[1])).replace(/\r\n/g,`
`),d.xlfn||(O.f=Kz(O.f)),T[0].indexOf('t="array"')>-1)O.F=(U.match(i)||[])[1],O.F.indexOf(":")>-1&&ue.push([Sa(O.F),O.F]);else if(T[0].indexOf('t="shared"')>-1){G=Ur(T[0]);var Ne=Hi(Fs(T[1]));d.xlfn||(Ne=Kz(Ne)),le[parseInt(G.si,10)]=[G,Ne,L.r]}}else(T=U.match(/<f[^>]*\/>/))&&(G=Ur(T[0]),le[G.si]&&(O.f=$it(le[G.si][1],le[G.si][2],L.r)));var Ue=Kl(L.r);for(R=0;R<ue.length;++R)Ue.r>=ue[R][0].s.r&&Ue.r<=ue[R][0].e.r&&Ue.c>=ue[R][0].s.c&&Ue.c<=ue[R][0].e.c&&(O.F=ue[R][1])}if(L.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(Q)O.t="z";else continue;else O.t=L.t||"n";switch(f.s.c>j&&(f.s.c=j),f.e.c<j&&(f.e.c=j),O.t){case"n":if(O.v==""||O.v==null){if(!Q)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!Q)continue;O.t="z"}else te=$v[parseInt(O.v,10)],O.v=te.t,O.r=te.r,d.cellHTML&&(O.h=te.h);break;case"str":O.t="s",O.v=O.v!=null?Fs(O.v):"",d.cellHTML&&(O.h=HP(O.v));break;case"inlineStr":T=U.match(r),O.t="s",T!=null&&(te=XP(T[1]))?(O.v=te.t,d.cellHTML&&(O.h=te.h)):O.v="";break;case"b":O.v=Ys(O.v);break;case"d":d.cellDates?O.v=Uo(O.v,1):(O.v=Zl(Uo(O.v,1)),O.t="n");break;case"e":(!d||d.cellText!==!1)&&(O.w=O.v),O.v=Qie[O.v];break}if(V=re=0,ie=null,ee&&L.s!==void 0&&(ie=m.CellXf[L.s],ie!=null&&(ie.numFmtId!=null&&(V=ie.numFmtId),d.cellStyles&&ie.fillId!=null&&(re=ie.fillId))),yse(O,V,re,d,p,m),d.cellDates&&ee&&O.t=="n"&&tx(Jr[V])&&(O.t="d",O.v=wN(O.v)),L.cm&&d.xlmeta){var Ye=(d.xlmeta.Cell||[])[+L.cm-1];Ye&&Ye.type=="XLDAPR"&&(O.D=!0)}if(xe){var ve=Kl(L.r);c[ve.r]||(c[ve.r]=[]),c[ve.r][ve.c]=O}else c[L.r]=O}}}}ge.length>0&&(c["!rows"]=ge)}})();function jat(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var Uat=hg;function Hat(){}function Gat(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=utt(e),n}function Vat(e){var t=Wu(e);return[t]}function Qat(e){var t=dg(e);return[t]}function zat(e){var t=Wu(e),n=e.read_shift(1);return[t,n,"b"]}function Wat(e){var t=dg(e),n=e.read_shift(1);return[t,n,"b"]}function Kat(e){var t=Wu(e),n=e.read_shift(1);return[t,n,"e"]}function qat(e){var t=dg(e),n=e.read_shift(1);return[t,n,"e"]}function $at(e){var t=Wu(e),n=e.read_shift(4);return[t,n,"s"]}function Yat(e){var t=dg(e),n=e.read_shift(4);return[t,n,"s"]}function Xat(e){var t=Wu(e),n=El(e);return[t,n,"n"]}function Sse(e){var t=dg(e),n=El(e);return[t,n,"n"]}function Jat(e){var t=Wu(e),n=qP(e);return[t,n,"n"]}function Zat(e){var t=dg(e),n=qP(e);return[t,n,"n"]}function eot(e){var t=Wu(e),n=WP(e);return[t,n,"is"]}function tot(e){var t=Wu(e),n=Fl(e);return[t,n,"str"]}function not(e){var t=dg(e),n=Fl(e);return[t,n,"str"]}function rot(e,t,n){var r=e.l+t,i=Wu(e);i.r=n["!row"];var s=e.read_shift(1),a=[i,s,"b"];if(n.cellFormula){e.l+=2;var o=CN(e,r-e.l,n);a[3]=Cl(o,null,i,n.supbooks,n)}else e.l=r;return a}function iot(e,t,n){var r=e.l+t,i=Wu(e);i.r=n["!row"];var s=e.read_shift(1),a=[i,s,"e"];if(n.cellFormula){e.l+=2;var o=CN(e,r-e.l,n);a[3]=Cl(o,null,i,n.supbooks,n)}else e.l=r;return a}function sot(e,t,n){var r=e.l+t,i=Wu(e);i.r=n["!row"];var s=El(e),a=[i,s,"n"];if(n.cellFormula){e.l+=2;var o=CN(e,r-e.l,n);a[3]=Cl(o,null,i,n.supbooks,n)}else e.l=r;return a}function aot(e,t,n){var r=e.l+t,i=Wu(e);i.r=n["!row"];var s=Fl(e),a=[i,s,"str"];if(n.cellFormula){e.l+=2;var o=CN(e,r-e.l,n);a[3]=Cl(o,null,i,n.supbooks,n)}else e.l=r;return a}var oot=hg;function lot(e,t){var n=e.l+t,r=hg(e),i=KP(e),s=Fl(e),a=Fl(e),o=Fl(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function cot(){}function uot(e,t,n){var r=e.l+t,i=Hie(e),s=e.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=pat(e,r-e.l,n);a[1]=o}else e.l=r;return a}function dot(e,t,n){var r=e.l+t,i=hg(e),s=[i];if(n.cellFormula){var a=mat(e,r-e.l,n);s[1]=a,e.l=r}else e.l=r;return s}var hot=["left","right","top","bottom","header","footer"];function fot(e){var t={};return hot.forEach(function(n){t[n]=El(e)}),t}function Aot(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function pot(){}function got(){}function mot(e,t,n,r,i,s,a){if(!e)return e;var o=t||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,m,w,y,C,T,k,R,P,U,O=[];o.biff=12,o["!row"]=0;var L=0,K=!1,j=[],te={},G=o.supbooks||i.supbooks||[[]];if(G.sharedf=te,G.arrayf=j,G.SheetNames=i.SheetNames||i.Sheets.map(function(xe){return xe.name}),!o.supbooks&&(o.supbooks=G,i.Names))for(var V=0;V<i.Names.length;++V)G[0][V+1]=i.Names[V];var re=[],ee=[],ie=!1;LE[16]={n:"BrtShortReal",f:Sse};var ue;if($f(e,function(ge,fe,ce){if(!p)switch(ce){case 148:c=ge;break;case 0:m=ge,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),P=nl(C=m.r),o["!row"]=m.r,(ge.hidden||ge.hpt||ge.level!=null)&&(ge.hpt&&(ge.hpx=Gw(ge.hpt)),ee[ge.r]=ge);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:ge[2]},ge[2]){case"n":w.v=ge[1];break;case"s":R=$v[ge[1]],w.v=R.t,w.r=R.r;break;case"b":w.v=!!ge[1];break;case"e":w.v=ge[1],o.cellText!==!1&&(w.w=fg[w.v]);break;case"str":w.t="s",w.v=ge[1];break;case"is":w.t="s",w.v=ge[1].t;break}if((y=a.CellXf[ge[0].iStyleRef])&&yse(w,y.numFmtId,null,o,s,a),T=ge[0].c==-1?T+1:ge[0].c,o.dense?(l[C]||(l[C]=[]),l[C][T]=w):l[uo(T)+P]=w,o.cellFormula){for(K=!1,L=0;L<j.length;++L){var Q=j[L];m.r>=Q[0].s.r&&m.r<=Q[0].e.r&&T>=Q[0].s.c&&T<=Q[0].e.c&&(w.F=_i(Q[0]),K=!0)}!K&&ge.length>3&&(w.f=ge[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>T&&(d.s.c=T),d.e.r<m.r&&(d.e.r=m.r),d.e.c<T&&(d.e.c=T),o.cellDates&&y&&w.t=="n"&&tx(Jr[y.numFmtId])){var Y=np(w.v);Y&&(w.t="d",w.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}ue&&(ue.type=="XLDAPR"&&(w.D=!0),ue=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;w={t:"z",v:void 0},T=ge[0].c==-1?T+1:ge[0].c,o.dense?(l[C]||(l[C]=[]),l[C][T]=w):l[uo(T)+P]=w,d.s.r>m.r&&(d.s.r=m.r),d.s.c>T&&(d.s.c=T),d.e.r<m.r&&(d.e.r=m.r),d.e.c<T&&(d.e.c=T),ue&&(ue.type=="XLDAPR"&&(w.D=!0),ue=void 0);break;case 176:O.push(ge);break;case 49:ue=((o.xlmeta||{}).Cell||[])[ge-1];break;case 494:var X=r["!id"][ge.relId];for(X?(ge.Target=X.Target,ge.loc&&(ge.Target+="#"+ge.loc),ge.Rel=X):ge.relId==""&&(ge.Target="#"+ge.loc),C=ge.rfx.s.r;C<=ge.rfx.e.r;++C)for(T=ge.rfx.s.c;T<=ge.rfx.e.c;++T)o.dense?(l[C]||(l[C]=[]),l[C][T]||(l[C][T]={t:"z",v:void 0}),l[C][T].l=ge):(k=qr({c:T,r:C}),l[k]||(l[k]={t:"z",v:void 0}),l[k].l=ge);break;case 426:if(!o.cellFormula)break;j.push(ge),U=o.dense?l[C][T]:l[uo(T)+P],U.f=Cl(ge[1],d,{r:m.r,c:T},G,o),U.F=_i(ge[0]);break;case 427:if(!o.cellFormula)break;te[qr(ge[0].s)]=ge[1],U=o.dense?l[C][T]:l[uo(T)+P],U.f=Cl(ge[1],d,{r:m.r,c:T},G,o);break;case 60:if(!o.cellStyles)break;for(;ge.e>=ge.s;)re[ge.e--]={width:ge.w/256,hidden:!!(ge.flags&1),level:ge.level},ie||(ie=!0,JP(ge.w/256)),R1(re[ge.e+1]);break;case 161:l["!autofilter"]={ref:_i(ge)};break;case 476:l["!margins"]=ge;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ge.name&&(i.Sheets[n].CodeName=ge.name),(ge.above||ge.left)&&(l["!outline"]={above:ge.above,left:ge.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ge.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!fe.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=_i(c||d)),o.sheetRows&&l["!ref"]){var le=Sa(l["!ref"]);o.sheetRows<=+le.e.r&&(le.e.r=o.sheetRows-1,le.e.r>d.e.r&&(le.e.r=d.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>d.e.c&&(le.e.c=d.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),l["!fullref"]=l["!ref"],l["!ref"]=_i(le))}return O.length>0&&(l["!merges"]=O),re.length>0&&(l["!cols"]=re),ee.length>0&&(l["!rows"]=ee),l}function xot(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=n?+a[2]:a[2])});var i=Hi((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function vot(e,t,n,r,i,s){var a=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=xot(f);d.s.r=d.s.c=0,d.e.c=o,c=uo(o),p[0].forEach(function(m,w){a[c+nl(w)]={t:"n",v:m,z:p[1]},l=w}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(a["!ref"]=_i(d)),a}function wot(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=e.match(Cse);return o&&eM(o[0],s,i,n),(a=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function bot(e,t){e.l+=10;var n=Fl(e);return{name:n}}function yot(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return $f(e,function(l,c,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Ese=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Cot=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Sot=[],Eot=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Jz(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Ys(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function Zz(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=Ys(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function Nse(e){Zz(e.WBProps,Ese),Zz(e.CalcPr,Eot),Jz(e.WBView,Cot),Jz(e.Sheets,Sot),l1.date1904=Ys(e.WBProps.date1904)}var Not="][*?/\\".split("");function Tot(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return Not.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var Iot=/<\w+:workbook/;function Fot(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(e.replace(_l,function(l,c){var d=Ur(l);switch(Rh(d[0])){case"<?xml":break;case"<workbook":l.match(Iot)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Ese.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=Ys(d[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:n.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(n.WBProps.CodeName=Fs(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Hi(Fs(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Fs(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ys(d.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=Hi(Fs(e.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Ket.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return Nse(n),n}function kot(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=ZB(e),n.name=Fl(e),n}function Bot(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?Fl(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Rot(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function _ot(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=dtt(e),a=gat(e,0,n),o=KP(e);e.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Dot(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],LE[16]={n:"BrtFRTArchID$",f:Rot},$f(e,function(l,c,d){switch(d){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Cl(l.Ptg,null,null,a,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,l]):a[0]=[d,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Nse(n),n.Names=s,n.supbooks=a,n}function Pot(e,t,n){return t.slice(-4)===".bin"?Dot(e,n):Fot(e,n)}function Mot(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?mot(e,r,n,i,s,a,o):kat(e,r,n,i,s,a,o)}function Lot(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?yot(e,r,n,i,s):wot(e,r,n,i,s)}function Oot(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?Wit():Kit()}function jot(e,t,n,r,i,s,a,o){return t.slice(-4)===".bin"?Qit():zit()}function Uot(e,t,n,r){return t.slice(-4)===".bin"?oit(e,n,r):tit(e,n,r)}function Hot(e,t,n){return hse(e,n)}function Got(e,t,n){return t.slice(-4)===".bin"?Crt(e,n):brt(e,n)}function Vot(e,t,n){return t.slice(-4)===".bin"?Hit(e,n):Mit(e,n)}function Qot(e,t,n){return t.slice(-4)===".bin"?_it(e):Bit(e)}function zot(e,t,n,r){return n.slice(-4)===".bin"?Dit(e,t,n,r):void 0}function Wot(e,t,n){return t.slice(-4)===".bin"?Fit(e,t,n):kit(e,t,n)}var Tse=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Ise=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ad(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(Tse),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(Ise),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function Kot(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(Tse),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(Ise),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var Xv;function qot(e,t){var n=Xv[e]||Hi(e);return n==="General"?qp(t):Vu(n,t)}function $ot(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Ys(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Uo(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Hi(t)]=i}function Yot(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||fg[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lw(e.v):e.w=qp(e.v):e.w=qot(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=Xv[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&tx(r)){var i=np(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function Xot(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=$rt[r.Pattern]||r.Pattern)}e[t.ID]=t}function Jot(e,t,n,r,i,s,a,o,l,c){var d="General",f=r.StyleID,p={};c=c||{};var m=[],w=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Ys(e);break;case"String":r.t="s",r.r=bz(Hi(e)),r.v=e.indexOf("<")>-1?Hi(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(Uo(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Hi(e):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Qie[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=bz(t||e));break}if(Yot(r,d,c),c.cellFormula!==!1)if(r.Formula){var y=Hi(r.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),r.f=o1(y,i),delete r.Formula,r.ArrayRange=="RC"?r.F=o1("RC:RC",i):r.ArrayRange&&(r.F=o1(r.ArrayRange,i),l.push([Sa(r.F),r.F]))}else for(w=0;w<l.length;++w)i.r>=l[w][0].s.r&&i.r<=l[w][0].e.r&&i.c>=l[w][0].s.c&&i.c<=l[w][0].e.c&&(r.F=l[w][1]);c.cellStyles&&(m.forEach(function(C){!p.patternType&&C.patternType&&(p.patternType=C.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Zot(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function r3(e,t){var n=t||{};gie();var r=vv(GP(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Fs(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=tl(n);return a.type="string",Uw.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ct){i.indexOf("<"+Ct)>=0&&(s=!0)}),s)return llt(r,n);Xv={"General Number":"General","General Date":Jr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Jr[15],"Short Date":Jr[14],"Long Time":Jr[19],"Medium Time":Jr[18],"Short Time":Jr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Jr[2],Standard:Jr[4],Percent:Jr[10],Scientific:Jr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,d={},f=[],p=n.dense?[]:{},m="",w={},y={},C=ad('<Data ss:Type="String">'),T=0,k=0,R=0,P={s:{r:2e6,c:2e6},e:{r:0,c:0}},U={},O={},L="",K=0,j=[],te={},G={},V=0,re=[],ee=[],ie={},ue=[],le,xe=!1,ge=[],fe=[],ce={},Q=0,Y=0,X={Sheets:[],WBProps:{date1904:!1}},ne={};jw.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var oe="";o=jw.exec(r);)switch(o[3]=(oe=o[3]).toLowerCase()){case"data":if(oe=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Jot(r.slice(T,o.index),L,C,l[l.length-1][0]=="comment"?ie:w,{c:k,r:R},U,ue[k],y,ge,n):(L="",C=ad(o[0]),T=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ee.length>0&&(w.c=ee),(!n.sheetRows||n.sheetRows>R)&&w.v!==void 0&&(n.dense?(p[R]||(p[R]=[]),p[R][k]=w):p[uo(k)+nl(R)]=w),w.HRef&&(w.l={Target:Hi(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(Q=k+(parseInt(w.MergeAcross,10)|0),Y=R+(parseInt(w.MergeDown,10)|0),j.push({s:{c:k,r:R},e:{c:Q,r:Y}})),!n.sheetStubs)w.MergeAcross?k=Q+1:++k;else if(w.MergeAcross||w.MergeDown){for(var Ce=k;Ce<=Q;++Ce)for(var ke=R;ke<=Y;++ke)(Ce>k||ke>R)&&(n.dense?(p[ke]||(p[ke]=[]),p[ke][Ce]={t:"z"}):p[uo(Ce)+nl(ke)]={t:"z"});k=Q+1}else++k;else w=Kot(o[0]),w.Index&&(k=+w.Index-1),k<P.s.c&&(P.s.c=k),k>P.e.c&&(P.e.c=k),o[0].slice(-2)==="/>"&&++k,ee=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(R<P.s.r&&(P.s.r=R),R>P.e.r&&(P.e.r=R),o[0].slice(-2)==="/>"&&(y=ad(o[0]),y.Index&&(R=+y.Index-1)),k=0,++R):(y=ad(o[0]),y.Index&&(R=+y.Index-1),ce={},(y.AutoFitHeight=="0"||y.Height)&&(ce.hpx=parseInt(y.Height,10),ce.hpt=dse(ce.hpx),fe[R]=ce),y.Hidden=="1"&&(ce.hidden=!0,fe[R]=ce));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(m),P.s.r<=P.e.r&&P.s.c<=P.e.c&&(p["!ref"]=_i(P),n.sheetRows&&n.sheetRows<=P.e.r&&(p["!fullref"]=p["!ref"],P.e.r=n.sheetRows-1,p["!ref"]=_i(P))),j.length&&(p["!merges"]=j),ue.length>0&&(p["!cols"]=ue),fe.length>0&&(p["!rows"]=fe),d[m]=p}else P={s:{r:2e6,c:2e6},e:{r:0,c:0}},R=k=0,l.push([o[3],!1]),c=ad(o[0]),m=Hi(c.Name),p=n.dense?[]:{},j=[],ge=[],fe=[],ne={name:m,Hidden:0},X.Sheets.push(ne);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),ue=[],xe=!1}break;case"style":o[1]==="/"?Xot(U,O,n):O=ad(o[0]);break;case"numberformat":O.nf=Hi(ad(o[0]).Format||"General"),Xv[O.nf]&&(O.nf=Xv[O.nf]);for(var Ne=0;Ne!=392&&Jr[Ne]!=O.nf;++Ne);if(Ne==392){for(Ne=57;Ne!=392;++Ne)if(Jr[Ne]==null){Sp(O.nf,Ne);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(le=ad(o[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!xe&&le.wpx>10){xe=!0,Ql=cse;for(var Ue=0;Ue<ue.length;++Ue)ue[Ue]&&R1(ue[Ue])}xe&&R1(le),ue[le.Index-1||ue.length]=le;for(var Ye=0;Ye<+le.Span;++Ye)ue[ue.length]=tl(le);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var ve=Ur(o[0]),gt={Name:ve.Name,Ref:o1(ve.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(gt.Sheet=X.Sheets.length-1),X.Names.push(gt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?L+=r.slice(K,o.index):K=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;O.Interior=ad(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Mtt(te,oe,r.slice(V,o.index)):V=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Zot(ie),ee.push(ie)}else l.push([o[3],!1]),c=ad(o[0]),ie={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var yt=ad(o[0]);p["!autofilter"]={ref:o1(yt.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return sW(r,n);var Fe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Fe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Fe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Fe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Fe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(V,o.index)){case"SheetHidden":ne.Hidden=1;break;case"SheetVeryHidden":ne.Hidden=2;break}else V=o.index+o[0].length;break;case"header":p["!margins"]||Yv(p["!margins"]={},"xlml"),isNaN(+Ur(o[0]).Margin)||(p["!margins"].header=+Ur(o[0]).Margin);break;case"footer":p["!margins"]||Yv(p["!margins"]={},"xlml"),isNaN(+Ur(o[0]).Margin)||(p["!margins"].footer=+Ur(o[0]).Margin);break;case"pagemargins":var Nt=Ur(o[0]);p["!margins"]||Yv(p["!margins"]={},"xlml"),isNaN(+Nt.Top)||(p["!margins"].top=+Nt.Top),isNaN(+Nt.Left)||(p["!margins"].left=+Nt.Left),isNaN(+Nt.Right)||(p["!margins"].right=+Nt.Right),isNaN(+Nt.Bottom)||(p["!margins"].bottom=+Nt.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Fe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Fe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Fe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Fe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Fe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Fe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Fe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Fe=!1}break;case"smarttags":break;default:Fe=!1;break}if(Fe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?$ot(G,oe,re,r.slice(V,o.index)):(re=o,V=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var nt={};return!n.bookSheets&&!n.bookProps&&(nt.Sheets=d),nt.SheetNames=f,nt.Workbook=X,nt.SSF=tl(Jr),nt.Props=te,nt.Custprops=G,nt}function rR(e,t){switch(rM(t=t||{}),t.type||"base64"){case"base64":return r3(ru(e),t);case"binary":case"buffer":case"file":return r3(e,t);case"array":return r3(ug(e),t)}}function elt(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Att(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=ptt(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var tlt=[60,1084,2066,2165,2175];function nlt(e,t,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=ff(n,n.l),c=iR[l],d=0;c!=null&&tlt.indexOf(l)>-1;)s=ff(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=n.slice(d,n.l+4+s),a.push(o),n.l+=4+s,c=iR[l=ff(n,n.l)];var f=_A(a);Jo(f,0);var p=0;f.lens=[];for(var m=0;m<a.length;++m)f.lens.push(p),p+=a[m].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,i)}function Zd(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Jr[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||fg[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lw(e.v):e.w=qp(e.v):e.w=Vu(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&tx(Jr[r]||String(r))){var i=np(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function WC(e,t,n){return{v:e,ixfe:t,t:n}}function rlt(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},a={},o=null,l=[],c="",d={},f,p="",m,w,y,C,T={},k=[],R,P,U=[],O=[],L={Sheets:[],WBProps:{date1904:!1},Views:[{}]},K={},j=function(hn){return hn<8?Ep[hn]:hn<64&&O[hn-8]||Ep[hn]},te=function(hn,rn,br){var Tn=rn.XF.data;if(!(!Tn||!Tn.patternType||!br||!br.cellStyles)){rn.s={},rn.s.patternType=Tn.patternType;var ut;(ut=Hw(j(Tn.icvFore)))&&(rn.s.fgColor={rgb:ut}),(ut=Hw(j(Tn.icvBack)))&&(rn.s.bgColor={rgb:ut})}},G=function(hn,rn,br){if(!(ce>1)&&!(br.sheetRows&&hn.r>=br.sheetRows)){if(br.cellStyles&&rn.XF&&rn.XF.data&&te(hn,rn,br),delete rn.ixfe,delete rn.XF,f=hn,p=qr(hn),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),hn.r<a.s.r&&(a.s.r=hn.r),hn.c<a.s.c&&(a.s.c=hn.c),hn.r+1>a.e.r&&(a.e.r=hn.r+1),hn.c+1>a.e.c&&(a.e.c=hn.c+1),br.cellFormula&&rn.f){for(var Tn=0;Tn<k.length;++Tn)if(!(k[Tn][0].s.c>hn.c||k[Tn][0].s.r>hn.r)&&!(k[Tn][0].e.c<hn.c||k[Tn][0].e.r<hn.r)){rn.F=_i(k[Tn][0]),(k[Tn][0].s.c!=hn.c||k[Tn][0].s.r!=hn.r)&&delete rn.f,rn.f&&(rn.f=""+Cl(k[Tn][1],a,hn,ge,V));break}}br.dense?(i[hn.r]||(i[hn.r]=[]),i[hn.r][hn.c]=rn):i[p]=rn}},V={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(V.password=t.password);var re,ee=[],ie=[],ue=[],le=[],xe=!1,ge=[];ge.SheetNames=V.snames,ge.sharedf=V.sharedf,ge.arrayf=V.arrayf,ge.names=[],ge.XTI=[];var fe=0,ce=0,Q=0,Y=[],X=[],ne;V.codepage=1200,Ad(1200);for(var oe=!1;e.l<e.length-1;){var Ce=e.l,ke=e.read_shift(2);if(ke===0&&fe===10)break;var Ne=e.l===e.length?0:e.read_shift(2),Ue=iR[ke];if(Ue&&Ue.f){if(t.bookSheets&&fe===133&&ke!==133)break;if(fe=ke,Ue.r===2||Ue.r==12){var Ye=e.read_shift(2);if(Ne-=2,!V.enc&&Ye!==ke&&((Ye&255)<<8|Ye>>8)!==ke)throw new Error("rt mismatch: "+Ye+"!="+ke);Ue.r==12&&(e.l+=10,Ne-=10)}var ve={};if(ke===10?ve=Ue.f(e,Ne,V):ve=nlt(ke,Ue,e,Ne,V),ce==0&&[9,521,1033,2057].indexOf(fe)===-1)continue;switch(ke){case 34:n.opts.Date1904=L.WBProps.date1904=ve;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(V.enc||(e.l=0),V.enc=ve,!t.password)throw new Error("File is password-protected");if(ve.valid==null)throw new Error("Encryption scheme unsupported");if(!ve.valid)throw new Error("Password is incorrect");break;case 92:V.lastuser=ve;break;case 66:var gt=Number(ve);switch(gt){case 21010:gt=1200;break;case 32768:gt=1e4;break;case 32769:gt=1252;break}Ad(V.codepage=gt),oe=!0;break;case 317:V.rrtabid=ve;break;case 25:V.winlocked=ve;break;case 439:n.opts.RefreshAll=ve;break;case 12:n.opts.CalcCount=ve;break;case 16:n.opts.CalcDelta=ve;break;case 17:n.opts.CalcIter=ve;break;case 13:n.opts.CalcMode=ve;break;case 14:n.opts.CalcPrecision=ve;break;case 95:n.opts.CalcSaveRecalc=ve;break;case 15:V.CalcRefMode=ve;break;case 2211:n.opts.FullCalc=ve;break;case 129:ve.fDialog&&(i["!type"]="dialog"),ve.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ve.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:U.push(ve);break;case 430:ge.push([ve]),ge[ge.length-1].XTI=[];break;case 35:case 547:ge[ge.length-1].push(ve);break;case 24:case 536:ne={Name:ve.Name,Ref:Cl(ve.rgce,a,null,ge,V)},ve.itab>0&&(ne.Sheet=ve.itab-1),ge.names.push(ne),ge[0]||(ge[0]=[],ge[0].XTI=[]),ge[ge.length-1].push(ve),ve.Name=="_xlnm._FilterDatabase"&&ve.itab>0&&ve.rgce&&ve.rgce[0]&&ve.rgce[0][0]&&ve.rgce[0][0][0]=="PtgArea3d"&&(X[ve.itab-1]={ref:_i(ve.rgce[0][0][1][2])});break;case 22:V.ExternCount=ve;break;case 23:ge.length==0&&(ge[0]=[],ge[0].XTI=[]),ge[ge.length-1].XTI=ge[ge.length-1].XTI.concat(ve),ge.XTI=ge.XTI.concat(ve);break;case 2196:if(V.biff<8)break;ne!=null&&(ne.Comment=ve[1]);break;case 18:i["!protect"]=ve;break;case 19:ve!==0&&V.WTF&&console.error("Password verifier: "+ve);break;case 133:s[ve.pos]=ve,V.snames.push(ve.name);break;case 10:{if(--ce)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=_i(a),t.sheetRows&&t.sheetRows<=a.e.r){var yt=a.e.r;a.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=_i(a),a.e.r=yt}a.e.r++,a.e.c++}ee.length>0&&(i["!merges"]=ee),ie.length>0&&(i["!objects"]=ie),ue.length>0&&(i["!cols"]=ue),le.length>0&&(i["!rows"]=le),L.Sheets.push(K)}c===""?d=i:r[c]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(V.biff===8&&(V.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ve.BIFFVer]||8),V.biffguess=ve.BIFFVer==0,ve.BIFFVer==0&&ve.dt==4096&&(V.biff=5,oe=!0,Ad(V.codepage=28591)),V.biff==8&&ve.BIFFVer==0&&ve.dt==16&&(V.biff=2),ce++)break;if(i=t.dense?[]:{},V.biff<8&&!oe&&(oe=!0,Ad(V.codepage=t.codepage||1252)),V.biff<5||ve.BIFFVer==0&&ve.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var Fe={pos:e.l-Ne,name:c};s[Fe.pos]=Fe,V.snames.push(c)}else c=(s[Ce]||{name:""}).name;ve.dt==32&&(i["!type"]="chart"),ve.dt==64&&(i["!type"]="macro"),ee=[],ie=[],V.arrayf=k=[],ue=[],le=[],xe=!1,K={Hidden:(s[Ce]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[ve.r]||[])[ve.c]:i[qr({c:ve.c,r:ve.r})])&&++ve.c,R={ixfe:ve.ixfe,XF:U[ve.ixfe]||{},v:ve.val,t:"n"},Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:ve.c,r:ve.r},R,t);break;case 5:case 517:R={ixfe:ve.ixfe,XF:U[ve.ixfe],v:ve.val,t:ve.t},Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:ve.c,r:ve.r},R,t);break;case 638:R={ixfe:ve.ixfe,XF:U[ve.ixfe],v:ve.rknum,t:"n"},Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:ve.c,r:ve.r},R,t);break;case 189:for(var Nt=ve.c;Nt<=ve.C;++Nt){var nt=ve.rkrec[Nt-ve.c][0];R={ixfe:nt,XF:U[nt],v:ve.rkrec[Nt-ve.c][1],t:"n"},Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:Nt,r:ve.r},R,t)}break;case 6:case 518:case 1030:{if(ve.val=="String"){o=ve;break}if(R=WC(ve.val,ve.cell.ixfe,ve.tt),R.XF=U[R.ixfe],t.cellFormula){var Ct=ve.formula;if(Ct&&Ct[0]&&Ct[0][0]&&Ct[0][0][0]=="PtgExp"){var lt=Ct[0][0][1][0],Qt=Ct[0][0][1][1],ot=qr({r:lt,c:Qt});T[ot]?R.f=""+Cl(ve.formula,a,ve.cell,ge,V):R.F=((t.dense?(i[lt]||[])[Qt]:i[ot])||{}).F}else R.f=""+Cl(ve.formula,a,ve.cell,ge,V)}Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G(ve.cell,R,t),o=ve}break;case 7:case 519:if(o)o.val=ve,R=WC(ve,o.cell.ixfe,"s"),R.XF=U[R.ixfe],t.cellFormula&&(R.f=""+Cl(o.formula,a,o.cell,ge,V)),Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G(o.cell,R,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(ve);var An=qr(ve[0].s);if(m=t.dense?(i[ve[0].s.r]||[])[ve[0].s.c]:i[An],t.cellFormula&&m){if(!o||!An||!m)break;m.f=""+Cl(ve[1],a,ve[0],ge,V),m.F=_i(ve[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;T[qr(o.cell)]=ve[0],m=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[qr(o.cell)],(m||{}).f=""+Cl(ve[0],a,f,ge,V)}}break;case 253:R=WC(l[ve.isst].t,ve.ixfe,"s"),l[ve.isst].h&&(R.h=l[ve.isst].h),R.XF=U[R.ixfe],Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:ve.c,r:ve.r},R,t);break;case 513:t.sheetStubs&&(R={ixfe:ve.ixfe,XF:U[ve.ixfe],t:"z"},Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:ve.c,r:ve.r},R,t));break;case 190:if(t.sheetStubs)for(var bn=ve.c;bn<=ve.C;++bn){var Cn=ve.ixfe[bn-ve.c];R={ixfe:Cn,XF:U[Cn],t:"z"},Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:bn,r:ve.r},R,t)}break;case 214:case 516:case 4:R=WC(ve.val,ve.ixfe,"s"),R.XF=U[R.ixfe],Q>0&&(R.z=Y[R.ixfe>>8&63]),Zd(R,t,n.opts.Date1904),G({c:ve.c,r:ve.r},R,t);break;case 0:case 512:ce===1&&(a=ve);break;case 252:l=ve;break;case 1054:if(V.biff==4){Y[Q++]=ve[1];for(var Vn=0;Vn<Q+163&&Jr[Vn]!=ve[1];++Vn);Vn>=163&&Sp(ve[1],Q+163)}else Sp(ve[1],ve[0]);break;case 30:{Y[Q++]=ve;for(var Sn=0;Sn<Q+163&&Jr[Sn]!=ve;++Sn);Sn>=163&&Sp(ve,Q+163)}break;case 229:ee=ee.concat(ve);break;case 93:ie[ve.cmo[0]]=V.lastobj=ve;break;case 438:V.lastobj.TxO=ve;break;case 127:V.lastobj.ImData=ve;break;case 440:for(C=ve[0].s.r;C<=ve[0].e.r;++C)for(y=ve[0].s.c;y<=ve[0].e.c;++y)m=t.dense?(i[C]||[])[y]:i[qr({c:y,r:C})],m&&(m.l=ve[1]);break;case 2048:for(C=ve[0].s.r;C<=ve[0].e.r;++C)for(y=ve[0].s.c;y<=ve[0].e.c;++y)m=t.dense?(i[C]||[])[y]:i[qr({c:y,r:C})],m&&m.l&&(m.l.Tooltip=ve[1]);break;case 28:{if(V.biff<=5&&V.biff>=2)break;m=t.dense?(i[ve[0].r]||[])[ve[0].c]:i[qr(ve[0])];var tr=ie[ve[2]];m||(t.dense?(i[ve[0].r]||(i[ve[0].r]=[]),m=i[ve[0].r][ve[0].c]={t:"z"}):m=i[qr(ve[0])]={t:"z"},a.e.r=Math.max(a.e.r,ve[0].r),a.s.r=Math.min(a.s.r,ve[0].r),a.e.c=Math.max(a.e.c,ve[0].c),a.s.c=Math.min(a.s.c,ve[0].c)),m.c||(m.c=[]),w={a:ve[1],t:tr.TxO.t},m.c.push(w)}break;case 2173:Eit(U[ve.ixfe],ve.ext);break;case 125:{if(!V.cellStyles)break;for(;ve.e>=ve.s;)ue[ve.e--]={width:ve.w/256,level:ve.level||0,hidden:!!(ve.flags&1)},xe||(xe=!0,JP(ve.w/256)),R1(ue[ve.e+1])}break;case 520:{var xn={};ve.level!=null&&(le[ve.r]=xn,xn.level=ve.level),ve.hidden&&(le[ve.r]=xn,xn.hidden=!0),ve.hpt&&(le[ve.r]=xn,xn.hpt=ve.hpt,xn.hpx=Gw(ve.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Yv(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=ve;break;case 161:i["!margins"]||Yv(i["!margins"]={}),i["!margins"].header=ve.header,i["!margins"].footer=ve.footer;break;case 574:ve.RTL&&(L.Views[0].RTL=!0);break;case 146:O=ve;break;case 2198:re=ve;break;case 140:P=ve;break;case 442:c?K.CodeName=ve||K.name:L.WBProps.CodeName=ve||"ThisWorkbook";break}}else Ue||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),e.l+=Ne}return n.SheetNames=Nh(s).sort(function(Ht,hn){return Number(Ht)-Number(hn)}).map(function(Ht){return s[Ht].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&X.forEach(function(Ht,hn){n.Sheets[n.SheetNames[hn]]["!autofilter"]=Ht}),n.Strings=l,n.SSF=tl(Jr),V.enc&&(n.Encryption=V.enc),re&&(n.Themes=re),n.Metadata={},P!==void 0&&(n.Metadata.Country=P),ge.names.length>0&&(L.Names=ge.names),n.Workbook=L,n}var eW={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ilt(e,t,n){var r=Ri.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=Lz(r,btt,eW.DSI);for(var s in i)t[s]=i[s]}catch(c){if(n.WTF)throw c}var a=Ri.find(e,"/!SummaryInformation");if(a&&a.size>0)try{var o=Lz(a,ytt,eW.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Wie(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function Fse(e,t){t||(t={}),rM(t),iie(),t.codepage&&PP(t.codepage);var n,r;if(e.FullPaths){if(Ri.find(e,"/encryption"))throw new Error("File is password-protected");n=Ri.find(e,"!CompObj"),r=Ri.find(e,"/Workbook")||Ri.find(e,"/Book")}else{switch(t.type){case"base64":e=hd(ru(e));break;case"binary":e=hd(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Jo(e,0),r={content:e}}var i,s;if(n&&elt(n),t.bookProps&&!t.bookSheets)i={};else{var a=Ti?"buffer":"array";if(r&&r.content)i=rlt(r.content,t);else if((s=Ri.find(e,"PerfectOffice_MAIN"))&&s.content)i=qv.to_workbook(s.content,(t.type=a,t));else if((s=Ri.find(e,"NativeContent_MAIN"))&&s.content)i=qv.to_workbook(s.content,(t.type=a,t));else throw(s=Ri.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ri.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Vit(e))}var o={};return e.FullPaths&&ilt(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var LE={0:{f:jat},1:{f:Vat},2:{f:Jat},3:{f:Kat},4:{f:zat},5:{f:Xat},6:{f:tot},7:{f:$at},8:{f:aot},9:{f:sot},10:{f:rot},11:{f:iot},12:{f:Qat},13:{f:Zat},14:{f:qat},15:{f:Wat},16:{f:Sse},17:{f:not},18:{f:Yat},19:{f:WP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_ot},40:{},42:{},43:{f:rit},44:{f:nit},45:{f:iit},46:{f:ait},47:{f:sit},48:{},49:{f:ott},50:{},51:{f:Tit},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ise},62:{f:eot},63:{f:Rit},64:{f:pot},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:kl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Aot},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Gat},148:{f:Uat,p:16},151:{f:cot},152:{},153:{f:Bot},154:{},155:{},156:{f:kot},157:{},158:{},159:{T:1,f:yrt},160:{T:-1},161:{T:1,f:hg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:oot},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Nit},336:{T:-1},337:{f:Iit,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ZB},357:{},358:{},359:{},360:{T:1},361:{},362:{f:rse},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:uot},427:{f:dot},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fot},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Hat},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:lot},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ZB},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Uit},633:{T:1},634:{T:-1},635:{T:1,f:jit},636:{T:-1},637:{f:ctt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:bot},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:got},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},iR={6:{f:t3},10:{f:EA},12:{f:Ka},13:{f:Ka},14:{f:Da},15:{f:Da},16:{f:El},17:{f:Da},18:{f:Da},19:{f:Ka},20:{f:Hz},21:{f:Hz},23:{f:rse},24:{f:Vz},25:{f:Da},26:{},27:{},28:{f:Lnt},29:{},34:{f:Da},35:{f:Gz},38:{f:El},39:{f:El},40:{f:El},41:{f:El},42:{f:Da},43:{f:Da},47:{f:Hrt},49:{f:xnt},51:{f:Ka},60:{},61:{f:pnt},64:{f:Da},65:{f:mnt},66:{f:Ka},77:{},80:{},81:{},82:{},85:{f:Ka},89:{},90:{},91:{},92:{f:ont},93:{f:jnt},94:{},95:{f:Da},96:{},97:{},99:{f:Da},125:{f:ise},128:{f:Int},129:{f:lnt},130:{f:Ka},131:{f:Da},132:{f:Da},133:{f:cnt},134:{},140:{f:znt},141:{f:Ka},144:{},146:{f:Knt},151:{},152:{},153:{},154:{},155:{},156:{f:Ka},157:{},158:{},160:{f:Jnt},161:{f:$nt},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Snt},190:{f:Ent},193:{f:EA},197:{},198:{},199:{},200:{},201:{},202:{f:Da},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ka},220:{},221:{f:Da},222:{},224:{f:Tnt},225:{f:ant},226:{f:EA},227:{},229:{f:Ont},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:unt},253:{f:vnt},255:{f:dnt},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Xie},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Da},353:{f:EA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:knt},431:{f:Da},432:{},433:{},434:{},437:{},438:{f:Gnt},439:{f:Da},440:{f:Vnt},441:{},442:{f:Rb},443:{},444:{f:Ka},445:{},446:{},448:{f:EA},449:{f:Ant,r:2},450:{f:EA},512:{f:jz},513:{f:Xnt},515:{f:Fnt},516:{f:wnt},517:{f:Uz},519:{f:Znt},520:{f:hnt},523:{},545:{f:Qz},549:{f:Oz},566:{},574:{f:gnt},638:{f:Cnt},659:{},1048:{},1054:{f:bnt},1084:{},1212:{f:Dnt},2048:{f:Qnt},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:VC},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:EA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:qnt,r:12},2173:{f:Sit,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Da,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_nt,r:12},2197:{},2198:{f:xit,r:12},2199:{},2200:{},2201:{},2202:{f:Pnt,r:12},2203:{f:EA},2204:{},2205:{},2206:{},2207:{},2211:{f:fnt},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ka},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Ynt},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Wnt},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:jz},1:{},2:{f:rrt},3:{f:nrt},4:{f:trt},5:{f:Uz},7:{f:irt},8:{},9:{f:VC},11:{},22:{f:Ka},30:{f:ynt},31:{},32:{},33:{f:Qz},36:{},37:{f:Oz},50:{f:srt},62:{},52:{},67:{},68:{f:Ka},69:{},86:{},126:{},127:{f:ert},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:art},223:{},234:{},354:{},421:{},518:{f:t3},521:{f:VC},536:{f:Vz},547:{f:Gz},561:{},579:{},1030:{f:t3},1033:{f:VC},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function od(e,t,n,r){var i=t;if(!isNaN(i)){var s=(n||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Oie(n)&&e.push(n)}}function tW(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),a=i.index,o=s&&s.index||e.length,l=Fet(e.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,f=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(a=0;a<l.length;++a){var y=l[a].trim(),C=y.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(C!="<td"&&C!="<th")){var T=y.split(/<\/t[dh]>/i);for(o=0;o<T.length;++o){var k=T[o].trim();if(k.match(/<t[dh]/i)){for(var R=k,P=0;R.charAt(0)=="<"&&(P=R.indexOf(">"))>-1;)R=R.slice(P+1);for(var U=0;U<w.length;++U){var O=w[U];O.s.c==d&&O.s.r<c&&c<=O.e.r&&(d=O.e.c+1,U=-1)}var L=Ur(k.slice(0,k.indexOf(">")));p=L.colspan?+L.colspan:1,((f=+L.rowspan)>1||p>1)&&w.push({s:{r:c,c:d},e:{r:c+(f||1)-1,c:d+p-1}});var K=L.t||L["data-t"]||"";if(!R.length){d+=p;continue}if(R=Eie(R),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!R.length){d+=p;continue}var j={t:"s",v:R};n.raw||!R.trim().length||K=="s"||(R==="TRUE"?j={t:"b",v:!0}:R==="FALSE"?j={t:"b",v:!1}:isNaN(yd(R))?isNaN(B1(R).getDate())||(j={t:"d",v:Uo(R)},n.cellDates||(j={t:"n",v:Zl(j.v)}),j.z=n.dateNF||Jr[14]):j={t:"n",v:yd(R)}),n.dense?(r[c]||(r[c]=[]),r[c][d]=j):r[qr({r:c,c:d})]=j,d+=p}}}}return r["!ref"]=_i(m),w.length&&(r["!merges"]=w),r}function slt(e,t,n,r){for(var i=e["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var d=qr({r:n,c:a}),f=r.dense?(e[n]||[])[a]:e[d],p=f&&f.v!=null&&(f.h||HP(f.w||(Pf(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+d,s.push(zet("td",p,m))}}var w="<tr>";return w+s.join("")+"</tr>"}var alt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',olt="</body></html>";function llt(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return w0(tW(n[0],t),t);var r=sM();return n.forEach(function(i,s){aM(r,tW(i,t),"Sheet"+(s+1))}),r}function clt(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function ult(e,t){var n=t||{},r=n.header!=null?n.header:alt,i=n.footer!=null?n.footer:olt,s=[r],a=nx(e["!ref"]);n.dense=Array.isArray(e),s.push(clt(e,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(slt(e,a,o,n));return s.push("</table>"+i),s.join("")}function kse(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Kl(r.origin):r.origin;i=a.r,s=a.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var d=nx(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),i==-1&&(c.e.r=i=d.e.r+1)}var f=[],p=0,m=e["!rows"]||(e["!rows"]=[]),w=0,y=0,C=0,T=0,k=0,R=0;for(e["!cols"]||(e["!cols"]=[]);w<o.length&&y<l;++w){var P=o[w];if(nW(P)){if(r.display)continue;m[y]={hidden:!0}}var U=P.children;for(C=T=0;C<U.length;++C){var O=U[C];if(!(r.display&&nW(O))){var L=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):Eie(O.innerHTML),K=O.getAttribute("data-z")||O.getAttribute("z");for(p=0;p<f.length;++p){var j=f[p];j.s.c==T+s&&j.s.r<y+i&&y+i<=j.e.r&&(T=j.e.c+1-s,p=-1)}R=+O.getAttribute("colspan")||1,((k=+O.getAttribute("rowspan")||1)>1||R>1)&&f.push({s:{r:y+i,c:T+s},e:{r:y+i+(k||1)-1,c:T+s+(R||1)-1}});var te={t:"s",v:L},G=O.getAttribute("data-t")||O.getAttribute("t")||"";L!=null&&(L.length==0?te.t=G||"z":r.raw||L.trim().length==0||G=="s"||(L==="TRUE"?te={t:"b",v:!0}:L==="FALSE"?te={t:"b",v:!1}:isNaN(yd(L))?isNaN(B1(L).getDate())||(te={t:"d",v:Uo(L)},r.cellDates||(te={t:"n",v:Zl(te.v)}),te.z=r.dateNF||Jr[14]):te={t:"n",v:yd(L)})),te.z===void 0&&K!=null&&(te.z=K);var V="",re=O.getElementsByTagName("A");if(re&&re.length)for(var ee=0;ee<re.length&&!(re[ee].hasAttribute("href")&&(V=re[ee].getAttribute("href"),V.charAt(0)!="#"));++ee);V&&V.charAt(0)!="#"&&(te.l={Target:V}),r.dense?(e[y+i]||(e[y+i]=[]),e[y+i][T+s]=te):e[qr({c:T+s,r:y+i})]=te,c.e.c<T+s&&(c.e.c=T+s),T+=R}}++y}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,y-1+i),e["!ref"]=_i(c),y>=l&&(e["!fullref"]=_i((c.e.r=o.length-w+y-1+i,c))),e}function Bse(e,t){var n=t||{},r=n.dense?[]:{};return kse(r,e,t)}function dlt(e,t){return w0(Bse(e,t),t)}function nW(e){var t="",n=hlt(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function hlt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function flt(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Hi(t.replace(/<[^>]*>/g,""));return[n]}var rW={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Rse(e,t){var n=t||{},r=GP(e),i=[],s,a,o={name:""},l="",c=0,d,f,p={},m=[],w=n.dense?[]:{},y,C,T={value:""},k="",R=0,P=[],U=-1,O=-1,L={s:{r:1e6,c:1e7},e:{r:0,c:0}},K=0,j={},te=[],G={},V=0,re=0,ee=[],ie=1,ue=1,le=[],xe={Names:[]},ge={},fe=["",""],ce=[],Q={},Y="",X=0,ne=!1,oe=!1,Ce=0;for(jw.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=jw.exec(r);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(L.e.c>=L.s.c&&L.e.r>=L.s.r?w["!ref"]=_i(L):w["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=L.e.r&&(w["!fullref"]=w["!ref"],L.e.r=n.sheetRows-1,w["!ref"]=_i(L)),te.length&&(w["!merges"]=te),ee.length&&(w["!rows"]=ee),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),p[d.name]=w,oe=!1):y[0].charAt(y[0].length-2)!=="/"&&(d=Ur(y[0],!1),U=O=-1,L.s.r=L.s.c=1e7,L.e.r=L.e.c=0,w=n.dense?[]:{},te=[],ee=[],oe=!0);break;case"table-row-group":y[1]==="/"?--K:++K;break;case"table-row":case"":if(y[1]==="/"){U+=ie,ie=1;break}if(f=Ur(y[0],!1),f.?U=f.-1:U==-1&&(U=0),ie=+f["number-rows-repeated"]||1,ie<10)for(Ce=0;Ce<ie;++Ce)K>0&&(ee[U+Ce]={level:K});O=-1;break;case"covered-table-cell":y[1]!=="/"&&++O,n.sheetStubs&&(n.dense?(w[U]||(w[U]=[]),w[U][O]={t:"z"}):w[qr({r:U,c:O})]={t:"z"}),k="",P=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++O,T=Ur(y[0],!1),ue=parseInt(T["number-columns-repeated"]||"1",10),C={t:"z",v:null},T.formula&&n.cellFormula!=!1&&(C.f=Xz(Hi(T.formula))),(T.||T["value-type"])=="string"&&(C.t="s",C.v=Hi(T["string-value"]||""),n.dense?(w[U]||(w[U]=[]),w[U][O]=C):w[qr({r:U,c:O})]=C),O+=ue-1;else if(y[1]!=="/"){++O,k="",R=0,P=[],ue=1;var ke=ie?U+ie-1:U;if(O>L.e.c&&(L.e.c=O),O<L.s.c&&(L.s.c=O),U<L.s.r&&(L.s.r=U),ke>L.e.r&&(L.e.r=ke),T=Ur(y[0],!1),ce=[],Q={},C={t:T.||T["value-type"],v:null},n.cellFormula)if(T.formula&&(T.formula=Hi(T.formula)),T["number-matrix-columns-spanned"]&&T["number-matrix-rows-spanned"]&&(V=parseInt(T["number-matrix-rows-spanned"],10)||0,re=parseInt(T["number-matrix-columns-spanned"],10)||0,G={s:{r:U,c:O},e:{r:U+V-1,c:O+re-1}},C.F=_i(G),le.push([G,C.F])),T.formula)C.f=Xz(T.formula);else for(Ce=0;Ce<le.length;++Ce)U>=le[Ce][0].s.r&&U<=le[Ce][0].e.r&&O>=le[Ce][0].s.c&&O<=le[Ce][0].e.c&&(C.F=le[Ce][1]);switch((T["number-columns-spanned"]||T["number-rows-spanned"])&&(V=parseInt(T["number-rows-spanned"],10)||0,re=parseInt(T["number-columns-spanned"],10)||0,G={s:{r:U,c:O},e:{r:U+V-1,c:O+re-1}},te.push(G)),T["number-columns-repeated"]&&(ue=parseInt(T["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=Ys(T["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(T.value);break;case"percentage":C.t="n",C.v=parseFloat(T.value);break;case"currency":C.t="n",C.v=parseFloat(T.value);break;case"date":C.t="d",C.v=Uo(T["date-value"]),n.cellDates||(C.t="n",C.v=Zl(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=Net(T["time-value"])/86400,n.cellDates&&(C.t="d",C.v=wN(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(T.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",T["string-value"]!=null&&(k=Hi(T["string-value"]),P=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(ne=!1,C.t==="s"&&(C.v=k||"",P.length&&(C.R=P),ne=R==0),ge.Target&&(C.l=ge),ce.length>0&&(C.c=ce,ce=[]),k&&n.cellText!==!1&&(C.w=k),ne&&(C.t="z",delete C.v),(!ne||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=U))for(var Ne=0;Ne<ie;++Ne){if(ue=parseInt(T["number-columns-repeated"]||"1",10),n.dense)for(w[U+Ne]||(w[U+Ne]=[]),w[U+Ne][O]=Ne==0?C:tl(C);--ue>0;)w[U+Ne][O+ue]=tl(C);else for(w[qr({r:U+Ne,c:O})]=C;--ue>0;)w[qr({r:U+Ne,c:O+ue})]=tl(C);L.e.c<=O&&(L.e.c=O)}ue=parseInt(T["number-columns-repeated"]||"1",10),O+=ue-1,ue=0,C={},k="",P=[]}ge={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s;Q.t=k,P.length&&(Q.R=P),Q.a=Y,ce.push(Q)}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!1]);Y="",X=0,k="",R=0,P=[];break;case"creator":y[1]==="/"?Y=r.slice(X,y.index):X=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!1]);k="",R=0,P=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(j[o.name]=l,(s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&(l="",o=Ur(y[0],!1),i.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Ur(y[0],!1),l+=rW[y[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Ur(y[0],!1),l+=rW[y[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,y.index);break}else c=y.index+y[0].length;break;case"named-range":a=Ur(y[0],!1),fe=n3(a["cell-range-address"]);var Ue={Name:a.name,Ref:fe[0]+"!"+fe[1]};oe&&(Ue.Sheet=m.length),xe.Names.push(Ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(y[1]==="/"&&(!T||!T["string-value"])){var Ye=flt(r.slice(R,y.index));k=(k.length>0?k+`
`:"")+Ye[0]}else Ur(y[0],!1),R=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{fe=n3(Ur(y[0])["target-range-address"]),p[fe[0]]["!autofilter"]={ref:fe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(ge=Ur(y[0],!1),!ge.href)break;ge.Target=Hi(ge.href),delete ge.href,ge.Target.charAt(0)=="#"&&ge.Target.indexOf(".")>-1?(fe=n3(ge.Target.slice(1)),ge.Target="#"+fe[0]+"!"+fe[1]):ge.Target.match(/^\.\.[\\\/]/)&&(ge.Target=ge.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(y)}}var ve={Sheets:p,SheetNames:m,Workbook:xe};return n.bookSheets&&delete ve.Sheets,ve}function iW(e,t){t=t||{},Cu(e,"META-INF/manifest.xml")&&Ftt(Wa(e,"META-INF/manifest.xml"),t);var n=$c(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=Rse(Fs(n),t);return Cu(e,"meta.xml")&&(r.Props=zie(Wa(e,"meta.xml"))),r}function sW(e,t){return Rse(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function tM(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function sR(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Fs(ug(e))}function aR(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function aW(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Alt(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Vw(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function fo(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Tl(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=Vw(e,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];e[n[0]++]>=128;);o=e.slice(l,n[0])}break;case 5:a=4,o=e.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=e.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=Vw(e,n),o=e.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function nM(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function plt(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Vw(e,r),s=Tl(e.slice(r[0],r[0]+i));r[0]+=i;var a={id:fo(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Tl(o.data),c=fo(l[3][0].data);a.messages.push({meta:l,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=s[3])!=null&&t[0]&&(a.merge=fo(s[3][0].data)>>>0>0),n.push(a)}return n}function glt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Vw(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var a=t[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=t[n[0]],o>1&&(a|=t[n[0]+1]<<8),o>2&&(a|=t[n[0]+2]<<16),o>3&&(a|=t[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(t.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,s==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[aR(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var d=aR(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function mlt(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(glt(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return aR(t)}function xlt(e,t,n,r){var i=tM(e),s=i.getUint32(4,!0),a=(r>1?12:8)+aW(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,d=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=aW(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function vlt(e,t,n){var r=tM(e),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,d=new Date(2001,0,1);i&1&&(l=Alt(e,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return f}function wlt(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return xlt(e,t,n,e[0]);case 5:return vlt(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function YA(e){var t=Tl(e);return Vw(t[1][0].data)}function oW(e,t){var n=Tl(t.data),r=fo(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=Tl(a.data),l=fo(o[1][0].data)>>>0;switch(r){case 1:s[l]=sR(o[3][0].data);break;case 8:{var c=e[YA(o[9][0].data)][0],d=Tl(c.data),f=e[YA(d[1][0].data)][0],p=fo(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=Tl(f.data);s[l]=m[3].map(function(w){return sR(w.data)}).join("")}break}}),s}function blt(e,t){var n,r,i,s,a,o,l,c,d,f,p,m,w,y,C=Tl(e),T=fo(C[1][0].data)>>>0,k=fo(C[2][0].data)>>>0,R=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&fo(C[8][0].data)>0||!1,P,U;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&t!=0)P=(o=(a=C[7])==null?void 0:a[0])==null?void 0:o.data,U=(c=(l=C[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(d=C[4])==null?void 0:d[0])!=null&&f.data&&t!=1)P=(m=(p=C[4])==null?void 0:p[0])==null?void 0:m.data,U=(y=(w=C[3])==null?void 0:w[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=R?4:1,L=tM(P),K=[],j=0;j<P.length/2;++j){var te=L.getUint16(j*2,!0);te<65535&&K.push([j,te])}if(K.length!=k)throw"Expected ".concat(k," cells, found ").concat(K.length);var G=[];for(j=0;j<K.length-1;++j)G[K[j][0]]=U.subarray(K[j][1]*O,K[j+1][1]*O);return K.length>=1&&(G[K[K.length-1][0]]=U.subarray(K[K.length-1][1]*O)),{R:T,cells:G}}function ylt(e,t){var n,r=Tl(t.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?fo(r[7][0].data)>>>0>0?1:0:-1,s=nM(r[5],function(a){return blt(a,i)});return{nrows:fo(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function Clt(e,t,n){var r,i=Tl(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(fo(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(fo(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=_i(s);var a=Tl(i[4][0].data),o=oW(e,e[YA(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?oW(e,e[YA(a[17][0].data)][0]):[],c=Tl(a[3][0].data),d=0;c[1].forEach(function(f){var p=Tl(f.data),m=e[YA(p[2][0].data)][0],w=fo(m.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var y=ylt(e,m);y.data.forEach(function(C,T){C.forEach(function(k,R){var P=qr({r:d+T,c:R}),U=wlt(k,o,l);U&&(n[P]=U)})}),d+=y.nrows})}function Slt(e,t){var n=Tl(t.data),r={"!ref":"A1"},i=e[YA(n[2][0].data)],s=fo(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Clt(e,i[0],r),r}function Elt(e,t){var n,r=Tl(t.data),i={name:(n=r[1])!=null&&n[0]?sR(r[1][0].data):"",sheets:[]},s=nM(r[2],YA);return s.forEach(function(a){e[a].forEach(function(o){var l=fo(o.meta[1][0].data);l==6e3&&i.sheets.push(Slt(e,o))})}),i}function Nlt(e,t){var n=sM(),r=Tl(t.data),i=nM(r[1],YA);if(i.forEach(function(s){e[s].forEach(function(a){var o=fo(a.meta[1][0].data);if(o==2){var l=Elt(e,a);l.sheets.forEach(function(c,d){aM(n,c,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function i3(e){var t,n,r,i,s={},a=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=mlt(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=plt(c)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&fo(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var d=fo(c.meta[1][0].data)>>>0;if(d==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Nlt(s,o)}function Tlt(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function rM(e){Tlt([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Ilt(e){return Rm.WS.indexOf(e)>-1?"sheet":e==Rm.CS?"chart":e==Rm.DS?"dialog":e==Rm.MS?"macro":e&&e.length?e:"sheet"}function Flt(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,Ilt(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function klt(e,t,n,r,i,s,a,o,l,c,d,f){try{s[r]=Wv($c(e,n,!0),t);var p=Wa(e,t),m;switch(o){case"sheet":m=Mot(p,t,i,l,s[r],c,d,f);break;case"chart":if(m=Lot(p,t,i,l,s[r],c,d,f),!m||!m["!drawel"])break;var w=bv(m["!drawel"].Target,t),y=eR(w),C=Pit($c(e,w,!0),Wv($c(e,y,!0),w)),T=bv(C,w),k=eR(T);m=vot($c(e,T,!0),T,l,Wv($c(e,k,!0),T),c,m);break;case"macro":m=Oot(p,t,i,l,s[r],c,d,f);break;case"dialog":m=jot(p,t,i,l,s[r],c,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=m;var R=[];s&&s[r]&&Nh(s[r]).forEach(function(P){var U="";if(s[r][P].Type==Rm.CMNT){U=bv(s[r][P].Target,t);var O=Vot(Wa(e,U,!0),U,l);if(!O||!O.length)return;Wz(m,O,!1)}s[r][P].Type==Rm.TCMNT&&(U=bv(s[r][P].Target,t),R=R.concat(Lit(Wa(e,U,!0),l)))}),R&&R.length&&Wz(m,R,!0,l.people||[])}catch(P){if(l.WTF)throw P}}function pu(e){return e.charAt(0)=="/"?e.slice(1):e}function Blt(e,t){if(gie(),t=t||{},rM(t),Cu(e,"META-INF/manifest.xml")||Cu(e,"objectdata.xml"))return iW(e,t);if(Cu(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof i3<"u"){if(e.FileIndex)return i3(e);var n=Ri.utils.cfb_new();return vz(e).forEach(function(ee){Ret(n,ee,Bet(e,ee))}),i3(n)}throw new Error("Unsupported NUMBERS file")}if(!Cu(e,"[Content_Types].xml"))throw Cu(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Cu(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=vz(e),i=Ttt($c(e,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Wa(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Wa(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if($v=[],i.sst)try{$v=Got(Wa(e,pu(i.sst)),i.sst,t)}catch(ee){if(t.WTF)throw ee}t.cellStyles&&i.themes.length&&(l=Hot($c(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=Uot(Wa(e,pu(i.style)),i.style,l,t))}i.links.map(function(ee){try{var ie=Wv($c(e,eR(pu(ee))),ee);return zot(Wa(e,pu(ee)),ie,ee,t)}catch{}});var d=Pot(Wa(e,pu(i.workbooks[0])),i.workbooks[0],t),f={},p="";i.coreprops.length&&(p=Wa(e,pu(i.coreprops[0]),!0),p&&(f=zie(p)),i.extprops.length!==0&&(p=Wa(e,pu(i.extprops[0]),!0),p&&Rtt(p,f,t)));var m={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(p=$c(e,pu(i.custprops[0]),!0),p&&(m=Dtt(p,t)));var w={};if((t.bookSheets||t.bookProps)&&(d.Sheets?a=d.Sheets.map(function(ie){return ie.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),t.bookProps&&(w.Props=f,w.Custprops=m),t.bookSheets&&typeof a<"u"&&(w.SheetNames=a),t.bookSheets?w.SheetNames:t.bookProps))return w;a={};var y={};t.bookDeps&&i.calcchain&&(y=Qot(Wa(e,pu(i.calcchain)),i.calcchain));var C=0,T={},k,R;{var P=d.Sheets;f.Worksheets=P.length,f.SheetNames=[];for(var U=0;U!=P.length;++U)f.SheetNames[U]=P[U].name}var O=s?"bin":"xml",L=i.workbooks[0].lastIndexOf("/"),K=(i.workbooks[0].slice(0,L+1)+"_rels/"+i.workbooks[0].slice(L+1)+".rels").replace(/^\//,"");Cu(e,K)||(K="xl/_rels/workbook."+O+".rels");var j=Wv($c(e,K,!0),K.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=Wot(Wa(e,pu(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=Oit(Wa(e,pu(i.people[0])),t)),j&&(j=Flt(j,d.Sheets));var te=Wa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=f.Worksheets;++C){var G="sheet";if(j&&j[C]?(k="xl/"+j[C][1].replace(/[\/]?xl\//,""),Cu(e,k)||(k=j[C][1]),Cu(e,k)||(k=K.replace(/_rels\/.*$/,"")+j[C][1]),G=j[C][2]):(k="xl/worksheets/sheet"+(C+1-te)+"."+O,k=k.replace(/sheet0\./,"sheet.")),R=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(C!=t.sheets)continue e;break;case"string":if(f.SheetNames[C].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var V=!1,re=0;re!=t.sheets.length;++re)typeof t.sheets[re]=="number"&&t.sheets[re]==C&&(V=1),typeof t.sheets[re]=="string"&&t.sheets[re].toLowerCase()==f.SheetNames[C].toLowerCase()&&(V=1);if(!V)continue e}}klt(e,k,R,f.SheetNames[C],C,T,a,G,t,d,l,c)}return w={Directory:i,Workbook:d,Props:f,Custprops:m,Deps:y,Sheets:a,SheetNames:f.SheetNames,Strings:$v,Styles:c,Themes:l,SSF:tl(Jr)},t&&t.bookFiles&&(e.files?(w.keys=r,w.files=e.files):(w.keys=[],w.files={},e.FullPaths.forEach(function(ee,ie){ee=ee.replace(/^Root Entry[\/]/,""),w.keys.push(ee),w.files[ee]=e.FileIndex[ie]}))),t&&t.bookVBA&&(i.vba.length>0?w.vbaraw=Wa(e,pu(i.vba[0]),!0):i.defaults&&i.defaults.bin===Git&&(w.vbaraw=Wa(e,"xl/vbaProject.bin",!0))),w}function Rlt(e,t){var n=t||{},r="Workbook",i=Ri.find(e,r);try{if(r="/!DataSpaces/Version",i=Ri.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(Srt(i.content),r="/!DataSpaces/DataSpaceMap",i=Ri.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Nrt(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ri.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=Trt(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ri.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);Frt(i.content)}catch{}if(r="/EncryptionInfo",i=Ri.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=krt(i.content);if(r="/EncryptedPackage",i=Ri.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function iM(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=ru(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function _lt(e,t){return Ri.find(e,"EncryptedPackage")?Rlt(e,t):Fse(e,t)}function Dlt(e,t){var n,r=e,i=t||{};return i.type||(i.type=Ti&&Buffer.isBuffer(e)?"buffer":"base64"),n=yie(r,i),Blt(n,i)}function _se(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return rR(e.slice(n),t);default:break e}return Uw.to_workbook(e,t)}function Plt(e,t){var n="",r=iM(e,t);switch(t.type){case"base64":n=ru(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=$p(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Fs(n)),t.type="binary",_se(n,t)}function Mlt(e,t){var n=e;return t.type=="base64"&&(n=ru(n)),n=Mw.utils.decode(1200,n.slice(2),"str"),t.type="binary",_se(n,t)}function Llt(e){return e.match(/[^\x00-\x7F]/)?yv(e):e}function s3(e,t,n,r){return r?(n.type="string",Uw.to_workbook(e,n)):Uw.to_workbook(t,n)}function oR(e,t){iie();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return oR(new Uint8Array(e),(n=tl(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),l1={},n.dateNF&&(l1.dateNF=n.dateNF),n.type||(n.type=Ti&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=Ti?"buffer":"binary",r=Cet(e),typeof Uint8Array<"u"&&!Ti&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=Llt(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=tl(n),n.type="array",oR(MP(r),n)}switch((i=iM(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return _lt(Ri.read(r,n),n);break;case 9:if(i[1]<=8)return Fse(r,n);break;case 60:return rR(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return drt(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return crt.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Dlt(r,n):s3(e,r,n,s);case 239:return i[3]===60?rR(r,n):s3(e,r,n,s);case 255:if(i[1]===254)return Mlt(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return qv.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return qv.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return zz.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Grt.to_workbook(r,n);break;case 10:case 13:case 32:return Plt(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return ort.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?zz.to_workbook(r,n):s3(e,r,n,s)}function Olt(e,t,n,r,i,s,a,o){var l=nl(n),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!a||e[n])for(var m=t.s.c;m<=t.e.c;++m){var w=a?e[n][m]:e[r[m]+l];if(w===void 0||w.t===void 0){if(c===void 0)continue;s[m]!=null&&(p[s[m]]=c);continue}var y=w.v;switch(w.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(s[m]!=null){if(y==null)if(w.t=="e"&&y===null)p[s[m]]=null;else if(c!==void 0)p[s[m]]=c;else if(d&&y===null)p[s[m]]=null;else continue;else p[s[m]]=d&&(w.t!=="n"||w.t==="n"&&o.rawNumbers!==!1)?y:Pf(w,y,o);y!=null&&(f=!1)}}return{row:p,isempty:f}}function lR(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof d){case"string":l=Sa(d);break;case"number":l=Sa(e["!ref"]),l.s.r=d;break;default:l=d}r>0&&(i=0);var f=nl(l.s.r),p=[],m=[],w=0,y=0,C=Array.isArray(e),T=l.s.r,k=0,R={};C&&!e[T]&&(e[T]=[]);var P=c.skipHidden&&e["!cols"]||[],U=c.skipHidden&&e["!rows"]||[];for(k=l.s.c;k<=l.e.c;++k)if(!(P[k]||{}).hidden)switch(p[k]=uo(k),n=C?e[T][k]:e[p[k]+f],r){case 1:s[k]=k-l.s.c;break;case 2:s[k]=p[k];break;case 3:s[k]=c.header[k-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=Pf(n,null,c),y=R[a]||0,!y)R[a]=1;else{do o=a+"_"+y++;while(R[o]);R[a]=y,R[o]=1}s[k]=o}for(T=l.s.r+i;T<=l.e.r;++T)if(!(U[T]||{}).hidden){var O=Olt(e,l,T,p,r,s,C,c);(O.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(m[w++]=O.row)}return m.length=w,m}var lW=/"/g;function jlt(e,t,n,r,i,s,a,o){for(var l=!0,c=[],d="",f=nl(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=o.dense?(e[n]||[])[p]:e[r[p]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:Pf(m,null,o));for(var w=0,y=0;w!==d.length;++w)if((y=d.charCodeAt(w))===i||y===s||y===34||o.forceQuotes){d='"'+d.replace(lW,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(lW,'""')+'"')):d="";c.push(d)}return o.blankrows===!1&&l?null:c.join(a)}function Dse(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=Sa(e["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],w=i.s.c;w<=i.e.c;++w)(p[w]||{}).hidden||(f[w]=uo(w));for(var y=0,C=i.s.r;C<=i.e.r;++C)(m[C]||{}).hidden||(d=jlt(e,i,C,f,a,l,s,r),d!=null&&(r.strip&&(d=d.replace(c,"")),(d||r.blankrows!==!1)&&n.push((y++?o:"")+d)));return delete r.dense,n.join("")}function Ult(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=Dse(e,t);return n}function Hlt(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=Sa(e["!ref"]),s="",a=[],o,l=[],c=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)a[o]=uo(o);for(var d=i.s.r;d<=i.e.r;++d)for(s=nl(d),o=i.s.c;o<=i.e.c;++o)if(t=a[o]+s,n=c?(e[d]||[])[o]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function Pse(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Kl(r.origin):r.origin;a=l.r,o=l.c}var c,d={s:{c:0,r:0},e:{c:o,r:a+t.length-1+i}};if(s["!ref"]){var f=Sa(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),a==-1&&(a=f.e.r+1,d.e.r=a+t.length-1+i)}else a==-1&&(a=0,d.e.r=t.length-1+i);var p=r.header||[],m=0;t.forEach(function(y,C){Nh(y).forEach(function(T){(m=p.indexOf(T))==-1&&(p[m=p.length]=T);var k=y[T],R="z",P="",U=qr({c:o+m,r:a+C+i});c=Qw(s,U),k&&typeof k=="object"&&!(k instanceof Date)?s[U]=k:(typeof k=="number"?R="n":typeof k=="boolean"?R="b":typeof k=="string"?R="s":k instanceof Date?(R="d",r.cellDates||(R="n",k=Zl(k)),P=r.dateNF||Jr[14]):k===null&&r.nullError&&(R="e",k=0),c?(c.t=R,c.v=k,delete c.w,delete c.R,P&&(c.z=P)):s[U]=c={t:R,v:k},P&&(c.z=P))})}),d.e.c=Math.max(d.e.c,o+p.length-1);var w=nl(a);if(i)for(m=0;m<p.length;++m)s[uo(m+o)+w]={t:"s",v:p[m]};return s["!ref"]=_i(d),s}function Glt(e,t){return Pse(null,e,t)}function Qw(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Kl(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Qw(e,qr(t)):Qw(e,qr({r:t,c:n||0}))}function Vlt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function sM(){return{SheetNames:[],Sheets:{}}}function aM(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=a+i)!=-1;++i);}if(Tot(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function Qlt(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=Vlt(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function zlt(e,t){return e.z=t,e}function Mse(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function Wlt(e,t,n){return Mse(e,"#"+t,n)}function Klt(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function qlt(e,t,n,r){for(var i=typeof t!="string"?t:Sa(t),s=typeof t=="string"?t:_i(t),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Qw(e,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return e}var $lt={encode_col:uo,encode_row:nl,encode_cell:qr,encode_range:_i,decode_col:zP,decode_row:QP,split_cell:att,decode_cell:Kl,decode_range:nx,format_cell:Pf,sheet_add_aoa:Uie,sheet_add_json:Pse,sheet_add_dom:kse,aoa_to_sheet:rx,json_to_sheet:Glt,table_to_sheet:Bse,table_to_book:dlt,sheet_to_csv:Dse,sheet_to_txt:Ult,sheet_to_json:lR,sheet_to_html:ult,sheet_to_formulae:Hlt,sheet_to_row_object_array:lR,sheet_get_cell:Qw,book_new:sM,book_append_sheet:aM,book_set_sheet_visibility:Qlt,cell_set_number_format:zlt,cell_set_hyperlink:Mse,cell_set_internal_link:Wlt,cell_add_comment:Klt,sheet_set_array_formula:qlt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ylt=({projects:e,teamMembers:t,onAddDispatch:n,onDeleteDispatch:r,onProjectsUpdate:i})=>{const[s,a]=B.useState("manual"),[o,l]=B.useState(!1),[c,d]=B.useState(""),[f,p]=B.useState([]),[m,w]=B.useState(""),[y,C]=B.useState(null),[T,k]=B.useState(new Set),[R,P]=B.useState("all"),[U,O]=B.useState({projectId:"",memberId:"",date:new Date().toISOString().split("T")[0],wagePerDay:"",days:"1"}),L=async()=>{if(c.trim()){l(!0);try{const ce=(await qre(c,t)||[]).map((Q,Y)=>{var Ce;const X=Q.projectId||"",ne=e.find(ke=>ke.id.toLowerCase().includes(X.toLowerCase())||X.toLowerCase().includes(ke.id.toLowerCase())||ke.name.includes(X)),oe=t.find(ke=>ke.name===Q.memberName||(ke.nicknames||[]).includes(Q.memberName));return{id:`pending-${Y}-${Date.now()}`,projectId:X,matchedProjectId:(ne==null?void 0:ne.id)||"",date:Q.date||new Date().toISOString().split("T")[0],memberName:Q.memberName||"",wagePerDay:((Ce=oe==null?void 0:oe.dailyRate)==null?void 0:Ce.toString())||"2500",days:"1",description:Q.description||""}});p(ce)}catch(fe){alert(`AI : ${fe.message||""}`)}finally{l(!1)}}},K=fe=>{if(!fe)return null;const ce=[/([A-Z]+[-_\s]?\d{4,})/i,/\[([A-Z0-9\s-]+)\]/i,/\(([A-Z0-9\s-]+)\)/i];for(const Q of ce){const Y=fe.match(Q);if(Y&&Y[1]){const X=Y[1].replace(/[-_\s]/g,"").toUpperCase();return/^[A-Z]+2024\d+$|^[A-Z]+2025\d+$/i.test(X),X}}return null},j=fe=>{var Y;const ce=(Y=fe.target.files)==null?void 0:Y[0];if(!ce)return;if(ce.name===y&&!window.confirm(` "${ce.name}" `)){fe.target.value="";return}const Q=new FileReader;Q.onload=X=>{var ne;try{const oe=(ne=X.target)==null?void 0:ne.result,Ce=oR(oe,{type:"binary"}),ke=Ce.Sheets[Ce.SheetNames[0]],Ue=$lt.sheet_to_json(ke).map((Ye,ve)=>{const gt=Ye.||"",yt=Ye.||Ye.||"",Nt=(Ye.||"").split(/[,\s]+/).filter(Qt=>Qt.trim());let nt=new Date().toISOString().split("T")[0];if(yt){const Qt=yt.match(/(\d{4})[/-](\d{1,2})[/-](\d{1,2})/);Qt&&(nt=`${Qt[1]}-${Qt[2].padStart(2,"0")}-${Qt[3].padStart(2,"0")}`)}const Ct=K(gt),lt=e.find(Qt=>!!(Ct&&(Qt.id.toUpperCase()===Ct||Qt.id.toUpperCase().includes(Ct)||Ct.includes(Qt.id.toUpperCase()))||Qt.name&&gt&&(Qt.name.includes(gt)||gt.includes(Qt.name))||gt.toUpperCase().includes(Qt.id.toUpperCase())));return Nt.map((Qt,ot)=>{const An=t.find(Ht=>Ht.name===Qt.trim()||(Ht.nicknames||[]).includes(Qt.trim())),bn=["","","",""],Vn=Object.keys(Ye).filter(Ht=>bn.some(hn=>Ht.includes(hn))).map(Ht=>Ye[Ht]).some(Ht=>Ht?String(Ht).split(/[,\s]+/).filter(br=>br.trim()).some(br=>br.trim()===Qt.trim()):!1),Sn=(An==null?void 0:An.dailyRate)||2500,tr=Vn&&(An==null?void 0:An.spiderManAllowance)||0,xn=Sn+tr;return{id:`excel-${ve}-${ot}-${Date.now()}`,projectId:Ct||gt||"",matchedProjectId:(lt==null?void 0:lt.id)||"",date:nt,memberName:Qt.trim(),wagePerDay:xn.toString(),days:"1",description:Ye.||Ye.||"",isSpiderMan:Vn}})}).flat();p(Ye=>[...Ye,...Ue]),w(ce.name),C(ce.name)}catch(oe){alert(`Excel : ${oe.message||""}`),w("")}},Q.readAsBinaryString(ce)},te=()=>{T.size!==0&&window.confirm(` ${T.size} `)&&(p(fe=>fe.filter(ce=>!T.has(ce.id))),k(new Set))},G=()=>{T.size===f.length?k(new Set):k(new Set(f.map(fe=>fe.id)))},V=fe=>{const ce=new Set(T);ce.has(fe)?ce.delete(fe):ce.add(fe),k(ce)},re=fe=>{const ce=f.filter(oe=>fe.has(oe.id)),Q=ce.filter(oe=>!oe.matchedProjectId);if(Q.length>0){alert(` ${Q.length} `);return}const Y=[],X=[...e];ce.forEach(oe=>{var ke,Ne;const Ce=X.findIndex(Ue=>Ue.id===oe.matchedProjectId);if(Ce>-1){const Ue=parseInt(oe.wagePerDay)*parseFloat(oe.days),Ye={id:`WA-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,date:oe.date,memberId:((ke=t.find(yt=>yt.name===oe.memberName))==null?void 0:ke.id)||"unknown",memberName:oe.memberName,wagePerDay:parseInt(oe.wagePerDay),days:parseFloat(oe.days),totalCost:Ue,isSpiderMan:oe.isSpiderMan};Y.push(Ye);const ve=X[Ce],gt=ve.workAssignments||[];X[Ce]={...ve,workAssignments:[...gt,Ye],financials:{...ve.financials,labor:(((Ne=ve.financials)==null?void 0:Ne.labor)||0)+Ue},spent:(ve.spent||0)+Ue,updatedAt:new Date().toISOString()}}}),i(X),p(oe=>oe.filter(Ce=>!fe.has(Ce.id)));const ne=new Set(T);fe.forEach(oe=>ne.delete(oe)),k(ne),alert(` ${Y.length} `)},ee=()=>{const fe=f.filter(Q=>Q.matchedProjectId!=="");if(fe.length===0){alert("");return}let ce=0;fe.forEach(Q=>{const Y=t.find(X=>X.name===Q.memberName);n(Q.matchedProjectId,{id:Date.now().toString()+Math.random(),date:Q.date,memberId:(Y==null?void 0:Y.id)||"EXTERNAL",memberName:Q.memberName,wagePerDay:Number(Q.wagePerDay),days:Number(Q.days),totalCost:Number(Q.wagePerDay)*Number(Q.days),isSpiderMan:Q.isSpiderMan}),ce++}),alert(` ${ce} `),ce===f.length?(p([]),d(""),w(""),a("manual"),k(new Set)):(p(Q=>Q.filter(Y=>Y.matchedProjectId==="")),k(new Set))},ie=(fe,ce,Q)=>{p(Y=>Y.map(X=>X.id===fe?{...X,[ce]:Q}:X))},ue=fe=>{fe.preventDefault();const ce=e.find(Y=>Y.id===U.projectId),Q=t.find(Y=>Y.id===U.memberId);!ce||!Q||!U.wagePerDay||!U.days||(n(ce.id,{id:Date.now().toString(),date:U.date,memberId:Q.id,memberName:Q.name,wagePerDay:Number(U.wagePerDay),days:Number(U.days),totalCost:Number(U.wagePerDay)*Number(U.days)}),O({...U,memberId:"",wagePerDay:"",days:"1"}))},le=B.useMemo(()=>{const fe=[];return e.forEach(ce=>{(ce.workAssignments||[]).forEach(Q=>{fe.push({...Q,projectName:ce.name,projectId:ce.id})})}),fe.sort((ce,Q)=>Q.date.localeCompare(ce.date))},[e]),xe=B.useMemo(()=>R==="all"?le:le.filter(fe=>fe.projectId===R),[le,R]),ge=B.useMemo(()=>f.reduce((fe,ce)=>{const Q=e.find(X=>X.id===ce.matchedProjectId),Y=Q?`${Q.name} (${Q.id})`:` / : ${ce.projectId||""}`;return fe[Y]||(fe[Y]=[]),fe[Y].push(ce),fe},{}),[f,e]);return u.jsxs("div",{className:"p-4 lg:p-8 space-y-6 animate-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl lg:text-2xl font-black text-stone-900 tracking-tight",children:""}),u.jsx("p",{className:"text-stone-500 text-xs lg:text-sm font-medium",children:" Excel AI "})]}),u.jsxs("div",{className:"flex bg-stone-100 p-1 rounded-xl border border-stone-200",children:[u.jsx("button",{onClick:()=>a("manual"),className:`px-4 py-2 rounded-lg text-xs font-black transition-all ${s==="manual"?"bg-white text-stone-900 shadow-sm":"text-stone-400"}`,children:""}),u.jsxs("button",{onClick:()=>a("ai"),className:`px-4 py-2 rounded-lg text-xs font-black flex items-center gap-2 transition-all ${s==="ai"?"bg-white text-orange-600 shadow-sm":"text-stone-400"}`,children:[u.jsx(Ui,{size:14})," AI "]}),u.jsxs("button",{onClick:()=>a("excel"),className:`px-4 py-2 rounded-lg text-xs font-black flex items-center gap-2 transition-all ${s==="excel"?"bg-white text-emerald-600 shadow-sm":"text-stone-400"}`,children:[u.jsx(f3,{size:14})," Excel "]})]})]}),s==="ai"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-stone-200 shadow-sm space-y-6",children:[u.jsxs("h3",{className:"text-sm font-black text-stone-900 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(u3,{size:20,className:"text-orange-600"})," "]}),u.jsx("textarea",{className:"w-full h-80 bg-stone-50 border border-stone-200 rounded-3xl p-6 text-sm font-bold text-black outline-none focus:ring-4 focus:ring-orange-500/10 placeholder:text-stone-300 resize-none leading-relaxed",placeholder:" Line ...",value:c,onChange:fe=>d(fe.target.value)}),u.jsxs("button",{onClick:L,disabled:o||!c.trim(),className:"w-full bg-stone-900 text-white py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] shadow-xl hover:bg-black active:scale-[0.98] transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?u.jsx(ia,{size:20,className:"animate-spin"}):u.jsx(Ui,{size:20,className:"text-orange-400"}),o?"AI ...":" AI "]})]}),u.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-stone-200 shadow-sm flex flex-col h-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0 flex-wrap gap-2",children:[u.jsxs("h3",{className:"text-sm font-black text-stone-900 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(Ic,{size:20,className:"text-emerald-600"}),"  ",u.jsx("span",{className:"text-emerald-500 text-[10px]",children:"( V3.0)"})]}),u.jsx("div",{className:"flex items-center gap-2",children:f.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:te,disabled:T.size===0,className:`px-3 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1 transition-all ${T.size>0?"bg-rose-100 text-rose-600 hover:bg-rose-200":"bg-stone-100 text-stone-300 cursor-not-allowed"}`,children:[u.jsx(Ni,{size:12})," (",T.size,")"]}),u.jsx("button",{onClick:G,className:"px-3 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest bg-stone-100 text-stone-500 hover:bg-stone-200",children:T.size===f.length?"":""}),u.jsxs("button",{onClick:ee,className:"bg-emerald-600 text-white px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-emerald-700 shadow-lg shadow-emerald-100 flex items-center gap-2",children:[" (",f.filter(fe=>fe.matchedProjectId!=="").length,")"]})]})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 no-scrollbar pr-2 min-h-[450px]",children:[f.length>0&&u.jsxs("div",{className:"mb-6 p-4 bg-stone-50 rounded-2xl border border-stone-200",children:[u.jsxs("h4",{className:"text-xs font-black text-stone-900 uppercase tracking-widest mb-3 flex items-center gap-2",children:[u.jsx(A3,{size:14,className:"text-stone-500"})," (",Object.keys(ge).length,")"]}),u.jsx("div",{className:"space-y-2",children:Object.entries(ge).map(([fe,ce])=>{const Q=fe.startsWith("");return u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-stone-100 shadow-sm hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:`text-xs font-black ${Q?"text-rose-600":"text-stone-900"}`,children:fe}),u.jsxs("span",{className:"text-[10px] text-stone-400 font-bold",children:[ce.length," "]})]}),u.jsxs("button",{onClick:()=>{const Y=new Set(ce.map(oe=>oe.id));if(ce.some(oe=>!oe.matchedProjectId)){alert("");return}let ne=0;ce.forEach(oe=>{if(!oe.matchedProjectId)return;const Ce=t.find(ke=>ke.name===oe.memberName);n(oe.matchedProjectId,{id:Date.now().toString()+Math.random(),date:oe.date,memberId:(Ce==null?void 0:Ce.id)||"EXTERNAL",memberName:oe.memberName,wagePerDay:Number(oe.wagePerDay),days:Number(oe.days),totalCost:Number(oe.wagePerDay)*Number(oe.days),isSpiderMan:oe.isSpiderMan}),ne++}),alert(` ${fe}  ${ne} `),p(oe=>oe.filter(Ce=>!Y.has(Ce.id))),k(oe=>{const Ce=new Set(oe);return Y.forEach(ke=>Ce.delete(ke)),Ce}),f.length-ne===0&&(p([]),d(""),w(""),a("manual"))},disabled:Q,className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-1 transition-all ${Q?"bg-stone-100 text-stone-400 cursor-not-allowed":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"}`,children:[Q?"":""," ",u.jsx(Np,{size:10})]})]},fe)})})]}),f.length>0?Object.entries(ge).map(([fe,ce])=>u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm py-2 mb-2 border-b border-stone-100 flex items-center justify-between",children:[u.jsx("h4",{className:`text-xs font-black uppercase tracking-widest pl-3 border-l-4 ${fe.startsWith("")?"border-rose-500 text-rose-600":"border-emerald-500 text-emerald-700"}`,children:fe}),u.jsxs("span",{className:"text-[10px] font-bold bg-stone-100 text-stone-500 px-2 py-1 rounded-full",children:[ce.length," "]})]}),u.jsx("div",{className:"space-y-3",children:ce.map(Q=>u.jsxs("div",{className:`p-5 pl-12 rounded-2xl border transition-all space-y-3 relative group ${Q.matchedProjectId?"bg-stone-50 border-stone-100":"bg-rose-50 border-rose-100 ring-2 ring-rose-500/20"}`,children:[u.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-10 flex items-center justify-center border-r border-stone-100/50",children:u.jsx("input",{type:"checkbox",checked:T.has(Q.id),onChange:()=>V(Q.id),className:"w-4 h-4 rounded border-stone-300 text-emerald-600 focus:ring-emerald-500"})}),u.jsx("button",{onClick:()=>p(Y=>Y.filter(X=>X.id!==Q.id)),className:"absolute top-4 right-4 text-stone-300 hover:text-rose-500 z-10",children:u.jsx(Ni,{size:14})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center gap-2",children:Q.matchedProjectId?u.jsxs("span",{className:"text-[9px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded border border-emerald-100",children:[": ",Q.matchedProjectId]}):u.jsxs("span",{className:"text-[9px] font-black text-rose-600 bg-rose-50 px-2 py-0.5 rounded border border-rose-100 flex items-center gap-1",children:[u.jsx(ho,{size:10})," : ",Q.projectId]})}),u.jsx("div",{className:"relative",children:u.jsxs("select",{className:`w-full bg-white border rounded-xl px-3 py-2 text-xs font-black text-black outline-none ${Q.matchedProjectId?"border-stone-200":"border-rose-300 ring-2 ring-rose-500/10"}`,value:Q.matchedProjectId,onChange:Y=>{ie(Q.id,"matchedProjectId",Y.target.value)},children:[u.jsx("option",{value:"",children:"..."}),e.map(Y=>u.jsxs("option",{value:Y.id,children:[Y.name," (",Y.id,")"]},Y.id))]})}),u.jsx("div",{className:"flex justify-between items-end",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-white border border-stone-200 rounded-lg flex items-center justify-center font-black text-xs text-stone-700",children:Q.memberName.charAt(0)}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-xs font-black text-stone-900",children:Q.memberName}),Q.isSpiderMan&&u.jsx("span",{className:"text-[8px] font-black text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded border border-blue-100",children:" "})]}),u.jsx("p",{className:"text-[9px] text-stone-400 font-bold",children:Q.date})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-stone-100",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[8px] font-black text-stone-400 uppercase mb-1",children:" (TWD)"}),u.jsx("input",{type:"number",className:"w-full bg-white border border-stone-200 rounded-lg px-3 py-1.5 text-xs font-black text-black outline-none",value:Q.wagePerDay,onChange:Y=>ie(Q.id,"wagePerDay",Y.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[8px] font-black text-stone-400 uppercase mb-1",children:""}),u.jsx("input",{type:"number",step:"0.5",className:"w-full bg-white border border-stone-200 rounded-lg px-3 py-1.5 text-xs font-black text-black outline-none",value:Q.days,onChange:Y=>ie(Q.id,"days",Y.target.value)})]})]})]},Q.id))})]},fe)):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 italic text-stone-400 space-y-3",children:[u.jsx(xh,{size:48}),u.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"AI "})]})]}),f.length>0&&u.jsxs("div",{className:"mt-6 p-4 bg-orange-50 rounded-2xl border border-orange-100 flex items-start gap-3",children:[u.jsx(Sv,{size:16,className:"text-orange-600 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-[10px] text-orange-700 font-bold leading-relaxed",children:""})]})]})]}),s==="excel"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-stone-200 shadow-sm space-y-6",children:[u.jsxs("h3",{className:"text-sm font-black text-stone-900 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(f3,{size:20,className:"text-emerald-600"}),"  Excel"]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-2xl border-2 border-dashed border-emerald-200 space-y-4",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[u.jsx(nh,{size:48,className:"text-emerald-400 mb-4"}),u.jsx("p",{className:"text-sm font-bold text-stone-700 mb-2",children:"Excel"}),u.jsx("p",{className:"text-xs text-stone-500 mb-6",children:" .xlsx, .xls "}),u.jsxs("label",{className:"cursor-pointer",children:[u.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:j,className:"hidden"}),u.jsxs("div",{className:"bg-emerald-600 text-white px-8 py-4 rounded-2xl font-black text-sm uppercase tracking-[0.2em] shadow-xl hover:bg-emerald-700 active:scale-[0.98] transition-all flex items-center gap-3",children:[u.jsx(nh,{size:20})," Excel "]})]})]}),m&&u.jsx("div",{className:"bg-white p-5 rounded-2xl border-2 border-emerald-500 shadow-lg animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-emerald-500 rounded-xl flex items-center justify-center",children:u.jsx(Ic,{size:24,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-black text-emerald-900 mb-1",children:" "}),u.jsx("p",{className:"text-xs font-bold text-stone-700 mb-2 break-all",children:m}),u.jsxs("p",{className:"text-[11px] text-emerald-700 font-medium",children:[" ",u.jsx("span",{className:"font-black text-emerald-900",children:f.length})," "]})]})]})})]}),u.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 space-y-3",children:[u.jsxs("h4",{className:"text-xs font-black text-blue-900 uppercase tracking-wider flex items-center gap-2",children:[u.jsx(Sv,{size:16}),"Excel "]}),u.jsxs("div",{className:"text-[11px] text-blue-800 font-medium space-y-2 leading-relaxed",children:[u.jsxs("p",{children:[" ",u.jsx("strong",{children:""})]}),u.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:""})," - "]}),u.jsxs("li",{children:[u.jsx("strong",{children:""})," - "]}),u.jsxs("li",{children:[u.jsx("strong",{children:""})," - "]})]}),u.jsxs("p",{className:"mt-3",children:[" ",u.jsx("strong",{children:""})]}),u.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:""})," - "]}),u.jsxs("li",{children:[u.jsx("strong",{children:""})," - "]})]})]})]})]}),u.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-stone-200 shadow-sm flex flex-col h-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0 flex-wrap gap-2",children:[u.jsxs("h3",{className:"text-sm font-black text-stone-900 flex items-center gap-2 uppercase tracking-widest",children:[u.jsx(Ic,{size:20,className:"text-emerald-600"})," "]}),u.jsx("div",{className:"flex items-center gap-2",children:f.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:te,disabled:T.size===0,className:`px-3 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1 transition-all ${T.size>0?"bg-rose-100 text-rose-600 hover:bg-rose-200":"bg-stone-100 text-stone-300 cursor-not-allowed"}`,children:[u.jsx(Ni,{size:12})," (",T.size,")"]}),u.jsx("button",{onClick:G,className:"px-3 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest bg-stone-100 text-stone-500 hover:bg-stone-200",children:T.size===f.length?"":""}),u.jsxs("button",{onClick:ee,className:"bg-emerald-600 text-white px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-emerald-700 shadow-lg shadow-emerald-100 flex items-center gap-2",children:[" (",f.filter(fe=>fe.matchedProjectId!=="").length,")"]})]})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 no-scrollbar pr-2 min-h-[450px]",children:[f.length>0&&u.jsxs("div",{className:"mb-6 p-4 bg-stone-50 rounded-2xl border border-stone-200",children:[u.jsxs("h4",{className:"text-xs font-black text-stone-900 uppercase tracking-widest mb-3 flex items-center gap-2",children:[u.jsx(A3,{size:14,className:"text-stone-500"})," (",Object.keys(ge).length,")"]}),u.jsx("div",{className:"space-y-2",children:Object.entries(ge).map(([fe,ce])=>{const Q=fe.startsWith("");return u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-stone-100 shadow-sm hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:`text-xs font-black ${Q?"text-rose-600":"text-stone-900"}`,children:fe}),u.jsxs("span",{className:"text-[10px] text-stone-400 font-bold",children:[ce.length," "]})]}),u.jsxs("button",{onClick:()=>{const Y=new Set(ce.map(X=>X.id));re(Y)},className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest border flex items-center gap-1 transition-all ${Q?"bg-stone-100 text-stone-300 border-stone-200 cursor-not-allowed":"bg-emerald-50 text-emerald-600 border-emerald-100 hover:bg-emerald-100"}`,disabled:Q,title:Q?"":"",children:[Q?"":"",!Q&&u.jsx(Np,{size:10})]})]},fe)})})]}),f.length>0?Object.entries(ge).map(([fe,ce])=>u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm py-2 mb-2 border-b border-stone-200 flex items-center justify-between",children:[u.jsx("h4",{className:`text-xs font-black uppercase tracking-widest pl-3 border-l-4 ${fe.startsWith("")?"border-rose-500 text-rose-600":"border-emerald-500 text-emerald-700"}`,children:fe}),u.jsxs("span",{className:"text-[10px] font-bold bg-stone-100 text-stone-500 px-2 py-1 rounded-full",children:[ce.length," "]})]}),u.jsx("div",{className:"space-y-3",children:ce.map(Q=>u.jsxs("div",{className:`p-5 pl-12 rounded-2xl border transition-all space-y-3 relative group ${Q.matchedProjectId?"bg-stone-50 border-stone-100":"bg-rose-50 border-rose-100 ring-2 ring-rose-500/20"}`,children:[u.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-10 flex items-center justify-center border-r border-stone-100/50",children:u.jsx("input",{type:"checkbox",checked:T.has(Q.id),onChange:()=>V(Q.id),className:"w-4 h-4 rounded border-stone-300 text-emerald-600 focus:ring-emerald-500"})}),u.jsx("button",{onClick:()=>p(Y=>Y.filter(X=>X.id!==Q.id)),className:"absolute top-4 right-4 text-stone-300 hover:text-rose-500 z-10",children:u.jsx(Ni,{size:14})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center gap-2",children:Q.matchedProjectId?u.jsxs("span",{className:"text-[9px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded border border-emerald-100",children:[": ",Q.matchedProjectId]}):u.jsxs("span",{className:"text-[9px] font-black text-rose-600 bg-rose-50 px-2 py-0.5 rounded border border-rose-100 flex items-center gap-1",children:[u.jsx(ho,{size:10})," : ",Q.projectId]})}),u.jsx("div",{className:"relative",children:u.jsxs("select",{className:`w-full bg-white border rounded-xl px-3 py-2 text-xs font-black text-black outline-none ${Q.matchedProjectId?"border-stone-200":"border-rose-300 ring-2 ring-rose-500/10"}`,value:Q.matchedProjectId,onChange:Y=>ie(Q.id,"matchedProjectId",Y.target.value),children:[u.jsx("option",{value:"",children:"..."}),e.map(Y=>u.jsxs("option",{value:Y.id,children:[Y.name," (",Y.id,")"]},Y.id))]})}),u.jsx("div",{className:"flex justify-between items-end",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-white border border-stone-200 rounded-lg flex items-center justify-center font-black text-xs text-stone-700",children:Q.memberName.charAt(0)}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-xs font-black text-stone-900",children:Q.memberName}),Q.isSpiderMan&&u.jsx("span",{className:"text-[8px] font-black text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded border border-blue-100",children:" "})]}),u.jsx("p",{className:"text-[9px] text-stone-400 font-bold",children:Q.date})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-stone-100",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[8px] font-black text-stone-400 uppercase mb-1",children:" (TWD)"}),u.jsx("input",{type:"number",className:"w-full bg-white border border-stone-200 rounded-lg px-3 py-1.5 text-xs font-black text-black outline-none",value:Q.wagePerDay,onChange:Y=>ie(Q.id,"wagePerDay",Y.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[8px] font-black text-stone-400 uppercase mb-1",children:""}),u.jsx("input",{type:"number",step:"0.5",className:"w-full bg-white border border-stone-200 rounded-lg px-3 py-1.5 text-xs font-black text-black outline-none",value:Q.days,onChange:Y=>ie(Q.id,"days",Y.target.value)})]})]})]},Q.id))})]},fe)):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 italic text-stone-400 space-y-3",children:[u.jsx(xh,{size:48}),u.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"Excel "})]})]}),f.length>0&&u.jsxs("div",{className:"mt-6 p-4 bg-orange-50 rounded-2xl border border-orange-100 flex items-start gap-3",children:[u.jsx(Sv,{size:16,className:"text-orange-600 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-[10px] text-orange-700 font-bold leading-relaxed",children:""})]})]})]}),s==="manual"&&u.jsx("div",{className:"bg-white p-8 rounded-[2rem] border-2 border-stone-100 shadow-sm animate-in zoom-in-95",children:u.jsxs("form",{onSubmit:ue,className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-xs font-black text-stone-500 uppercase mb-2",children:"1. "}),u.jsxs("select",{required:!0,className:"w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold text-black outline-none focus:ring-2 focus:ring-orange-500/20",value:U.projectId,onChange:fe=>O({...U,projectId:fe.target.value}),children:[u.jsx("option",{value:"",children:"..."}),e.map(fe=>u.jsx("option",{value:fe.id,className:"text-black",children:fe.name},fe.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-stone-500 uppercase mb-2",children:"2. "}),u.jsxs("select",{required:!0,className:"w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold text-black outline-none",value:U.memberId,onChange:fe=>O({...U,memberId:fe.target.value}),children:[u.jsx("option",{value:"",children:"..."}),t.map(fe=>u.jsxs("option",{value:fe.id,className:"text-black",children:[fe.name," (",fe.role,")"]},fe.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-stone-500 uppercase mb-2",children:"3.  (TWD)"}),u.jsx("input",{type:"number",placeholder:"2500",required:!0,className:"w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold text-black outline-none",value:U.wagePerDay,onChange:fe=>O({...U,wagePerDay:fe.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-stone-500 uppercase mb-2",children:"4. "}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",step:"0.5",min:"0.5",required:!0,className:"w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold text-black outline-none",value:U.days,onChange:fe=>O({...U,days:fe.target.value})}),u.jsx("button",{type:"submit",className:"bg-stone-900 text-white px-6 py-3 rounded-xl font-black text-xs uppercase tracking-widest shadow-lg shadow-stone-100 hover:bg-black transition-all",children:""})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl",children:u.jsx(MW,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("p",{className:"text-xl font-black text-stone-900",children:[(xe||[]).reduce((fe,ce)=>fe+((ce==null?void 0:ce.days)||0),0)," "]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-orange-50 text-orange-600 rounded-xl",children:u.jsx(DW,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("p",{className:"text-xl font-black text-stone-900",children:["NT$ ",((xe||[]).reduce((fe,ce)=>fe+((ce==null?void 0:ce.totalCost)||0),0)||0).toLocaleString()]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-xl",children:u.jsx(O2,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsx("p",{className:"text-xl font-black text-stone-900",children:"28.5%"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] border border-stone-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-8 py-5 border-b border-stone-100 bg-stone-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(u3,{size:18,className:"text-orange-600"}),u.jsx("h3",{className:"font-black text-stone-900 text-sm uppercase tracking-widest",children:""})]}),u.jsxs("div",{className:"flex items-center gap-3 bg-white px-3 py-1.5 rounded-xl border border-stone-200",children:[u.jsx(Cf,{size:14,className:"text-stone-400"}),u.jsxs("select",{className:"bg-transparent text-xs font-bold text-black outline-none cursor-pointer",value:R,onChange:fe=>P(fe.target.value),children:[u.jsx("option",{value:"all",children:""}),e.map(fe=>u.jsx("option",{value:fe.id,className:"text-black",children:fe.name},fe.id))]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-stone-50/50 text-[10px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:[u.jsx("th",{className:"px-8 py-4",children:""}),u.jsx("th",{className:"px-8 py-4",children:""}),u.jsx("th",{className:"px-8 py-4",children:""}),u.jsx("th",{className:"px-8 py-4 text-right",children:""}),u.jsx("th",{className:"px-8 py-4 text-right",children:""}),u.jsx("th",{className:"px-8 py-4 text-right",children:""}),u.jsx("th",{className:"px-8 py-4 text-center",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-stone-50",children:xe.length>0?xe.map(fe=>u.jsxs("tr",{className:"text-sm hover:bg-stone-50/50 transition-colors group",children:[u.jsx("td",{className:"px-8 py-5 font-mono text-xs text-stone-500",children:fe.date}),u.jsx("td",{className:"px-8 py-5",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-bold text-stone-900",children:fe.projectName}),u.jsx("span",{className:"text-[10px] text-stone-400 font-black",children:fe.projectId})]})}),u.jsx("td",{className:"px-8 py-5 font-bold text-stone-800",children:fe.memberName}),u.jsxs("td",{className:"px-8 py-5 text-right font-bold text-stone-600",children:["NT$ ",(fe.wagePerDay||0).toLocaleString()]}),u.jsx("td",{className:"px-8 py-5 text-right font-black text-stone-900",children:fe.days}),u.jsxs("td",{className:"px-8 py-5 text-right font-black text-orange-600",children:["NT$ ",(fe.totalCost||0).toLocaleString()]}),u.jsx("td",{className:"px-8 py-5 text-center",children:u.jsx("button",{onClick:()=>r(fe.projectId,fe.id),className:"p-2 text-stone-300 hover:text-rose-600 opacity-0 group-hover:opacity-100 transition-all",children:u.jsx(Ni,{size:16})})})]},fe.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"text-center py-20 text-xs font-black uppercase tracking-widest text-stone-300 italic",children:""})})})]})})]})]})},Xlt=({customers:e,user:t,onAddClick:n,onEditClick:r,onDeleteClick:i})=>{const[s,a]=B.useState(""),[o,l]=B.useState("all"),d=!((t==null?void 0:t.role)==="SuperAdmin"||(t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.role)==="DeptAdmin"||(t==null?void 0:t.role)==="AdminStaff"||(t==null?void 0:t.role)==="Manager"),f=B.useMemo(()=>e.filter(w=>{var T;const y=w.name.toLowerCase().includes(s.toLowerCase())||w.contactPerson.toLowerCase().includes(s.toLowerCase())||w.phone.includes(s)||((T=w.tags)==null?void 0:T.some(k=>k.toLowerCase().includes(s.toLowerCase())))||w.source&&w.source.toLowerCase().includes(s.toLowerCase()),C=o==="all"||w.type===o;return y&&C}),[e,s,o]),p=w=>{switch(w){case"":return"bg-indigo-50 text-indigo-700 border-indigo-100";case"":return"bg-amber-50 text-amber-700 border-amber-100";case"":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-slate-50 text-slate-700 border-slate-100"}},m=w=>{switch(w){case"Line":return u.jsx(zw,{size:14,className:"text-emerald-500"});case"Email":return u.jsx(QE,{size:14,className:"text-blue-500"});default:return u.jsx(Zc,{size:14,className:"text-stone-400"})}};return u.jsxs("div",{className:"p-8 space-y-6 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:" CRM "}),u.jsx("p",{className:"text-slate-500 font-bold mt-1",children:""})]}),u.jsx("div",{className:"flex items-center gap-3",children:d?u.jsxs("div",{className:"bg-stone-50 text-stone-400 px-4 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 border border-stone-200",children:[u.jsx(Fp,{size:16})," "]}):u.jsxs("button",{onClick:n,className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3.5 rounded-2xl flex items-center gap-2 transition-all shadow-xl shadow-slate-200 active:scale-95 font-black text-sm",children:[u.jsx(zl,{size:20}),u.jsx("span",{children:""})]})})]}),u.jsxs("div",{className:"flex flex-col xl:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 bg-white p-2 rounded-2xl border border-slate-200 shadow-sm flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(vh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),u.jsx("input",{type:"text",placeholder:"Line ID  ...",className:"w-full pl-12 pr-4 py-3 bg-transparent border-none focus:ring-0 outline-none text-sm text-slate-900 font-bold",value:s,onChange:w=>a(w.target.value)})]}),u.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 border-l border-slate-100 pl-4 overflow-x-auto no-scrollbar whitespace-nowrap",children:[u.jsx(fR,{size:14,className:"text-slate-300 mr-2"}),["all","","","",""].map(w=>u.jsx("button",{onClick:()=>l(w),className:`px-4 py-2 rounded-xl text-[10px] font-black transition-all ${o===w?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:w==="all"?"":w},w))]})]}),u.jsx("div",{className:"sm:hidden flex bg-white p-2 rounded-2xl border border-slate-200 shadow-sm overflow-x-auto no-scrollbar gap-1.5",children:["all","","","",""].map(w=>u.jsx("button",{onClick:()=>l(w),className:`px-4 py-2 rounded-xl text-[10px] font-black transition-all whitespace-nowrap ${o===w?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:w==="all"?"":w},w))})]}),u.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"hidden lg:grid lg:grid-cols-12 px-8 py-5 border-b border-slate-100 bg-slate-50/50",children:[u.jsx("div",{className:"col-span-4 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" / "}),u.jsx("div",{className:"col-span-3 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" / Line"}),u.jsx("div",{className:"col-span-2 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" & "}),u.jsx("div",{className:"col-span-2 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("div",{className:"col-span-1 text-[11px] font-black text-slate-400 uppercase tracking-widest text-right",children:""})]}),u.jsx("div",{className:"divide-y divide-slate-100",children:f.length>0?f.map(w=>{var y;return u.jsx("div",{className:"group hover:bg-slate-50/50 transition-colors",children:u.jsxs("div",{className:"p-6 lg:px-8 lg:py-5 lg:grid lg:grid-cols-12 lg:items-center gap-4",children:[u.jsxs("div",{className:"col-span-4 flex items-center gap-4 mb-4 lg:mb-0",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center border-2 border-white shadow-sm shrink-0 ${w.type===""?"bg-indigo-100 text-indigo-600":w.type===""?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"}`,children:w.type===""?u.jsx(Cd,{size:24}):u.jsx(Pu,{size:24})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-black text-slate-900 leading-tight group-hover:text-blue-600 transition-colors uppercase tracking-tight flex items-center gap-2",children:[w.name,w.secondaryContact&&u.jsxs("span",{className:"text-[9px] font-bold text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100 flex items-center gap-1",children:[u.jsx(HW,{size:10})," ",w.secondaryContact]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mt-1.5",children:[u.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-lg border uppercase ${p(w.type)}`,children:w.type}),(y=w.tags)==null?void 0:y.map(C=>u.jsxs("span",{className:"text-[9px] font-black bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded-md border border-blue-100/50",children:["#",C]},C))]})]})]}),u.jsxs("div",{className:"col-span-3 space-y-2 mb-4 lg:mb-0",children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("div",{className:"w-7 h-7 bg-slate-50 rounded-lg flex items-center justify-center text-slate-400 border border-slate-100",children:u.jsx(L2,{size:14})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 leading-none",children:" / "}),u.jsxs("p",{className:"text-xs font-black text-slate-700 mt-1",children:[w.contactPerson||""," - ",u.jsx("a",{href:`tel:${w.phone}`,className:"hover:text-blue-600 hover:underline transition-colors",children:w.phone})]}),w.landline&&u.jsxs("p",{className:"text-[10px] font-bold text-slate-500 mt-0.5 flex items-center gap-1",children:[u.jsx(Zc,{size:10})," : ",u.jsx("a",{href:`tel:${w.landline}`,className:"hover:text-blue-600 hover:underline transition-colors",children:w.landline})]}),w.fax&&u.jsxs("p",{className:"text-[10px] font-bold text-slate-500 mt-0.5 flex items-center gap-1",children:[u.jsx(WE,{size:10})," : ",w.fax]})]})]}),(w.lineId||w.email)&&u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("div",{className:"w-7 h-7 bg-slate-50 rounded-lg flex items-center justify-center text-slate-400 border border-slate-100",children:w.preferredContactMethod?m(w.preferredContactMethod):u.jsx(Dm,{size:14})}),u.jsxs("div",{className:"flex flex-col",children:[w.lineId&&u.jsxs("p",{className:"text-[10px] font-black text-emerald-600",children:["Line: ",w.lineId]}),w.email&&u.jsx("p",{className:"text-[10px] font-black text-blue-500 truncate max-w-[150px]",children:w.email})]})]})]}),u.jsxs("div",{className:"col-span-2 space-y-1.5 mb-4 lg:mb-0",children:[u.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[u.jsx(UW,{size:12,className:"shrink-0"}),u.jsxs("span",{className:"text-[11px] font-bold",children:[": ",w.source||""]})]}),w.birthday&&u.jsxs("div",{className:"flex items-center gap-2 text-rose-500",children:[u.jsx(Heart,{size:12,className:"shrink-0"}),u.jsxs("span",{className:"text-[11px] font-bold",children:[": ",w.birthday]})]})]}),u.jsx("div",{className:"col-span-2",children:u.jsxs("div",{className:"bg-slate-50 px-3 py-1.5 rounded-xl border border-slate-100 w-fit",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 leading-none mb-1",children:""}),u.jsx("p",{className:"text-[11px] font-bold text-slate-600",children:w.createdDate||"---"})]})}),u.jsx("div",{className:"col-span-1 flex items-center justify-end gap-1",children:d?u.jsx("span",{className:"text-[9px] font-black text-stone-200 uppercase italic tracking-widest",children:"View Only"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>r(w),className:"p-2.5 text-slate-400 hover:text-blue-600 hover:bg-white hover:shadow-md hover:border-blue-100 border border-transparent rounded-xl transition-all",children:u.jsx(Mo,{size:18})}),u.jsx("button",{onClick:()=>i(w.id),className:"p-2.5 text-slate-400 hover:text-rose-600 hover:bg-white hover:shadow-md hover:border-rose-100 border border-transparent rounded-xl transition-all",children:u.jsx(Ni,{size:18})})]})})]})},w.id)}):u.jsx("div",{className:"px-8 py-32 text-center text-slate-300",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center border border-slate-100",children:u.jsx(Cd,{size:40,className:"text-slate-200"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-black text-slate-400 uppercase tracking-tighter",children:""}),u.jsx("p",{className:"text-sm font-bold text-slate-300 mt-1",children:""})]})]})})})]})]})},Jlt={:0,:1,:1,:2,:3,:3,:4,:4,:4,:5,:5,:5,:5,:5,:6},Zlt=({members:e,departments:t})=>{const r=e.filter(s=>{const a=["","","","","","","",""],o=["T-","CEO"],l=typeof s.id=="string"&&o.some(d=>s.id.startsWith(d)&&s.id.length<8),c=a.includes(s.name);return!l&&!c}).reduce((s,a)=>{const o=Jlt[a.role]??6;return s[o]||(s[o]=[]),s[o].push(a),s},{}),i=Object.keys(r).map(Number).sort((s,a)=>s-a);return u.jsxs("div",{className:"p-8 space-y-12 animate-in fade-in duration-500 overflow-x-auto min-w-[800px]",children:[u.jsx("div",{className:"flex flex-col items-center",children:i.map((s,a)=>u.jsxs(mn.Fragment,{children:[a>0&&u.jsx("div",{className:"h-12 w-1 bg-gradient-to-b from-stone-200 to-stone-100"}),u.jsx("div",{className:"flex flex-wrap justify-center gap-6 p-4",children:r[s].map(o=>{const l=t.find(c=>c.id===o.departmentId);return u.jsxs("div",{className:"w-64 bg-white rounded-3xl border border-stone-200 p-5 shadow-xl shadow-slate-200/50 hover:border-orange-500 hover:shadow-orange-100 transition-all group relative",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:o.avatar,alt:o.name,className:"w-14 h-14 rounded-2xl object-cover border-2 border-white shadow-md"}),u.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${o.status==="Available"?"bg-emerald-500":"bg-rose-500"}`})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-black text-slate-900 truncate",children:o.name}),u.jsx("div",{className:"flex items-center gap-1.5 mt-0.5",children:u.jsx("span",{className:"text-[9px] font-black text-white px-2 py-0.5 rounded-full",style:{backgroundColor:(l==null?void 0:l.color)||"#3b82f6"},children:o.role})})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-stone-100 space-y-2",children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:(o.departmentIds||[o.departmentId]).map(c=>{const d=t.find(f=>f.id===c);return d?u.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] text-stone-500 font-black bg-stone-50 px-2 py-0.5 rounded-md border border-stone-100 uppercase",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:d.color}}),d.name]},c):null})}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-stone-500 font-bold",children:[u.jsx(Zc,{size:12,className:"text-stone-300"}),u.jsx("a",{href:`tel:${o.phone}`,className:"hover:text-orange-600 hover:underline transition-colors",children:o.phone||""})]})]}),u.jsx("div",{className:"absolute -top-2 -right-2 bg-stone-900 text-white px-2 py-1 rounded-lg text-[8px] font-black shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:o.employeeId})]},o.id)})})]},s))}),r[6]&&u.jsxs("div",{className:"mt-16 pt-16 border-t border-dashed border-stone-200 flex flex-col items-center",children:[u.jsx("div",{className:"bg-stone-100 px-4 py-1.5 rounded-full text-[10px] font-black text-stone-400 uppercase tracking-widest mb-8",children:" Partners"}),u.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:r[6].map(s=>u.jsxs("div",{className:"flex items-center gap-3 bg-white px-5 py-3 rounded-2xl border border-stone-200 shadow-sm opacity-60",children:[u.jsx("img",{src:s.avatar,className:"w-8 h-8 rounded-lg object-cover",alt:s.name}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black text-slate-900",children:s.name}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:s.role})]})]},s.id))})]})]})},ect=({members:e,departments:t,projects:n,onAddClick:r,onEditClick:i,onDeleteClick:s,currentUserRole:a})=>{const o=["SuperAdmin","Admin","DeptAdmin","Manager"].includes(a||""),[l,c]=B.useState(""),[d,f]=B.useState("all"),[p,m]=B.useState("list"),[w,y]=B.useState(!1),[C,T]=B.useState(null),k=async()=>{y(!0);try{const L=await Kre(e,n);T(L.text)}catch(L){alert(`: ${L.message||""}`)}finally{y(!1)}},R=e.filter(L=>{const K=L.name.toLowerCase().includes(l.toLowerCase())||(L.nicknames||[]).some(G=>G.toLowerCase().includes(l.toLowerCase()))||L.role.toLowerCase().includes(l.toLowerCase())||L.employeeId.toLowerCase().includes(l.toLowerCase())||(L.specialty||[]).some(G=>G.toLowerCase().includes(l.toLowerCase())),j=L.departmentIds||[L.departmentId],te=d==="all"||j.includes(d);return K&&te}),P=[...R].sort((L,K)=>L.employeeId.localeCompare(K.employeeId,void 0,{numeric:!0,sensitivity:"base"})),U=(L,K)=>{if(K==="OnDuty")return"bg-emerald-50 text-emerald-600 border-emerald-100";switch(L){case"Available":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"Busy":return"bg-amber-50 text-amber-600 border-amber-100";case"OnLeave":return"bg-rose-50 text-rose-600 border-rose-100";case"OffDuty":return"bg-slate-50 text-slate-400 border-slate-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},O=(L,K)=>{if(K==="OnDuty")return"";switch(L){case"Available":return"";case"Busy":return"";case"OnLeave":return"";case"OffDuty":return"";default:return""}};return u.jsxs("div",{className:"p-4 lg:p-8 space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-black text-slate-900",children:""}),u.jsx("p",{className:"text-slate-500 text-sm font-medium",children:""})]}),u.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[u.jsxs("button",{disabled:w,onClick:k,className:"flex-1 sm:flex-none px-4 py-2.5 bg-white border border-slate-200 text-slate-600 rounded-xl font-bold text-xs flex items-center justify-center gap-2 hover:bg-slate-50 transition-all disabled:opacity-50",children:[w?u.jsx(ia,{className:"animate-spin",size:16}):u.jsx(Ui,{size:16,className:"text-orange-500"}),w?"...":"AI "]}),o&&u.jsxs("button",{onClick:r,className:"flex-1 sm:flex-none bg-orange-600 hover:bg-orange-700 text-white px-5 py-2.5 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg shadow-orange-100 active:scale-95 font-bold text-xs",children:[u.jsx(Cue,{size:18}),""]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-xl text-xs font-black transition-all ${d==="all"?"bg-stone-900 text-white shadow-lg":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"}`,children:[" (",e.length,")"]}),t.map(L=>{const K=e.filter(j=>(j.departmentIds||[j.departmentId]).includes(L.id)).length;return u.jsxs("button",{onClick:()=>f(L.id),className:`px-4 py-2 rounded-xl text-xs font-black transition-all ${d===L.id?"bg-orange-600 text-white shadow-lg":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"}`,children:[L.name," (",K,")"]},L.id)})]}),u.jsxs("div",{className:"bg-white p-1 rounded-xl border border-stone-200 flex gap-1 self-end sm:self-auto",children:[u.jsx("button",{onClick:()=>m("list"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${p==="list"?"bg-stone-900 text-white":"text-stone-400 hover:text-stone-600"}`,children:""}),u.jsx("button",{onClick:()=>m("chart"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${p==="chart"?"bg-stone-900 text-white":"text-stone-400 hover:text-stone-600"}`,children:""})]})]}),p==="chart"?u.jsx(Zlt,{members:e,departments:t}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white p-2 rounded-2xl border border-slate-200 shadow-sm",children:u.jsxs("div",{className:"relative",children:[u.jsx(vh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-12 pr-4 py-3 bg-transparent border-none focus:ring-0 outline-none text-sm text-slate-900 font-bold",value:l,onChange:L=>c(L.target.value)})]})}),u.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"hidden lg:grid lg:grid-cols-12 px-8 py-5 border-b border-slate-100 bg-slate-50/50",children:[u.jsx("div",{className:"col-span-4 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" / "}),u.jsx("div",{className:"col-span-3 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("div",{className:"col-span-2 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("div",{className:"col-span-2 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:""}),o&&u.jsx("div",{className:"col-span-1 text-[11px] font-black text-slate-400 uppercase tracking-widest text-right",children:""})]}),u.jsxs("div",{className:"divide-y divide-slate-100",children:[P.filter(L=>{const K=["","","","","","","",""],j=["T-","CEO"],te=typeof L.id=="string"&&j.some(V=>L.id.startsWith(V)&&L.id.length<8),G=K.includes(L.name);return!te&&!G}).map(L=>u.jsx("div",{className:"group hover:bg-slate-50/50 transition-colors",children:u.jsxs("div",{className:"p-6 lg:px-8 lg:py-5 lg:grid lg:grid-cols-12 lg:items-center gap-4",children:[u.jsxs("div",{className:"col-span-4 flex items-center gap-4 mb-4 lg:mb-0",children:[u.jsxs("div",{className:"relative shrink-0",children:[u.jsx("img",{src:L.avatar,alt:L.name,className:"w-12 h-12 rounded-2xl object-cover border-2 border-slate-50 shadow-sm"}),u.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 rounded-full border-2 border-white 
                          ${L.currentWorkStatus==="OnDuty"||L.status==="Available"?"bg-emerald-500":L.status==="Busy"?"bg-amber-500":L.status==="OnLeave"?"bg-rose-500":(L.status==="OffDuty","bg-slate-300")}`})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h3",{className:"text-sm font-black text-slate-900",children:[L.name,L.nicknames&&L.nicknames.length>0&&u.jsxs("span",{className:"text-slate-400 font-bold ml-2",children:["(",L.nicknames.join(", "),")"]})]}),u.jsx("span",{className:"text-[10px] font-black text-orange-600 bg-orange-50 px-1.5 py-0.5 rounded uppercase tracking-tighter",children:L.employeeId})]}),u.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:L.role}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(L.departmentIds||[L.departmentId]).filter(Boolean).map(K=>{const j=t.find(te=>te.id===K);return j?u.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-slate-100 text-slate-500 rounded border border-slate-200 uppercase",children:j.name},K):null})})]})]}),u.jsxs("div",{className:"col-span-3 space-y-1 mb-4 lg:mb-0",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[u.jsx(Cf,{size:12,className:"text-slate-400"}),u.jsx("a",{href:`tel:${L.phone}`,className:"font-bold font-mono hover:text-orange-600 hover:underline transition-colors",children:L.phone})]}),L.personalPhone&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[u.jsx(Zc,{size:12,className:"text-slate-400"}),u.jsx("a",{href:`tel:${L.personalPhone}`,className:"font-bold font-mono hover:text-orange-600 hover:underline transition-colors",children:L.personalPhone})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[u.jsx(QE,{size:12,className:"shrink-0"}),u.jsx("span",{className:"truncate max-w-[180px]",children:L.email})]})]}),u.jsxs("div",{className:"col-span-2 mb-4 lg:mb-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[u.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""}),u.jsxs("span",{className:"text-[10px] font-black text-slate-900",children:[L.activeProjectsCount," "]})]}),u.jsx("div",{className:"w-full bg-slate-100 h-1 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-500 ${L.activeProjectsCount>5?"bg-rose-500":L.activeProjectsCount>3?"bg-amber-500":"bg-orange-600"}`,style:{width:`${Math.min(L.activeProjectsCount*20,100)}%`}})})]}),u.jsx("div",{className:"col-span-2 mb-4 lg:mb-0",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-black border ${U(L.status,L.currentWorkStatus)}`,children:O(L.status,L.currentWorkStatus)})}),o&&u.jsxs("div",{className:"col-span-1 flex justify-end items-center gap-1",children:[u.jsx("button",{onClick:()=>i(L),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all",title:"",children:u.jsx(Mo,{size:16})}),u.jsx("button",{onClick:()=>s(L.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"",children:u.jsx(Ni,{size:16})})]})]})},L.id)),R.length===0&&u.jsxs("div",{className:"p-20 text-center",children:[u.jsx("div",{className:"bg-slate-50 w-16 h-16 rounded-3xl flex items-center justify-center mx-auto mb-4",children:u.jsx(vh,{className:"text-slate-300",size:32})}),u.jsx("p",{className:"text-slate-400 font-bold text-sm",children:""})]})]})]})]}),C&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"px-8 py-6 bg-stone-900 flex justify-between items-center text-white shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-orange-500 rounded-xl",children:u.jsx(Ui,{size:20,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-lg leading-tight",children:"AI "}),u.jsx("p",{className:"text-[10px] text-orange-200 font-bold uppercase tracking-widest",children:"Team Resource Deployment Insight"})]})]}),u.jsx("button",{onClick:()=>T(null),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(ri,{size:24})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto no-scrollbar prose prose-slate max-w-none",children:[u.jsxs("div",{className:"bg-orange-50/50 border border-orange-100 p-6 rounded-3xl mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 text-orange-600 font-black text-xs uppercase tracking-widest mb-4",children:[u.jsx(Eu,{size:14})," "]}),u.jsx("div",{className:"whitespace-pre-wrap text-sm font-medium leading-relaxed text-slate-700",children:C})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-200",children:[u.jsx("div",{className:"shrink-0 w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:u.jsx(Rce,{size:20,className:"text-slate-400"})}),u.jsx("p",{className:"text-[10px] text-slate-500 font-bold leading-relaxed",children:" Gemini AI  50 "})]})]}),u.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 shrink-0",children:u.jsx("button",{onClick:()=>T(null),className:"w-full bg-stone-900 text-white font-bold py-4 rounded-2xl shadow-xl hover:bg-stone-800 active:scale-[0.98] transition-all",children:""})})]})})]})},tct=({projects:e})=>{const t=B.useMemo(()=>Array.from(new Set(e.map(p=>p.source))).filter(Boolean).map(p=>{const m=e.filter(T=>T.source===p),w=m.length,y=m.filter(T=>T.status===hr.CONSTRUCTING||T.status===hr.COMPLETED||T.status===hr.CLOSED).length,C=w>0?y/w*100:0;return{name:p,total:w,won:y,rate:C}}).sort((p,m)=>m.rate-p.rate),[e]),n=B.useMemo(()=>{const d=[],f=new Date;for(let p=5;p>=0;p--){const m=new Date(f.getFullYear(),f.getMonth()-p,1),w=`${m.getMonth()+1}`,y=m.toISOString().substring(0,7),C=e.filter(R=>R&&R.createdDate&&R.createdDate.startsWith(y)),T=C.reduce((R,P)=>R+(P.budget||0),0)/1e4,k=C.reduce((R,P)=>R+(P.spent||0),0)/1e4;d.push({month:w,income:T,expense:k})}return d},[e]),r=B.useMemo(()=>{const d={};e.filter(p=>p.status===hr.CONSTRUCTING).forEach(p=>{d[p.category]=(d[p.category]||0)+1});const f=Object.values(d).reduce((p,m)=>p+m,0);return Object.entries(d).map(([p,m])=>({name:p,value:m,percent:f>0?Math.round(m/f*100):0})).sort((p,m)=>m.value-p.value)},[e]),i=B.useMemo(()=>{const d=y=>e.filter(C=>y.includes(C.status)).length,f=e.length,p=d([hr.QUOTING,hr.QUOTED,hr.WAITING_SIGN,hr.SIGNED_WAITING_WORK,hr.CONSTRUCTING,hr.COMPLETED,hr.CLOSED]),m=d([hr.QUOTED,hr.WAITING_SIGN,hr.SIGNED_WAITING_WORK,hr.CONSTRUCTING,hr.COMPLETED,hr.CLOSED]),w=d([hr.SIGNED_WAITING_WORK,hr.CONSTRUCTING,hr.COMPLETED,hr.CLOSED]);return[{label:"",count:f,color:"bg-slate-900",max:f},{label:"/",count:p,color:"bg-slate-700",max:f},{label:"",count:m,color:"bg-blue-600",max:f},{label:"",count:w,color:"bg-emerald-500",max:f}]},[e]),s=e.filter(d=>d.status===hr.CONSTRUCTING||d.status===hr.COMPLETED||d.status===hr.CLOSED).length,a=e.length>0?s/e.length*100:0,o=B.useMemo(()=>e.filter(d=>d.budget>0).slice(0,6).map(d=>({name:d.name.length>4?d.name.substring(0,4)+"..":d.name,:d.budget/1e4,:(d.budget-d.spent)/1e4})),[e]),l=B.useMemo(()=>{e.filter(y=>y.status===hr.CONSTRUCTING);const d=e.reduce((y,C)=>y+C.budget,0),f=e.length>0?(d/e.length/1e4).toFixed(1):"0",p=e.reduce((y,C)=>{var T;return y+(((T=C.financials)==null?void 0:T.material)||0)},0)/(d||1)*100,m=e.filter(y=>y.status===hr.COMPLETED&&y.progress===100).length,w=e.filter(y=>y.status===hr.COMPLETED).length>0?(m/e.filter(y=>y.status===hr.COMPLETED).length*100).toFixed(0):"100";return[{label:"",value:`${f}`,trend:"+5.2%",isUp:!0,icon:Jp},{label:"",value:`${a.toFixed(1)}%`,trend:a>30?"":"",isUp:a>30,icon:vm},{label:"",value:`${p.toFixed(1)}%`,trend:"-2.1%",isUp:!0,icon:PL},{label:"",value:`${w}%`,trend:"+3.0%",isUp:!0,icon:vm}]},[e,a]),c=["#6366f1","#10b981","#f59e0b","#06b6d4","#ef4444"];return u.jsxs("div",{className:"p-4 lg:p-8 space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:""}),u.jsx("p",{className:"text-slate-500 text-sm font-medium",children:""})]}),u.jsxs("div",{className:"bg-slate-900 text-white px-4 py-2 rounded-xl text-xs font-bold flex items-center gap-2 shadow-xl shadow-slate-200",children:[u.jsx(Ui,{size:16,className:"text-blue-400"}),"AI "]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-5 sm:p-6 lg:p-8 rounded-[2rem] border border-slate-200 shadow-sm",children:[u.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2 text-sm sm:text-base mb-8",children:[u.jsx(Eu,{size:20,className:"text-indigo-600"}),"  ()"]}),u.jsx("div",{className:"h-60 sm:h-72 w-full",children:u.jsx(cp,{width:"100%",height:"100%",children:u.jsxs(rNe,{data:n,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),u.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),u.jsx(w1,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(b1,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:700}}),u.jsx(y1,{axisLine:!1,tickLine:!1,tick:{fontSize:9}}),u.jsx(hp,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),u.jsx(Ak,{type:"monotone",dataKey:"income",name:"",stroke:"#6366f1",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),u.jsx(Ak,{type:"monotone",dataKey:"expense",name:"",stroke:"#94a3b8",strokeWidth:2,fill:"transparent",strokeDasharray:"5 5"})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-200 shadow-sm flex flex-col",children:[u.jsx("h3",{className:"font-bold text-slate-900 text-[11px] uppercase tracking-widest mb-4",children:""}),u.jsx("div",{className:"flex-1 min-h-[150px]",children:u.jsx(cp,{width:"100%",height:"100%",children:u.jsxs(qX,{children:[u.jsx(iD,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:r.map((d,f)=>u.jsx(t0,{fill:c[f%c.length]},`cell-${f}`))}),u.jsx(hp,{})]})})}),u.jsx("div",{className:`grid ${r.length>3?"grid-cols-2":"grid-cols-3"} gap-1 mt-4`,children:r.slice(0,4).map((d,f)=>u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[8px] font-black text-slate-400 truncate px-1",children:d.name}),u.jsxs("p",{className:"text-xs font-black",children:[d.percent,"%"]})]},f))})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-200 shadow-sm flex flex-col",children:[u.jsx("h3",{className:"font-bold text-slate-900 text-[11px] uppercase tracking-widest mb-4",children:""}),u.jsx("div",{className:"space-y-4 flex-1 flex flex-col justify-center",children:i.map((d,f)=>u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-[8px] font-black uppercase tracking-tighter",children:[u.jsx("span",{children:d.label}),u.jsx("span",{children:d.count})]}),u.jsx("div",{className:"h-2 w-full bg-slate-50 rounded-full overflow-hidden",children:u.jsx("div",{className:`${d.color} h-full rounded-full transition-all duration-1000`,style:{width:`${d.count/(d.max||1)*100}%`}})})]},f))})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white p-5 sm:p-6 lg:p-8 rounded-[2rem] border border-slate-200 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[u.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2 text-sm sm:text-base",children:[u.jsx(PL,{size:20,className:"text-blue-600"}),"  ()"]}),u.jsxs("div",{className:"flex gap-4 text-[9px] sm:text-[10px] font-black uppercase tracking-widest text-slate-400",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})," "]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"})," "]})]})]}),u.jsx("div",{className:"h-60 sm:h-72 lg:h-80 w-full",children:u.jsx(cp,{width:"100%",height:"100%",children:u.jsxs(DS,{data:o,margin:{top:10,right:10,left:-20,bottom:0},children:[u.jsx(w1,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(b1,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:700}}),u.jsx(y1,{axisLine:!1,tickLine:!1,tick:{fontSize:9}}),u.jsx(hp,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),u.jsx(zA,{dataKey:"",fill:"#3b82f6",radius:[4,4,0,0],barSize:24}),u.jsx(zA,{dataKey:"",fill:"#10b981",radius:[4,4,0,0],barSize:24})]})})})]}),u.jsxs("div",{className:"bg-white p-6 lg:p-8 rounded-[2rem] border border-slate-200 shadow-sm flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[u.jsx(vm,{size:20,className:"text-indigo-600"})," "]}),u.jsx("span",{className:"text-[10px] font-black text-indigo-500 bg-indigo-50 px-2 py-1 rounded-lg",children:"LEADERBOARD"})]}),u.jsxs("div",{className:"flex-1 space-y-5",children:[t.map((d,f)=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`w-5 h-5 flex items-center justify-center rounded-md text-[10px] font-black ${f===0?"bg-amber-400 text-white":f===1?"bg-slate-300 text-white":f===2?"bg-orange-300 text-white":"bg-slate-100 text-slate-400"}`,children:f+1}),u.jsx("span",{className:"text-xs font-bold text-slate-700",children:d.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-xs font-black text-slate-900",children:[d.rate.toFixed(1),"%"]}),u.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:[" ",d.won," /  ",d.total]})]})]}),u.jsx("div",{className:"w-full bg-slate-50 h-2 rounded-full overflow-hidden border border-slate-100/50",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${d.rate}%`}})})]},d.name)),t.length===0&&u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 gap-2 opacity-50",children:[u.jsx(vm,{size:40}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:l.map((d,f)=>u.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between group hover:border-blue-500 transition-all",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("div",{className:"p-1.5 sm:p-2 bg-slate-50 rounded-lg sm:rounded-xl group-hover:bg-blue-50 group-hover:text-blue-600 transition-colors",children:u.jsx(d.icon,{size:16,className:"sm:w-5 sm:h-5"})}),u.jsxs("div",{className:`flex items-center gap-0.5 sm:gap-1 text-[8px] sm:text-[10px] font-black ${d.isUp?"text-emerald-500":"text-rose-500"}`,children:[d.isUp?u.jsx(HE,{size:10,className:"sm:w-3 sm:h-3"}):u.jsx(moe,{size:10,className:"sm:w-3 sm:h-3"}),d.trend]})]}),u.jsxs("div",{className:"mt-3 sm:mt-4",children:[u.jsx("p",{className:"text-[8px] sm:text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5 sm:mb-1",children:d.label}),u.jsx("p",{className:"text-lg sm:text-2xl font-black text-slate-900 leading-tight",children:d.value})]})]},f))})]})},Lse="378270508156-ugp3r5i8109op63vlas1h5ls6h1nj0q9.apps.googleusercontent.com",Ose="life_quality_system_data.json",nct="https://www.googleapis.com/auth/drive.file";class rct{constructor(){this.tokenClient=null,this.accessToken=null,this.isInitialized=!1,this.lastErrorStatus=null,this.currentFilename=Ose}setFilename(t){this.currentFilename=t,console.log(`[Drive] Switched context to: ${this.currentFilename}`)}async init(t=Lse){return new Promise((n,r)=>{const i=window.google;if(!i||!i.accounts)return console.error("Google SDK "),r("SDK_NOT_LOADED");try{const s=localStorage.getItem("bt_google_access_token");s&&(this.accessToken=s,console.log("[Drive] Restored access token from localStorage")),this.tokenClient=i.accounts.oauth2.initTokenClient({client_id:t,scope:nct,callback:a=>{a.error!==void 0&&(console.error("OAuth Error:",a.error),r(a)),this.accessToken=a.access_token,this.accessToken&&(localStorage.setItem("bt_google_access_token",this.accessToken),console.log("[Drive] Saved access token to localStorage")),this.isInitialized=!0,n()}}),this.isInitialized=!0,n()}catch(s){console.error("Drive Init Failed:",s),r(s)}})}async authenticate(t="none",n=!1){if(n&&t==="consent")throw new Error("AUTH_INTERACTION_REQUIRED");return new Promise((r,i)=>{this.tokenClient?this.requestToken(t,r,i,n):this.init().then(()=>this.requestToken(t,r,i,n)).catch(i)})}requestToken(t,n,r,i=!1){this.tokenClient.callback=s=>{if(s.error)return t==="none"?i?r(new Error("AUTH_INTERACTION_REQUIRED")):this.authenticate("consent").then(n).catch(r):r(s);this.accessToken=s.access_token,this.accessToken&&(localStorage.setItem("bt_google_access_token",this.accessToken),console.log("[Drive] Saved access token to localStorage")),n(this.accessToken)},this.tokenClient.requestAccessToken({prompt:t==="none"?"":"consent"})}async fetchWithAuth(t,n={},r=!1){this.accessToken||await this.authenticate("none",r);let i=await fetch(t,{...n,headers:{...n.headers,Authorization:`Bearer ${this.accessToken}`}});return i.status===401&&(this.accessToken=null,localStorage.removeItem("bt_google_access_token"),console.log("[Drive] Token expired, cleared from localStorage"),await this.authenticate(r?"none":"consent",r),i=await fetch(t,{...n,headers:{...n.headers,Authorization:`Bearer ${this.accessToken}`}})),i}async getFileMetadata(t=!1){try{const n=await this.findBackupFile(t);if(!n)return null;const r=`https://www.googleapis.com/drive/v3/files/${n.id}?fields=id,name,modifiedTime,size&_=${Date.now()}`,i=await this.fetchWithAuth(r,{},t);return i.ok?await i.json():null}catch(n){return console.error("Get Metadata Error:",n),null}}async findBackupFile(t=!1){try{const n=`https://www.googleapis.com/drive/v3/files?q=name='${this.currentFilename}' and trashed=false&fields=files(id,name)`,i=await(await this.fetchWithAuth(n,{},t)).json();return i.files&&i.files.length>0?i.files[0]:null}catch(n){return console.error("Find File Error:",n),null}}async saveToCloud(t,n=!1){this.isInitialized||await this.init(),this.lastErrorStatus=null;try{const r=await this.findBackupFile(),i={name:this.currentFilename,mimeType:"application/json"},s=JSON.stringify({...t,cloudSyncTimestamp:new Date().toISOString()}),a="-------314159265358979323846",o=`\r
--`+a+`\r
`,l=`\r
--`+a+"--",c=[o,`Content-Type: application/json; charset=UTF-8\r
\r
`,JSON.stringify(i),o,`Content-Type: application/json\r
\r
`,s,l],d=new Blob(c,{type:"multipart/related; boundary="+a});let f="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",p="POST";r&&(f=`https://www.googleapis.com/upload/drive/v3/files/${r.id}?uploadType=multipart`,p="PATCH"),console.log(`[Drive] Syncing: ${p} to ${this.currentFilename} (BG: ${n})`);const m=await this.fetchWithAuth(f,{method:p,body:d,headers:{}},n);if(!m.ok){this.lastErrorStatus=`${m.status}`;const w=await m.text();return console.error("Drive API Error:",m.status,w),m.status===403&&console.warn("(403):  Google Cloud Console  JavaScript "),!1}return console.log("[Drive] Sync Successful"),!0}catch(r){return console.error("Google Drive Sync Exception:",r),this.lastErrorStatus="EXC",!1}}exportAsFile(t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`backup_${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(r)}getLastErrorStatus(){return this.lastErrorStatus}async loadFromCloud(t=!1){this.isInitialized||await this.init();try{const n=await this.findBackupFile(t);if(!n)return null;const r=`https://www.googleapis.com/drive/v3/files/${n.id}?alt=media`,i=await this.fetchWithAuth(r,{},t);return i.ok?await i.json():null}catch(n){return console.error("Load from Drive failed:",n),null}}}const Ks=new rct,ict=({user:e,projects:t,customers:n,teamMembers:r,onResetData:i,onImportData:s,isCloudConnected:a,onConnectCloud:o,onDisconnectCloud:l,lastSyncTime:c,onDownloadBackup:d,onRestoreLocalBackup:f})=>{const[p,m]=B.useState("cloud"),[w,y]=B.useState(!1),[C,T]=B.useState(!1),[k,R]=B.useState(null),[P,U]=B.useState(new Set),[O,L]=B.useState(null),[K,j]=B.useState({projects:!0,dispatch:!0,customers:!0,vendors:!0,teamMembers:!0,inventory:!0,attendance:!0,payroll:!0,leads:!0}),[te,G]=B.useState("merge"),V=e.role==="Guest",re=window.location.origin+window.location.pathname,ee=()=>{navigator.clipboard.writeText(re),T(!0),setTimeout(()=>T(!1),2e3)},ie=()=>{y(!0),setTimeout(()=>{const le={version:"2026.1.1",exportDate:new Date().toISOString(),projects:t,customers:n,teamMembers:r},xe=new Blob([JSON.stringify(le,null,2)],{type:"application/json"}),ge=URL.createObjectURL(xe),fe=document.createElement("a");fe.href=ge,fe.download=`__${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),y(!1)},800)},ue=[{id:"profile",label:"",icon:Pu},{id:"cloud",label:"",icon:d1},{id:"deploy",label:"",icon:OL},{id:"data",label:"",icon:ap}];return e.role==="SuperAdmin"&&ue.push({id:"modules",label:"",icon:ew}),u.jsxs("div",{className:"p-4 lg:p-8 max-w-6xl mx-auto animate-in fade-in",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-2xl font-black text-stone-900 tracking-tight",children:""}),u.jsx("p",{className:"text-stone-500 text-sm font-medium",children:" GitHub Pages "})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsx("div",{className:"w-full lg:w-64 space-y-1 shrink-0",children:ue.map(le=>u.jsxs("button",{onClick:()=>m(le.id),className:`w-full flex items-center justify-between px-4 py-4 rounded-2xl transition-all ${p===le.id?"bg-stone-900 text-white shadow-xl shadow-stone-200":"text-stone-500 hover:bg-white hover:text-stone-900"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(le.icon,{size:18,className:p===le.id?"text-orange-400":"text-stone-400"}),u.jsx("span",{className:"font-black text-xs uppercase tracking-widest",children:le.label})]}),u.jsx(uh,{size:14,className:p===le.id?"opacity-100":"opacity-0"})]},le.id))}),u.jsx("div",{className:"flex-1 bg-white rounded-[2.5rem] border border-stone-200 shadow-sm overflow-hidden min-h-[550px]",children:u.jsxs("div",{className:"p-6 lg:p-12",children:[p==="deploy"&&u.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"p-5 rounded-[2rem] bg-stone-900 text-white shadow-lg",children:u.jsx(OL,{size:32})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-stone-900 uppercase tracking-tight",children:"GitHub Pages "}),u.jsx("p",{className:"text-sm text-stone-500 font-medium",children:""})]})]}),u.jsxs("div",{className:"bg-orange-50 border border-orange-100 p-8 rounded-[2rem] space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Sv,{className:"text-orange-600 mt-1",size:18}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm font-black text-orange-900",children:""}),u.jsx("p",{className:"text-xs text-orange-700 leading-relaxed font-bold",children:" Google DriveGoogle "})]})]}),u.jsxs("div",{className:"pt-4 space-y-3",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("div",{className:"flex items-center gap-2 bg-white p-3 rounded-xl border border-orange-200 shadow-inner",children:[u.jsx(Hle,{size:14,className:"text-stone-400"}),u.jsx("code",{className:"text-xs font-black text-stone-900 flex-1 truncate",children:re}),u.jsx("button",{onClick:ee,className:"p-2 hover:bg-stone-50 rounded-lg text-orange-600 transition-all active:scale-90",children:C?u.jsx(Ic,{size:16}):u.jsx(vle,{size:16})})]})]})]})]}),p==="cloud"&&u.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:`p-5 rounded-[2rem] ${a?"bg-emerald-50 text-emerald-600":"bg-stone-100 text-stone-400"}`,children:a?u.jsx(d1,{size:32}):u.jsx(d3,{size:32})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-stone-900 uppercase tracking-tight",children:"Google Drive "}),u.jsx("p",{className:"text-sm text-stone-500 font-medium",children:""})]})]}),V?u.jsxs("div",{className:"bg-stone-50 p-10 rounded-[2.5rem] border border-stone-200 text-center flex flex-col items-center gap-4",children:[u.jsx(Fp,{size:48,className:"text-stone-300"}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-black text-stone-900 uppercase",children:""}),u.jsx("p",{className:"text-sm text-stone-500 max-w-sm mx-auto mt-2",children:""})]})]}):u.jsx(u.Fragment,{children:a?u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 p-8 rounded-[2rem] flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ap,{size:28,className:"text-emerald-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-black text-emerald-900",children:""}),u.jsxs("p",{className:"text-xs text-emerald-600 font-bold",children:["",Ose]})]})]}),u.jsx("button",{onClick:l,className:"text-xs font-black text-emerald-700 hover:text-rose-600 transition-colors underline underline-offset-4",children:""})]})}):u.jsxs("div",{className:"bg-stone-50 p-10 rounded-[2.5rem] border border-stone-200 text-center space-y-6",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm",children:u.jsx(md,{size:32,className:"text-orange-500"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-black text-stone-900 uppercase",children:""}),u.jsx("p",{className:"text-sm text-stone-500 max-w-sm mx-auto mt-2",children:" Google Drive "})]}),u.jsx("button",{onClick:o,className:"w-full max-w-xs mx-auto bg-orange-600 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] shadow-lg shadow-orange-100 hover:bg-orange-700 active:scale-[0.98] transition-all flex items-center justify-center gap-3",children:""})]})})]}),p==="data"&&u.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-[1.5rem]",children:u.jsx(ap,{size:32})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-stone-900 uppercase tracking-tight",children:""}),u.jsx("p",{className:"text-sm text-stone-500 font-medium",children:""})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-200 shadow-sm space-y-4 group hover:border-orange-200 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ip,{size:20,className:"text-blue-500"}),u.jsx("h4",{className:"text-sm font-black text-stone-900",children:" JSON "})]}),u.jsx("p",{className:"text-[11px] text-stone-500 leading-relaxed font-bold",children:""}),u.jsxs("button",{onClick:()=>{d?d():ie()},disabled:w,className:"w-full bg-stone-900 text-white hover:bg-stone-800 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 shadow-lg shadow-stone-100 transition-all active:scale-95",children:[w?u.jsx(sp,{size:14,className:"animate-spin"}):u.jsx(Ip,{size:16})," (.json)"]})]}),!V&&u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-200 shadow-sm space-y-4 group hover:border-emerald-200 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(hle,{size:20,className:"text-emerald-500"}),u.jsx("h4",{className:"text-sm font-black text-stone-900",children:""})]}),u.jsx("p",{className:"text-[11px] text-stone-500 leading-relaxed font-bold",children:""}),u.jsxs("div",{className:"flex bg-stone-100 p-1 rounded-xl mb-3",children:[u.jsx("button",{onClick:()=>G("merge"),className:`flex-1 py-1.5 rounded-lg text-[10px] font-black tracking-widest transition-all ${te==="merge"?"bg-white text-stone-900 shadow-sm":"text-stone-400"}`,children:" (Merge)"}),u.jsx("button",{onClick:()=>G("overwrite"),className:`flex-1 py-1.5 rounded-lg text-[10px] font-black tracking-widest transition-all ${te==="overwrite"?"bg-rose-600 text-white shadow-sm":"text-stone-400"}`,children:" (Overwrite)"})]}),O?u.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[u.jsxs("h5",{className:"flex items-center gap-2 text-xs font-black text-emerald-800 mb-3",children:[u.jsx(h3,{size:14}),""]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.projects&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.projects,onChange:le=>j({...K,projects:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.projects.length,")"]})]}),O.customers&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.customers,onChange:le=>j({...K,customers:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.customers.length,")"]})]}),O.teamMembers&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.teamMembers,onChange:le=>j({...K,teamMembers:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.teamMembers.length,")"]})]}),O.vendors&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.vendors,onChange:le=>j({...K,vendors:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.vendors.length,")"]})]}),O.inventory&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.inventory,onChange:le=>j({...K,inventory:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.inventory.length,")"]})]}),O.attendance&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.attendance,onChange:le=>j({...K,attendance:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.attendance.length,")"]})]}),O.payroll&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.payroll,onChange:le=>j({...K,payroll:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.payroll.length,")"]})]}),O.approvalRequests&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.approvalRequests,onChange:le=>j({...K,approvalRequests:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.approvalRequests.length,")"]})]}),O.approvalTemplates&&u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 bg-white/50 rounded-lg",children:[u.jsx("input",{type:"checkbox",checked:K.approvalTemplates,onChange:le=>j({...K,approvalTemplates:le.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),u.jsxs("span",{className:"text-[10px] font-bold",children:[" (",O.approvalTemplates.length,")"]})]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{L(null),j({projects:!0,dispatch:!0,customers:!0,vendors:!0,teamMembers:!0,inventory:!0,attendance:!0,payroll:!0,leads:!0,approvalRequests:!0,approvalTemplates:!0})},className:"flex-1 bg-stone-100 hover:bg-stone-200 text-stone-600 py-3 rounded-xl text-xs font-black transition-colors",children:""}),u.jsx("button",{onClick:()=>{try{const le={},xe=[];if(K.projects&&O.projects&&(le.projects=O.projects,xe.push("")),K.customers&&O.customers&&(le.customers=O.customers,xe.push("")),K.vendors&&O.vendors&&(le.vendors=O.vendors,xe.push("")),K.teamMembers&&O.teamMembers&&(le.teamMembers=O.teamMembers,xe.push("")),K.inventory&&O.inventory&&(le.inventory=O.inventory,O.locations&&(le.locations=O.locations),O.purchaseOrders&&(le.purchaseOrders=O.purchaseOrders),xe.push("")),K.attendance&&O.attendance&&(le.attendance=O.attendance,xe.push("")),K.payroll&&O.payroll&&(le.payroll=O.payroll,xe.push("")),K.approvalRequests&&O.approvalRequests&&(le.approvalRequests=O.approvalRequests,xe.push("")),K.approvalTemplates&&O.approvalTemplates&&(le.approvalTemplates=O.approvalTemplates,xe.push("")),Object.keys(le).length===0)return alert("");s(le,te),alert(` ${xe.join(", ")}`),L(null)}catch(le){alert(""+le.message)}},className:"flex-[2] bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl text-xs font-black transition-colors shadow-lg shadow-emerald-100 active:scale-95",children:""})]})]}):u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"file",accept:".json",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:le=>{var fe;const xe=(fe=le.target.files)==null?void 0:fe[0];if(!xe)return;const ge=new FileReader;ge.onload=ce=>{var Q;try{const Y=(Q=ce.target)==null?void 0:Q.result,X=JSON.parse(Y),ne=Object.keys(X);["projects","customers","teamMembers","inventory","vendors"].filter(ke=>ne.includes(ke)).length>=2?L(X):X.projects&&Array.isArray(X.projects)&&X.projects.length>0?(R(X),U(new Set(X.projects.map(ke=>ke.id)))):s(Y,te)}catch{alert(" .json ")}},ge.onerror=()=>{alert("")},ge.readAsText(xe),le.target.value=""}}),u.jsxs("button",{className:"w-full bg-emerald-50 hover:bg-emerald-100 border border-emerald-100 text-emerald-700 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all pointer-events-none",children:[u.jsx(x3,{size:14}),""]})]})]})]}),u.jsxs("div",{className:"bg-stone-50 border border-stone-200 p-6 rounded-[2rem] shadow-sm space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(x3,{size:20,className:"text-stone-600"}),u.jsx("h4",{className:"text-sm font-black text-stone-900",children:""})]}),u.jsx("p",{className:"text-[11px] text-stone-500 leading-relaxed font-bold",children:""}),u.jsxs("button",{onClick:f,className:"w-full bg-white border border-stone-300 hover:bg-stone-100 text-stone-700 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all",children:[u.jsx(sp,{size:14}),""]})]}),!V&&u.jsx("div",{className:"pt-4 flex justify-end",children:u.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-rose-600 text-[10px] font-black uppercase tracking-widest hover:bg-rose-50 px-4 py-2 rounded-xl transition-all",children:[u.jsx(ho,{size:14}),""]})})]}),p==="profile"&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-6",children:[u.jsx("img",{src:e.picture,className:"w-24 h-24 rounded-[2rem] border-4 border-stone-100 shadow-xl",alt:"user"}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-xl font-black text-stone-900",children:e.name}),u.jsx("p",{className:"text-sm text-stone-500 font-bold",children:e.email})]}),u.jsxs("div",{className:`px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest ${V?"bg-stone-900 text-orange-400":"bg-stone-100 text-stone-500"}`,children:["",V?" ()":e.role]})]}),p==="modules"&&u.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"p-5 rounded-[2rem] bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:u.jsx(ew,{size:32})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-stone-900 uppercase tracking-tight",children:""}),u.jsx("p",{className:"text-sm text-stone-500 font-medium",children:""})]})]}),u.jsx("div",{className:"bg-orange-50 border border-orange-100 p-8 rounded-[2rem] space-y-4 text-center",children:u.jsxs("div",{className:"flex items-start gap-3 justify-center",children:[u.jsx(Sv,{className:"text-orange-600 mt-1",size:18}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm font-black text-orange-900",children:""}),u.jsx("p",{className:"text-xs text-orange-700 leading-relaxed font-bold max-w-lg",children:"//"})]})]})})]})]})})]}),k&&u.jsx("div",{className:"fixed inset-0 z-[100] bg-stone-900/60 backdrop-blur-sm flex items-center justify-center p-4 lg:p-12 animate-in fade-in",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"p-8 lg:p-10 border-b border-stone-100 flex items-center justify-between bg-stone-50",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-black text-stone-900 uppercase tracking-tight flex items-center gap-3",children:[u.jsx(h3,{className:"text-orange-500"})," "]}),u.jsxs("p",{className:"text-sm text-stone-500 font-bold mt-1",children:[" ",k.projects.length," "]})]}),u.jsx("button",{onClick:()=>R(null),className:"p-3 hover:bg-white rounded-2xl text-stone-400 hover:text-stone-900 transition-all active:scale-90",children:""})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-10",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.projects.map(le=>u.jsxs("label",{className:`flex items-center gap-4 p-5 rounded-3xl border-2 transition-all cursor-pointer ${P.has(le.id)?"border-orange-500 bg-orange-50/50 shadow-md":"border-stone-100 hover:border-stone-200 bg-white"}`,children:[u.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-stone-300 text-orange-600 focus:ring-orange-500 cursor-pointer",checked:P.has(le.id),onChange:()=>{const xe=new Set(P);xe.has(le.id)?xe.delete(le.id):xe.add(le.id),U(xe)}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-[10px] font-black bg-stone-900 text-white px-2 py-0.5 rounded-md uppercase tracking-wider",children:le.id}),u.jsx("span",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:le.source}),le.deletedAt&&u.jsx("span",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest",children:"()"})]}),u.jsx("h4",{className:"font-black text-stone-900 truncate",children:le.name}),u.jsxs("p",{className:"text-[10px] text-stone-500 font-bold mt-1",children:["",le.updatedAt?new Date(le.updatedAt).toLocaleString():""]})]})]},le.id))})}),u.jsxs("div",{className:"p-8 lg:p-10 bg-stone-50 border-t border-stone-100 flex items-center justify-between gap-6",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>U(new Set(k.projects.map(le=>le.id))),className:"text-xs font-black text-stone-500 hover:text-stone-900 transition-colors",children:""}),u.jsx("button",{onClick:()=>U(new Set),className:"text-xs font-black text-stone-500 hover:text-stone-900 transition-colors",children:""})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right mr-4",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("p",{className:"text-lg font-black text-stone-900",children:[P.size," "]})]}),u.jsxs("button",{disabled:P.size===0,onClick:()=>{const le={...k,projects:k.projects.filter(xe=>P.has(xe.id))};s(le,te),R(null)},className:"bg-orange-600 text-white px-10 py-4 rounded-[2rem] font-black text-sm uppercase tracking-[0.2em] shadow-xl shadow-orange-100 hover:bg-orange-700 active:scale-95 transition-all disabled:opacity-50 disabled:pointer-events-none flex items-center gap-3",children:[u.jsx(sp,{size:18,className:P.size>0?"animate-spin-slow":""}),""]})]})]})]})})]})},sct=({onStartTour:e})=>{const[t,n]=B.useState(""),[r,i]=B.useState(null),[s,a]=B.useState(!1),[o,l]=B.useState(""),[c,d]=B.useState([{role:"ai",text:""}]),[f,p]=B.useState(!1),m=B.useRef(null);B.useEffect(()=>{var R;(R=m.current)==null||R.scrollIntoView({behavior:"smooth"})},[c]);const w={:{title:"",steps:[{title:"",desc:""},{title:"",desc:""},{title:"",desc:""},{title:"",desc:" ID"}]},:{title:"",steps:[{title:"",desc:""},{title:"",desc:""},{title:"",desc:" CSV  v2.6 "}]}," AI ":{title:" AI ",steps:[{title:"",desc:""},{title:" AI ",desc:"AI "},{title:"",desc:""}]},:{title:"",steps:[{title:"",desc:""},{title:"",desc:""},{title:"",desc:""}]},:{title:"",steps:[{title:"",desc:""},{title:"",desc:" Enter"},{title:"",desc:""}]},:{title:"",steps:[{title:"",desc:""},{title:"",desc:" 100%"}]},:{title:"",steps:[{title:"",desc:">"},{title:"",desc:""},{title:"",desc:"AI "}]}," CSV ":{title:"",steps:[{title:"",desc:""},{title:"",desc:" BOM  Excel "}]},:{title:"",steps:[{title:"",desc:""},{title:"",desc:""},{title:"",desc:""}]},"OAuth Client ID ":{title:"Google ",steps:[{title:"",desc:""},{title:" Google Console",desc:" Google OAuth "},{title:" Client ID",desc:" ID "}]},:{title:"",steps:[{title:"",desc:""},{title:"",desc:">"},{title:"",desc:" JSON "}]},:{title:"",steps:[{title:"",desc:" LocalStorage "},{title:"",desc:""},{title:"",desc:""}]}," 0 ":{title:" $0 ",steps:[{title:"",desc:""},{title:"",desc:""},{title:"",desc:""},{title:"",desc:" F5 "}]},"PDF ":{title:" PDF ",steps:[{title:"",desc:" PDF"},{title:"",desc:" 100% "},{title:"",desc:" Ctrl+F5  Print-Shield "}]}},y=[{id:"getting-started",title:"",icon:ele,desc:"  ",items:["",""," AI "]},{id:"project-mgmt",title:"",icon:Toe,desc:"",items:["","",""]},{id:"financial",title:"",icon:md,desc:"",items:[""," CSV ",""]},{id:"security",title:"",icon:ap,desc:" Google ",items:["OAuth Client ID ","",""]},{id:"troubleshooting",title:"",icon:xh,desc:" PDF ",items:[" 0 ","PDF "]}],C=async R=>{if(R==null||R.preventDefault(),!o.trim()||f)return;const P=o;d(U=>[...U,{role:"user",text:P}]),l(""),p(!0);try{const O=await new Gre({apiKey:void 0}).models.generateContent({model:"gemini-3-flash-preview",contents:P,config:{systemInstruction:`
            
            `}});d(L=>[...L,{role:"ai",text:O.text||""}])}catch{d(O=>[...O,{role:"ai",text:""}])}finally{p(!1)}},T=B.useMemo(()=>t.trim()?y.map(R=>({...R,items:R.items.filter(P=>P.toLowerCase().includes(t.toLowerCase())||R.title.toLowerCase().includes(t.toLowerCase()))})).filter(R=>R.items.length>0):y,[t]),k=R=>{const P=w[R];P&&i(P)};return u.jsxs("div",{className:"p-4 lg:p-8 max-w-6xl mx-auto animate-in fade-in duration-500 space-y-12 relative",children:[u.jsxs("section",{className:"text-center space-y-6 py-8",children:[u.jsx("div",{className:"inline-flex p-3 bg-blue-600 rounded-2xl shadow-xl shadow-blue-500/20 mb-4",children:u.jsx(RW,{size:32,className:"text-white"})}),u.jsx("h1",{className:"text-3xl lg:text-4xl font-black text-slate-900 tracking-tight",children:""}),u.jsxs("div",{className:"max-w-2xl mx-auto relative group",children:[u.jsx(vh,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20}),u.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-14 pr-6 py-5 bg-white border border-slate-200 rounded-[2rem] shadow-sm outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-bold text-black",value:t,onChange:R=>n(R.target.value)})]}),u.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-black transition-all shadow-lg active:scale-95",children:[u.jsx(Ui,{size:16,className:"text-orange-400"})," AI "]}),u.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-6 py-3 bg-white border border-indigo-200 text-indigo-600 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-indigo-50 transition-all shadow-md active:scale-95",children:[u.jsx(md,{size:16}),""]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map(R=>u.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:u.jsxs("div",{className:"flex items-start gap-6",children:[u.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl group-hover:bg-blue-600 group-hover:text-white transition-all duration-300 shadow-sm",children:u.jsx(R.icon,{size:24})}),u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:R.title}),u.jsx("div",{className:"space-y-2 pt-2 border-t border-slate-50 mt-4",children:R.items.map((P,U)=>u.jsxs("button",{onClick:()=>k(P),className:"flex items-center justify-between w-full text-left p-3 hover:bg-blue-50 rounded-xl transition-all group/item border border-transparent hover:border-blue-100",children:[u.jsx("span",{className:"text-sm font-bold text-black",children:P}),u.jsx(uh,{size:12,className:"text-slate-400 group-hover:text-blue-600"})]},U))})]})]})},R.id))}),r&&u.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95",children:[u.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50",children:[u.jsx("h2",{className:"text-xl font-black text-slate-900",children:r.title}),u.jsx("button",{onClick:()=>i(null),className:"text-slate-400 hover:text-slate-900",children:u.jsx(ri,{size:24})})]}),u.jsx("div",{className:"p-8 space-y-6",children:r.steps.map((R,P)=>u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center shrink-0 font-black text-sm",children:P+1}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-black text-slate-900 text-sm mb-1",children:R.title}),u.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-medium",children:R.desc})]})]},P))}),u.jsx("div",{className:"p-8 bg-slate-50 text-center",children:u.jsx("button",{onClick:()=>i(null),className:"px-10 py-3 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-lg",children:""})})]})}),s&&u.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-xl animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-slate-900 w-full max-w-2xl h-[80vh] rounded-[3rem] shadow-2xl border border-white/10 flex flex-col overflow-hidden animate-in zoom-in-95 duration-500",children:[u.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between items-center bg-gradient-to-r from-blue-600/10 to-transparent",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20",children:u.jsx(c3,{size:20,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black text-white tracking-tight leading-none",children:""}),u.jsx("span",{className:"text-[10px] text-blue-400 font-black uppercase tracking-widest",children:"Official Support"})]})]}),u.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-white transition-colors",children:u.jsx(ri,{size:24})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 no-scrollbar",children:[c.map((R,P)=>u.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[85%] p-5 rounded-3xl ${R.role==="user"?"bg-blue-600 text-white rounded-tr-none shadow-xl":"bg-white/5 text-slate-200 border border-white/5 rounded-tl-none"}`,children:u.jsx("p",{className:"text-sm font-medium leading-relaxed whitespace-pre-wrap",children:R.text})})},P)),f&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"bg-white/5 border border-white/5 p-4 rounded-3xl rounded-tl-none flex items-center gap-2",children:[u.jsx(ia,{size:16,className:"text-blue-500 animate-spin"}),u.jsx("span",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest italic",children:"..."})]})}),u.jsx("div",{ref:m})]}),u.jsx("div",{className:"p-8 bg-black/40 border-t border-white/5",children:u.jsx("form",{onSubmit:C,className:"flex gap-4",children:u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-6 pr-14 py-5 text-sm text-white font-bold placeholder:text-slate-600 outline-none focus:ring-2 focus:ring-blue-600/50 transition-all",value:o,onChange:R=>l(R.target.value)}),u.jsx("button",{type:"submit",disabled:!o.trim()||f,className:"absolute right-3 top-1/2 -translate-y-1/2 p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-20 transition-all active:scale-90",children:u.jsx(D2,{size:18})})]})})})]})})]})},act=({projects:e,onAddProject:t,onProjectClick:n})=>{const[r,i]=B.useState(!1),[s,a]=B.useState(""),[o,l]=B.useState([{role:"assistant",content:""}]),[c,d]=B.useState(!1),[f,p]=B.useState(!1),m=B.useRef(null),w=B.useRef(null),y=()=>{var K;if(!("webkitSpeechRecognition"in window)){alert(" Chrome  Safari");return}if(f){(K=w.current)==null||K.stop(),p(!1);return}const L=new window.webkitSpeechRecognition;L.lang="zh-TW",L.continuous=!1,L.interimResults=!1,L.onstart=()=>p(!0),L.onresult=j=>{const te=j.results[0][0].transcript;a(te),O(te,!0)},L.onerror=j=>{console.error("Speech recognition error",j.error),p(!1)},L.onend=()=>p(!1),w.current=L,L.start()},[C,T]=B.useState({x:0,y:0}),k=B.useRef({isDragging:!1,startX:0,startY:0,initialX:0,initialY:0,hasMoved:!1});B.useEffect(()=>{const L=G=>{if(!k.current.isDragging)return;const V=G.clientX-k.current.startX,re=G.clientY-k.current.startY;(Math.abs(V)>10||Math.abs(re)>10)&&(k.current.hasMoved=!0),T({x:k.current.initialX+V,y:k.current.initialY+re})},K=()=>{k.current.isDragging=!1},j=G=>{if(!k.current.isDragging)return;const V=G.touches[0],re=V.clientX-k.current.startX,ee=V.clientY-k.current.startY;(Math.abs(re)>10||Math.abs(ee)>10)&&(k.current.hasMoved=!0),T({x:k.current.initialX+re,y:k.current.initialY+ee})},te=()=>{k.current.isDragging=!1};return window.addEventListener("mousemove",L),window.addEventListener("mouseup",K),window.addEventListener("touchmove",j,{passive:!1}),window.addEventListener("touchend",te),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",K),window.removeEventListener("touchmove",j),window.removeEventListener("touchend",te)}},[]);const R=L=>{L.preventDefault(),k.current={isDragging:!0,startX:L.clientX,startY:L.clientY,initialX:C.x,initialY:C.y,hasMoved:!1}},P=L=>{const K=L.touches[0];k.current={isDragging:!0,startX:K.clientX,startY:K.clientY,initialX:C.x,initialY:C.y,hasMoved:!1}},U=()=>{var L;return(L=m.current)==null?void 0:L.scrollIntoView({behavior:"smooth"})};B.useEffect(()=>{r&&U()},[o,r,c]);const O=async(L,K=!1)=>{var te;const j=L||s;if(!(!j.trim()||c)){l(G=>[...G,{role:"user",content:j}]),a(""),d(!0);try{let G;if(K){const V=await Zre(j);if(V.intent==="CREATE_PROJECT"&&t)t(V.data),G={text:V.response||""};else if(V.intent==="QUERY_PROJECT"){const re=(te=V.data)==null?void 0:te.keywords,ee=e.find(ie=>{var ue;return ie.name.includes(re)||((ue=ie.clientName)==null?void 0:ue.includes(re))});ee&&n?(n(ee.id),G={text:`${ee.name}...`}):G={text:`${re}`}}else G={text:V.response}}else j===""?G=await Vre(e):j.includes("")||j.includes("")||j.includes("")||j.includes("")?G=await zre(j):G=await Qre(e[0],j);l(V=>[...V,{role:"assistant",content:G.text||"",chunks:G.chunks}])}catch{l(V=>[...V,{role:"assistant",content:" AI "}])}finally{d(!1)}}};return u.jsxs("div",{className:"fixed bottom-20 left-4 lg:bottom-24 lg:left-6 z-[150] transition-transform duration-75 ease-out will-change-transform",style:{transform:r?"none":`translate(${C.x}px, ${C.y}px)`},children:[!r&&u.jsxs("button",{onMouseDown:R,onTouchStart:P,onClick:()=>{k.current.hasMoved||i(!0)},className:"w-14 h-14 bg-stone-900 text-white rounded-2xl flex items-center justify-center shadow-2xl transition-all hover:scale-110 active:scale-95 group border-2 border-orange-600/20",children:[u.jsx("div",{className:"absolute inset-0 bg-orange-600 rounded-2xl animate-ping opacity-20 group-hover:opacity-40"}),u.jsx(c3,{size:28,className:"relative z-10"})]}),r&&u.jsxs("div",{className:"fixed inset-0 sm:inset-auto sm:left-6 sm:bottom-6 bg-white sm:w-[450px] sm:h-[650px] sm:rounded-[2.5rem] shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] border border-stone-200 flex flex-col overflow-hidden animate-in slide-in-from-bottom-8 duration-500",children:[u.jsxs("div",{className:"bg-stone-900 text-white p-5 flex items-center justify-between shrink-0 cursor-move",onMouseDown:R,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-orange-600 rounded-xl",children:u.jsx(c3,{size:20,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-sm tracking-tight",children:" AI "}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"}),u.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase tracking-widest",children:"Warm Insight"})]})]})]}),u.jsx("button",{onClick:()=>i(!1),onMouseDown:L=>L.stopPropagation(),className:"text-stone-400 hover:text-white transition-colors",children:u.jsx(ri,{size:24})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-6 bg-stone-50/30 scroll-smooth",children:[o.map((L,K)=>u.jsxs("div",{className:`flex flex-col ${L.role==="user"?"items-end":"items-start"}`,children:[u.jsxs("div",{className:`max-w-[85%] p-4 rounded-2xl text-sm leading-relaxed shadow-sm ${L.role==="user"?"bg-orange-600 text-white rounded-tr-none font-medium":"bg-white text-stone-800 border border-stone-100 rounded-tl-none"}`,children:[u.jsx("div",{className:"whitespace-pre-wrap",children:L.content}),L.chunks&&L.chunks.length>0&&u.jsx("div",{className:"mt-3 pt-3 border-t border-stone-100 flex flex-wrap gap-2",children:L.chunks.map((j,te)=>u.jsxs("a",{href:j.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 bg-stone-50 hover:bg-stone-100 text-blue-600 text-[10px] font-bold px-2 py-1 rounded-lg border border-stone-200 transition-colors",children:[u.jsx(ace,{size:10})," ",j.title]},te))})]}),u.jsx("span",{className:"text-[9px] text-stone-400 mt-1 font-black uppercase tracking-tighter",children:L.role==="user"?"You":" AI"})]},K)),c&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"bg-white border border-stone-100 p-4 rounded-2xl rounded-tl-none flex items-center gap-3 text-stone-400 shadow-sm",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-orange-600 rounded-full animate-bounce"}),u.jsx("span",{className:"w-1.5 h-1.5 bg-orange-600 rounded-full animate-bounce [animation-delay:0.2s]"}),u.jsx("span",{className:"w-1.5 h-1.5 bg-orange-600 rounded-full animate-bounce [animation-delay:0.4s]"})]}),u.jsx("span",{className:"text-[10px] font-black italic uppercase tracking-widest",children:"..."})]})}),u.jsx("div",{ref:m})]}),u.jsxs("div",{className:"px-4 py-3 flex gap-2 overflow-x-auto no-scrollbar border-t border-stone-100 bg-white shrink-0",children:[u.jsxs("button",{onClick:()=>O(""),className:"flex items-center gap-1.5 bg-orange-50 text-orange-700 border border-orange-100 px-3 py-1.5 rounded-xl text-[10px] font-black whitespace-nowrap hover:bg-orange-100 transition-colors",children:[u.jsx(Hoe,{size:12})," "]}),u.jsxs("button",{onClick:()=>O(""),className:"flex items-center gap-1.5 bg-amber-50 text-amber-700 border border-amber-100 px-3 py-1.5 rounded-xl text-[10px] font-black whitespace-nowrap hover:bg-amber-100 transition-colors",children:[u.jsx(Ole,{size:12})," "]})]}),u.jsxs("div",{className:"p-5 bg-white border-t border-stone-100 flex items-center gap-3 shrink-0",children:[u.jsx("button",{onClick:y,className:`p-3 rounded-full transition-all ${f?"bg-rose-500 text-white animate-pulse":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:f?u.jsx(yce,{size:18}):u.jsx(Sce,{size:18})}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-stone-50 border border-stone-200 rounded-2xl pl-4 pr-12 py-3.5 text-sm font-bold text-black outline-none focus:ring-2 focus:ring-orange-500/20 transition-all placeholder:text-stone-400",value:s,onChange:L=>a(L.target.value),onKeyDown:L=>L.key==="Enter"&&O()}),u.jsx("button",{onClick:()=>O(),disabled:c||!s.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-700 disabled:opacity-20 transition-all active:scale-90",children:u.jsx(D2,{size:18})})]})]})]})]})},oct=({onClose:e,onConfirm:t,initialData:n,teamMembers:r})=>{const i=["","","","","",""],s=["BNI","","","","","","","","","AI","JW"];Object.values(hr);const a=!!n,[o,l]=B.useState({name:"",category:"",source:"BNI",status:hr.NEGOTIATING,client:"",referrer:"",quotationManager:"",engineeringManager:"",introducer:"",introducerFeeRequired:!1,introducerFeeType:"percentage",introducerFeePercentage:"",introducerFeeAmount:"",budget:"",progress:"0",startDate:new Date().toISOString().split("T")[0],endDate:"",address:"",year:"",id:""});B.useEffect(()=>{var d,f,p;n&&l({name:n.name,category:n.category,source:n.source,status:n.status,client:n.client,referrer:n.referrer,quotationManager:n.quotationManager||n.manager||"",engineeringManager:n.engineeringManager||"",introducer:n.introducer||"",introducerFeeRequired:n.introducerFeeRequired||!1,introducerFeeType:n.introducerFeeType||"percentage",introducerFeePercentage:((d=n.introducerFeePercentage)==null?void 0:d.toString())||"",introducerFeeAmount:((f=n.introducerFeeAmount)==null?void 0:f.toString())||"",budget:n.budget.toString(),progress:n.progress.toString(),startDate:n.startDate,endDate:n.endDate,address:((p=n.location)==null?void 0:p.address)||"",year:n.year||"",id:n.id||""})},[n]);const c=d=>{if(d.preventDefault(),!o.name)return;const f={address:o.address,lat:25.033,lng:121.5654};let p=0;if(o.introducerFeeRequired)if(o.introducerFeeType==="percentage"){const m=Number(o.budget)||0,w=Number(o.introducerFeePercentage)||0;p=m*w/100}else p=Number(o.introducerFeeAmount)||0;t({...o,budget:Number(o.budget),progress:Number(o.progress),introducerFeeType:o.introducerFeeType,introducerFeePercentage:Number(o.introducerFeePercentage)||void 0,introducerFeeAmount:p,location:f,createdDate:(n==null?void 0:n.createdDate)||new Date().toISOString().split("T")[0]})};return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:`px-6 py-4 flex justify-between items-center ${a?"bg-amber-600":"bg-slate-900"}`,children:[u.jsxs("h2",{className:"text-white font-bold flex items-center gap-2 text-lg",children:[a?u.jsx(Xp,{size:20}):u.jsx(Cf,{size:20,className:"text-blue-400"}),a?`: ${n.id}`:""]}),u.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:u.jsx(ri,{size:20})})]}),u.jsxs("form",{onSubmit:c,className:"p-8 space-y-5 max-h-[70vh] overflow-y-auto no-scrollbar",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" *"}),u.jsx("input",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-2.5 outline-none font-bold",value:o.name,onChange:d=>l({...o,name:d.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" ()"}),u.jsx("input",{className:"w-full bg-amber-50 border border-amber-200 text-amber-900 rounded-xl px-4 py-2.5 outline-none font-black uppercase tracking-wider",value:o.id,onChange:d=>l({...o,id:d.target.value}),placeholder:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(aa,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 outline-none font-bold",placeholder:"7",value:o.address,onChange:d=>l({...o,address:d.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Quotation"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:u.jsx(Pu,{size:16})}),u.jsxs("select",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 outline-none font-bold appearance-none",value:o.quotationManager,onChange:d=>l({...o,quotationManager:d.target.value}),children:[u.jsx("option",{value:"",children:""}),r.map(d=>u.jsxs("option",{value:d.name,children:[d.name," (",d.role,")"]},d.id))]}),u.jsx(ch,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Engineering"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:u.jsx(Pu,{size:16})}),u.jsxs("select",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 outline-none font-bold appearance-none",value:o.engineeringManager,onChange:d=>l({...o,engineeringManager:d.target.value}),children:[u.jsx("option",{value:"",children:""}),r.map(d=>u.jsxs("option",{value:d.name,children:[d.name," (",d.role,")"]},d.id))]}),u.jsx(ch,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Client"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-2.5 outline-none font-bold placeholder:text-slate-300",placeholder:"",value:o.client,onChange:d=>l({...o,client:d.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Source"}),u.jsxs("div",{className:"relative",children:[u.jsx(ch,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),u.jsx("select",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-2.5 outline-none font-bold appearance-none",value:o.source,onChange:d=>l({...o,source:d.target.value}),children:s.map(d=>u.jsx("option",{value:d,children:d},d))})]})]})]}),u.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(tw,{size:16,className:"text-blue-500"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:" ()"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5 tracking-wider",children:""}),u.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-2 outline-none font-bold text-sm",placeholder:"",value:o.introducer,onChange:d=>l({...o,introducer:d.target.value})})]}),u.jsx("div",{className:"flex items-end",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5 tracking-wider",children:""}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.introducerFeeRequired,onChange:d=>l({...o,introducerFeeRequired:d.target.checked})}),u.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),o.introducerFeeRequired&&u.jsxs("div",{className:"animate-in slide-in-from-top-2 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-2 tracking-wider",children:""}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{type:"button",onClick:()=>l({...o,introducerFeeType:"percentage"}),className:`py-2.5 rounded-xl text-xs font-bold transition-all border ${o.introducerFeeType==="percentage"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:" "}),u.jsx("button",{type:"button",onClick:()=>l({...o,introducerFeeType:"fixed"}),className:`py-2.5 rounded-xl text-xs font-bold transition-all border ${o.introducerFeeType==="fixed"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:" "})]})]}),o.introducerFeeType==="percentage"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5 tracking-wider",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full bg-white border border-blue-200 rounded-xl pl-4 pr-8 py-2.5 outline-none font-bold text-sm",placeholder:"5 (5%)",value:o.introducerFeePercentage,onChange:d=>l({...o,introducerFeePercentage:d.target.value})}),u.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-600 text-sm font-black",children:"%"})]}),o.introducerFeePercentage&&o.budget&&u.jsxs("p",{className:"text-xs text-emerald-600 font-bold mt-2",children:["NT$ ",(Number(o.budget)*Number(o.introducerFeePercentage)/100).toLocaleString()]})]}):u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5 tracking-wider",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:"$"}),u.jsx("input",{type:"number",className:"w-full bg-white border border-blue-200 rounded-xl pl-7 pr-4 py-2.5 outline-none font-bold text-sm",placeholder:"",value:o.introducerFeeAmount,onChange:d=>l({...o,introducerFeeAmount:d.target.value})})]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Budget (TWD)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Cc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 outline-none font-bold placeholder:text-stone-300",placeholder:"",value:o.budget,onChange:d=>l({...o,budget:d.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Progress (%)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Eu,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"number",min:"0",max:"100",className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 outline-none font-bold",value:o.progress,onChange:d=>l({...o,progress:d.target.value})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Du,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"date",className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 outline-none font-bold",value:o.startDate,onChange:d=>l({...o,startDate:d.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Du,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"date",className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 outline-none font-bold",value:o.endDate,onChange:d=>l({...o,endDate:d.target.value})})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(ch,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),u.jsxs("select",{className:"w-full bg-orange-50 border border-orange-200 text-orange-900 rounded-xl px-4 py-2.5 outline-none font-black appearance-none",value:o.year,onChange:d=>l({...o,year:d.target.value}),children:[u.jsx("option",{value:"",children:" ()"}),u.jsx("option",{value:"2024",children:"2024 "}),u.jsx("option",{value:"2025",children:"2025 "}),u.jsx("option",{value:"2026",children:"2026 "})]})]})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",children:" Category"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:i.map(d=>u.jsx("button",{type:"button",onClick:()=>l({...o,category:d}),className:`py-2 rounded-xl text-xs font-bold transition-all border ${o.category===d?"bg-slate-800 text-white border-slate-800":"bg-slate-50 text-slate-500 border-slate-200 hover:bg-slate-100"}`,children:d},d))})]}),u.jsxs("div",{className:"pt-6 flex gap-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl",children:""}),u.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg transition-all active:scale-95",children:""})]})]})]})})},lct=({phases:e})=>{const{data:t,minTime:n,totalDuration:r}=B.useMemo(()=>{if(!e||e.length===0)return{data:[],minTime:0,totalDuration:0};const o=e.flatMap(p=>{const m=new Date(p.startDate).getTime(),w=new Date(p.endDate).getTime();return isNaN(m)||isNaN(w)?[]:[m,w]});if(o.length===0)return{data:[],minTime:0,totalDuration:0};const l=Math.min(...o),d=Math.max(...o)-l;return{data:e.map(p=>{const m=new Date(p.startDate).getTime(),w=new Date(p.endDate).getTime();if(isNaN(m)||isNaN(w))return{name:p.name,offset:0,duration:0,progress:p.progress,status:p.status,fullName:p.name,startStr:p.startDate,endStr:p.endDate};const y=m-l,C=Math.max(288e5,w-m);return{name:p.name,offset:y,duration:C,progress:p.progress,status:p.status,fullName:p.name,startStr:p.startDate,endStr:p.endDate}}).sort((p,m)=>p.offset-m.offset),minTime:l,totalDuration:d}},[e]),i=({active:o,payload:l})=>{if(o&&l&&l.length){const c=l[0].payload;return u.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-xl border border-stone-100 z-50",children:[u.jsx("p",{className:"text-xs font-black text-stone-900 mb-2 uppercase tracking-widest",children:c.fullName}),u.jsxs("div",{className:"space-y-1 text-[10px] font-bold text-stone-500",children:[u.jsxs("p",{className:"flex justify-between gap-4",children:[u.jsx("span",{children:":"})," ",u.jsx("span",{className:"text-stone-900",children:c.startStr})]}),u.jsxs("p",{className:"flex justify-between gap-4",children:[u.jsx("span",{children:":"})," ",u.jsx("span",{className:"text-stone-900",children:c.endStr})]}),u.jsxs("p",{className:"flex justify-between gap-4",children:[u.jsx("span",{children:":"})," ",u.jsxs("span",{className:"text-orange-600 font-black",children:[c.progress,"%"]})]})]})]})}return null};if(e.length===0||t.length===0)return u.jsx("div",{className:"h-40 flex flex-col items-center justify-center text-stone-300 gap-2 border-2 border-dashed border-stone-100 rounded-[2rem]",children:u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})});const s=864e5*2,a=r+s*2;return u.jsx("div",{className:"h-[400px] w-full bg-white rounded-2xl overflow-hidden",id:"gantt-chart-container",children:u.jsx(cp,{width:"100%",height:"100%",children:u.jsxs(DS,{data:t,layout:"vertical",margin:{top:40,right:30,left:40,bottom:20},barSize:20,children:[u.jsx(w1,{strokeDasharray:"3 3",horizontal:!0,vertical:!0,stroke:"#f1f5f9"}),u.jsx(b1,{type:"number",domain:[-s,a-s],tickFormatter:o=>new Date(n+o).toLocaleDateString(void 0,{month:"numeric",day:"numeric"})||"",tick:{fontSize:10,fontWeight:700,fill:"#9ca3af"},position:"top",axisLine:!1,tickLine:!1}),u.jsx(y1,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,width:100,tick:{fontSize:11,fontWeight:800,fill:"#1c1917"}}),u.jsx(hp,{content:u.jsx(i,{}),cursor:{fill:"#f8fafc"}}),u.jsx(zA,{dataKey:"offset",stackId:"a",fill:"transparent",isAnimationActive:!1}),u.jsxs(zA,{dataKey:"duration",stackId:"a",radius:[4,4,4,4],isAnimationActive:!0,children:[t.map((o,l)=>u.jsx(t0,{fill:o.status==="Completed"?"#10b981":o.status==="Current"?"#3b82f6":"#e7e5e4",className:"transition-all hover:opacity-80"},`cell-${l}`)),u.jsx(Om,{dataKey:"startStr",position:"left",formatter:o=>{const l=new Date(o);return`${l.getMonth()+1}/${l.getDate()}`},style:{fontSize:9,fontWeight:800,fill:"#64748b"},offset:8}),u.jsx(Om,{dataKey:"endStr",position:"right",formatter:o=>{const l=new Date(o);return`${l.getMonth()+1}/${l.getDate()}`},style:{fontSize:9,fontWeight:800,fill:"#334155"},offset:8})]})]})})})},a3={},cct=({address:e,lat:t=25.033,lng:n=121.5654,projectName:r})=>{const[i,s]=B.useState([]),[a,o]=B.useState(!1),[l,c]=B.useState(null),d=async w=>{o(!0),c(w);try{const y=await _P(e,t,n,w);y&&y.links&&s(y.links)}catch(y){console.error(":",y)}finally{o(!1)}},f=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e)}`,p=(a3==null?void 0:a3.VITE_GOOGLE_MAPS_API_KEY)||"AIzaSyAyzTWbM4BCrbyT32hoUT2kpe2vNIm95xc",m=p!=="undefined"&&p!==""&&p!=="PLACEHOLDER";return u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"relative aspect-video rounded-[2.5rem] overflow-hidden border border-stone-200 shadow-xl group bg-stone-100",children:[m?u.jsx("iframe",{title:"project-location",width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://www.google.com/maps/embed/v1/place?key=${p}&q=${encodeURIComponent(e)}`,allowFullScreen:!0}):u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-8 text-center bg-stone-50",children:[u.jsx("div",{className:"w-16 h-16 bg-stone-200 rounded-2xl flex items-center justify-center text-stone-400 mb-4",children:u.jsx(aa,{size:32})}),u.jsx("h4",{className:"text-sm font-black text-stone-600 uppercase tracking-widest",children:"Google Maps "}),u.jsx("p",{className:"text-[10px] font-bold text-stone-400 mt-2 max-w-[240px] leading-relaxed",children:" Google Maps API "})]}),u.jsx("div",{className:"absolute top-6 left-6 right-6 flex justify-between items-start pointer-events-none",children:u.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-2xl border border-white/50 shadow-lg pointer-events-auto",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(aa,{size:16,className:"text-rose-500"}),u.jsx("span",{className:"text-xs font-black text-stone-900",children:r})]}),u.jsx("p",{className:"text-[10px] font-bold text-stone-500",children:e})]})}),u.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-6 right-6 bg-stone-900 text-white p-4 rounded-2xl shadow-2xl flex items-center gap-2 hover:scale-105 transition-all active:scale-95 pointer-events-auto group",children:[u.jsx(zE,{size:18,className:"group-hover:animate-pulse"}),u.jsx("span",{className:"text-xs font-black tracking-widest",children:""})]})]}),u.jsxs("div",{className:"bg-stone-50 p-6 rounded-[2.5rem] border border-stone-200 shadow-inner",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-black text-stone-900 uppercase tracking-widest",children:""}),u.jsx("p",{className:"text-[10px] font-bold text-stone-400 mt-1 uppercase tracking-tight",children:" AI "})]}),u.jsx(vh,{size:20,className:"text-stone-300"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{id:"hardware",label:"",icon:MW},{id:"hardware_store",label:"",icon:fue},{id:"contractor",label:"",icon:GE},{id:"parking",label:"",icon:aa}].map(w=>u.jsxs("button",{onClick:()=>d(w.label),disabled:a,className:`p-4 rounded-2xl border transition-all flex flex-col items-center gap-2 group ${l===w.label?"bg-stone-900 border-stone-900 text-white shadow-lg":"bg-white border-stone-100 text-stone-600 hover:border-stone-300 hover:shadow-md"}`,children:[u.jsx(w.icon,{size:20,className:`${l===w.label?"text-white":"text-stone-400 group-hover:text-stone-900"} transition-colors`}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:w.label})]},w.id))}),a&&u.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center py-10 gap-4 animate-in fade-in",children:[u.jsx(ia,{size:32,className:"text-stone-400 animate-spin"}),u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-[0.2em] animate-pulse",children:" Gemini ..."})]}),!a&&i.length>0&&u.jsxs("div",{className:"mt-8 space-y-3 animate-in fade-in slide-in-from-top-2",children:[u.jsx("h5",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest mb-4 ml-1",children:""}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:i.map((w,y)=>u.jsxs("a",{href:w.uri,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-4 rounded-2xl border border-stone-200 flex items-center justify-between group hover:border-stone-900 transition-all shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-stone-50 rounded-lg flex items-center justify-center",children:u.jsx(aa,{size:14,className:"text-stone-400 group-hover:text-stone-900"})}),u.jsx("span",{className:"text-xs font-bold text-stone-800",children:w.title})]}),u.jsx(Dm,{size:14,className:"text-stone-300 group-hover:text-stone-900"})]},y))})]})]})]})},uct=({project:e,onUpdate:t,isReadOnly:n})=>{const[r,i]=B.useState(null),[s,a]=B.useState([]),[o,l]=B.useState(!1),c=B.useRef(null),d=B.useRef(null),f=B.useRef(null),[p,m]=B.useState(null),[w,y]=B.useState(null),C=e.defectRecords||[],T=ee=>{a(ie=>ie.includes(ee)?ie.filter(ue=>ue!==ee):[...ie,ee])},k=ee=>{i(ee.id),y({...ee}),s.includes(ee.id)||T(ee.id)},R=()=>{i(null),y(null)},P=()=>{if(!w)return;const ee=C.map(ie=>ie.id===w.id?w:ie);t(ee),i(null),y(null)},U=()=>{const ee={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],items:[],suggestions:"",updatedAt:new Date().toISOString()};t([ee,...C]),a(ie=>[ee.id,...ie]),i(ee.id),y(ee)},O=ee=>{confirm("")&&t(C.filter(ie=>ie.id!==ee))},L=()=>{if(!w)return;const ee={id:Date.now().toString(),content:"",status:"Pending"};y({...w,items:[...w.items,ee]})},K=(ee,ie)=>{w&&y({...w,items:w.items.map(ue=>ue.id===ee?{...ue,...ie}:ue)})},j=ee=>{w&&y({...w,items:w.items.filter(ie=>ie.id!==ee)})},te=(ee,ie)=>{const ue=ee.target.files;if(!ue||!w)return;m(ie);const le=[];let xe=0;Array.from(ue).forEach(ge=>{const fe=new FileReader;fe.onloadend=()=>{if(fe.result&&le.push(fe.result),xe++,xe===ue.length){const ce=w.items.find(Q=>Q.id===ie);if(ce){const Q=ce.photos||[];K(ie,{photos:[...Q,...le]})}m(null)}},fe.readAsDataURL(ge)}),ee.target.value=""},G=(ee,ie)=>{var xe;const ue=(xe=ee.target.files)==null?void 0:xe[0];if(!ue||!w)return;if(m(ie),ue.size>50*1024*1024){alert(" ( 50MB)"),m(null);return}const le=new FileReader;le.onloadend=()=>{K(ie,{videoUrl:le.result}),m(null)},le.readAsDataURL(ue),ee.target.value=""},V=(ee,ie)=>{if(!w)return;const ue=w.items.find(le=>le.id===ee);if(ue&&ue.photos){const le=ue.photos.filter((xe,ge)=>ge!==ie);K(ee,{photos:le})}},re=ee=>{K(ee,{videoUrl:void 0})};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"h-full flex flex-col bg-white rounded-3xl border border-stone-200 shadow-sm overflow-hidden animate-in fade-in",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 bg-stone-50/50 flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ho,{size:16,className:"text-rose-600"}),u.jsx("h3",{className:"font-black text-xs uppercase tracking-widest text-stone-900",children:""})]}),!n&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:async()=>{if(!(!c.current||o)){l(!0);try{const ee=c.current,ie=await wD(ee,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),ue=ie.toDataURL("image/png"),le=new wr("p","mm","a4"),xe=le.internal.pageSize.getWidth(),ge=le.internal.pageSize.getHeight(),fe=xe,ce=ie.height*fe/ie.width;let Q=ce,Y=0;for(le.addImage(ue,"PNG",0,Y,fe,ce),Q-=ge;Q>=0;)Y=Q-ce,le.addPage(),le.addImage(ue,"PNG",0,Y,fe,ce),Q-=ge;le.save(`${e.name}__${new Date().toISOString().split("T")[0]}.pdf`)}catch(ee){console.error("PDF Export failed",ee),alert("")}finally{l(!1)}}},className:"flex items-center gap-2 bg-white border border-stone-200 text-stone-600 px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-stone-50 transition-all shadow-sm active:scale-95 disabled:opacity-50",disabled:o,children:[o?u.jsx(ia,{size:14,className:"animate-spin"}):u.jsx(Ip,{size:14}),"  PDF"]}),u.jsxs("button",{onClick:U,disabled:!!r,className:"flex items-center gap-2 bg-stone-900 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-black transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm active:scale-95",children:[u.jsx(zl,{size:14})," "]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 touch-scroll no-scrollbar",children:C.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-300 gap-4 opacity-50 py-20",children:[u.jsx(gd,{size:48}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""}),u.jsx("p",{className:"text-[9px] font-bold mt-1",children:""})]})]}):C.map(ee=>{const ie=r===ee.id,ue=ie&&w?w:ee,le=s.includes(ee.id),xe=ue.items.filter(fe=>fe.status==="Pending").length,ge=ue.items.filter(fe=>fe.status==="Completed").length;return u.jsxs("div",{className:`border rounded-2xl transition-all ${ie?"border-blue-500 ring-2 ring-blue-500/10 bg-white":"border-stone-200 bg-stone-50 hover:border-stone-300"}`,children:[u.jsxs("div",{className:"px-4 py-3 flex items-center justify-between cursor-pointer select-none",onClick:()=>!ie&&T(ee.id),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{className:"text-stone-400",children:le?u.jsx(ch,{size:16}):u.jsx(uh,{size:16})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Du,{size:14,className:"text-stone-400"}),ie?u.jsx("input",{type:"date",value:ue.date,onChange:fe=>y(ce=>ce?{...ce,date:fe.target.value}:null),className:"bg-stone-100 border border-stone-200 rounded px-2 py-0.5 text-xs font-bold outline-none focus:border-blue-500",onClick:fe=>fe.stopPropagation()}):u.jsx("span",{className:"text-sm font-black text-stone-700",children:ue.date})]}),!ie&&u.jsxs("div",{className:"flex gap-2",children:[xe>0&&u.jsxs("span",{className:"bg-rose-100 text-rose-600 shadow-sm text-[9px] font-black px-2 py-0.5 rounded-full border border-rose-200 flex items-center gap-1",children:[u.jsx(ho,{size:10})," ",xe," "]}),ge>0&&u.jsxs("span",{className:"bg-emerald-100 text-emerald-600 shadow-sm text-[9px] font-black px-2 py-0.5 rounded-full border border-emerald-200 flex items-center gap-1",children:[u.jsx(gd,{size:10})," ",ge," "]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:ie?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:fe=>{fe.stopPropagation(),P()},className:"p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",title:"",children:u.jsx(Xp,{size:14})}),u.jsx("button",{onClick:fe=>{fe.stopPropagation(),R()},className:"p-1.5 bg-stone-200 text-stone-600 rounded-lg hover:bg-stone-300 transition",title:"",children:u.jsx(ri,{size:14})})]}):!n&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:fe=>{fe.stopPropagation(),k(ee)},className:"p-1.5 text-stone-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"",children:u.jsx(AR,{size:14})}),u.jsx("button",{onClick:fe=>{fe.stopPropagation(),O(ee.id)},className:"p-1.5 text-stone-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",title:"",children:u.jsx(Ni,{size:14})})]})})]}),le&&u.jsxs("div",{className:"px-4 pb-4 border-t border-stone-100/50 pt-4 animate-in slide-in-from-top-1",children:[u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest",children:""}),ie&&u.jsxs("button",{onClick:L,className:"flex items-center gap-1 text-[9px] font-black text-blue-600 hover:bg-blue-50 px-2 py-1 rounded transition",children:[u.jsx(zl,{size:10})," "]})]}),ue.items.length===0?u.jsx("p",{className:"text-xs text-stone-400 italic py-2 text-center bg-stone-100 rounded-xl",children:""}):u.jsx("div",{className:"space-y-2",children:ue.items.map((fe,ce)=>{var Q;return u.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border ${fe.status==="Completed"?"bg-emerald-50/50 border-emerald-100":"bg-white border-stone-100"}`,children:[u.jsx("button",{disabled:!ie,onClick:()=>K(fe.id,{status:fe.status==="Pending"?"Completed":"Pending"}),className:`shrink-0 mt-0.5 w-5 h-5 rounded-full flex items-center justify-center border transition-all ${fe.status==="Completed"?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-stone-300 text-transparent hover:border-emerald-400"}`,children:u.jsx(Ic,{size:12,strokeWidth:4})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[ie?u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{className:"w-full bg-stone-50 border border-stone-200 rounded px-2 py-1.5 text-xs font-bold outline-none focus:border-blue-500 placeholder:text-stone-300",placeholder:"...",value:fe.content,onChange:Y=>K(fe.id,{content:Y.target.value})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[9px] font-bold text-stone-400 whitespace-nowrap",children:":"}),u.jsx("input",{className:"flex-1 bg-stone-50 border border-stone-200 rounded px-2 py-1 text-xs outline-none focus:border-blue-500 placeholder:text-stone-300",placeholder:"...",value:fe.improvement||"",onChange:Y=>K(fe.id,{improvement:Y.target.value})})]}),u.jsxs("div",{className:"flex gap-2 pt-1",children:[u.jsxs("button",{onClick:()=>{d.current&&(d.current.setAttribute("data-item-id",fe.id),d.current.click())},className:"flex items-center gap-1 text-[9px] font-black text-stone-400 hover:text-blue-600 bg-stone-50 px-2 py-1 rounded-lg border border-stone-200 hover:border-blue-200 transition",children:[u.jsx(xm,{size:10}),p===fe.id?"...":""]}),u.jsxs("button",{onClick:()=>{f.current&&(f.current.setAttribute("data-item-id",fe.id),f.current.click())},disabled:!!fe.videoUrl,className:"flex items-center gap-1 text-[9px] font-black text-stone-400 hover:text-blue-600 bg-stone-50 px-2 py-1 rounded-lg border border-stone-200 hover:border-blue-200 transition disabled:opacity-50",children:[u.jsx(Tue,{size:10}),fe.videoUrl?"":""]})]})]}):u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{children:[u.jsx("p",{className:`text-xs font-bold leading-relaxed ${fe.status==="Completed"?"text-emerald-800 line-through decoration-emerald-200":"text-stone-800"}`,children:fe.content}),fe.improvement&&u.jsxs("p",{className:"text-[10px] text-stone-500 mt-1 pl-2 border-l-2 border-stone-200",children:[u.jsx("span",{className:"font-bold",children:""}),fe.improvement]})]})}),(fe.photos&&fe.photos.length>0||fe.videoUrl)&&u.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(Q=fe.photos)==null?void 0:Q.map((Y,X)=>u.jsxs("div",{className:"relative group w-16 h-16 rounded-lg overflow-hidden bg-stone-100 border border-stone-200",children:[u.jsx("img",{src:Y,alt:"Defect",className:"w-full h-full object-cover"}),ie&&u.jsx("button",{onClick:()=>V(fe.id,X),className:"absolute top-0.5 right-0.5 bg-black/50 hover:bg-rose-500 p-0.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-all",children:u.jsx(ri,{size:10})})]},X)),fe.videoUrl&&u.jsxs("div",{className:"relative group w-16 h-16 rounded-lg overflow-hidden bg-stone-900 border border-stone-200 flex items-center justify-center",children:[u.jsx("video",{src:fe.videoUrl,className:"w-full h-full object-cover opacity-50"}),u.jsx(Lce,{size:20,className:"absolute text-white"}),ie&&u.jsx("button",{onClick:()=>re(fe.id),className:"absolute top-0.5 right-0.5 bg-black/50 hover:bg-rose-500 p-0.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-all z-10",children:u.jsx(ri,{size:10})}),u.jsx("a",{href:fe.videoUrl,target:"_blank",rel:"noreferrer",className:"absolute inset-0 z-0"})]})]})]}),ie&&u.jsx("button",{onClick:()=>j(fe.id),className:"text-stone-300 hover:text-rose-500 transition p-1",children:u.jsx(Ni,{size:14})})]},fe.id)})})]}),u.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",multiple:!0,onChange:fe=>{const ce=fe.target.getAttribute("data-item-id");ce&&te(fe,ce)}}),u.jsx("input",{type:"file",ref:f,className:"hidden",accept:"video/*",onChange:fe=>{const ce=fe.target.getAttribute("data-item-id");ce&&G(fe,ce)}}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-[9px] font-black text-stone-400 uppercase tracking-widest mb-2",children:[u.jsx(zw,{size:12})," "]}),ie?u.jsx("textarea",{className:"w-full bg-white border border-stone-200 rounded-xl px-3 py-2 text-xs font-medium outline-none focus:border-blue-500 min-h-[80px] resize-none",placeholder:"...",value:ue.suggestions||"",onChange:fe=>y(ce=>ce?{...ce,suggestions:fe.target.value}:null)}):u.jsx("div",{className:"bg-white border border-stone-100 rounded-xl p-3",children:u.jsx("p",{className:"text-xs text-stone-600 leading-relaxed whitespace-pre-wrap",children:ue.suggestions||""})})]})]})]},ee.id)})})]}),u.jsxs("div",{className:"fixed left-[-9999px] top-0 w-[210mm] bg-white p-8",ref:c,children:[u.jsxs("div",{className:"mb-6 border-b border-stone-200 pb-4",children:[u.jsxs("h1",{className:"text-2xl font-black text-stone-900 mb-2",children:[e.name," - "]}),u.jsxs("p",{className:"text-sm text-stone-500",children:["",new Date().toLocaleString("zh-TW")]})]}),u.jsxs("div",{className:"space-y-6",children:[C.map(ee=>{const ie=ee.items.filter(le=>le.status==="Pending").length,ue=ee.items.filter(le=>le.status==="Completed").length;return u.jsxs("div",{className:"border border-stone-200 rounded-xl overflow-hidden break-inside-avoid",children:[u.jsxs("div",{className:"bg-stone-50 px-4 py-2 border-b border-stone-200 flex justify-between items-center",children:[u.jsx("span",{className:"font-black text-stone-800",children:ee.date}),u.jsxs("div",{className:"flex gap-2",children:[ie>0&&u.jsxs("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-2 py-0.5 rounded-full font-bold",children:[": ",ie]}),ue>0&&u.jsxs("span",{className:"text-[10px] bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded-full font-bold",children:[": ",ue]})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1",children:""}),ee.items.map(le=>u.jsxs("div",{className:"flex gap-2 items-start border-b border-stone-100 pb-2 last:border-0 last:pb-0",children:[u.jsx("span",{className:`shrink-0 text-xs px-1.5 rounded ${le.status==="Completed"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:le.status==="Completed"?"":""}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-bold text-stone-800",children:le.content}),le.improvement&&u.jsxs("p",{className:"text-[10px] text-stone-500 mt-1",children:["",le.improvement]})]})]},le.id)),ee.items.length===0&&u.jsx("p",{className:"text-xs text-stone-400 italic",children:""})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1",children:""}),u.jsx("p",{className:"text-xs text-stone-600 leading-relaxed whitespace-pre-wrap",children:ee.suggestions||""})]})]})]},ee.id)}),C.length===0&&u.jsx("div",{className:"text-center py-20 text-stone-300",children:u.jsx("p",{className:"font-bold",children:""})})]})]})]})},cW="life_quality_photos";class dct{constructor(){this.folderId=null}async getOrCreateFolder(){if(this.folderId)return this.folderId;try{const t=`name='${cW}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,n=`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(t)}&fields=files(id)`,i=await(await Ks.fetchWithAuth(n)).json();if(i.files&&i.files.length>0)return this.folderId=i.files[0].id,this.folderId;const s="https://www.googleapis.com/drive/v3/files",a={name:cW,mimeType:"application/vnd.google-apps.folder"},l=await(await Ks.fetchWithAuth(s,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}})).json();this.folderId=l.id;try{const c=`https://www.googleapis.com/drive/v3/files/${this.folderId}/permissions`;await Ks.fetchWithAuth(c,{method:"POST",body:JSON.stringify({role:"reader",type:"anyone"}),headers:{"Content-Type":"application/json"}})}catch(c){console.warn(":",c)}return this.folderId}catch(t){return console.error(":",t),null}}async uploadFile(t){const n=await this.getOrCreateFolder();if(!n)return null;try{const r={name:`${Date.now()}_${t.name}`,parents:[n]},i="-------314159265358979323846",s=`\r
--`+i+`\r
`,a=`\r
--`+i+"--",o=new FileReader,l=await new Promise((y,C)=>{o.onload=()=>y(o.result),o.onerror=C,o.readAsArrayBuffer(t)}),c=[`Content-Type: application/json; charset=UTF-8\r
\r
`,JSON.stringify(r),`\r
`].join(""),d=[`Content-Type: ${t.type}\r
\r
`].join(""),f=new Blob([s,c,s,d,new Uint8Array(l),a],{type:"multipart/related; boundary="+i}),m=await Ks.fetchWithAuth("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,webContentLink,webViewLink,thumbnailLink",{method:"POST",body:f});if(!m.ok)throw new Error("Upload failed");const w=await m.json();try{const y=`https://www.googleapis.com/drive/v3/files/${w.id}/permissions`;await Ks.fetchWithAuth(y,{method:"POST",body:JSON.stringify({role:"reader",type:"anyone"}),headers:{"Content-Type":"application/json"}})}catch(y){console.warn(" ():",y)}return{id:w.id,url:`https://lh3.googleusercontent.com/d/${w.id}=w1600`}}catch(r){return console.error(":",r),null}}}const av=new dct,KC=[{id:"all",label:"",icon:Zv},{id:"survey",label:"",icon:c1},{id:"construction",label:"",icon:GE},{id:"completion",label:"",icon:u1},{id:"inspection",label:"",icon:ap}],hct=e=>{var Mn,Xr,Pi,oi,Lr,di,xo,li,ur,Ji,gr,Mc,mr,Bn;const{project:t,user:n,teamMembers:r,onBack:i,onEdit:s,onDelete:a,onLossClick:o,onUpdateTasks:l,onUpdateProgress:c,onUpdateStatus:d,onAddComment:f,onDeleteComment:p,onUpdateExpenses:m,onUpdateWorkAssignments:w,onUpdateFiles:y,onUpdatePhases:C,onAddDailyLog:T,onDeleteDailyLog:k,onUpdateChecklist:R,onUpdatePayments:P,onUpdateContractUrl:U,onUpdateDefectRecords:O}=e,[L,K]=B.useState(""),[j,te]=B.useState("logs"),[G,V]=B.useState(null),[re,ee]=B.useState(!1),[ie,ue]=B.useState(!1),[le,xe]=B.useState(!1),[ge,fe]=B.useState(!1),[ce,Q]=B.useState(null),[Y,X]=B.useState(!1),[ne,oe]=B.useState("survey"),[Ce,ke]=B.useState("all"),[Ne,Ue]=B.useState(1),[Ye,ve]=B.useState({x:0,y:0}),[gt,yt]=B.useState(!1),Fe=B.useRef({x:0,y:0}),Nt=B.useRef(null),nt=B.useMemo(()=>(t.files||[]).filter(Te=>(Te.type==="image"||Te.type==="video")&&(Ce==="all"||Te.category===Ce)),[t.files,Ce]),Ct=B.useMemo(()=>{var it,Lt;return[...(it=t.preConstruction)!=null&&it.scopeDrawingUrl?[t.preConstruction.scopeDrawingUrl]:[],...((Lt=t.preConstruction)==null?void 0:Lt.scopeDrawings)||[]].map((sn,Fn)=>{var Rn;return{id:`scope-${Fn}`,url:String(sn),name:` (${Fn+1})`,category:"",type:"image",uploadedAt:(Rn=t.preConstruction)==null?void 0:Rn.updatedAt,uploadedBy:"System"}})},[t.preConstruction]),lt=B.useMemo(()=>(G==null?void 0:G.category)===""?Ct:nt,[G,Ct,nt]),Qt=Te=>{if(Te==null||Te.stopPropagation(),!G)return;const it=lt.findIndex(Lt=>Lt.id===G.id||Lt.url===G.url);it!==-1&&it<lt.length-1&&(V(lt[it+1]),Ue(1),ve({x:0,y:0}))},ot=Te=>{if(Te==null||Te.stopPropagation(),!G)return;const it=lt.findIndex(Lt=>Lt.id===G.id||Lt.url===G.url);it>0&&(V(lt[it-1]),Ue(1),ve({x:0,y:0}))},An=Te=>{Te==null||Te.stopPropagation(),Ue(it=>Math.min(it+.5,3))},bn=Te=>{Te==null||Te.stopPropagation(),Ue(it=>{const Lt=Math.max(it-.5,1);return Lt===1&&ve({x:0,y:0}),Lt})},Cn=Te=>{Ne>1&&(Te.preventDefault(),yt(!0),Fe.current={x:Te.clientX-Ye.x,y:Te.clientY-Ye.y})},Vn=Te=>{gt&&Ne>1&&(Te.preventDefault(),ve({x:Te.clientX-Fe.current.x,y:Te.clientY-Fe.current.y}))},Sn=()=>{yt(!1)},tr=Te=>{if(Te.touches.length===1&&Ne>1){const it=Te.touches[0];yt(!0),Fe.current={x:it.clientX-Ye.x,y:it.clientY-Ye.y}}else if(Te.touches.length===2){const it=Math.hypot(Te.touches[0].clientX-Te.touches[1].clientX,Te.touches[0].clientY-Te.touches[1].clientY);Nt.current=it}},xn=Te=>{if(Te.touches.length===1&&gt&&Ne>1){const it=Te.touches[0];ve({x:it.clientX-Fe.current.x,y:it.clientY-Fe.current.y})}else if(Te.touches.length===2){const it=Math.hypot(Te.touches[0].clientX-Te.touches[1].clientX,Te.touches[0].clientY-Te.touches[1].clientY);if(Nt.current!==null){const Lt=it-Nt.current,sn=.01;Ue(Fn=>{const Rn=Math.min(Math.max(Fn+Lt*sn,1),5);return Rn===1&&ve({x:0,y:0}),Rn})}Nt.current=it}},Ht=()=>{yt(!1),Nt.current=null};mn.useEffect(()=>{const Te=it=>{G&&(it.key==="ArrowRight"&&Qt(),it.key==="ArrowLeft"&&ot(),it.key==="Escape"&&V(null))};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[G,nt]);const hn=B.useRef(null),rn=B.useRef(null),br=B.useRef(null),Tn=B.useRef(null),ut=B.useRef(null),[yn,un]=B.useState(!1),[cn,or]=B.useState(!1),[zn,Kn]=B.useState(!1),[Qn,Hn]=B.useState(!1),[kn,kr]=B.useState(null),ei=B.useRef(null),mi=B.useRef(null),[ii,Ki]=B.useState(t.startDate||new Date().toISOString().split("T")[0]),[qn,Di]=B.useState(!1),[ea,xi]=B.useState(null),[Si,Rr]=B.useState(!1),[Yr,Ee]=B.useState(null),[_e,Le]=B.useState(!1),[Me,He]=B.useState(null),[Ve,At]=B.useState(null),[Tt,ft]=B.useState(""),[vt,bt]=B.useState([]),[Xt,an]=B.useState(!1),on=B.useRef(null),[fn,vn]=B.useState(!1),[On,Pt]=B.useState(!1),Un=async()=>{if(Tt.trim()){vn(!0);try{const Te=await tie(Tt);Te&&ft(Te)}catch(Te){console.error(":",Te),alert("AI ")}finally{vn(!1)}}},ir=async Te=>{Pt(!0);try{const Lt=await(await fetch(Te)).blob(),sn=new FileReader,Fn=await new Promise(In=>{sn.onload=()=>{const si=sn.result;In(si.split(",")[1])},sn.readAsDataURL(Lt)}),Rn=await eie(Fn);Rn&&ft(In=>In?`${In}

[AI ]
${Rn}`:Rn)}catch(it){console.error(":",it),alert("AI ")}finally{Pt(!1)}},vi=Te=>{if(window.confirm("")){const it=(t.workAssignments||[]).filter(Lt=>Lt.id!==Te);e.onUpdateWorkAssignments(it)}},ca=Te=>{const it=(t.workAssignments||[]).map(Lt=>Lt.id===Te.id?{...Te,totalCost:Number(Te.wagePerDay)*Number(Te.days)}:Lt);e.onUpdateWorkAssignments(it),He(null)},Dr=async Te=>{if(!Te.target.files)return;an(!0);const it=Array.from(Te.target.files),Lt=[];try{for(const sn of it){const Fn=await av.uploadFile(sn);Fn&&Fn.url&&Lt.push(Fn.url)}bt(sn=>[...sn,...Lt])}catch(sn){console.error(":",sn),alert("")}finally{an(!1),on.current&&(on.current.value="")}},[yr,Br]=B.useState(((Mn=t.preConstruction)==null?void 0:Mn.materialsAndTools)||""),[wi,Pe]=B.useState(((Xr=t.preConstruction)==null?void 0:Xr.notice)||"");mn.useEffect(()=>{var Te,it;Br(((Te=t.preConstruction)==null?void 0:Te.materialsAndTools)||""),Pe(((it=t.preConstruction)==null?void 0:it.notice)||"")},[t.id,t.updatedAt]);const $e=B.useMemo(()=>{const Te=(t.workAssignments||[]).reduce((Fn,Rn)=>Fn+Rn.totalCost,0),it=(t.expenses||[]).reduce((Fn,Rn)=>Fn+Rn.amount,0),Lt=t.introducerFeeRequired&&t.introducerFeeAmount?t.introducerFeeAmount:0,sn=Te+it+Lt;return t.budget-sn},[t.budget,t.expenses,t.workAssignments,t.introducerFeeRequired,t.introducerFeeAmount]),[Oe,st]=B.useState(!1),[rt,Xe]=B.useState({date:new Date().toISOString().split("T")[0],category:"",status:"",name:"",amount:0,supplier:""}),jt=async Te=>{if(!Te.target.files||!y)return;X(!0);const it=Array.from(Te.target.files),Lt=[];try{for(const sn of it){const Fn=await av.uploadFile(sn);Fn&&Lt.push({id:Fn.id,url:Fn.url,name:sn.name,type:sn.type.startsWith("video/")?"video":"image",category:ne,uploadedAt:new Date().toISOString(),uploadedBy:n.name,size:sn.size})}y([...t.files||[],...Lt])}catch(sn){console.error(":",sn),alert("")}finally{X(!1),hn.current&&(hn.current.value="")}},Zt=async Te=>{var Lt;const it=(Lt=Te.target.files)==null?void 0:Lt[0];if(it){xe(!0);try{const sn=new FileReader;sn.onloadend=async()=>{const Fn=sn.result,Rn=Fn.split(",")[1]||Fn;try{const In=await XB(Rn,ii,qn);if(In&&In.length>0){const si=In.map(gs=>({...gs,id:Date.now().toString()+Math.random().toString(36).substr(2,9)}));C([...t.phases||[],...si]),alert(` ${In.length} `)}else alert("")}catch(In){console.error("Schedule parsing error:",In),alert("")}finally{xe(!1),rn.current&&(rn.current.value="")}},sn.readAsDataURL(it)}catch(sn){console.error("File reading error:",sn),xe(!1)}}},en=async()=>{if(t.contractUrl){xe(!0);try{const it=await(await fetch(t.contractUrl)).blob(),Lt=new FileReader;Lt.onload=async()=>{const sn=Lt.result.split(",")[1];try{const Fn=await XB(sn,ii,qn);if(Fn&&Fn.length>0){const Rn=Fn.map(In=>({...In,id:Date.now().toString()+Math.random().toString(36).substr(2,9)}));C&&C([...t.phases||[],...Rn]),alert(` ${Fn.length} `)}}catch{alert("AI ")}finally{xe(!1)}},Lt.readAsDataURL(it)}catch(Te){console.error(Te),alert(""),xe(!1)}}},dt=n.role==="Guest",pe=Object.values(hr),me=t.expenses||[],ae=t.workAssignments||[],Qe=t.files||[],Mt=ae.reduce((Te,it)=>Te+it.totalCost,0),Gt=me.reduce((Te,it)=>Te+it.amount,0),En=Mt+Gt,Gn=t.budget-En,Wn=(t.payments||[]).filter(Te=>Te.status==="paid").reduce((Te,it)=>Te+(it.amount||0),0),wn=async Te=>{if(t.location){fe(!0),Q(null);try{const it=await _P(t.location.address,t.location.lat,t.location.lng,Te);Q(it)}catch(it){console.error("AI :",it)}finally{fe(!1)}}};return u.jsxs("div",{className:"flex flex-col lg:h-full animate-in slide-in-from-right-4 duration-500 lg:overflow-hidden relative",children:[dt&&u.jsxs("div",{className:"bg-amber-500 text-white px-8 py-2 text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 z-[60] shadow-sm",children:[u.jsx(Fp,{size:14})," "]}),u.jsxs("div",{className:"p-4 lg:p-8 space-y-4 shrink-0 bg-white/50 border-b border-stone-100",children:[u.jsxs("div",{className:"flex justify-between items-center no-print",children:[u.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-500 hover:text-blue-600 font-bold text-sm",children:[u.jsx(voe,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:""})]}),u.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar desktop-scrollbar touch-scroll sm:overflow-visible pb-1 sm:pb-0",children:[!dt&&u.jsxs("div",{className:"flex gap-2 whitespace-nowrap",children:[u.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 bg-white border border-blue-200 text-blue-600 px-3 py-1.5 rounded-xl text-[10px] font-black shrink-0",children:[u.jsx(ah,{size:14})," "]}),u.jsxs("button",{onClick:()=>ue(!0),className:"flex items-center gap-2 bg-white border border-emerald-200 text-emerald-600 px-3 py-1.5 rounded-xl text-[10px] font-black shrink-0",children:[u.jsx(u1,{size:14})," "]}),u.jsxs("button",{onClick:()=>s(t),className:"bg-white border border-slate-200 text-slate-700 px-3 py-1.5 rounded-xl text-[10px] font-black shrink-0",children:[u.jsx(Mo,{size:14})," "]})]}),dt&&u.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 text-stone-400 px-3 py-1.5 rounded-xl text-[10px] font-black border border-stone-200 whitespace-nowrap shrink-0",children:[u.jsx(Fp,{size:14})," "]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"bg-slate-900 text-white text-[9px] font-black px-1.5 py-0.5 rounded uppercase",children:t.id}),u.jsx("span",{className:"bg-blue-50 text-blue-600 text-[9px] font-black px-1.5 py-0.5 rounded border border-blue-100 uppercase",children:t.category}),t.contractUrl&&u.jsxs("span",{className:"bg-emerald-50 text-emerald-600 text-[9px] font-black px-1.5 py-0.5 rounded border border-emerald-100 uppercase flex items-center gap-1",children:[u.jsx(ap,{size:10})," "]})]}),u.jsx("h1",{className:"text-xl sm:text-2xl font-black text-slate-900 leading-tight tracking-tight",children:t.name}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[10px] text-slate-500 font-bold uppercase",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(aa,{size:12,className:"text-slate-400"})," ",((Pi=t.location)==null?void 0:Pi.address)||""]}),u.jsxs("span",{className:"bg-stone-100 px-2 py-0.5 rounded-full",children:["",t.quotationManager||""]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Eu,{size:12}),u.jsx("select",{disabled:dt,className:`bg-transparent outline-none appearance-none text-blue-600 font-black ${dt?"cursor-not-allowed opacity-50":"cursor-pointer"}`,value:t.status,onChange:Te=>{const it=Te.target.value;it===hr.SIGNED_WAITING_WORK&&!t.contractUrl?(kr(it),Hn(!0)):d(it)},children:pe.map(Te=>u.jsx("option",{value:Te,className:"text-black font-bold",children:Te},Te))})]})]})]}),u.jsx("div",{className:"shrink-0",children:t.contractUrl?u.jsxs("a",{href:t.contractUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-emerald-50 text-emerald-600 border border-emerald-200 px-4 py-2.5 rounded-xl font-black text-[11px] hover:bg-emerald-100 transition-colors shadow-sm",children:[u.jsx(ah,{size:16}),u.jsx("span",{children:"/"}),u.jsx(Dm,{size:12})]}):!dt&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",className:"hidden",ref:mi,accept:"application/pdf,image/*",onChange:async Te=>{var Lt;const it=(Lt=Te.target.files)==null?void 0:Lt[0];if(it)try{const sn=await av.uploadFile(it);sn&&sn.url&&(U(sn.url),it.type.startsWith("image/"),alert(""))}catch(sn){console.error("",sn),alert("")}finally{mi.current&&(mi.current.value="")}}}),u.jsxs("button",{onClick:()=>{var Te;return(Te=mi.current)==null?void 0:Te.click()},className:"flex items-center gap-2 bg-slate-900 text-white px-5 py-3 rounded-2xl font-black text-[11px] hover:bg-slate-800 transition-all active:scale-95 shadow-md hover:shadow-lg",children:[u.jsx(nh,{size:16}),u.jsx("span",{children:""})]})]})})]})]}),u.jsx("div",{className:"px-0 sm:px-4 py-3 bg-white border-b border-stone-100 shrink-0 no-print relative",children:u.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar desktop-scrollbar touch-scroll pb-1 px-4 sm:px-0 flex-nowrap w-full",children:[{id:"logs",label:"",icon:zw},{id:"inspection",label:"AI ",icon:Ui},{id:"tasks",label:"",icon:gd},{id:"schedule",label:"",icon:O0},{id:"financials",label:"",icon:Cc},{id:"prep",label:"",icon:ML},{id:"map",label:"",icon:zE},{id:"photos",label:"",icon:xm},{id:"defects",label:"",icon:ho}].map(Te=>u.jsxs("button",{onClick:()=>te(Te.id),className:`px-4 py-2 rounded-xl text-[11px] font-black transition-all flex items-center gap-2 whitespace-nowrap shadow-sm border ${j===Te.id?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-500 border-stone-100 hover:border-stone-300"}`,children:[u.jsx(Te.icon,{size:14})," ",Te.label]},Te.id))})}),u.jsxs("div",{className:"flex-1 lg:min-h-0 flex flex-col p-4 sm:p-6 lg:overflow-hidden",children:[j==="inspection"&&u.jsx("div",{className:"space-y-6 animate-in fade-in",children:t.inspectionData?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-slate-900 p-8 rounded-[2.5rem] text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:u.jsx(Ui,{size:120})}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"bg-white/10 w-fit px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest mb-4 backdrop-blur-md",children:""}),u.jsx("h3",{className:"text-3xl font-black mb-2 leading-tight",children:"AI "}),u.jsxs("p",{className:"text-indigo-200 text-sm font-medium opacity-80 mb-6",children:["",t.inspectionData.timestamp]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-3xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-[10px] font-black text-indigo-300 uppercase tracking-widest mb-3",children:" Diagnosis"}),u.jsx("p",{className:"text-sm leading-relaxed",children:t.inspectionData.diagnosis})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-3xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-[10px] font-black text-emerald-300 uppercase tracking-widest mb-3",children:" Suggestion"}),u.jsx("p",{className:"text-sm leading-relaxed",children:t.inspectionData.suggestedFix})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest px-2",children:" Original Samples"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:t.inspectionData.originalPhotos.map((Te,it)=>u.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-stone-100 shadow-sm group relative",children:[u.jsx("img",{src:Te,alt:` ${it+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-indigo-900/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsx(G4,{className:"text-white",size:24})})]},it))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest px-2",children:"AI  AI Inference"}),u.jsxs("div",{className:"bg-white border border-stone-200 p-6 rounded-3xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-600",children:[u.jsx(Eu,{size:16}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),u.jsxs("p",{className:"text-xs text-stone-600 leading-relaxed italic",children:['"',t.inspectionData.aiAnalysis,'"']})]})]})]})]}):u.jsxs("div",{className:"py-32 flex flex-col items-center justify-center text-stone-300 gap-4 opacity-50",children:[u.jsx(Ui,{size:64,className:"animate-pulse"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:" AI "}),u.jsx("p",{className:"text-[10px] font-bold mt-1",children:""})]})]})}),j==="logs"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:h-full lg:overflow-hidden animate-in fade-in",children:[u.jsxs("div",{className:"lg:col-span-8 flex flex-col bg-white rounded-3xl border border-stone-200 shadow-sm lg:overflow-hidden",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 bg-stone-50/50 flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Eu,{size:16,className:"text-orange-600"}),u.jsx("h3",{className:"font-black text-xs uppercase tracking-widest",children:""})]}),u.jsxs("span",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:[((oi=t.dailyLogs)==null?void 0:oi.length)||0," "]})]}),u.jsx("div",{className:"flex-1 lg:overflow-y-auto p-6 space-y-8 touch-scroll no-scrollbar",children:t.dailyLogs&&t.dailyLogs.length>0?[...t.dailyLogs].sort((Te,it)=>new Date(it.date).getTime()-new Date(Te.date).getTime()).map((Te,it)=>u.jsxs("div",{className:"relative pl-8 group",children:[u.jsx("div",{className:"absolute left-[11px] top-2 bottom-0 w-0.5 bg-stone-100 group-last:bg-transparent"}),u.jsx("div",{className:"absolute left-0 top-1.5 w-6 h-6 rounded-full border-4 border-white bg-orange-500 shadow-sm z-10 transition-transform group-hover:scale-110"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-black text-stone-900",children:Te.date?new Date(Te.date).toLocaleString("zh-TW",{hour12:!1}):""}),u.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-0.5 rounded-full font-bold text-stone-500 uppercase",children:Te.authorName})]}),!dt&&u.jsx("button",{onClick:Lt=>{Lt.stopPropagation(),confirm("")&&k(Te.id)},className:"p-1.5 text-stone-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:u.jsx(Ni,{size:14})})]}),u.jsxs("div",{className:"bg-stone-50/50 hover:bg-stone-50 p-4 rounded-2xl border border-stone-100 transition-colors",children:[u.jsx("p",{className:"text-xs font-medium text-stone-700 leading-relaxed whitespace-pre-wrap",children:Te.content}),Te.photoUrls&&Te.photoUrls.length>0&&u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mt-4",children:Te.photoUrls.map((Lt,sn)=>u.jsxs("div",{className:"aspect-square rounded-xl overflow-hidden border border-stone-200 shadow-sm group/photo relative cursor-zoom-in",onClick:()=>V({id:Lt,url:Lt,name:"",type:"image",size:0,uploadDate:Te.date}),children:[u.jsx("img",{src:Lt,alt:"",className:"w-full h-full object-cover transition-transform duration-500 group-hover/photo:scale-110"}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/photo:bg-black/20 transition-colors flex items-center justify-center",children:u.jsx(G4,{size:20,className:"text-white opacity-0 group-hover/photo:opacity-100 transition-opacity"})})]},sn))})]})]})]},Te.id)):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-300 gap-4 opacity-50 py-20",children:[u.jsx(O0,{size:48}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""}),u.jsx("p",{className:"text-[9px] font-bold mt-1",children:""})]})]})})]}),u.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6 lg:overflow-hidden",children:!dt&&u.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 p-6 shadow-sm shrink-0",children:[u.jsxs("h4",{className:"font-black text-stone-900 uppercase text-[10px] tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(Mo,{size:14,className:"text-blue-600"}),"  / "]}),u.jsxs("form",{onSubmit:Te=>{Te.preventDefault(),Tt.trim()&&(T({content:Tt,photoUrls:vt}),ft(""),bt([]))},className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:Tt,onChange:Te=>ft(Te.target.value),required:!0,placeholder:"... ( AI )",className:"w-full bg-stone-50 border border-stone-200 rounded-2xl px-4 py-3 text-xs font-bold text-stone-900 outline-none focus:ring-2 focus:ring-blue-600/20 placeholder:text-stone-300 resize-none h-32"}),u.jsxs("button",{type:"button",onClick:Un,disabled:fn||!Tt.trim(),className:"absolute bottom-3 right-3 flex items-center gap-1.5 bg-indigo-600 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-indigo-700 transition-all disabled:opacity-50 shadow-md group",children:[fn?u.jsx(ia,{size:12,className:"animate-spin"}):u.jsx(Ui,{size:12,className:"group-hover:rotate-12 transition-transform"}),fn?"AI ":"AI "]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest ml-1",children:" ( AI )"}),u.jsxs("span",{className:"text-[9px] text-stone-400",children:[vt.length," "]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[vt.map((Te,it)=>u.jsxs("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden border border-stone-200 group",children:[u.jsx("img",{src:Te,alt:`Photo ${it}`,className:"w-full h-full object-cover"}),u.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-1",children:[u.jsx("button",{type:"button",onClick:()=>ir(Te),disabled:On,title:"AI ",className:"bg-indigo-600 text-white p-1 rounded-md hover:bg-indigo-700 transition-colors",children:u.jsx(Ui,{size:12})}),u.jsx("button",{type:"button",onClick:()=>bt(Lt=>Lt.filter((sn,Fn)=>Fn!==it)),className:"bg-rose-600 text-white p-1 rounded-md hover:bg-rose-700 transition-colors",children:u.jsx(ri,{size:12})})]})]},it)),u.jsxs("button",{type:"button",onClick:()=>{var Te;return(Te=on.current)==null?void 0:Te.click()},disabled:Xt,className:"w-16 h-16 rounded-lg border-2 border-dashed border-stone-200 flex flex-col items-center justify-center gap-1 text-stone-400 hover:text-blue-600 hover:border-blue-200 hover:bg-blue-50 transition-all disabled:opacity-50",children:[Xt?u.jsx(ia,{size:16,className:"animate-spin"}):u.jsx(xm,{size:16}),u.jsx("span",{className:"text-[9px] font-bold",children:Xt?"":""})]})]}),u.jsx("input",{type:"file",ref:on,className:"hidden",accept:"image/*",multiple:!0,onChange:Dr})]}),u.jsx("button",{type:"submit",disabled:Xt||!Tt.trim(),className:"w-full py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all active:scale-95 shadow-lg shadow-stone-200 disabled:opacity-50 disabled:cursor-not-allowed",children:Xt?"...":""})]})]})})]}),j==="defects"&&u.jsx("div",{className:"lg:h-full lg:overflow-hidden animate-in fade-in",children:u.jsx(uct,{project:t,onUpdate:O,isReadOnly:dt})}),j!=="logs"&&u.jsxs("div",{className:"flex-1 lg:overflow-y-auto touch-scroll space-y-4 pr-1 no-scrollbar",children:[j==="financials"&&u.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:u.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-200 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:u.jsx(Eu,{size:48,className:"text-blue-900"})}),u.jsx("p",{className:"text-[9px] font-black text-stone-400 uppercase mb-2 tracking-widest",children:""}),u.jsxs("p",{className:"text-2xl font-black text-stone-900",children:[(En/t.budget*100).toFixed(1),"%"]}),u.jsx("div",{className:"w-full bg-stone-100 h-1.5 rounded-full mt-3 overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-1000 ${En/t.budget>1?"bg-rose-500":En/t.budget>.8?"bg-amber-500":"bg-blue-600"}`,style:{width:`${Math.min(En/t.budget*100,100)}%`}})})]})}),u.jsxs("div",{className:"space-y-6 mb-6",children:[u.jsxs("div",{className:"bg-stone-900 border border-stone-800 rounded-3xl p-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full filter blur-[80px] -translate-y-1/2 translate-x-1/2"}),u.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-white mb-2",children:""}),u.jsx("p",{className:"text-stone-400 text-sm font-medium",children:""})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:async()=>{Rr(!0);try{const Te=await YB(t);Ee(Te.text||"")}catch{alert("")}finally{Rr(!1)}},disabled:Si,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-xl font-bold text-xs shadow-lg shadow-indigo-900/30 transition-all active:scale-95 disabled:opacity-50",children:[Si?u.jsx(ia,{size:16,className:"animate-spin"}):u.jsx(Ui,{size:16}),"AI "]}),!dt&&u.jsx("button",{className:"p-2 bg-white/10 hover:bg-white/20 text-white rounded-xl transition-colors",children:u.jsx(Mo,{size:18})})]})]})]}),Yr&&u.jsx("div",{className:"bg-indigo-50/50 border border-indigo-100 rounded-3xl p-6 animate-in fade-in slide-in-from-top-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-2xl shrink-0",children:u.jsx(Eu,{size:24})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-black text-indigo-900 text-sm uppercase tracking-wider mb-3",children:"AI "}),u.jsx("div",{className:"prose prose-sm prose-indigo max-w-none text-slate-600 font-medium leading-relaxed whitespace-pre-wrap",children:Yr})]}),u.jsx("button",{onClick:()=>Ee(null),className:"text-indigo-300 hover:text-indigo-500",children:u.jsx(ri,{size:20})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-stone-100 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-2xl",children:u.jsx(Cc,{size:20})}),u.jsx("span",{className:"text-[10px] font-black text-stone-300 uppercase tracking-widest",children:"BUDGET"})]}),u.jsxs("p",{className:"text-2xl font-black text-stone-900 tracking-tight",children:["NT$ ",(t.budget||0).toLocaleString()]}),u.jsx("p",{className:"text-[11px] font-bold text-stone-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-stone-100 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:u.jsx(GE,{size:20})}),u.jsx("span",{className:"text-[10px] font-black text-stone-300 uppercase tracking-widest",children:"LABOR COST"})]}),u.jsxs("p",{className:"text-2xl font-black text-stone-900 tracking-tight",children:["NT$ ",((t.workAssignments||[]).reduce((Te,it)=>Te+((it==null?void 0:it.totalCost)||0),0)||0).toLocaleString()]}),u.jsx("p",{className:"text-[11px] font-bold text-stone-400 mt-1",children:" ()"}),(t.workAssignments||[]).length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>Le(!_e),className:"w-full mt-4 pt-4 border-t border-stone-100 flex items-center justify-between hover:bg-stone-50 -mx-2 px-2 py-2 rounded-xl transition-colors",children:[u.jsxs("p",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest",children:[" (",(t.workAssignments||[]).length," )"]}),u.jsx(ch,{size:16,className:`text-stone-400 transition-transform ${_e?"rotate-180":""}`})]}),_e&&u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto no-scrollbar mt-3 animate-in slide-in-from-top-2 duration-200",children:(t.workAssignments||[]).map((Te,it)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl border border-stone-100",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-xs font-black text-stone-900 truncate",children:Te.memberName}),Te.isSpiderMan&&u.jsx("span",{className:"text-[7px] font-black text-blue-600 bg-blue-50 px-1 py-0.5 rounded border border-blue-100 flex-shrink-0",children:""})]}),u.jsx("p",{className:"text-[9px] text-stone-400 font-medium",children:Te.date})]}),u.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[u.jsxs("p",{className:"text-xs font-black text-stone-900",children:["NT$ ",(Te.totalCost||0).toLocaleString()]}),u.jsxs("p",{className:"text-[8px] text-stone-400 font-medium",children:[Te.wagePerDay,"  ",Te.days,""]})]}),u.jsxs("div",{className:"flex items-center gap-1 ml-2 pl-2 border-l border-stone-100",children:[u.jsx("button",{onClick:Lt=>{Lt.stopPropagation(),He(Te)},className:"p-1.5 text-stone-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:u.jsx(Mo,{size:12})}),u.jsx("button",{onClick:Lt=>{Lt.stopPropagation(),vi(Te.id)},className:"p-1.5 text-stone-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:u.jsx(Ni,{size:12})})]})]},Te.id||it))})]})]}),[{label:" ()",key:"",icon:Cd,color:"text-purple-600",bg:"bg-purple-50",border:"border-purple-100"},{label:"",key:"",icon:h1,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"},{label:"",key:"",icon:Ww,color:"text-teal-600",bg:"bg-teal-50",border:"border-teal-100"}].map(Te=>{const it=(t.expenses||[]).filter(Rn=>Rn.category===Te.key),Lt=it.reduce((Rn,In)=>Rn+((In==null?void 0:In.amount)||0),0),sn=Te.icon,Fn=Ve===Te.key;return u.jsxs("div",{className:`bg-white p-6 rounded-3xl border shadow-sm transition-all duration-300 ${Fn?`${Te.border} ring-2 ring-blue-500/10`:"border-stone-100"}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-4 cursor-pointer",onClick:()=>At(Fn?null:Te.key),children:[u.jsx("div",{className:`p-3 ${Te.bg} ${Te.color} rounded-2xl`,children:u.jsx(sn,{size:20})}),u.jsxs("span",{className:"text-[10px] font-black text-stone-300 uppercase tracking-widest flex items-center gap-1",children:["EXPENSE ",Fn?u.jsx(ch,{size:12,className:"rotate-180"}):u.jsx(ch,{size:12})]})]}),u.jsxs("div",{className:"cursor-pointer",onClick:()=>At(Fn?null:Te.key),children:[u.jsxs("p",{className:"text-2xl font-black text-stone-900 tracking-tight",children:["NT$ ",(Lt||0).toLocaleString()]}),u.jsxs("p",{className:"text-[11px] font-bold text-stone-400 mt-1",children:[Te.label," ",u.jsxs("span",{className:"text-[9px] ml-1 opacity-50",children:["(",it.length," )"]})]})]}),Fn&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-dashed border-stone-200 animate-in slide-in-from-top-2",children:[u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto no-scrollbar",children:it.length>0?it.sort((Rn,In)=>new Date(In.date).getTime()-new Date(Rn.date).getTime()).map((Rn,In)=>u.jsxs("div",{className:"flex flex-col gap-1 p-2 rounded-lg hover:bg-stone-50 transition-colors",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-black text-stone-700 truncate max-w-[60%]",children:Rn.name}),u.jsxs("span",{className:"text-[10px] font-black text-stone-900",children:["NT$ ",Rn.amount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center text-[9px] text-stone-400",children:[u.jsxs("span",{children:[Rn.date," ",Rn.supplier?` ${Rn.supplier}`:""]}),!dt&&u.jsx("button",{onClick:si=>{if(si.stopPropagation(),confirm("")){const gs=(t.expenses||[]).filter(hi=>hi.id!==Rn.id),ci=gs.reduce((hi,Na)=>hi+Na.amount,0),Bs=(t.workAssignments||[]).reduce((hi,Na)=>hi+Na.totalCost,0);m(gs,ci+Bs)}},className:"hover:text-rose-500",children:u.jsx(Ni,{size:10})})]})]},Rn.id||In)):u.jsx("div",{className:"text-center py-2 text-[10px] text-stone-300",children:""})}),u.jsxs("button",{onClick:()=>{Xe({...rt,category:Te.key}),st(!0)},className:"w-full mt-2 py-2 text-[10px] font-bold text-stone-400 border border-dashed border-stone-200 rounded-xl hover:bg-stone-50 hover:text-stone-600 transition-colors",children:["+ ",Te.label.split(" ")[0]]})]})]},Te.label)}),u.jsxs("div",{className:`p-6 rounded-3xl border shadow-sm ${$e>=0?"bg-emerald-50 border-emerald-100":"bg-rose-50 border-rose-100"}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:`p-3 rounded-2xl ${$e>=0?"bg-white text-emerald-600":"bg-white text-rose-600"}`,children:u.jsx(Eu,{size:20})}),u.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${$e>=0?"text-emerald-300":"text-rose-300"}`,children:"NET PROFIT"})]}),u.jsxs("p",{className:`text-2xl font-black tracking-tight ${$e>=0?"text-emerald-900":"text-rose-900"}`,children:["NT$ ",(Math.abs($e)||0).toLocaleString()]}),u.jsx("p",{className:`text-[11px] font-bold mt-1 ${$e>=0?"text-emerald-600":"text-rose-600"}`,children:$e>=0?"":""}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-white/50",children:[u.jsx("p",{className:"text-[9px] font-black text-emerald-900/40 uppercase tracking-widest mb-1",children:"PROFIT MARGIN"}),u.jsxs("p",{className:`text-xl font-black ${$e>=0?"text-emerald-700":"text-rose-700"}`,children:[t.budget>0?($e/t.budget*100).toFixed(1):"0.0","%"]})]})]}),t.introducerFeeRequired&&t.introducerFeeAmount&&u.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-blue-100 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:u.jsx(Jp,{size:20})}),u.jsx("span",{className:"text-[10px] font-black text-stone-300 uppercase tracking-widest",children:"REFERRAL FEE"})]}),u.jsxs("p",{className:"text-2xl font-black text-stone-900 tracking-tight",children:["NT$ ",(t.introducerFeeAmount||0).toLocaleString()]}),u.jsxs("p",{className:"text-[11px] font-bold text-stone-400 mt-1",children:["",t.introducer||""]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-stone-100 shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-stone-100 text-stone-600 rounded-2xl",children:u.jsx(Cc,{size:20})}),u.jsx("span",{className:"text-[10px] font-black text-stone-300 uppercase tracking-widest",children:"RECEIVED"})]}),u.jsxs("p",{className:"text-2xl font-black text-stone-900 tracking-tight",children:["NT$ ",Wn.toLocaleString()]}),u.jsx("p",{className:"text-[11px] font-bold text-stone-400 mt-1",children:""})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-sm overflow-hidden min-h-[300px]",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 bg-stone-50/50 flex items-center justify-between",children:[u.jsxs("h4",{className:"text-[10px] font-black text-stone-900 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Cc,{size:14,className:"text-emerald-600"})," "]}),!dt&&u.jsx("button",{onClick:()=>{const Te=prompt(" ()"),it=prompt(" ()");if(Te&&it){const Lt={id:Date.now().toString(),label:Te,amount:parseInt(it),status:"pending",date:new Date().toISOString().split("T")[0],notes:""};P([...t.payments||[],Lt])}},className:"bg-emerald-600 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-emerald-700 transition-all active:scale-95",children:"+ "})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-stone-50/50",children:[u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:""}),u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:""}),u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100 text-right",children:""}),u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:""}),!dt&&u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100 text-center",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-stone-50",children:(t.payments||[]).length>0?(t.payments||[]).map(Te=>u.jsxs("tr",{className:"hover:bg-stone-50/30 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 text-xs font-black text-stone-900",children:u.jsx("input",{type:"text",value:Te.label,disabled:dt,onChange:it=>{const Lt=it.target.value;P((t.payments||[]).map(sn=>sn.id===Te.id?{...sn,label:Lt}:sn))},className:"bg-transparent border-none outline-none focus:ring-1 focus:ring-blue-200 rounded px-1 -ml-1 w-full"})}),u.jsx("td",{className:"px-6 py-4 text-xs font-bold text-stone-500",children:u.jsx("input",{type:"date",value:Te.date,disabled:dt,onChange:it=>{const Lt=it.target.value;P((t.payments||[]).map(sn=>sn.id===Te.id?{...sn,date:Lt}:sn))},className:"bg-transparent border-none outline-none focus:ring-1 focus:ring-blue-200 rounded px-1 -ml-1 text-stone-500 w-[110px]"})}),u.jsx("td",{className:"px-6 py-4 text-xs font-black text-stone-900 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[u.jsx("span",{className:"text-stone-400",children:"NT$"}),u.jsx("input",{type:"number",value:Te.amount,disabled:dt,onChange:it=>{const Lt=parseInt(it.target.value)||0;P((t.payments||[]).map(sn=>sn.id===Te.id?{...sn,amount:Lt}:sn))},className:"bg-transparent border-none outline-none focus:ring-1 focus:ring-blue-200 rounded px-1 text-right w-[80px]"})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("button",{disabled:dt,onClick:()=>{const it=Te.status==="paid"?"pending":"paid";P((t.payments||[]).map(Lt=>Lt.id===Te.id?{...Lt,status:it}:Lt))},className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-tighter border transition-all ${Te.status==="paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:Te.status==="paid"?"":""})}),!dt&&u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("button",{onClick:()=>P((t.payments||[]).filter(it=>it.id!==Te.id)),className:"text-stone-300 hover:text-rose-500 transition-colors",children:u.jsx(Ni,{size:14})})})]},Te.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-6 py-20 text-center text-stone-300",children:u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})})})})]})})]}),u.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-sm overflow-hidden min-h-[300px]",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 bg-stone-50/50 flex items-center justify-between",children:[u.jsxs("h4",{className:"text-[10px] font-black text-stone-900 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Gce,{size:14,className:"text-rose-600"})," "]}),u.jsx("div",{className:"flex gap-2",children:!dt&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",className:"hidden",ref:ut,accept:"image/*",onChange:async Te=>{var Lt;const it=(Lt=Te.target.files)==null?void 0:Lt[0];if(it){Kn(!0);const sn=new FileReader;sn.onload=async Fn=>{var Rn;try{const In=((Rn=Fn.target)==null?void 0:Rn.result).split(",")[1],si=await Xre(In);if(si&&si.length>0){const gs=si.map(ci=>({id:`EXP-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString().split("T")[0],category:ci.category||"",status:"",name:ci.name,amount:0,supplier:ci.supplier||"",note:""}));m([...t.expenses||[],...gs]),alert(`  ${si.length} `)}else alert("")}catch(In){console.error(In),alert("")}finally{Kn(!1),ut.current&&(ut.current.value="")}},sn.readAsDataURL(it)}}}),u.jsxs("button",{onClick:()=>{var Te;return(Te=ut.current)==null?void 0:Te.click()},disabled:zn,className:"bg-white border border-stone-200 text-stone-600 px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-stone-50 transition-all flex items-center gap-2",children:[zn?u.jsx(ia,{size:12,className:"animate-spin"}):u.jsx(ah,{size:12}),zn?"...":""]}),u.jsx("button",{onClick:()=>st(!0),className:"bg-stone-900 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-stone-800 transition-all active:scale-95",children:"+ "})]})})]}),Oe&&u.jsxs("div",{className:"p-6 bg-stone-50 border-b border-stone-100 space-y-4 animate-in slide-in-from-top-2",children:[u.jsxs("div",{className:"flex justify-center mb-4",children:[u.jsx("input",{type:"file",className:"hidden",ref:Tn,accept:"image/*",capture:"environment",onChange:async Te=>{var Lt;const it=(Lt=Te.target.files)==null?void 0:Lt[0];if(it){or(!0);const sn=new FileReader;sn.onload=async Fn=>{var Rn;try{const In=((Rn=Fn.target)==null?void 0:Rn.result).split(",")[1],si=await Yre(In);si&&Xe({...rt,...si,amount:Number(si.amount)||0})}catch(In){console.error(":",In),alert(`: ${In.message||""}`)}finally{or(!1)}},sn.readAsDataURL(it)}}}),u.jsxs("button",{type:"button",onClick:()=>{var Te;return(Te=Tn.current)==null?void 0:Te.click()},disabled:cn,className:"bg-white border-2 border-dashed border-stone-200 text-stone-600 px-6 py-4 rounded-2xl text-[11px] font-black flex flex-col items-center gap-2 hover:bg-stone-100 hover:border-stone-400 transition-all w-full",children:[cn?u.jsx(ia,{size:24,className:"animate-spin text-orange-600"}):u.jsx(c1,{size:24,className:"text-stone-400"}),cn?"AI ...":"/AI "]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] font-black text-stone-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("select",{className:"w-full bg-white border border-stone-200 rounded-xl px-3 py-2 text-xs font-bold outline-none cursor-pointer",value:rt.category,onChange:Te=>Xe({...rt,category:Te.target.value}),children:[u.jsx("option",{value:"",children:" (Subcontract)"}),u.jsx("option",{value:"",children:" (Petty Cash)"}),u.jsx("option",{value:"",children:" (Materials)"}),u.jsx("option",{value:"",children:" (Admin / HR)"}),u.jsx("option",{value:"",children:" (Other)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] font-black text-stone-400 uppercase tracking-widest mb-1.5",children:""}),u.jsx("input",{type:"date",className:"w-full bg-white border border-stone-200 rounded-xl px-3 py-2 text-xs font-bold outline-none",value:rt.date,onChange:Te=>Xe({...rt,date:Te.target.value})})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[9px] font-black text-stone-400 uppercase tracking-widest mb-1.5",children:""}),u.jsx("input",{type:"text",className:"w-full bg-white border border-stone-200 rounded-xl px-3 py-2 text-xs font-bold outline-none",placeholder:"...",value:rt.name,onChange:Te=>Xe({...rt,name:Te.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] font-black text-stone-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 text-xs",children:"$"}),u.jsx("input",{type:"number",className:"w-full bg-white border border-stone-200 rounded-xl pl-6 pr-3 py-2 text-xs font-bold outline-none",value:rt.amount,onChange:Te=>Xe({...rt,amount:Number(Te.target.value)})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[9px] font-black text-stone-400 uppercase tracking-widest mb-1.5",children:rt.category===""?" ()":" ()"}),u.jsx("input",{type:"text",className:"w-full bg-white border border-stone-200 rounded-xl px-3 py-2 text-xs font-bold outline-none",placeholder:rt.category===""?"...":"...",value:rt.supplier,onChange:Te=>Xe({...rt,supplier:Te.target.value})})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[u.jsx("button",{onClick:()=>st(!1),className:"px-4 py-2 rounded-xl text-xs font-bold text-stone-500 hover:bg-stone-100",children:""}),u.jsx("button",{onClick:()=>{if(!rt.name||!rt.amount)return alert("");if(rt.category===""&&!rt.supplier)return alert("");const it=[{id:Date.now().toString(),...rt},...t.expenses||[]],Lt=it.reduce((Fn,Rn)=>Fn+Rn.amount,0),sn=(t.workAssignments||[]).reduce((Fn,Rn)=>Fn+Rn.totalCost,0);m(it,Lt+sn),st(!1),Xe({date:new Date().toISOString().split("T")[0],category:"",status:"",name:"",amount:0,supplier:""})},className:"px-4 py-2 rounded-xl text-xs font-bold bg-stone-900 text-white hover:bg-slate-800 shadow-lg active:scale-95 transition-all",children:""})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-stone-50/50",children:[u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:""}),u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:""}),u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:""}),u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100 text-right",children:""}),u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100",children:""}),!dt&&u.jsx("th",{className:"px-6 py-3 text-[9px] font-black text-stone-400 uppercase tracking-widest border-b border-stone-100 text-center",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-stone-50",children:(t.expenses||[]).length>0?[...t.expenses||[]].sort((Te,it)=>new Date(it.date).getTime()-new Date(Te.date).getTime()).map(Te=>u.jsxs("tr",{className:"hover:bg-stone-50/30 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 text-xs font-bold text-stone-500",children:Te.date}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded text-[9px] font-black uppercase tracking-wider ${Te.category===""?"bg-indigo-50 text-indigo-600":Te.category===""?"bg-amber-50 text-amber-600":Te.category===""?"bg-purple-50 text-purple-600":Te.category===""?"bg-teal-50 text-teal-600":"bg-stone-100 text-stone-600"}`,children:Te.category})}),u.jsx("td",{className:"px-6 py-4 text-xs font-black text-stone-900",children:Te.name}),u.jsxs("td",{className:"px-6 py-4 text-xs font-black text-stone-900 text-right",children:["NT$ ",(Te.amount||0).toLocaleString()]}),u.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-stone-500",children:Te.supplier||"-"}),!dt&&u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("button",{onClick:()=>{if(confirm("")){const it=(t.expenses||[]).filter(Fn=>Fn.id!==Te.id),Lt=it.reduce((Fn,Rn)=>Fn+Rn.amount,0),sn=(t.workAssignments||[]).reduce((Fn,Rn)=>Fn+Rn.totalCost,0);m(it,Lt+sn)}},className:"text-stone-300 hover:text-rose-500 transition-colors",children:u.jsx(Ni,{size:14})})})]},Te.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-stone-300",children:u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})})})})]})})]})]})]}),j==="map"&&u.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 p-6 space-y-6 animate-in fade-in shadow-sm",children:[u.jsxs("h3",{className:"font-black text-stone-900 uppercase text-xs flex items-center gap-2",children:[u.jsx(aa,{size:16,className:"text-blue-600"})," "]}),u.jsx("div",{className:"aspect-video bg-stone-50 rounded-2xl flex items-center justify-center text-stone-300 border border-stone-100",children:u.jsx(aa,{size:40,className:"text-blue-600 opacity-20"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>wn(""),disabled:ge||dt,className:"bg-blue-50 text-blue-600 px-3 py-2 rounded-xl text-[10px] font-black border border-blue-100 disabled:opacity-50 flex items-center gap-2",children:ge?u.jsx(ia,{size:12,className:"animate-spin"}):""}),u.jsx("button",{onClick:()=>wn(""),disabled:ge||dt,className:"bg-amber-50 text-amber-600 px-3 py-2 rounded-xl text-[10px] font-black border border-amber-100 disabled:opacity-50 flex items-center gap-2",children:ge?u.jsx(ia,{size:12,className:"animate-spin"}):""})]}),ce&&u.jsxs("div",{className:"mt-4 p-4 bg-stone-50 rounded-2xl border border-stone-100 space-y-3 animate-in fade-in",children:[u.jsx("p",{className:"text-[11px] font-medium text-stone-700 leading-relaxed whitespace-pre-wrap",children:ce.text}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ce.links.map((Te,it)=>u.jsxs("a",{href:Te.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 bg-white border border-stone-200 px-2.5 py-1.5 rounded-lg text-[10px] font-bold text-blue-600 hover:border-blue-300 transition-colors shadow-sm",children:[u.jsx(Dm,{size:10})," ",Te.title]},it))})]})]})]}),j==="tasks"&&u.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-sm overflow-hidden animate-in fade-in",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 bg-stone-50/50 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gd,{size:16,className:"text-emerald-500"}),u.jsx("h3",{className:"font-black text-xs uppercase tracking-widest",children:""})]}),!dt&&u.jsx("button",{onClick:()=>{const Te=prompt("");if(Te){const it={id:Date.now().toString(),title:Te,assignee:n.name,status:"Todo",priority:"Medium",dueDate:new Date().toISOString().split("T")[0]};l([it,...t.tasks||[]])}},className:"bg-stone-900 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-stone-800 transition-all active:scale-95",children:"+ "})]}),u.jsx("div",{className:"divide-y divide-stone-50",children:t.tasks&&t.tasks.length>0?t.tasks.map(Te=>u.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{disabled:dt,onClick:()=>{const it=Te.status==="Done"?"Todo":"Done";l(t.tasks.map(Lt=>Lt.id===Te.id?{...Lt,status:it}:Lt))},className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${Te.status==="Done"?"bg-emerald-500 border-emerald-500 text-white":"border-stone-300 text-transparent hover:border-emerald-400"}`,children:u.jsx(Ic,{size:12,strokeWidth:4})}),u.jsxs("div",{children:[u.jsx("p",{className:`text-sm font-bold text-stone-700 ${Te.status==="Done"?"line-through opacity-50":""}`,children:Te.title}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"text-[9px] bg-stone-100 text-stone-500 px-1.5 py-0.5 rounded uppercase",children:Te.assignee}),Te.dueDate&&u.jsxs("span",{className:"text-[9px] text-stone-400 flex items-center gap-1",children:[u.jsx(O0,{size:10})," ",Te.dueDate]})]})]})]}),!dt&&u.jsx("button",{onClick:()=>l(t.tasks.filter(it=>it.id!==Te.id)),className:"text-stone-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all px-2",children:u.jsx(Ni,{size:14})})]},Te.id)):u.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-stone-300 gap-4 opacity-50",children:[u.jsx(gd,{size:48}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})})]}),j==="schedule"&&u.jsx("div",{className:"space-y-6 animate-in fade-in",children:u.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 bg-stone-50/50 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(O0,{size:16,className:"text-blue-600"}),u.jsx("h3",{className:"font-black text-xs uppercase tracking-widest",children:""}),u.jsxs("button",{onClick:()=>xe(!0),className:"ml-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-2 py-1 rounded-lg text-[9px] font-black flex items-center gap-1",children:[u.jsx(Ui,{size:10})," AI "]})]}),!dt&&u.jsx("button",{onClick:()=>{const Te=prompt("");if(Te){const it={id:Date.now().toString(),name:Te,status:"Upcoming",progress:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]};C&&C([...t.phases||[],it])}},className:"bg-stone-900 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-stone-800 transition-all active:scale-95",children:"+ "})]}),u.jsx("div",{className:"p-6 space-y-6",children:t.phases&&t.phases.length>0?u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-stone-50/50 p-4 rounded-[2rem] border border-stone-100",children:[u.jsx("h4",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest mb-4 ml-2",children:""}),u.jsx(lct,{phases:t.phases})]}),u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h3",{className:"font-black text-stone-900 uppercase text-xs flex items-center gap-2",children:[u.jsx(O0,{size:16,className:"text-blue-600"})," "]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 bg-stone-50 px-3 py-1.5 rounded-xl border border-stone-100",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest mb-0.5",children:""}),u.jsx("input",{type:"date",value:ii,onChange:Te=>{const it=Te.target.value;if(Ki(it),t.phases&&t.phases.length>0&&it){const Lt=t.phases,sn=Lt.reduce((Rn,In)=>In.startDate<Rn?In.startDate:Rn,Lt[0].startDate),Fn=new Date(it).getTime()-new Date(sn).getTime();if(Fn!==0){const Rn=Lt.map(In=>{const si=new Date(In.startDate),gs=new Date(In.endDate);return{...In,startDate:new Date(si.getTime()+Fn).toISOString().split("T")[0],endDate:new Date(gs.getTime()+Fn).toISOString().split("T")[0]}});C(Rn)}}},className:"text-[10px] font-bold bg-transparent border-none outline-none p-0 text-stone-700 w-24"})]}),u.jsx("div",{className:"w-px h-6 bg-stone-200"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3 h-3 rounded flex items-center justify-center border transition-all ${qn?"bg-orange-600 border-orange-600":"bg-white border-stone-300"}`,children:qn&&u.jsx(Ic,{size:10,className:"text-white",strokeWidth:4})}),u.jsx("input",{type:"checkbox",checked:qn,onChange:Te=>Di(Te.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-stone-600",children:""})]})})]}),u.jsx("input",{type:"file",ref:rn,className:"hidden",accept:"image/*",onChange:Zt}),t.contractUrl?u.jsxs("button",{onClick:en,disabled:le,className:"bg-blue-600 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-100",children:[le?u.jsx(ia,{size:12,className:"animate-spin"}):u.jsx(Ui,{size:12})," (AI)"]}):u.jsxs("button",{onClick:()=>{var Te;return(Te=rn.current)==null?void 0:Te.click()},disabled:le||dt,className:"bg-stone-100 text-stone-600 px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-stone-200 transition-all flex items-center gap-2",children:[u.jsx(nh,{size:12})," / (AI)"]}),u.jsxs("button",{onClick:async()=>{xe(!0);try{const Te=await Wre(t);alert(Te.text)}catch{}finally{xe(!1)}},disabled:le||dt,className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-blue-100 transition-all flex items-center gap-2",children:[le?u.jsx(ia,{size:12,className:"animate-spin"}):u.jsx(Ui,{size:12}),"AI "]}),u.jsxs("button",{onClick:()=>{const Te=document.getElementById("gantt-chart-container"),it=Te==null?void 0:Te.querySelector("svg");if(it){const Rn=document.createElement("canvas"),In=Rn.getContext("2d");if(!In)return;Rn.width=2480,Rn.height=1754,In.fillStyle="white",In.fillRect(0,0,2480,1754);const si=new Image,gs=new Image;let ci=0;const Bs=()=>{var et;if(ci++,ci<2)return;const Na=120;In.drawImage(si,80,80,Na,Na),In.fillStyle="#1c1917",In.font='900 48px "Inter", sans-serif';const tc="";In.fillText(tc,240,135);const nc=In.measureText(tc).width;In.fillStyle="#78716c",In.font='800 28px "Inter", sans-serif',In.fillText("Quality of Life Development Corp. Taiwan",240,180,nc),In.strokeStyle="#e7e5e4",In.lineWidth=2,In.beginPath(),In.moveTo(80,240),In.lineTo(2400,240),In.stroke(),In.fillStyle="#1c1917",In.font='900 36px "Inter", sans-serif',In.fillText(`${t.name}`,80,305),In.font='700 24px "Inter", sans-serif',In.fillStyle="#44403c",In.fillText(`${t.id}`,80,345),In.fillText(`${((et=t.location)==null?void 0:et.address)||""}`,80,385);const il=440,Dl=1754-il-80,Lc=2320,{width:ai,height:Vo}=it.getBoundingClientRect(),vo=Lc/ai,Qo=Dl/Vo,sl=Math.min(vo,Qo,2.5),_t=ai*sl,J=Vo*sl;In.drawImage(gs,80,il,_t,J),In.fillStyle="#a8a29e",In.font='600 18px "Inter", sans-serif',In.textAlign="right",In.fillText(`${new Date().toLocaleDateString()}`,2400,1754-80/2);const We=document.createElement("a");We.download=`-${t.name}.jpg`,We.href=Rn.toDataURL("image/jpeg",.95),We.click()};si.onload=Bs,gs.onload=Bs,si.src="./pwa-icon.png";const hi=new XMLSerializer().serializeToString(it);gs.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(hi)))}else alert("")},className:"bg-stone-900 text-white px-3 py-1.5 rounded-xl text-[10px] font-black hover:bg-stone-700 transition-all flex items-center gap-2",children:[u.jsx(H4,{size:12})," "]})]})]}),u.jsx("div",{className:"space-y-6",children:t.phases.map(Te=>u.jsxs("div",{className:"space-y-2 group",children:[ea===Te.id?u.jsxs("div",{className:"flex flex-col gap-2 bg-stone-50 p-3 rounded-xl border border-stone-200",children:[u.jsx("input",{type:"text",defaultValue:Te.name,id:`edit-name-${Te.id}`,className:"text-xs font-bold bg-white border border-stone-200 rounded px-2 py-1 outline-none focus:border-blue-500",placeholder:""}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"date",defaultValue:Te.startDate,id:`edit-start-${Te.id}`,className:"text-[10px] bg-white border border-stone-200 rounded px-2 py-1 outline-none focus:border-blue-500"}),u.jsx("span",{className:"text-stone-400",children:"-"}),u.jsx("input",{type:"date",defaultValue:Te.endDate,id:`edit-end-${Te.id}`,className:"text-[10px] bg-white border border-stone-200 rounded px-2 py-1 outline-none focus:border-blue-500"}),u.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[u.jsx("button",{onClick:()=>{const it=document.getElementById(`edit-name-${Te.id}`),Lt=document.getElementById(`edit-start-${Te.id}`),sn=document.getElementById(`edit-end-${Te.id}`);it.value&&Lt.value&&sn.value&&(C(t.phases.map(Fn=>Fn.id===Te.id?{...Fn,name:it.value,startDate:Lt.value,endDate:sn.value}:Fn)),xi(null))},className:"p-1.5 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-colors",children:u.jsx(Ic,{size:14})}),u.jsx("button",{onClick:()=>xi(null),className:"p-1.5 bg-stone-100 text-stone-500 rounded-lg hover:bg-stone-200 transition-colors",children:u.jsx(ri,{size:14})})]})]})]}):u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-stone-700",children:[u.jsx("span",{children:Te.name}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-stone-400 text-[10px]",children:[Te.startDate," - ",Te.endDate]}),!dt&&u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>xi(Te.id),className:"p-1.5 hover:bg-blue-50 text-blue-400 hover:text-blue-600 rounded-lg transition-all",children:u.jsx(AR,{size:14})}),u.jsx("button",{onClick:()=>{confirm(`${Te.name}`)&&C(t.phases.filter(it=>it.id!==Te.id))},className:"p-1.5 hover:bg-rose-50 text-rose-400 hover:text-rose-600 rounded-lg transition-all",children:u.jsx(Ni,{size:14})})]})]})]}),u.jsx("div",{className:"h-2 bg-stone-100 rounded-full overflow-hidden relative cursor-pointer",onClick:()=>{if(!dt&&C){const it=prompt(" (0-100):",Te.progress.toString());if(it!==null){const Lt=Math.min(100,Math.max(0,parseInt(it)||0));C(t.phases.map(sn=>sn.id===Te.id?{...sn,progress:Lt,status:Lt===100?"Completed":Lt>0?"Current":"Upcoming"}:sn))}}},children:u.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${Te.status==="Completed"?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${Te.progress}%`}})})]},Te.id))})]}):u.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-stone-300 gap-3 opacity-50",children:[u.jsx(O0,{size:32}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})})]})}),j==="map"&&u.jsx("div",{className:"h-full overflow-hidden",children:u.jsx(cct,{address:((Lr=t.location)==null?void 0:Lr.address)||t.client||"",lat:(di=t.location)==null?void 0:di.lat,lng:(xo=t.location)==null?void 0:xo.lng,projectName:t.name})}),j==="prep"&&u.jsxs("div",{className:"p-4 lg:p-8 space-y-6 animate-in fade-in lg:overflow-y-auto no-scrollbar",children:[u.jsxs("div",{className:"flex justify-between items-center sm:bg-white/50 sm:p-4 sm:rounded-2xl",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black text-stone-900 leading-none mb-1",children:""}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("p",{className:"text-[10px] text-stone-500 font-bold uppercase tracking-widest",children:" /  / "}),t.contractUrl&&u.jsxs("a",{href:t.contractUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] bg-blue-50 text-blue-600 px-2 py-0.5 rounded-md font-black flex items-center gap-1 border border-blue-100 animate-pulse",children:[u.jsx(Dm,{size:10})," "]})]})]}),!dt&&u.jsxs("button",{onClick:async()=>{un(!0);try{const Te=await Jre(t);e.onUpdatePreConstruction({...t.preConstruction,...Te,updatedAt:new Date().toISOString()})}catch(Te){alert(`AI : ${Te.message||""}`)}finally{un(!1)}},disabled:yn,className:"px-5 py-2.5 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-black transition-all disabled:opacity-50 shadow-lg shadow-slate-100",children:[yn?u.jsx(ia,{size:14,className:"animate-spin"}):u.jsx(Ui,{size:14,className:"text-amber-400"}),yn?"AI ...":"AI "]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-stone-100 shadow-sm space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-50 text-orange-600 flex items-center justify-center shadow-inner",children:u.jsx(Ev,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-black text-stone-900 uppercase block",children:""}),u.jsx("span",{className:"text-[9px] text-stone-400 font-bold",children:"MATERIALS & TOOLS"})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("textarea",{readOnly:dt,className:`w-full min-h-[250px] bg-stone-50/30 border border-stone-100 rounded-[1.5rem] p-5 text-sm font-bold text-stone-700 outline-none focus:ring-4 focus:ring-orange-500/5 transition-all no-scrollbar leading-relaxed ${dt?"cursor-not-allowed opacity-80":""}`,placeholder:"AI ...",value:yr,onChange:Te=>Br(Te.target.value),onBlur:()=>e.onUpdatePreConstruction({...t.preConstruction,materialsAndTools:yr,updatedAt:new Date().toISOString()})}),dt&&u.jsx("div",{className:"absolute top-4 right-4 text-stone-300 pointer-events-none",children:u.jsx(p3,{size:16})})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-stone-100 shadow-sm space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-10 h-10 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center shadow-inner",children:u.jsx(_W,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-black text-stone-900 uppercase block",children:""}),u.jsx("span",{className:"text-[9px] text-stone-400 font-bold",children:"OFFICIAL NOTICE"})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("textarea",{readOnly:dt,className:`w-full min-h-[250px] bg-stone-50/30 border border-stone-100 rounded-[1.5rem] p-5 text-sm font-bold text-stone-700 outline-none focus:ring-4 focus:ring-blue-500/5 transition-all no-scrollbar leading-relaxed ${dt?"cursor-not-allowed opacity-80":""}`,placeholder:" AI ...",value:wi,onChange:Te=>Pe(Te.target.value),onBlur:()=>e.onUpdatePreConstruction({...t.preConstruction,notice:wi,updatedAt:new Date().toISOString()})}),dt&&u.jsx("div",{className:"absolute top-4 right-4 text-stone-300 pointer-events-none",children:u.jsx(p3,{size:16})})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-stone-100 shadow-sm space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center shadow-inner",children:u.jsx(Ile,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-black text-stone-900 uppercase block",children:""}),u.jsx("span",{className:"text-[9px] text-stone-400 font-bold",children:"SCOPE DRAWING / MAP"})]})]}),!dt&&u.jsxs("button",{onClick:()=>{var Te;return(Te=br.current)==null?void 0:Te.click()},className:"px-4 py-2 border border-emerald-100 text-emerald-600 bg-emerald-50/30 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-50 transition-all flex items-center gap-2",children:[u.jsx(nh,{size:14})," "]})]}),u.jsx("input",{type:"file",className:"hidden",ref:br,accept:"image/*,.pdf",multiple:!0,onChange:async Te=>{var Lt;const it=Array.from(Te.target.files||[]);if(it.length>0)try{const Fn=(await Promise.all(it.map(Rn=>av.uploadFile(Rn)))).filter(Rn=>!!Rn).map(Rn=>Rn.url);Fn.length>0&&e.onUpdatePreConstruction({...t.preConstruction,scopeDrawings:[...((Lt=t.preConstruction)==null?void 0:Lt.scopeDrawings)||[],...Fn],updatedAt:new Date().toISOString()})}catch(sn){alert(""),console.error(sn)}}}),(()=>{var it,Lt;const Te=[...(it=t.preConstruction)!=null&&it.scopeDrawingUrl?[t.preConstruction.scopeDrawingUrl]:[],...((Lt=t.preConstruction)==null?void 0:Lt.scopeDrawings)||[]];return Te.length>0?u.jsx("div",{className:"grid grid-cols-2 gap-4",children:Te.map((sn,Fn)=>{const Rn=String(sn||"");return u.jsxs("div",{className:"relative aspect-video rounded-[1.5rem] overflow-hidden border border-stone-100 group bg-stone-50",children:[Rn.toLowerCase().endsWith(".pdf")?u.jsxs("a",{href:Rn,target:"_blank",rel:"noopener noreferrer",className:"w-full h-full flex flex-col items-center justify-center text-stone-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",children:[u.jsx(ah,{size:32}),u.jsx("span",{className:"text-[10px] font-black mt-2 uppercase tracking-widest",children:"PDF "})]}):u.jsx("img",{src:Rn,alt:`-${Fn+1}`,className:"w-full h-full object-cover",onClick:()=>V({url:Rn,category:""})}),!dt&&u.jsx("button",{onClick:()=>{var gs,ci;if(!confirm(""))return;const In=(gs=t.preConstruction)==null?void 0:gs.scopeDrawingUrl;let si=[...((ci=t.preConstruction)==null?void 0:ci.scopeDrawings)||[]];Rn===In||String(In)===Rn?e.onUpdatePreConstruction({...t.preConstruction,scopeDrawingUrl:void 0,updatedAt:new Date().toISOString()}):(si=si.filter(Bs=>String(Bs)!==Rn),e.onUpdatePreConstruction({...t.preConstruction,scopeDrawings:si,updatedAt:new Date().toISOString()}))},className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-rose-500",children:u.jsx(ri,{size:14})})]},Fn)})}):u.jsxs("div",{className:"aspect-video bg-stone-50/50 rounded-[2rem] border-2 border-dashed border-stone-100 flex flex-col items-center justify-center text-stone-300 gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-3xl bg-white flex items-center justify-center shadow-sm",children:u.jsx(ML,{size:32,className:"opacity-20"})}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-50",children:""}),!dt&&u.jsx("button",{onClick:()=>{var sn;return(sn=br.current)==null?void 0:sn.click()},className:"text-[10px] font-black text-emerald-600 border-b border-emerald-600/30 pb-0.5 hover:border-emerald-600 transition-all",children:""})]})})()]})]}),j==="photos"&&u.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[!dt&&u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-stone-50 p-6 rounded-[2rem] border border-stone-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${Y?"bg-orange-100 text-orange-600 animate-spin":"bg-stone-200 text-stone-500 shadow-inner"}`,children:Y?u.jsx(Ui,{size:20}):u.jsx(xm,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[11px] font-black text-stone-900 uppercase tracking-widest leading-none mb-1",children:Y?"...":""}),u.jsx("p",{className:"text-[10px] text-stone-400 font-bold",children:Y?"":` ${(t.files||[]).length} `})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:ne,onChange:Te=>oe(Te.target.value),className:"appearance-none bg-white border border-stone-200 rounded-xl px-4 py-2 pr-10 text-[10px] font-black text-stone-700 outline-none focus:ring-2 focus:ring-orange-500/20 transition-all cursor-pointer",children:KC.filter(Te=>Te.id!=="all").map(Te=>u.jsx("option",{value:Te.id,children:Te.label},Te.id))}),u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-stone-400",children:u.jsx(Zv,{size:12})})]}),u.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",ref:hn,onChange:jt}),u.jsxs("button",{onClick:()=>{var Te;return(Te=hn.current)==null?void 0:Te.click()},disabled:Y,className:`flex-1 sm:flex-none px-6 py-2.5 rounded-xl text-[10px] font-black flex items-center justify-center gap-2 transition-all shadow-lg active:scale-95 ${Y?"bg-stone-100 text-stone-400":"bg-orange-600 text-white hover:bg-orange-700 shadow-orange-100"}`,children:[Y?u.jsx(md,{size:14,className:"animate-pulse"}):u.jsx(nh,{size:14}),Y?"...":""]})]})]}),u.jsx("div",{className:"flex overflow-x-auto no-scrollbar gap-2 pb-2",children:KC.map(Te=>u.jsxs("button",{onClick:()=>ke(Te.id),className:`shrink-0 px-4 py-2 rounded-xl text-[10px] font-black transition-all flex items-center gap-2 border ${Ce===Te.id?"bg-stone-900 text-white border-stone-900 shadow-lg":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[u.jsx(Te.icon,{size:14}),Te.label,u.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-md text-[8px] ${Ce===Te.id?"bg-white/20 text-white":"bg-stone-100 text-stone-400"}`,children:(Te.id==="all"?t.files||[]:(t.files||[]).filter(it=>it.category===Te.id)).length})]},Te.id))}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[(t.files||[]).filter(Te=>(Te.type==="image"||Te.type==="video")&&(Ce==="all"||Te.category===Ce)).map(Te=>u.jsxs("div",{className:"aspect-square bg-stone-100 rounded-2xl overflow-hidden relative group border border-stone-200 shadow-sm cursor-zoom-in",onClick:()=>V(Te),children:[Te.type==="video"?u.jsx("video",{src:Te.url,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onMouseOver:it=>it.target.play(),onMouseOut:it=>{it.target.pause(),it.target.currentTime=0},muted:!0,loop:!0}):u.jsx("img",{src:Te.url,alt:Te.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),Te.type==="video"&&u.jsxs("div",{className:"absolute top-2 left-2 bg-stone-900/60 backdrop-blur-md px-1.5 py-0.5 rounded text-[8px] text-white font-black flex items-center gap-1",children:[u.jsx(md,{size:8})," VIDEO"]}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("p",{className:"text-white text-[10px] font-bold truncate",children:Te.name}),u.jsx("p",{className:"text-white/60 text-[9px]",children:Te.uploadedAt?new Date(Te.uploadedAt).toLocaleDateString():""})]}),!dt&&y&&u.jsx("button",{onClick:it=>{it.stopPropagation(),confirm("")&&y(t.files.filter(Lt=>Lt.id!==Te.id))},className:"absolute top-2 right-2 p-1.5 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:u.jsx(Ni,{size:12})})]},Te.id)),!Y&&(t.files||[]).filter(Te=>(Te.type==="image"||Te.type==="video")&&(Ce==="all"||Te.category===Ce)).length===0&&u.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-stone-300 gap-4 opacity-50",children:[u.jsx(xm,{size:48}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),Y&&u.jsxs("div",{className:"aspect-square bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200 flex flex-col items-center justify-center gap-2 animate-pulse",children:[u.jsx(nh,{size:24,className:"text-stone-300"}),u.jsx("span",{className:"text-[8px] font-black text-stone-400 uppercase tracking-widest",children:"..."})]})]})]})]})]}),G&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-in fade-in duration-300",children:[u.jsx("button",{onClick:()=>V(null),className:"absolute top-6 right-6 text-white/40 hover:text-white transition-colors z-[110] bg-white/10 p-3 rounded-full hover:bg-white/20",children:u.jsx(ri,{size:24})}),lt.findIndex(Te=>Te.id===G.id||Te.url===G.url)>0&&u.jsx("button",{onClick:ot,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50 hover:text-white hover:bg-white/10 p-4 rounded-full transition-all z-[110]",children:u.jsx(BW,{size:40})}),lt.findIndex(Te=>Te.id===G.id||Te.url===G.url)<lt.length-1&&u.jsx("button",{onClick:Qt,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/50 hover:text-white hover:bg-white/10 p-4 rounded-full transition-all z-[110]",children:u.jsx(uh,{size:40})}),u.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center p-4 lg:p-12 animate-in zoom-in-95 duration-300",onMouseUp:Sn,onMouseLeave:Sn,children:[u.jsx("div",{className:"flex-1 w-full flex items-center justify-center min-h-0 overflow-hidden relative",children:G.type==="video"?u.jsx("video",{src:G.url,className:"max-w-full max-h-full rounded-2xl shadow-2xl",controls:!0,autoPlay:!0}):u.jsx("div",{className:"relative transition-transform duration-75 ease-out will-change-transform",style:{transform:`scale(${Ne}) translate3d(${Ye.x/Ne}px, ${Ye.y/Ne}px, 0)`,cursor:Ne>1?gt?"grabbing":"grab":"default"},onMouseDown:Cn,onMouseMove:Vn,onTouchStart:tr,onTouchMove:xn,onTouchEnd:Ht,children:u.jsx("img",{src:G.url,alt:G.name,className:"max-w-full max-h-[80vh] object-contain rounded-xl shadow-2xl pointer-events-none select-none",draggable:!1})})}),u.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4 z-[110]",children:[G.type!=="video"&&u.jsxs("div",{className:"flex items-center gap-4 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/10",children:[u.jsx("button",{onClick:bn,className:"text-white/70 hover:text-white transition-colors disabled:opacity-30",disabled:Ne<=1,children:u.jsx(Mue,{size:18})}),u.jsxs("span",{className:"text-xs font-black text-white w-12 text-center",children:[Math.round(Ne*100),"%"]}),u.jsx("button",{onClick:An,className:"text-white/70 hover:text-white transition-colors disabled:opacity-30",disabled:Ne>=3,children:u.jsx(G4,{size:18})})]}),u.jsxs("div",{className:"text-center space-y-3",children:[u.jsx("h3",{className:"text-white text-lg font-black tracking-tight drop-shadow-md",children:G.name}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[u.jsxs("p",{className:"text-white/60 text-[10px] font-black uppercase tracking-widest",children:[lt.findIndex(Te=>Te.id===G.id||Te.url===G.url)+1," / ",lt.length]}),u.jsx("span",{className:"w-1 h-1 bg-white/20 rounded-full"}),u.jsx("p",{className:"text-white/40 text-[10px] font-black uppercase tracking-widest",children:G.uploadedAt?new Date(G.uploadedAt).toLocaleString():""}),u.jsx("span",{className:"w-1 h-1 bg-white/20 rounded-full"}),!dt&&y&&G.category!==""?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"relative group/cat",children:[u.jsx("select",{value:G.category,onChange:Te=>{var sn;const it=Te.target.value,Lt=((sn=t.files)==null?void 0:sn.map(Fn=>Fn.id===G.id?{...Fn,category:it}:Fn))||[];y(Lt),V({...G,category:it})},className:"appearance-none bg-stone-800 text-orange-500 text-[10px] font-black uppercase tracking-widest border border-stone-700 rounded-xl px-4 py-1.5 pr-8 outline-none cursor-pointer hover:bg-stone-700 transition-all",children:KC.filter(Te=>Te.id!=="all").map(Te=>u.jsx("option",{value:Te.id,children:Te.label},Te.id))}),u.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-orange-500/50",children:u.jsx(Zv,{size:10})})]}),u.jsx("button",{onClick:()=>{confirm("")&&(y(t.files.filter(Te=>Te.id!==G.id)),V(null))},className:"p-2 bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white rounded-xl transition-all border border-rose-500/20",title:"",children:u.jsx(Ni,{size:14})})]}):u.jsx("p",{className:"text-orange-500 text-[10px] font-black uppercase tracking-widest",children:G.category===""?"":((li=KC.find(Te=>Te.id===G.category))==null?void 0:li.label)||""})]})]})]})]})]}),Qn&&u.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-600 rounded-3xl flex items-center justify-center mx-auto shadow-inner",children:u.jsx(nh,{size:32})}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-xl font-black text-slate-900",children:""}),u.jsxs("p",{className:"text-sm text-slate-500 font-bold leading-relaxed",children:["",kn,"",u.jsx("br",{}),""]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"file",className:"hidden",ref:ei,accept:"image/*,.pdf",onChange:async Te=>{var Lt;const it=(Lt=Te.target.files)==null?void 0:Lt[0];if(it)try{X(!0);const sn=await av.uploadFile(it);U(sn),kn&&d(kn),Hn(!1)}catch{alert("")}finally{X(!1)}}}),u.jsxs("button",{onClick:()=>{var Te;return(Te=ei.current)==null?void 0:Te.click()},disabled:Y,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-sm shadow-xl shadow-blue-100 flex items-center justify-center gap-3 hover:bg-blue-700 transition-all active:scale-95 disabled:opacity-50",children:[Y?u.jsx(ia,{size:18,className:"animate-spin"}):u.jsx(nh,{size:18}),Y?"...":""]}),u.jsx("button",{onClick:()=>{Hn(!1),kr(null)},disabled:Y,className:"w-full py-4 text-slate-400 font-bold text-sm hover:text-slate-600 transition-all",children:""})]})]}),u.jsx("div",{className:"bg-stone-50 px-8 py-4 text-center",children:u.jsx("p",{className:"text-[10px] text-stone-400 font-black uppercase tracking-widest",children:" AI "})})]})}),re&&u.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-[3rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"px-10 py-8 border-b border-stone-100 flex items-center justify-between bg-stone-50/50",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(ah,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:""}),u.jsxs("p",{className:"text-[10px] text-stone-400 font-bold uppercase tracking-widest",children:[t.name," | ",t.id]})]})]}),u.jsx("button",{onClick:()=>ee(!1),className:"w-10 h-10 rounded-full bg-stone-100 text-stone-400 flex items-center justify-center hover:bg-stone-200 hover:text-stone-900 transition-all",children:u.jsx(ri,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10 no-scrollbar",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"p-6 bg-stone-50 rounded-3xl border border-stone-100",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1",children:""}),u.jsxs("p",{className:"text-3xl font-black text-blue-600",children:[t.progress,"%"]}),u.jsx("div",{className:"mt-4 h-2 bg-stone-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${t.progress}%`}})})]}),u.jsxs("div",{className:"p-6 bg-stone-50 rounded-3xl border border-stone-100",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1",children:""}),u.jsx("p",{className:"text-2xl font-black text-slate-900",children:t.status}),u.jsxs("p",{className:"text-[10px] text-stone-400 font-bold mt-2",children:[": ",t.updatedAt?new Date(t.updatedAt).toLocaleDateString():""]})]}),u.jsxs("div",{className:"p-6 bg-stone-50 rounded-3xl border border-stone-100",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-1",children:""}),u.jsxs("p",{className:"text-lg font-black text-slate-900",children:[t.startDate," "]}),u.jsx("p",{className:"text-lg font-black text-slate-900",children:t.endDate})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-[0.2em] border-l-4 border-orange-500 pl-4",children:" (Financial Performance)"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase",children:""}),u.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["$",(En||0).toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase",children:""}),u.jsxs("p",{className:"text-lg font-black text-stone-400",children:["$",(t.budget||0).toLocaleString()]})]})]}),u.jsx("div",{className:"relative h-4 bg-stone-100 rounded-full overflow-hidden border border-stone-200",children:u.jsx("div",{className:`h-full transition-all duration-1000 ${En>t.budget?"bg-rose-500":"bg-emerald-500"}`,style:{width:`${Math.min(100,En/t.budget*100)}%`}})}),u.jsx("p",{className:"text-[9px] font-black text-stone-400 text-center uppercase tracking-widest",children:En>t.budget?" ":`: ${Math.round(En/t.budget*100)}%`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-5 bg-emerald-50 rounded-2xl border border-emerald-100 relative overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase",children:""}),u.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-[8px] font-black uppercase tracking-tighter ${Gn/(t.budget||1)>.3?"bg-emerald-500 text-white":Gn/(t.budget||1)>.15?"bg-amber-500 text-white":"bg-rose-500 text-white"}`,children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-white animate-pulse"}),Gn/(t.budget||1)>.3?"Safe":Gn/(t.budget||1)>.15?"Caution":"Critical"]})]}),u.jsxs("p",{className:"text-xl font-black text-emerald-700",children:["$",(Gn||0).toLocaleString()]})]}),u.jsxs("div",{className:"p-5 bg-blue-50 rounded-2xl border border-blue-100",children:[u.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase mb-1",children:""}),u.jsxs("p",{className:"text-xl font-black text-blue-700",children:[t.budget>0?Math.round(Gn/t.budget*100):0,"%"]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest border-b pb-2",children:" (Expense Breakdown)"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-stone-600",children:[u.jsx("span",{children:" ()"}),u.jsxs("span",{className:"font-black text-stone-900",children:["$",(Mt||0).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-stone-600",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"font-black text-stone-900",children:["$",(Gt||0).toLocaleString()]})]}),u.jsxs("div",{className:"pt-2 border-t flex justify-between items-center text-sm font-black text-stone-900",children:[u.jsx("span",{children:""}),u.jsxs("span",{children:["$",(En||0).toLocaleString()]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest border-b pb-2",children:" (Phase Status)"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-stone-600",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"font-black text-stone-900",children:[((ur=t.phases)==null?void 0:ur.length)||0," "]})]}),u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-stone-600",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"font-black text-emerald-600",children:[((Ji=t.phases)==null?void 0:Ji.filter(Te=>Te.status==="Completed").length)||0," "]})]}),u.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-stone-600",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"font-black text-blue-600",children:[((gr=t.phases)==null?void 0:gr.filter(Te=>Te.status==="In Progress").length)||0," "]})]})]})]})]}),u.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),u.jsxs("div",{className:"relative z-10 flex items-start gap-6",children:[u.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center text-blue-400 shrink-0",children:u.jsx(Ui,{size:24})}),u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"text-sm font-black tracking-tight",children:"AI "}),u.jsx("button",{onClick:async()=>{const Te=document.getElementById("ai-analyze-btn");Te&&(Te.innerHTML="...");try{const it=await YB(t),Lt=document.getElementById("ai-advice-text");Lt&&(Lt.innerHTML=it.text)}catch{alert("")}finally{Te&&(Te.innerHTML="")}},id:"ai-analyze-btn",className:"text-[9px] font-black uppercase tracking-widest bg-white/10 hover:bg-white/20 px-3 py-1 rounded-lg transition-all",children:""})]}),u.jsxs("div",{id:"ai-advice-text",className:"text-xs text-stone-300 leading-relaxed prose prose-invert prose-xs max-w-none",children:[" ",t.progress,"% ",t.budget>0?Math.round(En/t.budget*100):0,"% ",En>t.budget?"":Gn/(t.budget||1)<.2?"":""]})]})]})]})]}),u.jsxs("div",{className:"px-10 py-8 border-t border-stone-100 flex items-center justify-end gap-4 bg-stone-50/30",children:[u.jsxs("button",{onClick:()=>window.print(),className:"px-6 py-3 bg-white border border-stone-200 text-stone-700 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-stone-50 transition-all flex items-center gap-2",children:[u.jsx(H4,{size:14})," "]}),u.jsx("button",{onClick:()=>ee(!1),className:"px-8 py-3 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg",children:""})]})]})}),ie&&u.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-0 sm:p-4 animate-in fade-in duration-300 overflow-y-auto no-scrollbar",children:u.jsxs("div",{className:"bg-white w-full max-w-[210mm] min-h-screen sm:min-h-0 sm:rounded-[2.5rem] shadow-2xl relative flex flex-col print:shadow-none print:rounded-none",children:[u.jsxs("div",{className:"sticky top-0 z-[130] bg-white/80 backdrop-blur-md px-8 py-4 border-b border-stone-100 flex items-center justify-between print:hidden",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:u.jsx(u1,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest leading-none",children:""}),u.jsx("p",{className:"text-[10px] text-stone-400 font-bold mt-1",children:"Completion Report Preview"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>window.print(),className:"px-5 py-2.5 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-100 flex items-center gap-2",children:[u.jsx(H4,{size:14}),"  PDF"]}),u.jsx("button",{onClick:()=>ue(!1),className:"w-10 h-10 rounded-xl bg-stone-100 text-stone-400 flex items-center justify-center hover:bg-stone-200 hover:text-stone-900 transition-all",children:u.jsx(ri,{size:20})})]})]}),u.jsxs("div",{className:"flex-1 p-0 print:p-0",children:[u.jsxs("div",{className:"w-full aspect-[1/1.4142] p-16 flex flex-col items-center justify-between relative print:break-after-page",children:[u.jsxs("div",{className:"w-full text-center space-y-6 mt-12",children:[u.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-[0.2em]",children:(Mc=t.location)==null?void 0:Mc.address}),u.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-[0.1em]",children:t.name})]}),u.jsxs("div",{className:"relative w-96 h-96 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 border-[1px] border-stone-100 rounded-full"}),u.jsx("div",{className:"absolute inset-8 border-[1px] border-stone-200 rounded-full"}),u.jsxs("div",{className:"relative text-center space-y-4",children:[u.jsx("span",{className:"text-6xl font-black text-stone-800 tracking-[0.5em] block ml-4",children:""}),u.jsx("span",{className:"text-6xl font-black text-stone-800 tracking-[0.5em] block ml-4",children:""}),u.jsx("span",{className:"text-6xl font-black text-stone-800 tracking-[0.5em] block ml-4",children:""})]})]}),u.jsxs("div",{className:"w-full max-w-md space-y-4 pb-12",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4 border-b border-stone-100 pb-2",children:[u.jsx("span",{className:"text-stone-400 text-sm font-black uppercase tracking-widest",children:""}),u.jsx("span",{className:"col-span-2 text-stone-900 text-lg font-black tracking-widest",children:t.id})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 border-b border-stone-100 pb-2",children:[u.jsx("span",{className:"text-stone-400 text-sm font-black uppercase tracking-widest",children:""}),u.jsx("span",{className:"col-span-2 text-stone-900 text-sm font-black",children:""})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 border-b border-stone-100 pb-2",children:[u.jsx("span",{className:"text-stone-400 text-sm font-black uppercase tracking-widest",children:""}),u.jsx("span",{className:"col-span-2 text-stone-900 text-sm font-black text-lg",children:""})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 border-b border-stone-100 pb-2",children:[u.jsx("span",{className:"text-stone-400 text-sm font-black uppercase tracking-widest",children:""}),u.jsx("span",{className:"col-span-2 text-stone-900 text-sm font-black text-lg",children:t.engineeringManager})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx("span",{className:"text-stone-400 text-sm font-black uppercase tracking-widest",children:""}),u.jsx("span",{className:"col-span-2 text-stone-900 text-sm font-black",children:"0986-909157 / 0910-929-597"})]})]}),u.jsxs("div",{className:"absolute bottom-12 right-12 flex items-center gap-3",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-900 uppercase",children:""}),u.jsx("p",{className:"text-[8px] text-stone-400 font-bold uppercase tracking-tighter",children:"Jiekai Affiliated Companies"})]}),u.jsx("img",{src:"./pwa-icon.png",className:"w-8 h-8 opacity-50 contrast-125",alt:"Logo"})]})]}),u.jsxs("div",{className:"w-full aspect-[1/1.4142] p-24 flex flex-col relative print:break-after-page",children:[u.jsx("h3",{className:"text-3xl font-black text-slate-900 text-center mb-24 tracking-[0.5em] ml-4",children:""}),u.jsx("div",{className:"space-y-8 flex-1 max-w-2xl mx-auto w-full",children:[{label:"",page:"2"},{label:"",page:"3"},{label:"",page:"10"},{label:"",page:"12"},{label:"",page:"24"},{label:"",page:"34"}].map((Te,it)=>u.jsxs("div",{className:"flex items-end gap-2 group",children:[u.jsx("span",{className:"text-lg font-black text-slate-900 shrink-0",children:Te.label}),u.jsx("div",{className:"flex-1 border-b-[1.5px] border-dotted border-stone-300 mb-1.5 transition-colors group-hover:border-stone-900"}),u.jsx("span",{className:"text-lg font-black text-slate-900 shrink-0 font-mono",children:Te.page})]},it))}),u.jsx("div",{className:"mt-auto flex justify-center pb-12",children:u.jsx("img",{src:"./pwa-icon.png",className:"w-10 h-10 opacity-20",alt:"Logo"})})]}),Array.from({length:Math.ceil(Qe.filter(Te=>Te.category==="construction").length/2)}).map((Te,it)=>{const Lt=Qe.filter(sn=>sn.category==="construction").slice(it*2,it*2+2);return u.jsxs("div",{className:"w-full aspect-[1/1.4142] p-20 flex flex-col relative print:break-after-page border-t sm:border-t-0 border-stone-100",children:[u.jsx("h3",{className:"text-2xl font-black text-slate-900 text-center mb-12 tracking-widest",children:""}),u.jsx("div",{className:"flex-1 flex flex-col gap-12",children:Lt.map((sn,Fn)=>u.jsxs("div",{className:"flex-1 flex flex-col border border-slate-200 rounded-lg overflow-hidden bg-stone-50/30",children:[u.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center p-2",children:u.jsx("img",{src:sn.url,className:"max-w-full max-h-full object-contain shadow-sm",alt:sn.name})}),u.jsx("div",{className:"bg-white px-8 py-5 border-t border-slate-100 text-center",children:u.jsx("p",{className:"text-sm font-black text-slate-800",children:sn.name.replace(/\.[^/.]+$/,"")})})]},Fn))}),u.jsxs("div",{className:"mt-8 flex justify-between items-center opacity-40",children:[u.jsx("span",{className:"text-[10px] font-black",children:it+3}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:"Jiekai Affiliated Companies"}),u.jsx("img",{src:"./pwa-icon.png",className:"w-6 h-6",alt:"Logo"})]})]})]},it)}),u.jsxs("div",{className:"w-full aspect-[1/1.4142] p-20 flex flex-col relative print:break-after-page border-t sm:border-t-0 border-stone-100",children:[u.jsxs("div",{className:"flex-1 border-[1.5px] border-stone-800 p-12 flex flex-col space-y-10",children:[u.jsx("h3",{className:"text-4xl font-black text-slate-900 text-center tracking-[0.5em] mb-12 underline underline-offset-8",children:""}),u.jsxs("div",{className:"space-y-6 text-base font-bold text-slate-800",children:[u.jsxs("p",{children:["",t.name]}),u.jsxs("p",{children:["",(mr=t.location)==null?void 0:mr.address]}),u.jsx("p",{children:""}),u.jsx("p",{children:""}),u.jsxs("div",{className:"pt-4 leading-relaxed space-y-4",children:[u.jsx("p",{children:""}),u.jsx("p",{className:"pl-12",children:""}),u.jsx("p",{className:"pl-12",children:""}),u.jsx("p",{className:"pl-12",children:""}),u.jsx("p",{className:"pl-12",children:"("}),u.jsx("p",{className:"pl-12",children:")"}),u.jsx("p",{className:"pl-12",children:""})]})]}),u.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-8 pt-12",children:[u.jsxs("div",{className:"space-y-3 text-sm font-black text-slate-900",children:[u.jsx("p",{children:""}),u.jsx("p",{children:""}),u.jsxs("p",{children:["  ",t.engineeringManager]}),u.jsx("p",{children:" 71-7  5  9"}),u.jsx("p",{children:"60618756"}),u.jsx("p",{children:"02-2242-1955 02-2242-1905"})]}),u.jsx("div",{className:"relative flex flex-col items-center justify-center",children:u.jsxs("div",{className:"w-48 h-48 border-2 border-dashed border-rose-200 rounded-2xl flex items-center justify-center relative overflow-hidden group",children:[u.jsxs("div",{className:"text-[10px] text-rose-300 font-black text-center group-hover:text-rose-400 transition-colors",children:[u.jsx("p",{children:""}),u.jsx("p",{className:"mt-1",children:""})]}),u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-20 pointer-events-none",children:[u.jsx("div",{className:"w-24 h-24 border-4 border-rose-600 rounded flex items-center justify-center text-rose-600 font-black text-xs rotate-12",children:""}),u.jsx("div",{className:"w-12 h-12 border-2 border-rose-600 rounded flex items-center justify-center text-rose-600 font-black text-[8px] -rotate-12 absolute bottom-4 right-4",children:""})]})]})})]}),u.jsxs("div",{className:"flex justify-between items-end pt-12",children:[u.jsxs("div",{className:"flex gap-4 text-xl font-black text-slate-900 tracking-widest",children:[u.jsx("span",{children:""}),u.jsx("span",{children:""}),u.jsx("span",{children:""}),u.jsx("span",{children:""}),u.jsx("span",{className:"w-12 border-b-2 border-stone-800 text-center",children:""}),u.jsx("span",{children:""}),u.jsx("span",{className:"w-8 border-b-2 border-stone-800 text-center",children:""}),u.jsx("span",{children:""}),u.jsx("span",{className:"w-8 border-b-2 border-stone-800 text-center",children:""}),u.jsx("span",{children:""})]}),u.jsxs("div",{className:"flex items-center gap-3 opacity-60 scale-75 origin-right",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-900 uppercase",children:""}),u.jsx("p",{className:"text-[8px] text-stone-400 font-bold uppercase tracking-tighter",children:"Jiekai Affiliated Companies"})]}),u.jsx("img",{src:"./pwa-icon.png",className:"w-8 h-8",alt:"Logo"})]})]})]}),u.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-[10px] font-black text-stone-300",children:"10"})]}),u.jsx("div",{className:"w-full aspect-[1/1.4142] p-16 flex flex-col relative print:break-after-page border-t sm:border-t-0 border-stone-100",children:u.jsxs("div",{className:"border-[1.5px] border-stone-900 h-full p-8 flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h3",{className:"text-2xl font-black text-slate-900",children:""}),u.jsx("p",{className:"text-stone-500 font-bold text-[10px] tracking-widest",children:"QUOTATION SUMMARY"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm font-black",children:""}),u.jsx("p",{className:"text-[8px] text-stone-500",children:"5007"}),u.jsx("p",{className:"text-[8px] text-stone-500",children:"TEL: 02-2242-1955"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-y-4 mb-8 text-[11px] font-bold text-slate-700",children:[u.jsxs("p",{children:["",t.id]}),u.jsxs("p",{className:"text-right font-black",children:["Date: ",new Date().toLocaleDateString()]}),u.jsxs("p",{className:"col-span-2",children:["",t.name]}),u.jsxs("p",{className:"col-span-2",children:["",((Bn=t.location)==null?void 0:Bn.address)||""]})]}),u.jsx("div",{className:"flex-1 border-t border-stone-900",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-stone-900 text-[10px] font-black uppercase tracking-widest",children:[u.jsx("th",{className:"py-2 px-1",children:""}),u.jsx("th",{className:"py-2 px-1",children:""}),u.jsx("th",{className:"py-2 px-1",children:""}),u.jsx("th",{className:"py-2 px-1 text-right",children:""})]})}),u.jsx("tbody",{className:"text-[10px] font-bold",children:(t.phases||[]).map((Te,it)=>{var Lt;return u.jsxs("tr",{className:"border-b border-stone-100",children:[u.jsx("td",{className:"py-2 px-1 text-stone-400",children:it+1}),u.jsx("td",{className:"py-2 px-1 text-slate-800",children:Te.name}),u.jsx("td",{className:"py-2 px-1 text-stone-500",children:""}),u.jsxs("td",{className:"py-2 px-1 text-right font-black",children:["$",((t.budget||0)/(((Lt=t.phases)==null?void 0:Lt.length)||1)).toLocaleString()]})]},it)})})]})}),u.jsxs("div",{className:"space-y-1 mt-8 border-t-[1.5px] border-stone-900 pt-6",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm font-black",children:[u.jsx("span",{className:"text-stone-400",children:""}),u.jsxs("span",{children:["$",Math.round((t.budget||0)/1.05).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm font-black",children:[u.jsx("span",{className:"text-stone-400",children:" 5%"}),u.jsxs("span",{children:["$",Math.round((t.budget||0)-(t.budget||0)/1.05).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center text-xl font-black pt-4",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"text-emerald-600",children:["$",(t.budget||0).toLocaleString()]})]})]})]})})]})]})}),Me&&u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"bg-[#2c3e50] p-6 text-white flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-black tracking-tight flex items-center gap-2",children:[u.jsx(Mo,{size:18})," "]}),u.jsx("p",{className:"text-[10px] font-medium opacity-80 mt-1",children:""})]}),u.jsx("button",{onClick:()=>He(null),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(ri,{size:20})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsx("input",{readOnly:!0,value:Me.memberName,className:"w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold text-stone-500"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsx("input",{type:"date",value:Me.date,onChange:Te=>He({...Me,date:Te.target.value}),className:"w-full bg-white border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold focus:ring-2 focus:ring-[#2c3e50] outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:" ()"}),u.jsx("input",{type:"number",step:"0.5",value:Me.days,onChange:Te=>He({...Me,days:Number(Te.target.value)}),className:"w-full bg-white border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold focus:ring-2 focus:ring-[#2c3e50] outline-none"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:" (TWD)"}),u.jsx("input",{type:"number",value:Me.wagePerDay,onChange:Te=>He({...Me,wagePerDay:Number(Te.target.value)}),className:"w-full bg-white border border-stone-200 rounded-xl px-4 py-3 text-sm font-bold focus:ring-2 focus:ring-[#2c3e50] outline-none"})]}),u.jsxs("label",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-100 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",checked:Me.isSpiderMan||!1,onChange:Te=>{const it=Te.target.checked,Lt=e.teamMembers.find(Rn=>Rn.name===Me.memberName),sn=(Lt==null?void 0:Lt.spiderManAllowance)||0;let Fn=Number(Me.wagePerDay)||0;it?Fn+=sn:Fn-=sn,He({...Me,isSpiderMan:it,wagePerDay:Fn})},className:"w-5 h-5 rounded border-blue-300 text-blue-600 focus:ring-blue-600 transition-colors"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-sm font-black text-blue-900 group-hover:text-blue-700 transition-colors",children:"  ()"}),u.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[u.jsx("p",{className:"text-[10px] text-blue-600",children:""}),(()=>{const Te=e.teamMembers.find(Lt=>Lt.name===Me.memberName),it=(Te==null?void 0:Te.spiderManAllowance)||0;return it>0?u.jsxs("span",{className:"text-[10px] font-bold text-blue-700 bg-blue-100 px-1.5 py-0.5 rounded",children:[": +$",it]}):null})()]})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:()=>He(null),className:"flex-1 px-4 py-3 rounded-xl font-bold text-stone-500 hover:bg-stone-50 transition-colors",children:""}),u.jsx("button",{onClick:()=>ca(Me),className:"flex-1 px-4 py-3 bg-[#2c3e50] text-white rounded-xl font-bold shadow-lg shadow-blue-900/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:""})]})]})]})})]})},jse=({onScan:e,onClose:t})=>{const[n,r]=B.useState(null),[i,s]=B.useState(!1),[a,o]=B.useState(null),[l,c]=B.useState(null),d=B.useRef(null),f=y=>{var T;const C=(T=y.target.files)==null?void 0:T[0];if(C){const k=new FileReader;k.onloadend=()=>{const R=k.result;r(R),c(null),o(null)},k.readAsDataURL(C)}},p=async()=>{if(n){s(!0),c(null);try{const y=n.split(",")[1],C=await $re(y);C&&(C.name||C.contactPerson)?o(C):c("")}catch(y){console.error("Scan error:",y),c("AI ")}finally{s(!1)}}},m=()=>{a&&(e(a),t())},w=(y,C)=>{o(T=>({...T,[y]:C}))};return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300 overflow-y-auto",children:u.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 my-auto",children:[u.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-100",children:u.jsx(_2,{size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-black text-slate-900 leading-tight",children:"AI "}),u.jsx("p",{className:"text-xs font-bold text-slate-400 mt-0.5",children:""})]})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:20})})]}),u.jsx("div",{className:"p-6 sm:p-8",children:n?a?u.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto no-scrollbar pr-1",children:[u.jsxs("div",{className:"bg-indigo-50 p-4 rounded-2xl border border-indigo-100 flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white rounded-xl text-indigo-600 shadow-sm",children:u.jsx(Ic,{size:20})}),u.jsx("p",{className:"text-xs font-black text-indigo-900 uppercase tracking-widest",children:""})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{key:"name",label:" / ",icon:Cf},{key:"contactPerson",label:"",icon:Pu},{key:"occupation",label:"",icon:vm},{key:"phone",label:"",icon:c1},{key:"email",label:"Email",icon:zw},{key:"address",label:"",icon:aa}].map(y=>u.jsxs("div",{className:"space-y-1.5",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 ml-1",children:y.label}),u.jsx("div",{className:"relative group",children:u.jsx("input",{type:"text",value:a[y.key]||"",onChange:C=>w(y.key,C.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-xs font-bold text-slate-900 outline-none focus:ring-2 focus:ring-indigo-500/20 shadow-sm"})})]},y.key))}),u.jsxs("div",{className:"flex gap-4 pt-4 pb-2",children:[u.jsx("button",{onClick:()=>o(null),className:"flex-1 px-6 py-4 rounded-2xl border border-slate-200 text-slate-400 font-black text-xs uppercase tracking-widest hover:bg-slate-50 transition-all",children:""}),u.jsx("button",{onClick:m,className:"flex-[2] bg-slate-900 hover:bg-black text-white px-6 py-4 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-xl shadow-slate-200 active:scale-95 font-black text-sm uppercase tracking-widest",children:""})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"relative rounded-3xl overflow-hidden border border-slate-100 shadow-inner bg-slate-50 aspect-[1.6/1] flex items-center justify-center",children:[u.jsx("img",{src:n,alt:"Preview",className:"max-h-full max-w-full object-contain"}),i&&u.jsxs("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-[4px] flex flex-col items-center justify-center gap-4 animate-in fade-in",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ia,{size:48,className:"text-indigo-600 animate-spin"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(Ui,{size:20,className:"text-indigo-600"})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-black text-indigo-900 animate-pulse tracking-widest uppercase",children:"AI ..."}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 mt-1 uppercase tracking-tighter",children:""})]})]})]}),l&&u.jsxs("div",{className:"p-4 bg-rose-50 border border-rose-100 rounded-2xl flex items-start gap-3 text-rose-600 animate-in shake duration-500",children:[u.jsx(xh,{size:18,className:"shrink-0 mt-0.5"}),u.jsx("p",{className:"text-xs font-bold leading-relaxed",children:l})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>r(null),disabled:i,className:"flex-1 px-6 py-4 rounded-2xl border border-slate-200 text-slate-400 font-black text-xs uppercase tracking-widest hover:bg-slate-50 transition-all disabled:opacity-50",children:""}),u.jsxs("button",{onClick:p,disabled:i,className:"flex-[2] bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-4 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-xl shadow-indigo-100 active:scale-95 font-black text-sm uppercase tracking-widest disabled:opacity-50",children:[i?u.jsx(ia,{size:20,className:"animate-spin"}):u.jsx(_2,{size:20}),u.jsx("span",{children:i?"...":""})]})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{onClick:()=>{var y;return(y=d.current)==null?void 0:y.click()},className:"border-2 border-dashed border-slate-200 rounded-[2.5rem] p-12 flex flex-col items-center justify-center gap-4 hover:border-indigo-400 hover:bg-indigo-50/30 transition-all cursor-pointer group",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-300 group-hover:text-indigo-500 group-hover:scale-110 transition-all shadow-inner",children:u.jsx(c1,{size:32})}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-black text-slate-600 uppercase tracking-widest",children:""}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase tracking-tighter",children:" JPG / PNG / HEIC"})]})]}),u.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",capture:"environment",onChange:f})]})})]})})},fct=({onClose:e,onConfirm:t,initialData:n})=>{var y;const[r,i]=B.useState("basic"),[s,a]=B.useState(!1),[o,l]=B.useState(""),[c,d]=B.useState({name:"",contactPerson:"",secondaryContact:"",phone:"",landline:"",fax:"",secondaryPhone:"",email:"",address:"",type:"",taxId:"",birthday:"",occupation:"",source:"",lineId:"",preferredContactMethod:"Phone",notes:"",tags:[]});B.useEffect(()=>{n&&d({...n,tags:n.tags||[]})},[n]);const f=C=>{C.preventDefault(),c.name&&t(c)},p=C=>{var T;C.key==="Enter"&&o.trim()&&(C.preventDefault(),(T=c.tags)!=null&&T.includes(o.trim())||d({...c,tags:[...c.tags||[],o.trim()]}),l(""))},m=C=>{var T;d({...c,tags:(T=c.tags)==null?void 0:T.filter(k=>k!==C)})},w=[{id:"basic",label:"",icon:Cd},{id:"contact",label:"",icon:L2},{id:"crm",label:"",icon:LW}];return u.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:[u.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"px-8 py-6 bg-slate-900 flex justify-between items-center text-white",children:[u.jsxs("h2",{className:"font-bold flex items-center gap-3 text-lg",children:[u.jsx(Pu,{className:"text-blue-400"}),n?"":""]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>a(!0),className:"group flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all border border-blue-100 font-black text-xs",children:[u.jsx(_2,{size:16,className:"group-hover:rotate-12 transition-transform"}),u.jsx("span",{children:"AI "})]}),u.jsx("button",{onClick:e,className:"p-2.5 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:24})})]})]}),u.jsx("div",{className:"bg-white border-b border-slate-100 flex overflow-x-auto no-scrollbar",children:w.map(C=>u.jsxs("button",{type:"button",onClick:()=>i(C.id),className:`flex-1 py-4 px-2 flex flex-col items-center gap-2 transition-all relative min-w-[80px] ${r===C.id?"text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:[u.jsx(C.icon,{size:20,className:r===C.id?"text-blue-500":""}),u.jsx("span",{className:"text-sm font-black uppercase tracking-tight",children:C.label}),r===C.id&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-500 rounded-t-full"})]},C.id))}),u.jsxs("form",{onSubmit:f,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto no-scrollbar",children:[r==="basic"&&u.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"/ *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Cd,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:c.name,onChange:C=>d({...c,name:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Pu,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:c.contactPerson,onChange:C=>d({...c,contactPerson:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(HW,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:c.secondaryContact||"",onChange:C=>d({...c,secondaryContact:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("select",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold appearance-none",value:c.type,onChange:C=>d({...c,type:C.target.value}),children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:"/"}),u.jsx("option",{value:"",children:"/"}),u.jsx("option",{value:"",children:""})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Rle,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:c.taxId,onChange:C=>d({...c,taxId:C.target.value})})]})]})]})}),r==="contact"&&u.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" () *"}),u.jsxs("div",{className:"relative",children:[u.jsx(L2,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.phone,onChange:C=>d({...c,phone:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" / "}),u.jsxs("div",{className:"relative",children:[u.jsx(Zc,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.landline||"",onChange:C=>d({...c,landline:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(WE,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.fax||"",onChange:C=>d({...c,fax:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Zc,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.secondaryPhone||"",onChange:C=>d({...c,secondaryPhone:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Line ID"}),u.jsxs("div",{className:"relative",children:[u.jsx(zw,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.lineId||"",onChange:C=>d({...c,lineId:C.target.value})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(QE,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"email",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.email,onChange:C=>d({...c,email:C.target.value})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(aa,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.address,onChange:C=>d({...c,address:C.target.value})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Phone","Email","Line"].map(C=>u.jsx("button",{type:"button",onClick:()=>d({...c,preferredContactMethod:C}),className:`py-3 rounded-2xl text-xs font-bold border transition-all ${c.preferredContactMethod===C?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-100":"bg-white border-slate-200 text-slate-500 hover:border-blue-200"}`,children:C==="Phone"?"":C==="Email"?"":"Line"},C))})]})]})}),r==="crm"&&u.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Du,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"date",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.birthday||"",onChange:C=>d({...c,birthday:C.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"/"}),u.jsxs("div",{className:"relative",children:[u.jsx(UW,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{placeholder:"Facebook, , ",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.source||"",onChange:C=>d({...c,source:C.target.value})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Cf,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{placeholder:"",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:c.occupation||"",onChange:C=>d({...c,occupation:C.target.value})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" (Enter )"}),u.jsxs("div",{className:"relative",children:[u.jsx(tw,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-bold",value:o,onChange:C=>l(C.target.value),onKeyDown:p,placeholder:", , VIP"})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:(y=c.tags)==null?void 0:y.map(C=>u.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-lg text-[10px] font-black flex items-center gap-1 border border-blue-100",children:[C,u.jsx("button",{type:"button",onClick:()=>m(C),className:"hover:text-rose-500 transition-colors",children:u.jsx(ri,{size:12})})]},C))})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" ()"}),u.jsx("textarea",{className:"w-full bg-slate-50 border border-slate-200 rounded-[1.5rem] p-5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-medium text-sm min-h-[120px] resize-none",placeholder:"...",value:c.notes||"",onChange:C=>d({...c,notes:C.target.value})})]})]})}),u.jsxs("div",{className:"pt-8 flex gap-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 py-4 text-slate-400 font-bold hover:text-slate-600 transition-colors",children:""}),u.jsxs("button",{type:"submit",className:"flex-[2] bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-2xl shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(Xp,{size:20}),""]})]})]})]}),s&&u.jsx(jse,{onClose:()=>a(!1),onScan:C=>{d(T=>({...T,name:C.name||T.name,contactPerson:C.contactPerson||T.contactPerson,occupation:C.occupation||T.occupation,phone:C.phone||T.phone,landline:C.landline||T.landline,fax:C.fax||T.fax,email:C.email||T.email,address:C.address||T.address,lineId:C.lineId||T.lineId,taxId:C.taxId||T.taxId})),i("basic")}})]})},cR=[{id:"DEPT-1",name:"",color:"#6366f1",manager:""},{id:"DEPT-2",name:"",color:"#64748b",manager:""},{id:"DEPT-3",name:"",color:"#0284c7",manager:""},{id:"DEPT-4",name:" ",color:"#16a34a",manager:""},{id:"DEPT-5",name:"",color:"#8b5cf6",manager:""},{id:"DEPT-6",name:"",color:"#ea580c",manager:""},{id:"DEPT-7",name:"",color:"#ec4899",manager:""},{id:"DEPT-8",name:" ",color:"#0ea5e9",manager:""},{id:"DEPT-9",name:" ",color:"#a855f7",manager:""}],o3=[{id:"BNI2024001",departmentId:"DEPT-6",name:"290",category:"",source:"BNI",client:"",referrer:"",manager:"",startDate:"2024-01-05",endDate:"2024-03-05",createdDate:"2024-01-05",budget:0,spent:0,progress:0,status:hr.COMPLETED,tasks:[],phases:[],financials:{labor:40,material:30,subcontractor:20,other:10}},{id:"BNI2025002",departmentId:"DEPT-6",name:"11",category:"",source:"BNI",client:"",referrer:"",manager:"",startDate:"2025-01-05",endDate:"2025-03-10",createdDate:"2025-01-05",budget:0,spent:0,progress:0,status:hr.COMPLETED,tasks:[],phases:[],financials:{labor:40,material:30,subcontractor:20,other:10}},{id:"JW2601003",departmentId:"DEPT-6",name:"2416",category:"",source:"JW",client:"",referrer:"",manager:"",startDate:"2026-01-05",endDate:"2026-04-15",createdDate:"2026-01-05",budget:0,spent:0,progress:0,status:hr.NEGOTIATING,tasks:[],phases:[],financials:{labor:40,material:30,subcontractor:20,other:10}},{id:"BNI2601004",departmentId:"DEPT-6",name:"19040",category:"",source:"BNI",client:"",referrer:"",manager:"",startDate:"2026-01-05",endDate:"",createdDate:"2026-01-05",budget:0,spent:0,progress:0,status:hr.NEGOTIATING,tasks:[],phases:[],financials:{labor:40,material:30,subcontractor:20,other:10}},{id:"OC2601005",departmentId:"DEPT-6",name:"",category:"",source:"",client:"",referrer:"",manager:"",startDate:"2026-01-05",endDate:"",createdDate:"2026-01-05",budget:0,spent:0,progress:0,status:hr.NEGOTIATING,tasks:[],phases:[],financials:{labor:40,material:30,subcontractor:20,other:10}},{id:"CORP2601002",departmentId:"DEPT-6",name:"",category:"",source:"",client:"",referrer:"",manager:"",startDate:"2026-02-15",endDate:"2026-08-20",createdDate:"2026-01-20",budget:88e5,spent:21e5,progress:15,status:hr.CONSTRUCTING,tasks:[],phases:[],financials:{labor:25,material:55,subcontractor:15,other:5}}],Act=[],pct=({onClose:e,onConfirm:t,initialData:n,currentUser:r})=>{var re,ee,ie,ue,le,xe,ge,fe,ce,Q,Y;const i=["","","","","","","","","","","","","","","",""],s=B.useRef(null),[a,o]=B.useState(!1),[l,c]=B.useState("basic"),[d,f]=B.useState(""),[p,m]=B.useState(""),[w,y]=B.useState(""),[C,T]=B.useState({employeeId:"",password:"",name:"",role:"",phone:"",personalPhone:"",email:"",specialty:[],certifications:[],status:"Available",avatar:`https://picsum.photos/seed/${Math.random()}/200/200`,activeProjectsCount:0,departmentId:"DEPT-1",systemRole:"Staff"});B.useEffect(()=>{n&&T({...n,accessibleModules:n.accessibleModules||op})},[n]);const k=()=>{var X;return(X=s.current)==null?void 0:X.click()},R=X=>{var oe;const ne=(oe=X.target.files)==null?void 0:oe[0];if(ne){if(ne.size>2*1024*1024)return alert(" 2MB ");o(!0);const Ce=new FileReader;Ce.onloadend=()=>{T(ke=>({...ke,avatar:Ce.result})),o(!1)},Ce.readAsDataURL(ne)}},P=X=>{X.preventDefault(),!(!C.name||!C.employeeId)&&t(C)},U=r.role==="SuperAdmin",O=r.role==="DeptAdmin",L=r.roleName==="",K=[{id:"basic",label:"",icon:Pu,visible:!0},{id:"hr",label:"",icon:Du,visible:U||O||L},{id:"pro",label:"",icon:Soe,visible:U||O||L},{id:"payroll",label:"",icon:Zle,visible:U||O||L},{id:"perm",label:"",icon:jL,visible:U}].filter(X=>X.visible);B.useEffect(()=>{K.find(X=>X.id===l)||c("basic")},[l,K]);const j=U,te=U||L,G=U||l==="payroll"&&L,V=X=>{window.location.href=`tel:${X}`};return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"px-8 py-6 bg-stone-900 flex justify-between items-center text-white",children:[u.jsxs("h2",{className:"font-bold flex items-center gap-3 text-lg",children:[u.jsx(M2,{className:"text-orange-500"}),n?"":" (Admin)"]}),u.jsx("button",{onClick:e,className:"opacity-40 hover:opacity-100 transition-opacity",children:u.jsx(ri,{size:24})})]}),u.jsx("div",{className:"bg-white border-b border-slate-100 flex overflow-x-auto no-scrollbar",children:K.map(X=>u.jsxs("button",{type:"button",onClick:()=>c(X.id),className:`flex-1 py-4 px-2 flex flex-col items-center gap-1.5 transition-all relative min-w-[80px] ${l===X.id?"text-black":"text-slate-400 hover:text-slate-600"}`,children:[u.jsx(X.icon,{size:18,className:l===X.id?"text-orange-500":""}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:X.label}),l===X.id&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-orange-500 rounded-t-full"})]},X.id))}),u.jsxs("form",{onSubmit:P,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto no-scrollbar",children:[l==="basic"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[u.jsxs("div",{onClick:k,className:`relative group ${j?"cursor-pointer":"cursor-default"}`,children:[u.jsx("img",{src:C.avatar,className:"w-28 h-28 rounded-3xl object-cover border-4 border-slate-100 shadow-md",alt:"Avatar"}),a?u.jsx(ia,{size:24,className:"text-white animate-spin"}):u.jsx(c1,{size:24,className:"text-white"}),u.jsx("input",{type:"file",ref:s,className:"hidden",accept:"image/*",onChange:R})]}),u.jsxs("div",{className:"flex-1 w-full space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(VE,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{required:!0,disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-11 pr-4 py-3 text-sm font-black",value:C.employeeId,onChange:X=>T({...C,employeeId:X.target.value.toUpperCase()})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(jL,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"password",disabled:!j,placeholder:n?"":"",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-11 pr-4 py-3 text-sm font-black",value:C.password,onChange:X=>T({...C,password:X.target.value})})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:" *"}),u.jsx("input",{required:!0,disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.name,onChange:X=>T({...C,name:X.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:" /  (Enter )"}),u.jsx("input",{disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:w,onChange:X=>y(X.target.value),onKeyDown:X=>{if(X.key==="Enter"&&w.trim()){X.preventDefault();const ne=C.nicknames||[];ne.includes(w.trim())||T({...C,nicknames:[...ne,w.trim()]}),y("")}}}),u.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:(re=C.nicknames)==null?void 0:re.map(X=>u.jsxs("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-lg text-[10px] font-black border border-slate-200 flex items-center gap-1",children:[X,j&&u.jsx(ri,{size:10,className:"cursor-pointer hover:text-rose-500",onClick:()=>{var ne;return T({...C,nicknames:(ne=C.nicknames)==null?void 0:ne.filter(oe=>oe!==X)})}})]},X))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsx("select",{disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.role,onChange:X=>T({...C,role:X.target.value}),children:i.map(X=>u.jsx("option",{value:X,children:X},X))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex justify-between",children:[u.jsx("span",{children:" ( 3 )"}),u.jsxs("span",{className:"text-orange-500",children:[((ee=C.departmentIds)==null?void 0:ee.length)||0," / 3"]})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:cR.map(X=>{var oe;const ne=(C.departmentIds||[]).includes(X.id);return u.jsx("button",{type:"button",disabled:!U||!ne&&(((oe=C.departmentIds)==null?void 0:oe.length)||0)>=3,onClick:()=>{const Ce=C.departmentIds||[];let ke=[];if(ne)ke=Ce.filter(Ne=>Ne!==X.id);else if(Ce.length<3)ke=[...Ce,X.id];else return;T({...C,departmentIds:ke,departmentId:ke[0]||"DEPT-1"})},className:`px-3 py-1.5 rounded-xl text-[10px] font-black border transition-all ${ne?"bg-slate-900 text-white border-slate-900 shadow-sm":"bg-white text-slate-400 border-slate-200 hover:border-slate-300"} ${U?"":"cursor-default opacity-80"}`,children:X.name},X.id)})})]})]})]}),l==="hr"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsx("input",{type:"date",disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.birthday||"",onChange:X=>T({...C,birthday:X.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsx("input",{type:"date",disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.joinDate||"",onChange:X=>T({...C,joinDate:X.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.phone,onChange:X=>T({...C,phone:X.target.value})}),C.phone&&u.jsx("button",{type:"button",onClick:()=>V(C.phone),className:"bg-emerald-50 text-emerald-600 px-3 rounded-2xl hover:bg-emerald-100 transition-colors border border-emerald-200",children:u.jsx(Zc,{size:16})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.personalPhone||"",onChange:X=>T({...C,personalPhone:X.target.value})}),C.personalPhone&&u.jsx("button",{type:"button",onClick:()=>V(C.personalPhone),className:"bg-emerald-50 text-emerald-600 px-3 rounded-2xl hover:bg-emerald-100 transition-colors border border-emerald-200",children:u.jsx(Zc,{size:16})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsx("input",{type:"email",disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.email,onChange:X=>T({...C,email:X.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsx("input",{disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.address||"",onChange:X=>T({...C,address:X.target.value})})]}),u.jsxs("div",{className:"bg-rose-50 p-6 rounded-3xl border border-rose-100 space-y-4",children:[u.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black text-rose-600 uppercase tracking-widest",children:[u.jsx(LW,{size:14})," "]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{placeholder:"",disabled:!j,className:"bg-white border border-rose-100 rounded-xl px-4 py-2 text-xs font-bold",value:((ie=C.emergencyContact)==null?void 0:ie.name)||"",onChange:X=>T({...C,emergencyContact:{...C.emergencyContact||{name:"",relationship:"",phone:""},name:X.target.value}})}),u.jsx("input",{placeholder:"",disabled:!j,className:"bg-white border border-rose-100 rounded-xl px-4 py-2 text-xs font-bold",value:((ue=C.emergencyContact)==null?void 0:ue.relationship)||"",onChange:X=>T({...C,emergencyContact:{...C.emergencyContact||{name:"",relationship:"",phone:""},relationship:X.target.value}})}),u.jsxs("div",{className:"col-span-2 flex gap-2",children:[u.jsx("input",{placeholder:"",disabled:!j,className:"flex-1 bg-white border border-rose-100 rounded-xl px-4 py-2 text-xs font-bold",value:((le=C.emergencyContact)==null?void 0:le.phone)||"",onChange:X=>T({...C,emergencyContact:{...C.emergencyContact||{name:"",relationship:"",phone:""},phone:X.target.value}})}),((xe=C.emergencyContact)==null?void 0:xe.phone)&&u.jsx("button",{type:"button",onClick:()=>{var X;return V((X=C.emergencyContact)==null?void 0:X.phone)},className:"bg-rose-100 text-rose-600 px-3 rounded-xl hover:bg-rose-200 transition-colors",children:u.jsx(Zc,{size:14})})]})]})]})]}),l==="pro"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Enter )"}),u.jsx("input",{disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:d,onChange:X=>f(X.target.value),onKeyDown:X=>{X.key==="Enter"&&d.trim()&&(X.preventDefault(),T({...C,specialty:[...C.specialty||[],d.trim()]}),f(""))}}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-3 cursor-default",children:(ge=C.specialty)==null?void 0:ge.map(X=>u.jsxs("span",{className:"bg-orange-50 text-orange-700 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1 border border-orange-100",children:[X," ",j&&u.jsx(ri,{size:12,className:"cursor-pointer hover:text-rose-500",onClick:()=>{var ne;return T({...C,specialty:(ne=C.specialty)==null?void 0:ne.filter(oe=>oe!==X)})}})]},X))})]}),u.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Enter )"}),u.jsx("input",{disabled:!j,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-bold",value:p,onChange:X=>m(X.target.value),onKeyDown:X=>{X.key==="Enter"&&p.trim()&&(X.preventDefault(),T({...C,certifications:[...C.certifications||[],p.trim()]}),m(""))}}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-3 cursor-default",children:(fe=C.certifications)==null?void 0:fe.map(X=>u.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-lg text-xs font-black flex items-center gap-1 border border-blue-100",children:[u.jsx(M2,{size:10})," ",X," ",j&&u.jsx(ri,{size:12,className:"cursor-pointer hover:text-rose-500",onClick:()=>{var ne;return T({...C,certifications:(ne=C.certifications)==null?void 0:ne.filter(oe=>oe!==X)})}})]},X))})]})]}),l==="payroll"&&u.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:u.jsxs("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100 space-y-6 shadow-sm",children:[u.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black text-amber-700 uppercase tracking-widest",children:[u.jsx(DW,{size:14}),"  Payroll"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{placeholder:" ()",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl px-4 py-3 text-sm font-bold",value:((ce=C.bankInfo)==null?void 0:ce.bankName)||"",onChange:X=>T({...C,bankInfo:{...C.bankInfo||{bankName:"",accountName:"",accountNumber:""},bankName:X.target.value}})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{placeholder:"",disabled:!te,className:"bg-white border border-amber-100 rounded-xl px-4 py-3 text-sm font-bold",value:((Q=C.bankInfo)==null?void 0:Q.accountName)||"",onChange:X=>T({...C,bankInfo:{...C.bankInfo||{bankName:"",accountName:"",accountNumber:""},accountName:X.target.value}})}),u.jsx("input",{placeholder:"",disabled:!te,className:"bg-white border border-amber-100 rounded-xl px-4 py-3 text-sm font-bold font-mono",value:((Y=C.bankInfo)==null?void 0:Y.accountNumber)||"",onChange:X=>T({...C,bankInfo:{...C.bankInfo||{bankName:"",accountName:"",accountNumber:""},accountNumber:X.target.value}})})]})]}),u.jsxs("div",{className:"pt-4 border-t border-amber-100 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"block text-[10px] font-black text-amber-700 uppercase tracking-widest",children:" Labor Cost"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:""}),u.jsxs("select",{disabled:!te,className:"bg-white border border-amber-200 rounded-lg px-2 py-1 text-xs font-bold text-amber-800 focus:outline-none focus:ring-2 focus:ring-amber-200",value:C.salaryType||"daily",onChange:X=>T({...C,salaryType:X.target.value}),children:[u.jsx("option",{value:"monthly",children:" (Monthly)"}),u.jsx("option",{value:"daily",children:" (Daily)"}),u.jsx("option",{value:"hourly",children:" (Hourly)"})]})]})]}),C.salaryType==="monthly"&&u.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[u.jsx("input",{type:"number",placeholder:" (: 45000)",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl pl-4 pr-12 py-3 text-sm font-bold",value:C.monthlySalary||"",onChange:X=>T({...C,monthlySalary:Number(X.target.value)})}),u.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-black text-amber-400",children:"TWD / "})]}),(C.salaryType==="daily"||!C.salaryType)&&u.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[u.jsx("input",{type:"number",placeholder:" (: 3000)",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl pl-4 pr-12 py-3 text-sm font-bold",value:C.dailyRate||"",onChange:X=>T({...C,dailyRate:Number(X.target.value)})}),u.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-black text-amber-400",children:"TWD / "})]}),C.salaryType==="hourly"&&u.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[u.jsx("input",{type:"number",placeholder:" (: 183)",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl pl-4 pr-12 py-3 text-sm font-bold",value:C.hourlyRate||"",onChange:X=>T({...C,hourlyRate:Number(X.target.value)})}),u.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-black text-amber-400",children:"TWD / "})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-amber-50/50 p-3 rounded-xl border border-amber-100/50",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-amber-700 uppercase tracking-widest mb-1.5 ml-1",children:" Work Start"}),u.jsx("input",{type:"time",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl px-3 py-2 text-sm font-bold text-center",value:C.workStartTime||"",onChange:X=>T({...C,workStartTime:X.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-amber-700 uppercase tracking-widest mb-1.5 ml-1",children:" Work End"}),u.jsx("input",{type:"time",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl px-3 py-2 text-sm font-bold text-center",value:C.workEndTime||"",onChange:X=>T({...C,workEndTime:X.target.value})})]})]})]}),u.jsxs("div",{className:"pt-4 border-t border-amber-100 grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-amber-700 uppercase tracking-widest mb-2",children:" Labor Fee"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",placeholder:": 1100",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl pl-4 pr-12 py-3 text-sm font-bold",value:C.laborFee||"",onChange:X=>T({...C,laborFee:Number(X.target.value)})}),u.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-black text-amber-400",children:"/ "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-amber-700 uppercase tracking-widest mb-2",children:" Health Fee"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",placeholder:": 500",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl pl-4 pr-12 py-3 text-sm font-bold",value:C.healthFee||"",onChange:X=>T({...C,healthFee:Number(X.target.value)})}),u.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-black text-amber-400",children:"/ "})]})]})]}),u.jsxs("div",{className:"pt-4 border-t border-amber-100",children:[u.jsx("label",{className:"block text-[10px] font-black text-amber-700 uppercase tracking-widest mb-2",children:"  Spider-Man Allowance"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",placeholder:" (: 500)",disabled:!te,className:"w-full bg-white border border-amber-100 rounded-xl pl-4 pr-12 py-3 text-sm font-bold",value:C.spiderManAllowance||"",onChange:X=>T({...C,spiderManAllowance:Number(X.target.value)})}),u.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-black text-amber-400",children:"TWD / "})]}),u.jsx("p",{className:"text-[9px] text-amber-600 mt-2 font-medium",children:""})]}),u.jsx("div",{className:"bg-amber-100/30 p-4 rounded-2xl border border-dashed border-amber-200",children:u.jsxs("p",{className:"text-[10px] text-amber-800 leading-relaxed font-black",children:[" ",u.jsx(xh,{size:10,className:"inline mr-1"})," "]})})]})}),l==="perm"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:[u.jsx("div",{className:"bg-stone-50 p-6 rounded-3xl border border-stone-200 space-y-6",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),u.jsxs("select",{disabled:!U,className:"w-full bg-white border border-stone-200 rounded-2xl px-4 py-3 text-sm font-bold",value:C.systemRole,onChange:X=>T({...C,systemRole:X.target.value}),children:[u.jsx("option",{value:"Staff",children:" ()"}),u.jsx("option",{value:"AdminStaff",children:" (/)"}),u.jsx("option",{value:"DeptAdmin",children:" ()"}),u.jsx("option",{value:"SuperAdmin",children:" ()"})]}),u.jsxs("div",{className:"mt-4 p-4 bg-orange-50 rounded-2xl border border-orange-100 text-[10px] text-orange-800 leading-relaxed",children:[u.jsx("p",{className:"font-black mb-1",children:""}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 opacity-80",children:[u.jsxs("li",{children:[u.jsx("b",{children:""})," "]}),u.jsxs("li",{children:[u.jsx("b",{children:""})," "]}),u.jsxs("li",{children:[u.jsx("b",{children:""})," "]}),u.jsxs("li",{children:[u.jsx("b",{children:""})," "]})]})]})]})}),u.jsxs("div",{className:"bg-stone-50 p-6 rounded-3xl border border-stone-200 mt-6 space-y-4",children:[u.jsx("h4",{className:"font-black text-xs text-stone-500 uppercase tracking-widest",children:""}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:bu.filter(X=>!X.isCore).map(X=>{const ne=(C.accessibleModules||op).includes(X.id),oe=X.icon;return u.jsxs("label",{className:`flex items-start gap-3 p-3 bg-white rounded-xl border transition-all ${ne?"border-stone-300 shadow-sm":"border-stone-100 opacity-60"} ${U?"cursor-pointer hover:border-blue-300":"cursor-default"}`,children:[u.jsx("div",{className:"pt-1",children:u.jsx("input",{type:"checkbox",disabled:!U,checked:ne,onChange:Ce=>{const ke=C.accessibleModules||op;let Ne;Ce.target.checked?Ne=Array.from(new Set([...ke,X.id])):Ne=ke.filter(Ue=>Ue!==X.id),T({...C,accessibleModules:Ne})},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`p-2 rounded-lg ${ne?"bg-blue-50 text-blue-600":"bg-stone-100 text-stone-400"}`,children:u.jsx(oe,{size:16})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:`text-xs font-bold ${ne?"text-stone-800":"text-stone-500"}`,children:X.name}),u.jsx("span",{className:"text-[9px] text-stone-400 leading-tight",children:X.description})]})]})]},X.id)})})]})]}),G&&u.jsxs("div",{className:"pt-8 flex gap-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 py-4 text-slate-400 font-bold hover:text-slate-600",children:""}),u.jsxs("button",{type:"submit",disabled:a,className:"flex-[2] bg-stone-900 text-white font-bold py-4 rounded-2xl shadow-xl hover:bg-stone-800 active:scale-95 transition-all flex items-center justify-center gap-2",children:[u.jsx(Xp,{size:20})," "]})]}),!G&&u.jsx("div",{className:"pt-8",children:u.jsx("button",{type:"button",onClick:e,className:"w-full bg-slate-100 text-slate-600 font-bold py-4 rounded-2xl hover:bg-slate-200 transition-all",children:""})})]})]})})},gct=({isOpen:e,onClose:t,onSave:n,vendor:r})=>{const[i,s]=B.useState(!1),[a,o]=B.useState({name:"",contact:"",type:"",phone:"",email:"",address:"",rating:5,notes:""});if(B.useEffect(()=>{o(r||{name:"",contact:"",type:"",phone:"",email:"",address:"",rating:5,notes:""})},[r,e]),!e)return null;const l=c=>{c.preventDefault(),n({...a,id:(r==null?void 0:r.id)||"V-"+Date.now().toString().slice(-6)}),t()};return u.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:[u.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"p-6 lg:p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[u.jsxs("h2",{className:"text-2xl font-black text-slate-900 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:u.jsx(Cd,{size:22})}),r?"":""]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>s(!0),className:"group flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-star-600 hover:bg-blue-600 hover:text-white transition-all border border-blue-100 font-black text-xs",children:[u.jsx(_2,{size:16,className:"group-hover:rotate-12 transition-transform"}),u.jsx("span",{children:"AI "})]}),u.jsx("button",{onClick:t,className:"p-2.5 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:24})})]})]}),u.jsxs("form",{onSubmit:l,className:"flex-1 overflow-y-auto p-8 space-y-8 no-scrollbar",children:[u.jsxs("section",{className:"space-y-6",children:[u.jsxs("h3",{className:"text-xs font-black text-indigo-500 uppercase tracking-[0.2em] flex items-center gap-2",children:[u.jsx(vm,{size:14})," "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"/ *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Cd,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-black font-bold",value:a.name,onChange:c=>o({...a,name:c.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(tw,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-black font-bold",value:a.type,onChange:c=>o({...a,type:c.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" (1-5)"}),u.jsx("div",{className:"flex items-center gap-2 mt-2",children:[1,2,3,4,5].map(c=>u.jsx("button",{type:"button",onClick:()=>o({...a,rating:c}),className:`p-2 rounded-lg transition-all ${a.rating>=c?"text-amber-400 scale-110":"text-slate-200 hover:text-amber-200"}`,children:u.jsx(due,{size:24,fill:a.rating>=c?"currentColor":"none"})},c))})]})]})]}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("h3",{className:"text-xs font-black text-blue-500 uppercase tracking-[0.2em] flex items-center gap-2",children:[u.jsx(L2,{size:14})," "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Pu,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:a.contact,onChange:c=>o({...a,contact:c.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Zc,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:a.phone,onChange:c=>o({...a,phone:c.target.value}),placeholder:"0912-345-678"}),a.phone&&u.jsx("a",{href:`tel:${a.phone}`,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-emerald-50 text-emerald-600 rounded-xl hover:bg-emerald-100 transition-colors",title:"",children:u.jsx(Zc,{size:14})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(QE,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"email",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:a.email,onChange:c=>o({...a,email:c.target.value})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"/"}),u.jsxs("div",{className:"relative",children:[u.jsx(aa,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:a.address,onChange:c=>o({...a,address:c.target.value})})]})]})]})]}),u.jsxs("section",{className:"space-y-4",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" ()"}),u.jsx("textarea",{rows:3,className:"w-full bg-slate-50 border border-slate-200 rounded-[2rem] p-6 focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-black font-bold resize-none",value:a.notes||"",onChange:c=>o({...a,notes:c.target.value}),placeholder:"..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"px-6 py-4 rounded-2xl border border-slate-200 text-slate-600 font-extrabold text-sm hover:bg-slate-50 transition-all active:scale-95",children:""}),u.jsxs("button",{type:"submit",className:"bg-slate-900 hover:bg-slate-800 text-white px-8 py-4 rounded-2xl flex items-center gap-2 transition-all shadow-xl shadow-slate-200 active:scale-95 font-black text-sm",children:[u.jsx(Xp,{size:20}),u.jsx("span",{children:""})]})]})]})]}),i&&u.jsx(jse,{onClose:()=>s(!1),onScan:c=>{o(d=>({...d,name:c.name||d.name,contact:c.contactPerson||d.contact,phone:c.phone||d.phone,email:c.email||d.email,address:c.address||d.address,type:c.occupation||d.type,notes:(d.notes?d.notes+`
`:"")+`AI  ${c.taxId||""}`}))}})]})},mct=({onClose:e,onConfirm:t,initialData:n,availableLocationNames:r,relatedPurchaseOrders:i=[],relatedTransferLogs:s=[]})=>{var K,j;const[a,o]=B.useState("info"),[l,c]=B.useState({name:"",simpleName:"",sku:"",barcode:"",category:"",quantity:0,unit:"",locations:[],locationsInput:"",minLevel:0,costPrice:0,sellingPrice:0,supplier:"",status:"Normal",notes:"",maintenanceRecords:[],isRental:!1,rentalExpiry:""}),[d,f]=B.useState({type:"",date:new Date().toISOString().split("T")[0],description:"",cost:0,performer:""}),[p,m]=B.useState(null),w=()=>{if(!(!d.description||!d.date)){if(p)c(te=>{var G;return{...te,maintenanceRecords:(G=te.maintenanceRecords)==null?void 0:G.map(V=>V.id===p?{...V,date:d.date,type:d.type||"",description:d.description,cost:Number(d.cost)||0,performer:d.performer||""}:V)}}),m(null);else{const te={id:Date.now().toString(),date:d.date,type:d.type||"",description:d.description,cost:Number(d.cost)||0,performer:d.performer||""};c(G=>({...G,maintenanceRecords:[te,...G.maintenanceRecords||[]]}))}f({type:"",date:new Date().toISOString().split("T")[0],description:"",cost:0,performer:""})}},y=te=>{f({type:te.type,date:te.date,description:te.description,cost:te.cost,performer:te.performer}),m(te.id)},C=()=>{f({type:"",date:new Date().toISOString().split("T")[0],description:"",cost:0,performer:""}),m(null)},T=te=>{c(G=>{var V;return{...G,maintenanceRecords:(V=G.maintenanceRecords)==null?void 0:V.filter(re=>re.id!==te)}})};B.useEffect(()=>{n&&c({...n,locations:n.locations||(n.location?[{name:n.location,quantity:n.quantity}]:[])})},[n]),B.useEffect(()=>{if(l.locations&&l.locations.length>0){const te=l.locations.reduce((G,V)=>G+(Number(V.quantity)||0),0);c(G=>({...G,quantity:te}))}},[l.locations]);const k=()=>{c(te=>({...te,locations:[...te.locations||[],{name:"",quantity:0}]}))},R=te=>{c(G=>{var V;return{...G,locations:(V=G.locations)==null?void 0:V.filter((re,ee)=>ee!==te)}})},P=(te,G,V)=>{c(re=>{const ee=[...re.locations||[]];return ee[te]={...ee[te],[G]:V},{...re,locations:ee}})},U=te=>{var V;const G=(V=te.target.files)==null?void 0:V[0];if(G){const re=new FileReader;re.onloadend=()=>{c(ee=>({...ee,photoUrl:re.result}))},re.readAsDataURL(G)}},O=te=>{te.preventDefault(),l.name&&t(l)},L=[{id:"info",label:"",icon:ip},{id:"stock",label:"",icon:Tp},...l.category===""?[{id:"maintenance",label:"",icon:Ev}]:[],{id:"barcode",label:"",icon:m3},{id:"history",label:"",icon:OW}];return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"px-8 py-6 bg-slate-900 flex justify-between items-center text-white",children:[u.jsxs("h2",{className:"font-bold flex items-center gap-3 text-lg",children:[u.jsx(ip,{className:"text-blue-400"}),n?"":""]}),u.jsx("button",{onClick:e,className:"p-2.5 hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:24})})]}),u.jsx("div",{className:"bg-white border-b border-slate-100 flex overflow-x-auto no-scrollbar",children:L.map(te=>u.jsxs("button",{type:"button",onClick:()=>o(te.id),className:`flex-1 py-4 px-2 flex flex-col items-center gap-1.5 transition-all relative min-w-[80px] ${a===te.id?"text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:[u.jsx(te.icon,{size:18,className:a===te.id?"text-blue-500":""}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:te.label}),a===te.id&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-500 rounded-t-full"})]},te.id))}),u.jsxs("form",{onSubmit:O,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto no-scrollbar",children:[a==="info"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"relative group cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 z-10 cursor-pointer",onChange:U}),u.jsx("div",{className:`w-32 h-32 rounded-3xl flex items-center justify-center border-2 border-dashed transition-all overflow-hidden ${l.photoUrl?"border-transparent shadow-lg":"border-slate-200 bg-slate-50 hover:bg-slate-100 hover:border-blue-300"}`,children:l.photoUrl?u.jsx("img",{src:l.photoUrl,alt:"Preview",className:"w-full h-full object-cover"}):u.jsxs("div",{className:"text-center text-slate-400 group-hover:text-blue-500 transition-colors",children:[u.jsx(xm,{size:32,className:"mx-auto mb-2 opacity-50"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})}),l.photoUrl&&u.jsx("button",{type:"button",onClick:te=>{te.preventDefault(),c({...l,photoUrl:void 0})},className:"absolute -top-2 -right-2 bg-white text-rose-500 p-1.5 rounded-full shadow-md z-20 hover:bg-rose-50 transition-colors",children:u.jsx(Ni,{size:14})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" *"}),u.jsxs("div",{className:"relative",children:[u.jsx(tw,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.name,onChange:te=>c({...l,name:te.target.value})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(tw,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{placeholder:": PU, ...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.simpleName||"",onChange:te=>c({...l,simpleName:te.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" (SKU)"}),u.jsxs("div",{className:"relative",children:[u.jsx(VE,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.sku||"",onChange:te=>c({...l,sku:te.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("select",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold appearance-none",value:l.category,onChange:te=>c({...l,category:te.target.value}),children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""})]})]}),l.category===""&&u.jsxs("div",{className:"md:col-span-2 space-y-3 p-4 bg-slate-50 rounded-2xl border border-slate-200",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",id:"isRental",className:"w-5 h-5 rounded-lg border-slate-300 text-blue-600 focus:ring-blue-500",checked:l.isRental||!1,onChange:te=>c({...l,isRental:te.target.checked})}),u.jsx("label",{htmlFor:"isRental",className:"font-bold text-slate-700 text-sm",children:""})]}),l.isRental&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Du,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"date",className:"w-full bg-white border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.rentalExpiry||"",onChange:te=>c({...l,rentalExpiry:te.target.value})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Cc,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.costPrice,onChange:te=>c({...l,costPrice:Number(te.target.value)})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(KE,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.supplier||"",onChange:te=>c({...l,supplier:te.target.value})})]})]})]})]}),a==="stock"&&u.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" *"}),u.jsxs("div",{className:"relative",children:[u.jsx(Tp,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{required:!0,type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.quantity,onChange:te=>c({...l,quantity:Number(te.target.value)})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" (: , , )"}),u.jsxs("div",{className:"relative",children:[u.jsx(jW,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.unit,onChange:te=>c({...l,unit:te.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(ho,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-black font-bold",value:l.minLevel,onChange:te=>c({...l,minLevel:Number(te.target.value)})})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" ()"}),u.jsxs("button",{type:"button",onClick:k,className:"text-[10px] font-black bg-blue-50 text-blue-600 px-2 py-1 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-1",children:[u.jsx(zl,{size:12})," "]})]}),u.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-2xl border border-slate-100 max-h-[200px] overflow-y-auto",children:[(((K=l.locations)==null?void 0:K.length)||0)===0&&u.jsx("p",{className:"text-center text-xs text-slate-400 py-2 font-bold",children:""}),(j=l.locations)==null?void 0:j.map((te,G)=>u.jsxs("div",{className:"flex gap-2 items-center animate-in slide-in-from-left-4 duration-300",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(aa,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{placeholder:" (: A-01)",list:`loc-suggestions-${G}`,className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:te.name,onChange:V=>P(G,"name",V.target.value)}),u.jsx("datalist",{id:`loc-suggestions-${G}`,children:r==null?void 0:r.map(V=>u.jsx("option",{value:V},V))})]}),u.jsx("div",{className:"w-24 relative",children:u.jsx("input",{type:"number",placeholder:"",className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500 text-center",value:te.quantity,onChange:V=>P(G,"quantity",Number(V.target.value))})}),u.jsx("button",{type:"button",onClick:()=>R(G),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-white rounded-xl transition-all",children:u.jsx(Ni,{size:16})})]},G))]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsx("textarea",{className:"w-full bg-slate-50 border border-slate-200 rounded-[1.5rem] p-5 focus:ring-2 focus:ring-blue-500 outline-none transition-all text-stone-900 font-medium text-sm min-h-[100px] resize-none",placeholder:"...",value:l.notes||"",onChange:te=>c({...l,notes:te.target.value})})]})]})}),a==="maintenance"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6",children:[u.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100",children:[u.jsxs("h3",{className:"text-sm font-black text-slate-700 mb-4 flex items-center gap-2",children:[p?u.jsx(Mo,{size:16,className:"text-blue-500"}):u.jsx(zl,{size:16,className:"text-blue-500"}),p?"":""]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Du,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"date",className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:d.date,onChange:te=>f({...d,date:te.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500 appearance-none",value:d.type,onChange:te=>f({...d,type:te.target.value}),children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(ah,{size:14,className:"absolute left-3 top-3 text-slate-300"}),u.jsx("textarea",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500 resize-none h-20",placeholder:"...",value:d.description,onChange:te=>f({...d,description:te.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Cc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:d.cost,onChange:te=>f({...d,cost:Number(te.target.value)})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"/"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pu,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"...",value:d.performer,onChange:te=>f({...d,performer:te.target.value})})]})]})]}),u.jsx("button",{type:"button",onClick:w,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-blue-200 active:scale-95",children:p?"":""}),p&&u.jsx("button",{type:"button",onClick:C,className:"mt-2 w-full bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold py-3 rounded-xl transition-all",children:""})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest ml-1",children:""}),!l.maintenanceRecords||l.maintenanceRecords.length===0?u.jsxs("div",{className:"text-center py-8 text-slate-400 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200",children:[u.jsx(Ev,{className:"mx-auto mb-2 opacity-20",size:32}),u.jsx("p",{className:"font-bold text-sm",children:""})]}):l.maintenanceRecords.map(te=>u.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm flex items-start gap-4 hover:shadow-md transition-shadow",children:[u.jsx("div",{className:`p-3 rounded-xl ${te.type===""?"bg-rose-50 text-rose-500":te.type===""?"bg-green-50 text-green-500":"bg-blue-50 text-blue-500"}`,children:u.jsx(Ev,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 block mb-1",children:te.date}),u.jsx("h4",{className:"font-bold text-slate-800",children:te.description})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"block font-bold text-slate-900",children:["$",te.cost.toLocaleString()]}),u.jsx("span",{className:"text-xs text-slate-500 font-medium",children:te.performer})]})]}),u.jsx("div",{className:"flex items-center gap-2 mt-2",children:u.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${te.type===""?"bg-rose-100 text-rose-600":te.type===""?"bg-green-100 text-green-600":"bg-slate-100 text-slate-600"}`,children:te.type})})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("button",{onClick:()=>y(te),className:"text-slate-300 hover:text-blue-500 transition-colors p-1",children:u.jsx(Mo,{size:16})}),u.jsx("button",{onClick:()=>T(te.id),className:"text-slate-300 hover:text-rose-500 transition-colors p-1",children:u.jsx(Ni,{size:16})})]})]},te.id))]})]}),a==="barcode"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 flex flex-col items-center justify-center space-y-8 py-8",children:[u.jsxs("div",{className:"bg-white p-8 rounded-3xl border-2 border-slate-100 shadow-xl flex flex-col items-center gap-4 max-w-sm w-full mx-auto",children:[u.jsxs("div",{className:"w-full",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2 text-center",children:" ()"}),u.jsxs("div",{className:"relative",children:[u.jsx(m3,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-12 pr-4 py-3 text-center font-mono font-bold text-slate-900 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"...",value:l.barcode||"",onChange:te=>c({...l,barcode:te.target.value})})]})]}),u.jsx("div",{className:"w-full aspect-square bg-slate-50 rounded-2xl flex items-center justify-center p-4",children:u.jsx("img",{src:`https://bwipjs-api.metafloor.com/?bcid=datamatrix&text=${l.barcode||l.id||l.sku||"NEW-ITEM"}&scale=3&includetext&backgroundcolor=ffffff`,alt:"DataMatrix",className:"w-full h-full object-contain mix-blend-multiply",onError:te=>{te.target.style.display="none",te.target.parentElement.innerHTML='<span class="text-xs text-slate-400"></span>'}})}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"DATA MATRIX"}),u.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight font-mono",children:l.barcode||l.sku||l.id||"Pending ID"}),u.jsx("p",{className:"text-xs font-bold text-slate-500 mt-2",children:l.name})]})]}),u.jsxs("button",{type:"button",onClick:()=>window.print(),className:"bg-white border border-slate-200 text-slate-600 hover:text-slate-900 hover:bg-slate-50 px-8 py-3 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-sm transition-all",children:[u.jsx(WE,{size:16})," "]}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl text-xs text-blue-600 font-bold leading-relaxed max-w-sm",children:[u.jsx("p",{children:" DataMatrix "}),u.jsx("p",{className:"opacity-80 font-medium mt-1",children:""})]})]}),a==="history"&&u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Cc,{size:16,className:"text-blue-500"}),""]}),!i||i.length===0?u.jsx("div",{className:"text-center py-6 text-slate-400 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 text-xs font-bold",children:""}):u.jsx("div",{className:"space-y-3",children:i.map(te=>{const G=te.items.find(V=>V.itemId===(n==null?void 0:n.id));return u.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 flex justify-between items-center group hover:bg-white hover:shadow-md transition-all",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"bg-blue-100 text-blue-700 text-[10px] font-black px-1.5 py-0.5 rounded",children:te.date}),u.jsx("span",{className:"text-xs font-bold text-slate-700",children:te.supplier})]}),u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:te.id})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-black text-slate-900",children:[G==null?void 0:G.quantity," ",G==null?void 0:G.unit]}),u.jsxs("div",{className:"text-xs text-slate-500 font-bold",children:["$",G==null?void 0:G.cost.toLocaleString()]})]})]},te.id)})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Jv,{size:16,className:"text-emerald-500"}),""]}),!s||s.length===0?u.jsx("div",{className:"text-center py-6 text-slate-400 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 text-xs font-bold",children:""}):u.jsx("div",{className:"space-y-3",children:s.map(te=>u.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 group hover:bg-white hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-black px-1.5 py-0.5 rounded",children:new Date(te.timestamp).toLocaleDateString()}),u.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:te.performer})]}),u.jsx("div",{className:"text-sm font-bold text-slate-700 leading-snug",children:te.details})]},te.id))})]})]}),u.jsxs("div",{className:"pt-8 flex gap-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 py-4 text-slate-400 font-bold hover:text-slate-600 transition-colors",children:""}),u.jsxs("button",{type:"submit",className:"flex-[2] bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-2xl shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(Xp,{size:20}),""]})]})]})]})})},xct=({items:e,locations:t,user:n,onAddClick:r,onEditClick:i,onDeleteClick:s,onManageLocations:a,onTransferClick:o,onScanClick:l,onOrdersClick:c})=>{const[d,f]=B.useState(""),[p,m]=B.useState("all"),[w,y]=B.useState("all"),[C,T]=B.useState(!1),k=(n==null?void 0:n.role)==="Guest",R=B.useMemo(()=>e.filter(O=>{var V,re,ee;const L=O.name.toLowerCase().includes(d.toLowerCase())||O.simpleName&&O.simpleName.toLowerCase().includes(d.toLowerCase())||O.sku&&O.sku.toLowerCase().includes(d.toLowerCase())||O.sku&&O.sku.toLowerCase().includes(d.toLowerCase())||((V=O.locations)==null?void 0:V.some(ie=>ie.name.toLowerCase().includes(d.toLowerCase())))||((re=O.location)==null?void 0:re.toLowerCase().includes(d.toLowerCase()))||O.supplier&&O.supplier.toLowerCase().includes(d.toLowerCase()),K=p==="all"||O.category===p,j=w==="all"||((ee=O.locations)==null?void 0:ee.some(ie=>ie.name===w)),te=!C||O.minLevel!==void 0&&O.quantity<=O.minLevel,G=!O.deletedAt;return L&&K&&j&&te&&G}),[e,d,p,w,C]),P=O=>{switch(O){case"":return"bg-blue-50 text-blue-700 border-blue-100";case"":return"bg-amber-50 text-amber-700 border-amber-100";case"":return"bg-purple-50 text-purple-700 border-purple-100";default:return"bg-slate-50 text-slate-700 border-slate-100"}},U=O=>{const L=O.minLevel!==void 0&&O.quantity<=O.minLevel;return O.quantity<=0?u.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-rose-50 text-rose-600 text-[10px] font-black uppercase border border-rose-100",children:[u.jsx(ho,{size:12})," "]}):L?u.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-amber-50 text-amber-600 text-[10px] font-black uppercase border border-amber-100",children:[u.jsx(ho,{size:12})," "]}):u.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-emerald-50 text-emerald-600 text-[10px] font-black uppercase border border-emerald-100",children:[u.jsx(Tp,{size:12})," "]})};return u.jsxs("div",{className:"p-8 space-y-6 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:""}),u.jsx("p",{className:"text-slate-500 font-bold mt-1",children:""})]}),u.jsx("div",{className:"flex items-center gap-3",children:k?u.jsxs("div",{className:"bg-stone-50 text-stone-400 px-4 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 border border-stone-200",children:[u.jsx(Fp,{size:16})," "]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:c,className:"bg-white hover:bg-slate-50 text-slate-600 border border-slate-200 px-4 py-3.5 rounded-2xl flex items-center gap-2 transition-all font-bold text-sm",children:[u.jsx(v3,{size:18}),u.jsx("span",{className:"hidden sm:inline",children:""})]}),u.jsxs("button",{onClick:a,className:"bg-white hover:bg-slate-50 text-slate-600 border border-slate-200 px-4 py-3.5 rounded-2xl flex items-center gap-2 transition-all font-bold text-sm",children:[u.jsx(Cd,{size:18}),u.jsx("span",{className:"hidden sm:inline",children:""})]}),u.jsxs("button",{onClick:l,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-3.5 rounded-2xl flex items-center gap-2 transition-all font-bold shadow-lg shadow-emerald-200 active:scale-95",children:[u.jsx(qce,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:""})]}),u.jsxs("button",{onClick:r,className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3.5 rounded-2xl flex items-center gap-2 transition-all shadow-xl shadow-slate-200 active:scale-95 font-black text-sm",children:[u.jsx(zl,{size:20}),u.jsx("span",{children:""})]})]})})]}),t&&t.length>0&&u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar pb-1",children:[u.jsxs("button",{onClick:()=>y("all"),className:`px-4 py-2.5 rounded-xl text-xs font-black transition-all whitespace-nowrap flex items-center gap-2 border ${w==="all"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:[u.jsx(A3,{size:14})," "]}),t.map(O=>u.jsxs("button",{onClick:()=>y(O.name),className:`px-4 py-2.5 rounded-xl text-xs font-black transition-all whitespace-nowrap flex items-center gap-2 border ${w===O.name?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-200":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:[u.jsx(kue,{size:14})," ",O.name]},O.id))]}),u.jsxs("div",{className:"flex flex-col xl:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 bg-white p-2 rounded-2xl border border-slate-200 shadow-sm flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(vh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),u.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-12 pr-4 py-3 bg-transparent border-none focus:ring-0 outline-none text-sm text-slate-900 font-bold",value:d,onChange:O=>f(O.target.value)})]}),u.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 border-l border-slate-100 pl-4 overflow-x-auto no-scrollbar whitespace-nowrap",children:[u.jsx(fR,{size:14,className:"text-slate-300 mr-2"}),["all","","",""].map(O=>u.jsx("button",{onClick:()=>m(O),className:`px-4 py-2 rounded-xl text-[10px] font-black transition-all ${p===O?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:O==="all"?"":O},O))]})]}),u.jsxs("button",{onClick:()=>T(!C),className:`px-6 py-3 rounded-2xl border font-bold text-xs flex items-center gap-2 transition-all ${C?"bg-amber-50 text-amber-700 border-amber-200 shadow-sm":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:[u.jsx(ho,{size:16,className:C?"text-amber-600":"text-slate-300"}),""]})]}),u.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"hidden lg:grid lg:grid-cols-12 px-8 py-5 border-b border-slate-100 bg-slate-50/50",children:[u.jsx("div",{className:"col-span-4 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" / "}),u.jsx("div",{className:"col-span-2 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" / "}),u.jsx("div",{className:"col-span-2 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("div",{className:"col-span-3 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" / "}),u.jsx("div",{className:"col-span-1 text-[11px] font-black text-slate-400 uppercase tracking-widest text-right",children:""})]}),u.jsx("div",{className:"divide-y divide-slate-100",children:R.length>0?R.map(O=>{var L,K;return u.jsx("div",{className:"group hover:bg-slate-50/50 transition-colors",children:u.jsxs("div",{className:"p-6 lg:px-8 lg:py-5 lg:grid lg:grid-cols-12 lg:items-center gap-4",children:[u.jsxs("div",{className:"col-span-4 flex items-center gap-4 mb-4 lg:mb-0",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center border-2 border-white shadow-sm shrink-0 overflow-hidden ${O.category===""?"bg-amber-100 text-amber-600":O.category===""?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:O.photoUrl?u.jsx("img",{src:O.photoUrl,alt:O.name,className:"w-full h-full object-cover"}):O.category===""?u.jsx(jW,{size:24}):O.category===""?u.jsx(KE,{size:24}):u.jsx(ip,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-slate-900 leading-tight group-hover:text-blue-600 transition-colors tracking-tight",children:O.simpleName?u.jsxs("span",{className:"flex flex-col",children:[u.jsx("span",{className:"text-lg",children:O.simpleName}),u.jsx("span",{className:"text-[10px] text-slate-400 font-normal line-clamp-1 mt-0.5",children:O.name})]}):O.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[O.sku&&u.jsxs("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded flex items-center gap-1",children:[u.jsx(VE,{size:10})," ",O.sku]}),U(O),O.maintenanceRecords&&O.maintenanceRecords.length>0&&u.jsxs("span",{className:"text-[10px] font-bold text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded flex items-center gap-1 border border-slate-200",children:[u.jsx(Ev,{size:10,className:"text-slate-400"}),O.maintenanceRecords[0].date]})]})]})]}),u.jsxs("div",{className:"col-span-2 space-y-1.5 mb-4 lg:mb-0",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-lg border uppercase ${P(O.category)}`,children:O.category})}),O.locations&&O.locations.length>0?u.jsxs("div",{className:"flex flex-col gap-1",children:[O.locations.slice(0,2).map((j,te)=>u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(aa,{size:12,className:"shrink-0"}),u.jsxs("span",{className:"text-xs font-bold",children:[j.name," ",u.jsxs("span",{className:"text-slate-400",children:["(",j.quantity,")"]})]})]},te)),O.locations.length>2&&u.jsxs("span",{className:"text-[10px] font-bold text-slate-400 pl-4",children:["+ ",O.locations.length-2," "]})]}):O.location?u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(aa,{size:12,className:"shrink-0"}),u.jsx("span",{className:"text-xs font-bold",children:O.location})]}):u.jsx("span",{className:"text-[10px] text-slate-300 font-bold italic",children:""})]}),u.jsxs("div",{className:"col-span-2 mb-4 lg:mb-0",children:[u.jsxs("div",{className:"flex items-end gap-1.5",children:[u.jsx("span",{className:"text-2xl font-black text-slate-700",children:w==="all"?O.quantity:((K=(L=O.locations)==null?void 0:L.find(j=>j.name===w))==null?void 0:K.quantity)||0}),u.jsx("span",{className:"text-xs font-bold text-slate-400 mb-1.5",children:O.unit})]}),w!=="all"&&u.jsxs("div",{className:"text-[10px] font-bold text-slate-400",children:["(: ",O.quantity,")"]}),w==="all"&&O.minLevel!==void 0&&u.jsxs("div",{className:"text-[10px] font-bold text-slate-400",children:[": ",O.minLevel," ",O.unit]})]}),u.jsxs("div",{className:"col-span-3 space-y-1 mb-4 lg:mb-0",children:[O.supplier&&u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600",children:[u.jsx(h1,{size:12,className:"text-slate-400"}),u.jsx("span",{className:"text-xs font-bold",children:O.supplier})]}),O.costPrice!==void 0&&u.jsxs("div",{className:"text-xs font-bold text-slate-400",children:[": ",u.jsxs("span",{className:"text-slate-600",children:["$",O.costPrice.toLocaleString()]})," / ",O.unit]})]}),u.jsx("div",{className:"col-span-1 flex items-center justify-end gap-1",children:k?u.jsx("span",{className:"text-[9px] font-black text-stone-200 uppercase italic tracking-widest",children:"View Only"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>i(O),className:"p-2.5 text-slate-400 hover:text-blue-600 hover:bg-white hover:shadow-md hover:border-blue-100 border border-transparent rounded-xl transition-all",children:u.jsx(Mo,{size:18})}),u.jsx("button",{title:"",onClick:()=>o(O),className:"p-2.5 text-slate-400 hover:text-emerald-600 hover:bg-white hover:shadow-md hover:border-emerald-100 border border-transparent rounded-xl transition-all",children:u.jsx(Jv,{size:18})}),u.jsx("button",{onClick:()=>s(O.id),className:"p-2.5 text-slate-400 hover:text-rose-600 hover:bg-white hover:shadow-md hover:border-rose-100 border border-transparent rounded-xl transition-all",children:u.jsx(Ni,{size:18})})]})})]})},O.id)}):u.jsx("div",{className:"px-8 py-32 text-center text-slate-300",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center border border-slate-100",children:u.jsx(ip,{size:40,className:"text-slate-200"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-black text-slate-400 uppercase tracking-tighter",children:""}),u.jsx("p",{className:"text-sm font-bold text-slate-300 mt-1",children:""})]})]})})})]})]})},vct=({locations:e,onClose:t,onAdd:n,onDelete:r,onUpdate:i})=>{const[s,a]=B.useState(""),[o,l]=B.useState(""),[c,d]=B.useState(null),f=m=>{if(m.preventDefault(),!!s){if(c){const w=e.find(y=>y.id===c);w&&i({...w,name:s,description:o}),d(null)}else n({name:s,description:o,type:"Temporary",isDefault:!1});a(""),l("")}},p=m=>{d(m.id),a(m.name),l(m.description||"")};return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"px-8 py-6 bg-slate-900 flex justify-between items-center text-white",children:[u.jsxs("h2",{className:"font-bold flex items-center gap-3 text-lg",children:[u.jsx(Cd,{className:"text-blue-400"})," / "]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:24})})]}),u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-2 custom-scrollbar",children:e.map(m=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${m.type==="Main"?"bg-blue-100 text-blue-600":"bg-slate-200 text-slate-500"}`,children:m.type==="Main"?u.jsx(Cd,{size:20}):u.jsx(KE,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-900",children:m.name}),u.jsx("p",{className:"text-xs text-slate-500 font-medium",children:m.type==="Main"?" ()":"/"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>p(m),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",children:u.jsx(Mo,{size:18})}),m.type!=="Main"&&u.jsx("button",{onClick:()=>{confirm("")&&r(m.id)},className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-xl transition-all",children:u.jsx(Ni,{size:18})})]})]},m.id))}),u.jsxs("form",{onSubmit:f,className:"pt-6 border-t border-slate-100 space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:c?"":""}),c&&u.jsx("button",{type:"button",onClick:()=>{d(null),a(""),l("")},className:"text-xs font-bold text-slate-400 hover:text-slate-600",children:""})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsx("input",{placeholder:" (: , )",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:m=>a(m.target.value)}),u.jsx("input",{placeholder:" ()",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:m=>l(m.target.value)})]}),u.jsxs("button",{type:"submit",disabled:!s.trim(),className:`w-full font-bold py-3.5 rounded-2xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed ${c?"bg-blue-600 hover:bg-blue-700 text-white":"bg-slate-900 hover:bg-slate-800 text-white"}`,children:[c?u.jsx(Mo,{size:18}):u.jsx(zl,{size:18}),c?"":""]})]})]})]})})},wct=({item:e,allLocations:t,onClose:n,onConfirm:r})=>{var y;const[i,s]=B.useState(""),[a,o]=B.useState(""),[l,c]=B.useState(0),[d,f]=B.useState(""),p=e.locations.filter(C=>C.quantity>0),m=i&&((y=e.locations.find(C=>C.name===i))==null?void 0:y.quantity)||0,w=C=>{C.preventDefault(),i&&a&&l>0&&i!==a&&r(i,a,l,d)};return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"px-8 py-6 bg-slate-900 flex justify-between items-center text-white",children:[u.jsxs("h2",{className:"font-bold flex items-center gap-3 text-lg",children:[u.jsx(Jv,{className:"text-emerald-400"})," / "]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:24})})]}),u.jsxs("form",{onSubmit:w,className:"p-8 space-y-6",children:[u.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl flex items-center gap-4 border border-slate-100",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-slate-400",children:u.jsx(Tp,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-slate-900",children:e.name}),u.jsxs("p",{className:"text-xs font-bold text-slate-400",children:[": ",e.quantity," ",e.unit]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:" (From)"}),u.jsxs("div",{className:"relative",children:[u.jsx(aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsxs("select",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-3 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-emerald-500 appearance-none",value:i,onChange:C=>{s(C.target.value),c(0)},children:[u.jsx("option",{value:"",children:"..."}),p.map(C=>u.jsxs("option",{value:C.name,children:[C.name," (: ",C.quantity,")"]},C.name))]})]})]}),u.jsx("div",{className:"text-slate-300 pt-6",children:u.jsx(Ice,{size:20})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:" (To)"}),u.jsxs("div",{className:"relative",children:[u.jsx(aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsxs("select",{required:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-3 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-emerald-500 appearance-none",value:a,onChange:C=>o(C.target.value),children:[u.jsx("option",{value:"",children:"..."}),t.filter(C=>C.name!==i).map(C=>u.jsx("option",{value:C.name,children:C.name},C.id))]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Tp,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"number",required:!0,min:1,max:m,className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-3 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-emerald-500",value:l||"",onChange:C=>c(Number(C.target.value)),placeholder:`: ${m}`}),u.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-400",children:e.unit})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"...",value:d,onChange:C=>f(C.target.value)})]}),u.jsxs("div",{className:"pt-4 flex gap-4",children:[u.jsx("button",{type:"button",onClick:n,className:"flex-1 py-3 text-slate-400 font-bold hover:text-slate-600 transition-colors",children:""}),u.jsxs("button",{type:"submit",disabled:!i||!a||l<=0,className:"flex-[2] bg-slate-900 hover:bg-slate-800 text-white font-bold py-3 rounded-2xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Jv,{size:18}),""]})]})]})]})})};var ar;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ar||(ar={}));var uW=new Map([[ar.QR_CODE,"QR_CODE"],[ar.AZTEC,"AZTEC"],[ar.CODABAR,"CODABAR"],[ar.CODE_39,"CODE_39"],[ar.CODE_93,"CODE_93"],[ar.CODE_128,"CODE_128"],[ar.DATA_MATRIX,"DATA_MATRIX"],[ar.MAXICODE,"MAXICODE"],[ar.ITF,"ITF"],[ar.EAN_13,"EAN_13"],[ar.EAN_8,"EAN_8"],[ar.PDF_417,"PDF_417"],[ar.RSS_14,"RSS_14"],[ar.RSS_EXPANDED,"RSS_EXPANDED"],[ar.UPC_A,"UPC_A"],[ar.UPC_E,"UPC_E"],[ar.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),dW;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(dW||(dW={}));function bct(e){return Object.values(ar).includes(e)}var OE;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(OE||(OE={}));var yct=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[OE.SCAN_TYPE_CAMERA,OE.SCAN_TYPE_FILE],e})(),Use=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!uW.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,uW.get(t))},e})(),hW=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),uR;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(uR||(uR={}));var Cct=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:uR.UNKWOWN_ERROR}},e})(),Sct=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function nf(e){return typeof e>"u"||e===null}var _m=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Hse=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),a=Object.keys(t),o=0,l=a;o<l.length;o++){var c=l[o];if(s.has(c))return n.logError("".concat(c," is not supported videoConstaints."),!0),!1}return!0},e})(),Cv={exports:{}},Ect=Cv.exports,fW;function Nct(){return fW||(fW=1,(function(e,t){(function(n,r){r(t)})(Ect,(function(n){function r(we){return we==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,A){we.__proto__=A}||function(we,A){for(var x in A)A.hasOwnProperty(x)&&(we[x]=A[x])};function s(we,A){i(we,A);function x(){this.constructor=we}we.prototype=A===null?Object.create(A):(x.prototype=A.prototype,new x)}function a(we,A){var x=Object.setPrototypeOf;x?x(we,A):we.__proto__=A}function o(we,A){A===void 0&&(A=we.constructor);var x=Error.captureStackTrace;x&&x(we,A)}var l=(function(we){s(A,we);function A(x){var v=this.constructor,S=we.call(this,x)||this;return Object.defineProperty(S,"name",{value:v.name,enumerable:!1}),a(S,v.prototype),o(S),S}return A})(Error);class c extends l{constructor(A=void 0){super(A),this.message=A}getKind(){return this.constructor.kind}}c.kind="Exception";class d extends c{}d.kind="ArgumentException";class f extends c{}f.kind="IllegalArgumentException";class p{constructor(A){if(this.binarizer=A,A===null)throw new f("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(A,x){return this.binarizer.getBlackRow(A,x)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(A,x,v,S){const E=this.binarizer.getLuminanceSource().crop(A,x,v,S);return new p(this.binarizer.createBinarizer(E))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const A=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new p(this.binarizer.createBinarizer(A))}rotateCounterClockwise45(){const A=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new p(this.binarizer.createBinarizer(A))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class m extends c{static getChecksumInstance(){return new m}}m.kind="ChecksumException";class w{constructor(A){this.source=A}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class y{static arraycopy(A,x,v,S,E){for(;E--;)v[S++]=A[x++]}static currentTimeMillis(){return Date.now()}}class C extends c{}C.kind="IndexOutOfBoundsException";class T extends C{constructor(A=void 0,x=void 0){super(x),this.index=A,this.message=x}}T.kind="ArrayIndexOutOfBoundsException";class k{static fill(A,x){for(let v=0,S=A.length;v<S;v++)A[v]=x}static fillWithin(A,x,v,S){k.rangeCheck(A.length,x,v);for(let E=x;E<v;E++)A[E]=S}static rangeCheck(A,x,v){if(x>v)throw new f("fromIndex("+x+") > toIndex("+v+")");if(x<0)throw new T(x);if(v>A)throw new T(v)}static asList(...A){return A}static create(A,x,v){return Array.from({length:A}).map(E=>Array.from({length:x}).fill(v))}static createInt32Array(A,x,v){return Array.from({length:A}).map(E=>Int32Array.from({length:x}).fill(v))}static equals(A,x){if(!A||!x||!A.length||!x.length||A.length!==x.length)return!1;for(let v=0,S=A.length;v<S;v++)if(A[v]!==x[v])return!1;return!0}static hashCode(A){if(A===null)return 0;let x=1;for(const v of A)x=31*x+v;return x}static fillUint8Array(A,x){for(let v=0;v!==A.length;v++)A[v]=x}static copyOf(A,x){return A.slice(0,x)}static copyOfUint8Array(A,x){if(A.length<=x){const v=new Uint8Array(x);return v.set(A),v}return A.slice(0,x)}static copyOfRange(A,x,v){const S=v-x,E=new Int32Array(S);return y.arraycopy(A,x,E,0,S),E}static binarySearch(A,x,v){v===void 0&&(v=k.numberComparator);let S=0,E=A.length-1;for(;S<=E;){const I=E+S>>1,D=v(x,A[I]);if(D>0)S=I+1;else if(D<0)E=I-1;else return I}return-S-1}static numberComparator(A,x){return A-x}}class R{static numberOfTrailingZeros(A){let x;if(A===0)return 32;let v=31;return x=A<<16,x!==0&&(v-=16,A=x),x=A<<8,x!==0&&(v-=8,A=x),x=A<<4,x!==0&&(v-=4,A=x),x=A<<2,x!==0&&(v-=2,A=x),v-(A<<1>>>31)}static numberOfLeadingZeros(A){if(A===0)return 32;let x=1;return A>>>16||(x+=16,A<<=16),A>>>24||(x+=8,A<<=8),A>>>28||(x+=4,A<<=4),A>>>30||(x+=2,A<<=2),x-=A>>>31,x}static toHexString(A){return A.toString(16)}static toBinaryString(A){return String(parseInt(String(A),2))}static bitCount(A){return A=A-(A>>>1&1431655765),A=(A&858993459)+(A>>>2&858993459),A=A+(A>>>4)&252645135,A=A+(A>>>8),A=A+(A>>>16),A&63}static truncDivision(A,x){return Math.trunc(A/x)}static parseInt(A,x=void 0){return parseInt(A,x)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(A,x){A===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=A,x==null?this.bits=P.makeArray(A):this.bits=x)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(A){if(A>this.bits.length*32){const x=P.makeArray(A);y.arraycopy(this.bits,0,x,0,this.bits.length),this.bits=x}}get(A){return(this.bits[Math.floor(A/32)]&1<<(A&31))!==0}set(A){this.bits[Math.floor(A/32)]|=1<<(A&31)}flip(A){this.bits[Math.floor(A/32)]^=1<<(A&31)}getNextSet(A){const x=this.size;if(A>=x)return x;const v=this.bits;let S=Math.floor(A/32),E=v[S];E&=~((1<<(A&31))-1);const I=v.length;for(;E===0;){if(++S===I)return x;E=v[S]}const D=S*32+R.numberOfTrailingZeros(E);return D>x?x:D}getNextUnset(A){const x=this.size;if(A>=x)return x;const v=this.bits;let S=Math.floor(A/32),E=~v[S];E&=~((1<<(A&31))-1);const I=v.length;for(;E===0;){if(++S===I)return x;E=~v[S]}const D=S*32+R.numberOfTrailingZeros(E);return D>x?x:D}setBulk(A,x){this.bits[Math.floor(A/32)]=x}setRange(A,x){if(x<A||A<0||x>this.size)throw new f;if(x===A)return;x--;const v=Math.floor(A/32),S=Math.floor(x/32),E=this.bits;for(let I=v;I<=S;I++){const D=I>v?0:A&31,Z=(2<<(I<S?31:x&31))-(1<<D);E[I]|=Z}}clear(){const A=this.bits.length,x=this.bits;for(let v=0;v<A;v++)x[v]=0}isRange(A,x,v){if(x<A||A<0||x>this.size)throw new f;if(x===A)return!0;x--;const S=Math.floor(A/32),E=Math.floor(x/32),I=this.bits;for(let D=S;D<=E;D++){const W=D>S?0:A&31,de=(2<<(D<E?31:x&31))-(1<<W)&4294967295;if((I[D]&de)!==(v?de:0))return!1}return!0}appendBit(A){this.ensureCapacity(this.size+1),A&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(A,x){if(x<0||x>32)throw new f("Num bits must be between 0 and 32");this.ensureCapacity(this.size+x);for(let v=x;v>0;v--)this.appendBit((A>>v-1&1)===1)}appendBitArray(A){const x=A.size;this.ensureCapacity(this.size+x);for(let v=0;v<x;v++)this.appendBit(A.get(v))}xor(A){if(this.size!==A.size)throw new f("Sizes don't match");const x=this.bits;for(let v=0,S=x.length;v<S;v++)x[v]^=A.bits[v]}toBytes(A,x,v,S){for(let E=0;E<S;E++){let I=0;for(let D=0;D<8;D++)this.get(A)&&(I|=1<<7-D),A++;x[v+E]=I}}getBitArray(){return this.bits}reverse(){const A=new Int32Array(this.bits.length),x=Math.floor((this.size-1)/32),v=x+1,S=this.bits;for(let E=0;E<v;E++){let I=S[E];I=I>>1&1431655765|(I&1431655765)<<1,I=I>>2&858993459|(I&858993459)<<2,I=I>>4&252645135|(I&252645135)<<4,I=I>>8&16711935|(I&16711935)<<8,I=I>>16&65535|(I&65535)<<16,A[x-E]=I}if(this.size!==v*32){const E=v*32-this.size;let I=A[0]>>>E;for(let D=1;D<v;D++){const W=A[D];I|=W<<32-E,A[D-1]=I,I=W>>>E}A[v-1]=I}this.bits=A}static makeArray(A){return new Int32Array(Math.floor((A+31)/32))}equals(A){if(!(A instanceof P))return!1;const x=A;return this.size===x.size&&k.equals(this.bits,x.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let A="";for(let x=0,v=this.size;x<v;x++)(x&7)===0&&(A+=" "),A+=this.get(x)?"X":".";return A}clone(){return new P(this.size,this.bits.slice())}}var U;(function(we){we[we.OTHER=0]="OTHER",we[we.PURE_BARCODE=1]="PURE_BARCODE",we[we.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",we[we.TRY_HARDER=3]="TRY_HARDER",we[we.CHARACTER_SET=4]="CHARACTER_SET",we[we.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",we[we.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",we[we.ASSUME_GS1=7]="ASSUME_GS1",we[we.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",we[we.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",we[we.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(U||(U={}));var O=U;class L extends c{static getFormatInstance(){return new L}}L.kind="FormatException";var K;(function(we){we[we.Cp437=0]="Cp437",we[we.ISO8859_1=1]="ISO8859_1",we[we.ISO8859_2=2]="ISO8859_2",we[we.ISO8859_3=3]="ISO8859_3",we[we.ISO8859_4=4]="ISO8859_4",we[we.ISO8859_5=5]="ISO8859_5",we[we.ISO8859_6=6]="ISO8859_6",we[we.ISO8859_7=7]="ISO8859_7",we[we.ISO8859_8=8]="ISO8859_8",we[we.ISO8859_9=9]="ISO8859_9",we[we.ISO8859_10=10]="ISO8859_10",we[we.ISO8859_11=11]="ISO8859_11",we[we.ISO8859_13=12]="ISO8859_13",we[we.ISO8859_14=13]="ISO8859_14",we[we.ISO8859_15=14]="ISO8859_15",we[we.ISO8859_16=15]="ISO8859_16",we[we.SJIS=16]="SJIS",we[we.Cp1250=17]="Cp1250",we[we.Cp1251=18]="Cp1251",we[we.Cp1252=19]="Cp1252",we[we.Cp1256=20]="Cp1256",we[we.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",we[we.UTF8=22]="UTF8",we[we.ASCII=23]="ASCII",we[we.Big5=24]="Big5",we[we.GB18030=25]="GB18030",we[we.EUC_KR=26]="EUC_KR"})(K||(K={}));class j{constructor(A,x,v,...S){this.valueIdentifier=A,this.name=v,typeof x=="number"?this.values=Int32Array.from([x]):this.values=x,this.otherEncodingNames=S,j.VALUE_IDENTIFIER_TO_ECI.set(A,this),j.NAME_TO_ECI.set(v,this);const E=this.values;for(let I=0,D=E.length;I!==D;I++){const W=E[I];j.VALUES_TO_ECI.set(W,this)}for(const I of S)j.NAME_TO_ECI.set(I,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(A){if(A<0||A>=900)throw new L("incorect value");const x=j.VALUES_TO_ECI.get(A);if(x===void 0)throw new L("incorect value");return x}static getCharacterSetECIByName(A){const x=j.NAME_TO_ECI.get(A);if(x===void 0)throw new L("incorect value");return x}equals(A){if(!(A instanceof j))return!1;const x=A;return this.getName()===x.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(K.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(K.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(K.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(K.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(K.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(K.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(K.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(K.Big5,28,"Big5"),j.GB18030=new j(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(K.EUC_KR,30,"EUC_KR","EUC-KR");class te extends c{}te.kind="UnsupportedOperationException";class G{static decode(A,x){const v=this.encodingName(x);return this.customDecoder?this.customDecoder(A,v):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(v)?this.decodeFallback(A,v):new TextDecoder(v).decode(A)}static shouldDecodeOnFallback(A){return!G.isBrowser()&&A==="ISO-8859-1"}static encode(A,x){const v=this.encodingName(x);return this.customEncoder?this.customEncoder(A,v):typeof TextEncoder>"u"?this.encodeFallback(A):new TextEncoder().encode(A)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(A){return typeof A=="string"?A:A.getName()}static encodingCharacterSet(A){return A instanceof j?A:j.getCharacterSetECIByName(A)}static decodeFallback(A,x){const v=this.encodingCharacterSet(x);if(G.isDecodeFallbackSupported(v)){let S="";for(let E=0,I=A.length;E<I;E++){let D=A[E].toString(16);D.length<2&&(D="0"+D),S+="%"+D}return decodeURIComponent(S)}if(v.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(A.buffer));throw new te(`Encoding ${this.encodingName(x)} not supported by fallback.`)}static isDecodeFallbackSupported(A){return A.equals(j.UTF8)||A.equals(j.ISO8859_1)||A.equals(j.ASCII)}static encodeFallback(A){const v=btoa(unescape(encodeURIComponent(A))).split(""),S=[];for(let E=0;E<v.length;E++)S.push(v[E].charCodeAt(0));return new Uint8Array(S)}}class V{static castAsNonUtf8Char(A,x=null){const v=x?x.getName():this.ISO88591;return G.decode(new Uint8Array([A]),v)}static guessEncoding(A,x){if(x!=null&&x.get(O.CHARACTER_SET)!==void 0)return x.get(O.CHARACTER_SET).toString();const v=A.length;let S=!0,E=!0,I=!0,D=0,W=0,Z=0,de=0,be=0,Ie=0,ze=0,Je=0,tt=0,pt=0,Bt=0;const qt=A.length>3&&A[0]===239&&A[1]===187&&A[2]===191;for(let $t=0;$t<v&&(S||E||I);$t++){const Wt=A[$t]&255;I&&(D>0?(Wt&128)===0?I=!1:D--:(Wt&128)!==0&&((Wt&64)===0?I=!1:(D++,(Wt&32)===0?W++:(D++,(Wt&16)===0?Z++:(D++,(Wt&8)===0?de++:I=!1))))),S&&(Wt>127&&Wt<160?S=!1:Wt>159&&(Wt<192||Wt===215||Wt===247)&&Bt++),E&&(be>0?Wt<64||Wt===127||Wt>252?E=!1:be--:Wt===128||Wt===160||Wt>239?E=!1:Wt>160&&Wt<224?(Ie++,Je=0,ze++,ze>tt&&(tt=ze)):Wt>127?(be++,ze=0,Je++,Je>pt&&(pt=Je)):(ze=0,Je=0))}return I&&D>0&&(I=!1),E&&be>0&&(E=!1),I&&(qt||W+Z+de>0)?V.UTF8:E&&(V.ASSUME_SHIFT_JIS||tt>=3||pt>=3)?V.SHIFT_JIS:S&&E?tt===2&&Ie===2||Bt*10>=v?V.SHIFT_JIS:V.ISO88591:S?V.ISO88591:E?V.SHIFT_JIS:I?V.UTF8:V.PLATFORM_DEFAULT_ENCODING}static format(A,...x){let v=-1;function S(I,D,W,Z,de,be){if(I==="%%")return"%";if(x[++v]===void 0)return;I=Z?parseInt(Z.substr(1)):void 0;let Ie=de?parseInt(de.substr(1)):void 0,ze;switch(be){case"s":ze=x[v];break;case"c":ze=x[v][0];break;case"f":ze=parseFloat(x[v]).toFixed(I);break;case"p":ze=parseFloat(x[v]).toPrecision(I);break;case"e":ze=parseFloat(x[v]).toExponential(I);break;case"x":ze=parseInt(x[v]).toString(Ie||16);break;case"d":ze=parseFloat(parseInt(x[v],Ie||10).toPrecision(I)).toFixed(0);break}ze=typeof ze=="object"?JSON.stringify(ze):(+ze).toString(Ie);let Je=parseInt(W),tt=W&&W[0]+""=="0"?"0":" ";for(;ze.length<Je;)ze=D!==void 0?ze+tt:tt+ze;return ze}let E=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return A.replace(E,S)}static getBytes(A,x){return G.encode(A,x)}static getCharCode(A,x=0){return A.charCodeAt(x)}static getCharAt(A){return String.fromCharCode(A)}}V.SHIFT_JIS=j.SJIS.getName(),V.GB2312="GB2312",V.ISO88591=j.ISO8859_1.getName(),V.EUC_JP="EUC_JP",V.UTF8=j.UTF8.getName(),V.PLATFORM_DEFAULT_ENCODING=V.UTF8,V.ASSUME_SHIFT_JIS=!1;class re{constructor(A=""){this.value=A}enableDecoding(A){return this.encoding=A,this}append(A){return typeof A=="string"?this.value+=A.toString():this.encoding?this.value+=V.castAsNonUtf8Char(A,this.encoding):this.value+=String.fromCharCode(A),this}appendChars(A,x,v){for(let S=x;x<x+v;S++)this.append(A[S]);return this}length(){return this.value.length}charAt(A){return this.value.charAt(A)}deleteCharAt(A){this.value=this.value.substr(0,A)+this.value.substring(A+1)}setCharAt(A,x){this.value=this.value.substr(0,A)+x+this.value.substr(A+1)}substring(A,x){return this.value.substring(A,x)}setLengthToZero(){this.value=""}toString(){return this.value}insert(A,x){this.value=this.value.substr(0,A)+x+this.value.substr(A+x.length)}}class ee{constructor(A,x,v,S){if(this.width=A,this.height=x,this.rowSize=v,this.bits=S,x==null&&(x=A),this.height=x,A<1||x<1)throw new f("Both dimensions must be greater than 0");v==null&&(v=Math.floor((A+31)/32)),this.rowSize=v,S==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(A){const x=A.length,v=A[0].length,S=new ee(v,x);for(let E=0;E<x;E++){const I=A[E];for(let D=0;D<v;D++)I[D]&&S.set(D,E)}return S}static parseFromString(A,x,v){if(A===null)throw new f("stringRepresentation cannot be null");const S=new Array(A.length);let E=0,I=0,D=-1,W=0,Z=0;for(;Z<A.length;)if(A.charAt(Z)===`
`||A.charAt(Z)==="\r"){if(E>I){if(D===-1)D=E-I;else if(E-I!==D)throw new f("row lengths do not match");I=E,W++}Z++}else if(A.substring(Z,Z+x.length)===x)Z+=x.length,S[E]=!0,E++;else if(A.substring(Z,Z+v.length)===v)Z+=v.length,S[E]=!1,E++;else throw new f("illegal character encountered: "+A.substring(Z));if(E>I){if(D===-1)D=E-I;else if(E-I!==D)throw new f("row lengths do not match");W++}const de=new ee(D,W);for(let be=0;be<E;be++)S[be]&&de.set(Math.floor(be%D),Math.floor(be/D));return de}get(A,x){const v=x*this.rowSize+Math.floor(A/32);return(this.bits[v]>>>(A&31)&1)!==0}set(A,x){const v=x*this.rowSize+Math.floor(A/32);this.bits[v]|=1<<(A&31)&4294967295}unset(A,x){const v=x*this.rowSize+Math.floor(A/32);this.bits[v]&=~(1<<(A&31)&4294967295)}flip(A,x){const v=x*this.rowSize+Math.floor(A/32);this.bits[v]^=1<<(A&31)&4294967295}xor(A){if(this.width!==A.getWidth()||this.height!==A.getHeight()||this.rowSize!==A.getRowSize())throw new f("input matrix dimensions do not match");const x=new P(Math.floor(this.width/32)+1),v=this.rowSize,S=this.bits;for(let E=0,I=this.height;E<I;E++){const D=E*v,W=A.getRow(E,x).getBitArray();for(let Z=0;Z<v;Z++)S[D+Z]^=W[Z]}}clear(){const A=this.bits,x=A.length;for(let v=0;v<x;v++)A[v]=0}setRegion(A,x,v,S){if(x<0||A<0)throw new f("Left and top must be nonnegative");if(S<1||v<1)throw new f("Height and width must be at least 1");const E=A+v,I=x+S;if(I>this.height||E>this.width)throw new f("The region must fit inside the matrix");const D=this.rowSize,W=this.bits;for(let Z=x;Z<I;Z++){const de=Z*D;for(let be=A;be<E;be++)W[de+Math.floor(be/32)]|=1<<(be&31)&4294967295}}getRow(A,x){x==null||x.getSize()<this.width?x=new P(this.width):x.clear();const v=this.rowSize,S=this.bits,E=A*v;for(let I=0;I<v;I++)x.setBulk(I*32,S[E+I]);return x}setRow(A,x){y.arraycopy(x.getBitArray(),0,this.bits,A*this.rowSize,this.rowSize)}rotate180(){const A=this.getWidth(),x=this.getHeight();let v=new P(A),S=new P(A);for(let E=0,I=Math.floor((x+1)/2);E<I;E++)v=this.getRow(E,v),S=this.getRow(x-1-E,S),v.reverse(),S.reverse(),this.setRow(E,S),this.setRow(x-1-E,v)}getEnclosingRectangle(){const A=this.width,x=this.height,v=this.rowSize,S=this.bits;let E=A,I=x,D=-1,W=-1;for(let Z=0;Z<x;Z++)for(let de=0;de<v;de++){const be=S[Z*v+de];if(be!==0){if(Z<I&&(I=Z),Z>W&&(W=Z),de*32<E){let Ie=0;for(;(be<<31-Ie&4294967295)===0;)Ie++;de*32+Ie<E&&(E=de*32+Ie)}if(de*32+31>D){let Ie=31;for(;!(be>>>Ie);)Ie--;de*32+Ie>D&&(D=de*32+Ie)}}}return D<E||W<I?null:Int32Array.from([E,I,D-E+1,W-I+1])}getTopLeftOnBit(){const A=this.rowSize,x=this.bits;let v=0;for(;v<x.length&&x[v]===0;)v++;if(v===x.length)return null;const S=v/A;let E=v%A*32;const I=x[v];let D=0;for(;(I<<31-D&4294967295)===0;)D++;return E+=D,Int32Array.from([E,S])}getBottomRightOnBit(){const A=this.rowSize,x=this.bits;let v=x.length-1;for(;v>=0&&x[v]===0;)v--;if(v<0)return null;const S=Math.floor(v/A);let E=Math.floor(v%A)*32;const I=x[v];let D=31;for(;!(I>>>D);)D--;return E+=D,Int32Array.from([E,S])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(A){if(!(A instanceof ee))return!1;const x=A;return this.width===x.width&&this.height===x.height&&this.rowSize===x.rowSize&&k.equals(this.bits,x.bits)}hashCode(){let A=this.width;return A=31*A+this.width,A=31*A+this.height,A=31*A+this.rowSize,A=31*A+k.hashCode(this.bits),A}toString(A="X ",x="  ",v=`
`){return this.buildToString(A,x,v)}buildToString(A,x,v){let S=new re;for(let E=0,I=this.height;E<I;E++){for(let D=0,W=this.width;D<W;D++)S.append(this.get(D,E)?A:x);S.append(v)}return S.toString()}clone(){return new ee(this.width,this.height,this.rowSize,this.bits.slice())}}class ie extends c{static getNotFoundInstance(){return new ie}}ie.kind="NotFoundException";class ue extends w{constructor(A){super(A),this.luminances=ue.EMPTY,this.buckets=new Int32Array(ue.LUMINANCE_BUCKETS)}getBlackRow(A,x){const v=this.getLuminanceSource(),S=v.getWidth();x==null||x.getSize()<S?x=new P(S):x.clear(),this.initArrays(S);const E=v.getRow(A,this.luminances),I=this.buckets;for(let W=0;W<S;W++)I[(E[W]&255)>>ue.LUMINANCE_SHIFT]++;const D=ue.estimateBlackPoint(I);if(S<3)for(let W=0;W<S;W++)(E[W]&255)<D&&x.set(W);else{let W=E[0]&255,Z=E[1]&255;for(let de=1;de<S-1;de++){const be=E[de+1]&255;(Z*4-W-be)/2<D&&x.set(de),W=Z,Z=be}}return x}getBlackMatrix(){const A=this.getLuminanceSource(),x=A.getWidth(),v=A.getHeight(),S=new ee(x,v);this.initArrays(x);const E=this.buckets;for(let W=1;W<5;W++){const Z=Math.floor(v*W/5),de=A.getRow(Z,this.luminances),be=Math.floor(x*4/5);for(let Ie=Math.floor(x/5);Ie<be;Ie++){const ze=de[Ie]&255;E[ze>>ue.LUMINANCE_SHIFT]++}}const I=ue.estimateBlackPoint(E),D=A.getMatrix();for(let W=0;W<v;W++){const Z=W*x;for(let de=0;de<x;de++)(D[Z+de]&255)<I&&S.set(de,W)}return S}createBinarizer(A){return new ue(A)}initArrays(A){this.luminances.length<A&&(this.luminances=new Uint8ClampedArray(A));const x=this.buckets;for(let v=0;v<ue.LUMINANCE_BUCKETS;v++)x[v]=0}static estimateBlackPoint(A){const x=A.length;let v=0,S=0,E=0;for(let de=0;de<x;de++)A[de]>E&&(S=de,E=A[de]),A[de]>v&&(v=A[de]);let I=0,D=0;for(let de=0;de<x;de++){const be=de-S,Ie=A[de]*be*be;Ie>D&&(I=de,D=Ie)}if(S>I){const de=S;S=I,I=de}if(I-S<=x/16)throw new ie;let W=I-1,Z=-1;for(let de=I-1;de>S;de--){const be=de-S,Ie=be*be*(I-de)*(v-A[de]);Ie>Z&&(W=de,Z=Ie)}return W<<ue.LUMINANCE_SHIFT}}ue.LUMINANCE_BITS=5,ue.LUMINANCE_SHIFT=8-ue.LUMINANCE_BITS,ue.LUMINANCE_BUCKETS=1<<ue.LUMINANCE_BITS,ue.EMPTY=Uint8ClampedArray.from([0]);class le extends ue{constructor(A){super(A),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const A=this.getLuminanceSource(),x=A.getWidth(),v=A.getHeight();if(x>=le.MINIMUM_DIMENSION&&v>=le.MINIMUM_DIMENSION){const S=A.getMatrix();let E=x>>le.BLOCK_SIZE_POWER;(x&le.BLOCK_SIZE_MASK)!==0&&E++;let I=v>>le.BLOCK_SIZE_POWER;(v&le.BLOCK_SIZE_MASK)!==0&&I++;const D=le.calculateBlackPoints(S,E,I,x,v),W=new ee(x,v);le.calculateThresholdForBlock(S,E,I,x,v,D,W),this.matrix=W}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(A){return new le(A)}static calculateThresholdForBlock(A,x,v,S,E,I,D){const W=E-le.BLOCK_SIZE,Z=S-le.BLOCK_SIZE;for(let de=0;de<v;de++){let be=de<<le.BLOCK_SIZE_POWER;be>W&&(be=W);const Ie=le.cap(de,2,v-3);for(let ze=0;ze<x;ze++){let Je=ze<<le.BLOCK_SIZE_POWER;Je>Z&&(Je=Z);const tt=le.cap(ze,2,x-3);let pt=0;for(let qt=-2;qt<=2;qt++){const $t=I[Ie+qt];pt+=$t[tt-2]+$t[tt-1]+$t[tt]+$t[tt+1]+$t[tt+2]}const Bt=pt/25;le.thresholdBlock(A,Je,be,Bt,S,D)}}}static cap(A,x,v){return A<x?x:A>v?v:A}static thresholdBlock(A,x,v,S,E,I){for(let D=0,W=v*E+x;D<le.BLOCK_SIZE;D++,W+=E)for(let Z=0;Z<le.BLOCK_SIZE;Z++)(A[W+Z]&255)<=S&&I.set(x+Z,v+D)}static calculateBlackPoints(A,x,v,S,E){const I=E-le.BLOCK_SIZE,D=S-le.BLOCK_SIZE,W=new Array(v);for(let Z=0;Z<v;Z++){W[Z]=new Int32Array(x);let de=Z<<le.BLOCK_SIZE_POWER;de>I&&(de=I);for(let be=0;be<x;be++){let Ie=be<<le.BLOCK_SIZE_POWER;Ie>D&&(Ie=D);let ze=0,Je=255,tt=0;for(let Bt=0,qt=de*S+Ie;Bt<le.BLOCK_SIZE;Bt++,qt+=S){for(let $t=0;$t<le.BLOCK_SIZE;$t++){const Wt=A[qt+$t]&255;ze+=Wt,Wt<Je&&(Je=Wt),Wt>tt&&(tt=Wt)}if(tt-Je>le.MIN_DYNAMIC_RANGE)for(Bt++,qt+=S;Bt<le.BLOCK_SIZE;Bt++,qt+=S)for(let $t=0;$t<le.BLOCK_SIZE;$t++)ze+=A[qt+$t]&255}let pt=ze>>le.BLOCK_SIZE_POWER*2;if(tt-Je<=le.MIN_DYNAMIC_RANGE&&(pt=Je/2,Z>0&&be>0)){const Bt=(W[Z-1][be]+2*W[Z][be-1]+W[Z-1][be-1])/4;Je<Bt&&(pt=Bt)}W[Z][be]=pt}}return W}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class xe{constructor(A,x){this.width=A,this.height=x}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(A,x,v,S){throw new te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new te("This luminance source does not support rotation by 45 degrees.")}toString(){const A=new Uint8ClampedArray(this.width);let x=new re;for(let v=0;v<this.height;v++){const S=this.getRow(v,A);for(let E=0;E<this.width;E++){const I=S[E]&255;let D;I<64?D="#":I<128?D="+":I<192?D=".":D=" ",x.append(D)}x.append(`
`)}return x.toString()}}class ge extends xe{constructor(A){super(A.getWidth(),A.getHeight()),this.delegate=A}getRow(A,x){const v=this.delegate.getRow(A,x),S=this.getWidth();for(let E=0;E<S;E++)v[E]=255-(v[E]&255);return v}getMatrix(){const A=this.delegate.getMatrix(),x=this.getWidth()*this.getHeight(),v=new Uint8ClampedArray(x);for(let S=0;S<x;S++)v[S]=255-(A[S]&255);return v}isCropSupported(){return this.delegate.isCropSupported()}crop(A,x,v,S){return new ge(this.delegate.crop(A,x,v,S))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class fe extends xe{constructor(A){super(A.width,A.height),this.canvas=A,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(A)}static makeBufferFromCanvasImageData(A){const x=A.getContext("2d").getImageData(0,0,A.width,A.height);return fe.toGrayscaleBuffer(x.data,A.width,A.height)}static toGrayscaleBuffer(A,x,v){const S=new Uint8ClampedArray(x*v);for(let E=0,I=0,D=A.length;E<D;E+=4,I++){let W;if(A[E+3]===0)W=255;else{const de=A[E],be=A[E+1],Ie=A[E+2];W=306*de+601*be+117*Ie+512>>10}S[I]=W}return S}getRow(A,x){if(A<0||A>=this.getHeight())throw new f("Requested row is outside the image: "+A);const v=this.getWidth(),S=A*v;return x===null?x=this.buffer.slice(S,S+v):(x.length<v&&(x=new Uint8ClampedArray(v)),x.set(this.buffer.slice(S,S+v))),x}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(A,x,v,S){return super.crop(A,x,v,S),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const A=this.canvas.ownerDocument.createElement("canvas");A.width=this.canvas.width,A.height=this.canvas.height,this.tempCanvasElement=A}return this.tempCanvasElement}rotate(A){const x=this.getTempCanvasElement(),v=x.getContext("2d"),S=A*fe.DEGREE_TO_RADIANS,E=this.canvas.width,I=this.canvas.height,D=Math.ceil(Math.abs(Math.cos(S))*E+Math.abs(Math.sin(S))*I),W=Math.ceil(Math.abs(Math.sin(S))*E+Math.abs(Math.cos(S))*I);return x.width=D,x.height=W,v.translate(D/2,W/2),v.rotate(S),v.drawImage(this.canvas,E/-2,I/-2),this.buffer=fe.makeBufferFromCanvasImageData(x),this}invert(){return new ge(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class ce{constructor(A,x,v){this.deviceId=A,this.label=x,this.kind="videoinput",this.groupId=v||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Q=(globalThis||DA||self||window||void 0)&&(globalThis||DA||self||window||void 0).__awaiter||function(we,A,x,v){function S(E){return E instanceof x?E:new x(function(I){I(E)})}return new(x||(x=Promise))(function(E,I){function D(de){try{Z(v.next(de))}catch(be){I(be)}}function W(de){try{Z(v.throw(de))}catch(be){I(be)}}function Z(de){de.done?E(de.value):S(de.value).then(D,W)}Z((v=v.apply(we,A||[])).next())})};class Y{constructor(A,x=500,v){this.reader=A,this.timeBetweenScansMillis=x,this._hints=v,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(A){this._timeBetweenDecodingAttempts=A<0?0:A}set hints(A){this._hints=A||null}get hints(){return this._hints}listVideoInputDevices(){return Q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const A=yield navigator.mediaDevices.enumerateDevices(),x=[];for(const v of A){const S=v.kind==="video"?"videoinput":v.kind;if(S!=="videoinput")continue;const E=v.deviceId||v.id,I=v.label||`Video device ${x.length+1}`,D=v.groupId,W={deviceId:E,label:I,kind:S,groupId:D};x.push(W)}return x})}getVideoInputDevices(){return Q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(x=>new ce(x.deviceId,x.label))})}findDeviceById(A){return Q(this,void 0,void 0,function*(){const x=yield this.listVideoInputDevices();return x?x.find(v=>v.deviceId===A):null})}decodeFromInputVideoDevice(A,x){return Q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(A,x)})}decodeOnceFromVideoDevice(A,x){return Q(this,void 0,void 0,function*(){this.reset();let v;A?v={deviceId:{exact:A}}:v={facingMode:"environment"};const S={video:v};return yield this.decodeOnceFromConstraints(S,x)})}decodeOnceFromConstraints(A,x){return Q(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(A);return yield this.decodeOnceFromStream(v,x)})}decodeOnceFromStream(A,x){return Q(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(A,x);return yield this.decodeOnce(v)})}decodeFromInputVideoDeviceContinuously(A,x,v){return Q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(A,x,v)})}decodeFromVideoDevice(A,x,v){return Q(this,void 0,void 0,function*(){let S;A?S={deviceId:{exact:A}}:S={facingMode:"environment"};const E={video:S};return yield this.decodeFromConstraints(E,x,v)})}decodeFromConstraints(A,x,v){return Q(this,void 0,void 0,function*(){const S=yield navigator.mediaDevices.getUserMedia(A);return yield this.decodeFromStream(S,x,v)})}decodeFromStream(A,x,v){return Q(this,void 0,void 0,function*(){this.reset();const S=yield this.attachStreamToVideo(A,x);return yield this.decodeContinuously(S,v)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(A,x){return Q(this,void 0,void 0,function*(){const v=this.prepareVideoElement(x);return this.addVideoSource(v,A),this.videoElement=v,this.stream=A,yield this.playVideoOnLoadAsync(v),v})}playVideoOnLoadAsync(A){return new Promise((x,v)=>this.playVideoOnLoad(A,()=>x()))}playVideoOnLoad(A,x){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(A),A.addEventListener("ended",this.videoEndedListener),A.addEventListener("canplay",this.videoCanPlayListener),A.addEventListener("playing",x),this.tryPlayVideo(A)}isVideoPlaying(A){return A.currentTime>0&&!A.paused&&!A.ended&&A.readyState>2}tryPlayVideo(A){return Q(this,void 0,void 0,function*(){if(this.isVideoPlaying(A)){console.warn("Trying to play video that is already playing.");return}try{yield A.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(A,x){const v=document.getElementById(A);if(!v)throw new d(`element with id '${A}' not found`);if(v.nodeName.toLowerCase()!==x.toLowerCase())throw new d(`element with id '${A}' must be an ${x} element`);return v}decodeFromImage(A,x){if(!A&&!x)throw new d("either imageElement with a src set or an url must be provided");return x&&!A?this.decodeFromImageUrl(x):this.decodeFromImageElement(A)}decodeFromVideo(A,x){if(!A&&!x)throw new d("Either an element with a src set or an URL must be provided");return x&&!A?this.decodeFromVideoUrl(x):this.decodeFromVideoElement(A)}decodeFromVideoContinuously(A,x,v){if(A===void 0&&x===void 0)throw new d("Either an element with a src set or an URL must be provided");return x&&!A?this.decodeFromVideoUrlContinuously(x,v):this.decodeFromVideoElementContinuously(A,v)}decodeFromImageElement(A){if(!A)throw new d("An image element must be provided.");this.reset();const x=this.prepareImageElement(A);this.imageElement=x;let v;return this.isImageLoaded(x)?v=this.decodeOnce(x,!1,!0):v=this._decodeOnLoadImage(x),v}decodeFromVideoElement(A){const x=this._decodeFromVideoElementSetup(A);return this._decodeOnLoadVideo(x)}decodeFromVideoElementContinuously(A,x){const v=this._decodeFromVideoElementSetup(A);return this._decodeOnLoadVideoContinuously(v,x)}_decodeFromVideoElementSetup(A){if(!A)throw new d("A video element must be provided.");this.reset();const x=this.prepareVideoElement(A);return this.videoElement=x,x}decodeFromImageUrl(A){if(!A)throw new d("An URL must be provided.");this.reset();const x=this.prepareImageElement();this.imageElement=x;const v=this._decodeOnLoadImage(x);return x.src=A,v}decodeFromVideoUrl(A){if(!A)throw new d("An URL must be provided.");this.reset();const x=this.prepareVideoElement(),v=this.decodeFromVideoElement(x);return x.src=A,v}decodeFromVideoUrlContinuously(A,x){if(!A)throw new d("An URL must be provided.");this.reset();const v=this.prepareVideoElement(),S=this.decodeFromVideoElementContinuously(v,x);return v.src=A,S}_decodeOnLoadImage(A){return new Promise((x,v)=>{this.imageLoadedListener=()=>this.decodeOnce(A,!1,!0).then(x,v),A.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(A){return Q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(A),yield this.decodeOnce(A)})}_decodeOnLoadVideoContinuously(A,x){return Q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(A),this.decodeContinuously(A,x)})}isImageLoaded(A){return!(!A.complete||A.naturalWidth===0)}prepareImageElement(A){let x;return typeof A>"u"&&(x=document.createElement("img"),x.width=200,x.height=200),typeof A=="string"&&(x=this.getMediaElement(A,"img")),A instanceof HTMLImageElement&&(x=A),x}prepareVideoElement(A){let x;return!A&&typeof document<"u"&&(x=document.createElement("video"),x.width=200,x.height=200),typeof A=="string"&&(x=this.getMediaElement(A,"video")),A instanceof HTMLVideoElement&&(x=A),x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x}decodeOnce(A,x=!0,v=!0){this._stopAsyncDecode=!1;const S=(E,I)=>{if(this._stopAsyncDecode){I(new ie("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const D=this.decode(A);E(D)}catch(D){const W=x&&D instanceof ie,de=(D instanceof m||D instanceof L)&&v;if(W||de)return setTimeout(S,this._timeBetweenDecodingAttempts,E,I);I(D)}};return new Promise((E,I)=>S(E,I))}decodeContinuously(A,x){this._stopContinuousDecode=!1;const v=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const S=this.decode(A);x(S,null),setTimeout(v,this.timeBetweenScansMillis)}catch(S){x(null,S);const E=S instanceof m||S instanceof L,I=S instanceof ie;(E||I)&&setTimeout(v,this._timeBetweenDecodingAttempts)}};v()}decode(A){const x=this.createBinaryBitmap(A);return this.decodeBitmap(x)}_isHTMLVideoElement(A){return A.videoWidth!==0}drawFrameOnCanvas(A,x,v){x||(x={sx:0,sy:0,sWidth:A.videoWidth,sHeight:A.videoHeight,dx:0,dy:0,dWidth:A.videoWidth,dHeight:A.videoHeight}),v||(v=this.captureCanvasContext),v.drawImage(A,x.sx,x.sy,x.sWidth,x.sHeight,x.dx,x.dy,x.dWidth,x.dHeight)}drawImageOnCanvas(A,x,v=this.captureCanvasContext){x||(x={sx:0,sy:0,sWidth:A.naturalWidth,sHeight:A.naturalHeight,dx:0,dy:0,dWidth:A.naturalWidth,dHeight:A.naturalHeight}),v||(v=this.captureCanvasContext),v.drawImage(A,x.sx,x.sy,x.sWidth,x.sHeight,x.dx,x.dy,x.dWidth,x.dHeight)}createBinaryBitmap(A){this.getCaptureCanvasContext(A),this._isHTMLVideoElement(A)?this.drawFrameOnCanvas(A):this.drawImageOnCanvas(A);const x=this.getCaptureCanvas(A),v=new fe(x),S=new le(v);return new p(S)}getCaptureCanvasContext(A){if(!this.captureCanvasContext){const v=this.getCaptureCanvas(A).getContext("2d");this.captureCanvasContext=v}return this.captureCanvasContext}getCaptureCanvas(A){if(!this.captureCanvas){const x=this.createCaptureCanvas(A);this.captureCanvas=x}return this.captureCanvas}decodeBitmap(A){return this.reader.decode(A,this._hints)}createCaptureCanvas(A){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const x=document.createElement("canvas");let v,S;return typeof A<"u"&&(A instanceof HTMLVideoElement?(v=A.videoWidth,S=A.videoHeight):A instanceof HTMLImageElement&&(v=A.naturalWidth||A.width,S=A.naturalHeight||A.height)),x.style.width=v+"px",x.style.height=S+"px",x.width=v,x.height=S,x}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(A=>A.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(A,x){try{A.srcObject=x}catch{A.src=URL.createObjectURL(x)}}cleanVideoSource(A){try{A.srcObject=null}catch{A.src=""}this.videoElement.removeAttribute("src")}}class X{constructor(A,x,v=x==null?0:8*x.length,S,E,I=y.currentTimeMillis()){this.text=A,this.rawBytes=x,this.numBits=v,this.resultPoints=S,this.format=E,this.timestamp=I,this.text=A,this.rawBytes=x,v==null?this.numBits=x==null?0:8*x.length:this.numBits=v,this.resultPoints=S,this.format=E,this.resultMetadata=null,I==null?this.timestamp=y.currentTimeMillis():this.timestamp=I}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(A,x){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(A,x)}putAllMetadata(A){A!==null&&(this.resultMetadata===null?this.resultMetadata=A:this.resultMetadata=new Map(A))}addResultPoints(A){const x=this.resultPoints;if(x===null)this.resultPoints=A;else if(A!==null&&A.length>0){const v=new Array(x.length+A.length);y.arraycopy(x,0,v,0,x.length),y.arraycopy(A,0,v,x.length,A.length),this.resultPoints=v}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ne;(function(we){we[we.AZTEC=0]="AZTEC",we[we.CODABAR=1]="CODABAR",we[we.CODE_39=2]="CODE_39",we[we.CODE_93=3]="CODE_93",we[we.CODE_128=4]="CODE_128",we[we.DATA_MATRIX=5]="DATA_MATRIX",we[we.EAN_8=6]="EAN_8",we[we.EAN_13=7]="EAN_13",we[we.ITF=8]="ITF",we[we.MAXICODE=9]="MAXICODE",we[we.PDF_417=10]="PDF_417",we[we.QR_CODE=11]="QR_CODE",we[we.RSS_14=12]="RSS_14",we[we.RSS_EXPANDED=13]="RSS_EXPANDED",we[we.UPC_A=14]="UPC_A",we[we.UPC_E=15]="UPC_E",we[we.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ne||(ne={}));var oe=ne,Ce;(function(we){we[we.OTHER=0]="OTHER",we[we.ORIENTATION=1]="ORIENTATION",we[we.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",we[we.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",we[we.ISSUE_NUMBER=4]="ISSUE_NUMBER",we[we.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",we[we.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",we[we.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",we[we.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",we[we.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",we[we.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ce||(Ce={}));var ke=Ce;class Ne{constructor(A,x,v,S,E=-1,I=-1){this.rawBytes=A,this.text=x,this.byteSegments=v,this.ecLevel=S,this.structuredAppendSequenceNumber=E,this.structuredAppendParity=I,this.numBits=A==null?0:8*A.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(A){this.numBits=A}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(A){this.errorsCorrected=A}getErasures(){return this.erasures}setErasures(A){this.erasures=A}getOther(){return this.other}setOther(A){this.other=A}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ue{exp(A){return this.expTable[A]}log(A){if(A===0)throw new f;return this.logTable[A]}static addOrSubtract(A,x){return A^x}}class Ye{constructor(A,x){if(x.length===0)throw new f;this.field=A;const v=x.length;if(v>1&&x[0]===0){let S=1;for(;S<v&&x[S]===0;)S++;S===v?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(v-S),y.arraycopy(x,S,this.coefficients,0,this.coefficients.length))}else this.coefficients=x}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(A){return this.coefficients[this.coefficients.length-1-A]}evaluateAt(A){if(A===0)return this.getCoefficient(0);const x=this.coefficients;let v;if(A===1){v=0;for(let I=0,D=x.length;I!==D;I++){const W=x[I];v=Ue.addOrSubtract(v,W)}return v}v=x[0];const S=x.length,E=this.field;for(let I=1;I<S;I++)v=Ue.addOrSubtract(E.multiply(A,v),x[I]);return v}addOrSubtract(A){if(!this.field.equals(A.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero())return A;if(A.isZero())return this;let x=this.coefficients,v=A.coefficients;if(x.length>v.length){const I=x;x=v,v=I}let S=new Int32Array(v.length);const E=v.length-x.length;y.arraycopy(v,0,S,0,E);for(let I=E;I<v.length;I++)S[I]=Ue.addOrSubtract(x[I-E],v[I]);return new Ye(this.field,S)}multiply(A){if(!this.field.equals(A.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero()||A.isZero())return this.field.getZero();const x=this.coefficients,v=x.length,S=A.coefficients,E=S.length,I=new Int32Array(v+E-1),D=this.field;for(let W=0;W<v;W++){const Z=x[W];for(let de=0;de<E;de++)I[W+de]=Ue.addOrSubtract(I[W+de],D.multiply(Z,S[de]))}return new Ye(D,I)}multiplyScalar(A){if(A===0)return this.field.getZero();if(A===1)return this;const x=this.coefficients.length,v=this.field,S=new Int32Array(x),E=this.coefficients;for(let I=0;I<x;I++)S[I]=v.multiply(E[I],A);return new Ye(v,S)}multiplyByMonomial(A,x){if(A<0)throw new f;if(x===0)return this.field.getZero();const v=this.coefficients,S=v.length,E=new Int32Array(S+A),I=this.field;for(let D=0;D<S;D++)E[D]=I.multiply(v[D],x);return new Ye(I,E)}divide(A){if(!this.field.equals(A.field))throw new f("GenericGFPolys do not have same GenericGF field");if(A.isZero())throw new f("Divide by 0");const x=this.field;let v=x.getZero(),S=this;const E=A.getCoefficient(A.getDegree()),I=x.inverse(E);for(;S.getDegree()>=A.getDegree()&&!S.isZero();){const D=S.getDegree()-A.getDegree(),W=x.multiply(S.getCoefficient(S.getDegree()),I),Z=A.multiplyByMonomial(D,W),de=x.buildMonomial(D,W);v=v.addOrSubtract(de),S=S.addOrSubtract(Z)}return[v,S]}toString(){let A="";for(let x=this.getDegree();x>=0;x--){let v=this.getCoefficient(x);if(v!==0){if(v<0?(A+=" - ",v=-v):A.length>0&&(A+=" + "),x===0||v!==1){const S=this.field.log(v);S===0?A+="1":S===1?A+="a":(A+="a^",A+=S)}x!==0&&(x===1?A+="x":(A+="x^",A+=x))}}return A}}class ve extends c{}ve.kind="ArithmeticException";class gt extends Ue{constructor(A,x,v){super(),this.primitive=A,this.size=x,this.generatorBase=v;const S=new Int32Array(x);let E=1;for(let D=0;D<x;D++)S[D]=E,E*=2,E>=x&&(E^=A,E&=x-1);this.expTable=S;const I=new Int32Array(x);for(let D=0;D<x-1;D++)I[S[D]]=D;this.logTable=I,this.zero=new Ye(this,Int32Array.from([0])),this.one=new Ye(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(A,x){if(A<0)throw new f;if(x===0)return this.zero;const v=new Int32Array(A+1);return v[0]=x,new Ye(this,v)}inverse(A){if(A===0)throw new ve;return this.expTable[this.size-this.logTable[A]-1]}multiply(A,x){return A===0||x===0?0:this.expTable[(this.logTable[A]+this.logTable[x])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(A){return A===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class yt extends c{}yt.kind="ReedSolomonException";class Fe extends c{}Fe.kind="IllegalStateException";class Nt{constructor(A){this.field=A}decode(A,x){const v=this.field,S=new Ye(v,A),E=new Int32Array(x);let I=!0;for(let ze=0;ze<x;ze++){const Je=S.evaluateAt(v.exp(ze+v.getGeneratorBase()));E[E.length-1-ze]=Je,Je!==0&&(I=!1)}if(I)return;const D=new Ye(v,E),W=this.runEuclideanAlgorithm(v.buildMonomial(x,1),D,x),Z=W[0],de=W[1],be=this.findErrorLocations(Z),Ie=this.findErrorMagnitudes(de,be);for(let ze=0;ze<be.length;ze++){const Je=A.length-1-v.log(be[ze]);if(Je<0)throw new yt("Bad error location");A[Je]=gt.addOrSubtract(A[Je],Ie[ze])}}runEuclideanAlgorithm(A,x,v){if(A.getDegree()<x.getDegree()){const ze=A;A=x,x=ze}const S=this.field;let E=A,I=x,D=S.getZero(),W=S.getOne();for(;I.getDegree()>=(v/2|0);){let ze=E,Je=D;if(E=I,D=W,E.isZero())throw new yt("r_{i-1} was zero");I=ze;let tt=S.getZero();const pt=E.getCoefficient(E.getDegree()),Bt=S.inverse(pt);for(;I.getDegree()>=E.getDegree()&&!I.isZero();){const qt=I.getDegree()-E.getDegree(),$t=S.multiply(I.getCoefficient(I.getDegree()),Bt);tt=tt.addOrSubtract(S.buildMonomial(qt,$t)),I=I.addOrSubtract(E.multiplyByMonomial(qt,$t))}if(W=tt.multiply(D).addOrSubtract(Je),I.getDegree()>=E.getDegree())throw new Fe("Division algorithm failed to reduce polynomial?")}const Z=W.getCoefficient(0);if(Z===0)throw new yt("sigmaTilde(0) was zero");const de=S.inverse(Z),be=W.multiplyScalar(de),Ie=I.multiplyScalar(de);return[be,Ie]}findErrorLocations(A){const x=A.getDegree();if(x===1)return Int32Array.from([A.getCoefficient(1)]);const v=new Int32Array(x);let S=0;const E=this.field;for(let I=1;I<E.getSize()&&S<x;I++)A.evaluateAt(I)===0&&(v[S]=E.inverse(I),S++);if(S!==x)throw new yt("Error locator degree does not match number of roots");return v}findErrorMagnitudes(A,x){const v=x.length,S=new Int32Array(v),E=this.field;for(let I=0;I<v;I++){const D=E.inverse(x[I]);let W=1;for(let Z=0;Z<v;Z++)if(I!==Z){const de=E.multiply(x[Z],D),be=(de&1)===0?de|1:de&-2;W=E.multiply(W,be)}S[I]=E.multiply(A.evaluateAt(D),E.inverse(W)),E.getGeneratorBase()!==0&&(S[I]=E.multiply(S[I],D))}return S}}var nt;(function(we){we[we.UPPER=0]="UPPER",we[we.LOWER=1]="LOWER",we[we.MIXED=2]="MIXED",we[we.DIGIT=3]="DIGIT",we[we.PUNCT=4]="PUNCT",we[we.BINARY=5]="BINARY"})(nt||(nt={}));class Ct{decode(A){this.ddata=A;let x=A.getBits(),v=this.extractBits(x),S=this.correctBits(v),E=Ct.convertBoolArrayToByteArray(S),I=Ct.getEncodedData(S),D=new Ne(E,I,null,null);return D.setNumBits(S.length),D}static highLevelDecode(A){return this.getEncodedData(A)}static getEncodedData(A){let x=A.length,v=nt.UPPER,S=nt.UPPER,E="",I=0;for(;I<x;)if(S===nt.BINARY){if(x-I<5)break;let D=Ct.readCode(A,I,5);if(I+=5,D===0){if(x-I<11)break;D=Ct.readCode(A,I,11)+31,I+=11}for(let W=0;W<D;W++){if(x-I<8){I=x;break}const Z=Ct.readCode(A,I,8);E+=V.castAsNonUtf8Char(Z),I+=8}S=v}else{let D=S===nt.DIGIT?4:5;if(x-I<D)break;let W=Ct.readCode(A,I,D);I+=D;let Z=Ct.getCharacter(S,W);Z.startsWith("CTRL_")?(v=S,S=Ct.getTable(Z.charAt(5)),Z.charAt(6)==="L"&&(v=S)):(E+=Z,S=v)}return E}static getTable(A){switch(A){case"L":return nt.LOWER;case"P":return nt.PUNCT;case"M":return nt.MIXED;case"D":return nt.DIGIT;case"B":return nt.BINARY;case"U":default:return nt.UPPER}}static getCharacter(A,x){switch(A){case nt.UPPER:return Ct.UPPER_TABLE[x];case nt.LOWER:return Ct.LOWER_TABLE[x];case nt.MIXED:return Ct.MIXED_TABLE[x];case nt.PUNCT:return Ct.PUNCT_TABLE[x];case nt.DIGIT:return Ct.DIGIT_TABLE[x];default:throw new Fe("Bad table")}}correctBits(A){let x,v;this.ddata.getNbLayers()<=2?(v=6,x=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(v=8,x=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(v=10,x=gt.AZTEC_DATA_10):(v=12,x=gt.AZTEC_DATA_12);let S=this.ddata.getNbDatablocks(),E=A.length/v;if(E<S)throw new L;let I=A.length%v,D=new Int32Array(E);for(let Ie=0;Ie<E;Ie++,I+=v)D[Ie]=Ct.readCode(A,I,v);try{new Nt(x).decode(D,E-S)}catch(Ie){throw new L(Ie)}let W=(1<<v)-1,Z=0;for(let Ie=0;Ie<S;Ie++){let ze=D[Ie];if(ze===0||ze===W)throw new L;(ze===1||ze===W-1)&&Z++}let de=new Array(S*v-Z),be=0;for(let Ie=0;Ie<S;Ie++){let ze=D[Ie];if(ze===1||ze===W-1)de.fill(ze>1,be,be+v-1),be+=v-1;else for(let Je=v-1;Je>=0;--Je)de[be++]=(ze&1<<Je)!==0}return de}extractBits(A){let x=this.ddata.isCompact(),v=this.ddata.getNbLayers(),S=(x?11:14)+v*4,E=new Int32Array(S),I=new Array(this.totalBitsInLayer(v,x));if(x)for(let D=0;D<E.length;D++)E[D]=D;else{let D=S+1+2*R.truncDivision(R.truncDivision(S,2)-1,15),W=S/2,Z=R.truncDivision(D,2);for(let de=0;de<W;de++){let be=de+R.truncDivision(de,15);E[W-de-1]=Z-be-1,E[W+de]=Z+be+1}}for(let D=0,W=0;D<v;D++){let Z=(v-D)*4+(x?9:12),de=D*2,be=S-1-de;for(let Ie=0;Ie<Z;Ie++){let ze=Ie*2;for(let Je=0;Je<2;Je++)I[W+ze+Je]=A.get(E[de+Je],E[de+Ie]),I[W+2*Z+ze+Je]=A.get(E[de+Ie],E[be-Je]),I[W+4*Z+ze+Je]=A.get(E[be-Je],E[be-Ie]),I[W+6*Z+ze+Je]=A.get(E[be-Ie],E[de+Je])}W+=Z*8}return I}static readCode(A,x,v){let S=0;for(let E=x;E<x+v;E++)S<<=1,A[E]&&(S|=1);return S}static readByte(A,x){let v=A.length-x;return v>=8?Ct.readCode(A,x,8):Ct.readCode(A,x,v)<<8-v}static convertBoolArrayToByteArray(A){let x=new Uint8Array((A.length+7)/8);for(let v=0;v<x.length;v++)x[v]=Ct.readByte(A,8*v);return x}totalBitsInLayer(A,x){return((x?88:112)+16*A)*A}}Ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(A){return A===NaN?0:A<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:A>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:A+(A<0?-.5:.5)|0}static distance(A,x,v,S){const E=A-v,I=x-S;return Math.sqrt(E*E+I*I)}static sum(A){let x=0;for(let v=0,S=A.length;v!==S;v++){const E=A[v];x+=E}return x}}class Qt{static floatToIntBits(A){return A}}Qt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ot{constructor(A,x){this.x=A,this.y=x}getX(){return this.x}getY(){return this.y}equals(A){if(A instanceof ot){const x=A;return this.x===x.x&&this.y===x.y}return!1}hashCode(){return 31*Qt.floatToIntBits(this.x)+Qt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(A){const x=this.distance(A[0],A[1]),v=this.distance(A[1],A[2]),S=this.distance(A[0],A[2]);let E,I,D;if(v>=x&&v>=S?(I=A[0],E=A[1],D=A[2]):S>=v&&S>=x?(I=A[1],E=A[0],D=A[2]):(I=A[2],E=A[0],D=A[1]),this.crossProductZ(E,I,D)<0){const W=E;E=D,D=W}A[0]=E,A[1]=I,A[2]=D}static distance(A,x){return lt.distance(A.x,A.y,x.x,x.y)}static crossProductZ(A,x,v){const S=x.x,E=x.y;return(v.x-S)*(A.y-E)-(v.y-E)*(A.x-S)}}class An{constructor(A,x){this.bits=A,this.points=x}getBits(){return this.bits}getPoints(){return this.points}}class bn extends An{constructor(A,x,v,S,E){super(A,x),this.compact=v,this.nbDatablocks=S,this.nbLayers=E}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Cn{constructor(A,x,v,S){this.image=A,this.height=A.getHeight(),this.width=A.getWidth(),x==null&&(x=Cn.INIT_SIZE),v==null&&(v=A.getWidth()/2|0),S==null&&(S=A.getHeight()/2|0);const E=x/2|0;if(this.leftInit=v-E,this.rightInit=v+E,this.upInit=S-E,this.downInit=S+E,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}detect(){let A=this.leftInit,x=this.rightInit,v=this.upInit,S=this.downInit,E=!1,I=!0,D=!1,W=!1,Z=!1,de=!1,be=!1;const Ie=this.width,ze=this.height;for(;I;){I=!1;let Je=!0;for(;(Je||!W)&&x<Ie;)Je=this.containsBlackPoint(v,S,x,!1),Je?(x++,I=!0,W=!0):W||x++;if(x>=Ie){E=!0;break}let tt=!0;for(;(tt||!Z)&&S<ze;)tt=this.containsBlackPoint(A,x,S,!0),tt?(S++,I=!0,Z=!0):Z||S++;if(S>=ze){E=!0;break}let pt=!0;for(;(pt||!de)&&A>=0;)pt=this.containsBlackPoint(v,S,A,!1),pt?(A--,I=!0,de=!0):de||A--;if(A<0){E=!0;break}let Bt=!0;for(;(Bt||!be)&&v>=0;)Bt=this.containsBlackPoint(A,x,v,!0),Bt?(v--,I=!0,be=!0):be||v--;if(v<0){E=!0;break}I&&(D=!0)}if(!E&&D){const Je=x-A;let tt=null;for(let $t=1;tt===null&&$t<Je;$t++)tt=this.getBlackPointOnSegment(A,S-$t,A+$t,S);if(tt==null)throw new ie;let pt=null;for(let $t=1;pt===null&&$t<Je;$t++)pt=this.getBlackPointOnSegment(A,v+$t,A+$t,v);if(pt==null)throw new ie;let Bt=null;for(let $t=1;Bt===null&&$t<Je;$t++)Bt=this.getBlackPointOnSegment(x,v+$t,x-$t,v);if(Bt==null)throw new ie;let qt=null;for(let $t=1;qt===null&&$t<Je;$t++)qt=this.getBlackPointOnSegment(x,S-$t,x-$t,S);if(qt==null)throw new ie;return this.centerEdges(qt,tt,Bt,pt)}else throw new ie}getBlackPointOnSegment(A,x,v,S){const E=lt.round(lt.distance(A,x,v,S)),I=(v-A)/E,D=(S-x)/E,W=this.image;for(let Z=0;Z<E;Z++){const de=lt.round(A+Z*I),be=lt.round(x+Z*D);if(W.get(de,be))return new ot(de,be)}return null}centerEdges(A,x,v,S){const E=A.getX(),I=A.getY(),D=x.getX(),W=x.getY(),Z=v.getX(),de=v.getY(),be=S.getX(),Ie=S.getY(),ze=Cn.CORR;return E<this.width/2?[new ot(be-ze,Ie+ze),new ot(D+ze,W+ze),new ot(Z-ze,de-ze),new ot(E+ze,I-ze)]:[new ot(be+ze,Ie+ze),new ot(D+ze,W-ze),new ot(Z-ze,de+ze),new ot(E-ze,I-ze)]}containsBlackPoint(A,x,v,S){const E=this.image;if(S){for(let I=A;I<=x;I++)if(E.get(I,v))return!0}else for(let I=A;I<=x;I++)if(E.get(v,I))return!0;return!1}}Cn.INIT_SIZE=10,Cn.CORR=1;class Vn{static checkAndNudgePoints(A,x){const v=A.getWidth(),S=A.getHeight();let E=!0;for(let I=0;I<x.length&&E;I+=2){const D=Math.floor(x[I]),W=Math.floor(x[I+1]);if(D<-1||D>v||W<-1||W>S)throw new ie;E=!1,D===-1?(x[I]=0,E=!0):D===v&&(x[I]=v-1,E=!0),W===-1?(x[I+1]=0,E=!0):W===S&&(x[I+1]=S-1,E=!0)}E=!0;for(let I=x.length-2;I>=0&&E;I-=2){const D=Math.floor(x[I]),W=Math.floor(x[I+1]);if(D<-1||D>v||W<-1||W>S)throw new ie;E=!1,D===-1?(x[I]=0,E=!0):D===v&&(x[I]=v-1,E=!0),W===-1?(x[I+1]=0,E=!0):W===S&&(x[I+1]=S-1,E=!0)}}}class Sn{constructor(A,x,v,S,E,I,D,W,Z){this.a11=A,this.a21=x,this.a31=v,this.a12=S,this.a22=E,this.a32=I,this.a13=D,this.a23=W,this.a33=Z}static quadrilateralToQuadrilateral(A,x,v,S,E,I,D,W,Z,de,be,Ie,ze,Je,tt,pt){const Bt=Sn.quadrilateralToSquare(A,x,v,S,E,I,D,W);return Sn.squareToQuadrilateral(Z,de,be,Ie,ze,Je,tt,pt).times(Bt)}transformPoints(A){const x=A.length,v=this.a11,S=this.a12,E=this.a13,I=this.a21,D=this.a22,W=this.a23,Z=this.a31,de=this.a32,be=this.a33;for(let Ie=0;Ie<x;Ie+=2){const ze=A[Ie],Je=A[Ie+1],tt=E*ze+W*Je+be;A[Ie]=(v*ze+I*Je+Z)/tt,A[Ie+1]=(S*ze+D*Je+de)/tt}}transformPointsWithValues(A,x){const v=this.a11,S=this.a12,E=this.a13,I=this.a21,D=this.a22,W=this.a23,Z=this.a31,de=this.a32,be=this.a33,Ie=A.length;for(let ze=0;ze<Ie;ze++){const Je=A[ze],tt=x[ze],pt=E*Je+W*tt+be;A[ze]=(v*Je+I*tt+Z)/pt,x[ze]=(S*Je+D*tt+de)/pt}}static squareToQuadrilateral(A,x,v,S,E,I,D,W){const Z=A-v+E-D,de=x-S+I-W;if(Z===0&&de===0)return new Sn(v-A,E-v,A,S-x,I-S,x,0,0,1);{const be=v-E,Ie=D-E,ze=S-I,Je=W-I,tt=be*Je-Ie*ze,pt=(Z*Je-Ie*de)/tt,Bt=(be*de-Z*ze)/tt;return new Sn(v-A+pt*v,D-A+Bt*D,A,S-x+pt*S,W-x+Bt*W,x,pt,Bt,1)}}static quadrilateralToSquare(A,x,v,S,E,I,D,W){return Sn.squareToQuadrilateral(A,x,v,S,E,I,D,W).buildAdjoint()}buildAdjoint(){return new Sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(A){return new Sn(this.a11*A.a11+this.a21*A.a12+this.a31*A.a13,this.a11*A.a21+this.a21*A.a22+this.a31*A.a23,this.a11*A.a31+this.a21*A.a32+this.a31*A.a33,this.a12*A.a11+this.a22*A.a12+this.a32*A.a13,this.a12*A.a21+this.a22*A.a22+this.a32*A.a23,this.a12*A.a31+this.a22*A.a32+this.a32*A.a33,this.a13*A.a11+this.a23*A.a12+this.a33*A.a13,this.a13*A.a21+this.a23*A.a22+this.a33*A.a23,this.a13*A.a31+this.a23*A.a32+this.a33*A.a33)}}class tr extends Vn{sampleGrid(A,x,v,S,E,I,D,W,Z,de,be,Ie,ze,Je,tt,pt,Bt,qt,$t){const Wt=Sn.quadrilateralToQuadrilateral(S,E,I,D,W,Z,de,be,Ie,ze,Je,tt,pt,Bt,qt,$t);return this.sampleGridWithTransform(A,x,v,Wt)}sampleGridWithTransform(A,x,v,S){if(x<=0||v<=0)throw new ie;const E=new ee(x,v),I=new Float32Array(2*x);for(let D=0;D<v;D++){const W=I.length,Z=D+.5;for(let de=0;de<W;de+=2)I[de]=de/2+.5,I[de+1]=Z;S.transformPoints(I),Vn.checkAndNudgePoints(A,I);try{for(let de=0;de<W;de+=2)A.get(Math.floor(I[de]),Math.floor(I[de+1]))&&E.set(de/2,D)}catch{throw new ie}}return E}}class xn{static setGridSampler(A){xn.gridSampler=A}static getInstance(){return xn.gridSampler}}xn.gridSampler=new tr;class Ht{constructor(A,x){this.x=A,this.y=x}toResultPoint(){return new ot(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class hn{constructor(A){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=A}detect(){return this.detectMirror(!1)}detectMirror(A){let x=this.getMatrixCenter(),v=this.getBullsEyeCorners(x);if(A){let I=v[0];v[0]=v[2],v[2]=I}this.extractParameters(v);let S=this.sampleGrid(this.image,v[this.shift%4],v[(this.shift+1)%4],v[(this.shift+2)%4],v[(this.shift+3)%4]),E=this.getMatrixCornerPoints(v);return new bn(S,E,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(A){if(!this.isValidPoint(A[0])||!this.isValidPoint(A[1])||!this.isValidPoint(A[2])||!this.isValidPoint(A[3]))throw new ie;let x=2*this.nbCenterLayers,v=new Int32Array([this.sampleLine(A[0],A[1],x),this.sampleLine(A[1],A[2],x),this.sampleLine(A[2],A[3],x),this.sampleLine(A[3],A[0],x)]);this.shift=this.getRotation(v,x);let S=0;for(let I=0;I<4;I++){let D=v[(this.shift+I)%4];this.compact?(S<<=7,S+=D>>1&127):(S<<=10,S+=(D>>2&992)+(D>>1&31))}let E=this.getCorrectedParameterData(S,this.compact);this.compact?(this.nbLayers=(E>>6)+1,this.nbDataBlocks=(E&63)+1):(this.nbLayers=(E>>11)+1,this.nbDataBlocks=(E&2047)+1)}getRotation(A,x){let v=0;A.forEach((S,E,I)=>{let D=(S>>x-2<<1)+(S&1);v=(v<<3)+D}),v=((v&1)<<11)+(v>>1);for(let S=0;S<4;S++)if(R.bitCount(v^this.EXPECTED_CORNER_BITS[S])<=2)return S;throw new ie}getCorrectedParameterData(A,x){let v,S;x?(v=7,S=2):(v=10,S=4);let E=v-S,I=new Int32Array(v);for(let W=v-1;W>=0;--W)I[W]=A&15,A>>=4;try{new Nt(gt.AZTEC_PARAM).decode(I,E)}catch{throw new ie}let D=0;for(let W=0;W<S;W++)D=(D<<4)+I[W];return D}getBullsEyeCorners(A){let x=A,v=A,S=A,E=A,I=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let be=this.getFirstDifferent(x,I,1,-1),Ie=this.getFirstDifferent(v,I,1,1),ze=this.getFirstDifferent(S,I,-1,1),Je=this.getFirstDifferent(E,I,-1,-1);if(this.nbCenterLayers>2){let tt=this.distancePoint(Je,be)*this.nbCenterLayers/(this.distancePoint(E,x)*(this.nbCenterLayers+2));if(tt<.75||tt>1.25||!this.isWhiteOrBlackRectangle(be,Ie,ze,Je))break}x=be,v=Ie,S=ze,E=Je,I=!I}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;let D=new ot(x.getX()+.5,x.getY()-.5),W=new ot(v.getX()+.5,v.getY()+.5),Z=new ot(S.getX()-.5,S.getY()+.5),de=new ot(E.getX()-.5,E.getY()-.5);return this.expandSquare([D,W,Z,de],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let A,x,v,S;try{let D=new Cn(this.image).detect();A=D[0],x=D[1],v=D[2],S=D[3]}catch{let W=this.image.getWidth()/2,Z=this.image.getHeight()/2;A=this.getFirstDifferent(new Ht(W+7,Z-7),!1,1,-1).toResultPoint(),x=this.getFirstDifferent(new Ht(W+7,Z+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Ht(W-7,Z+7),!1,-1,1).toResultPoint(),S=this.getFirstDifferent(new Ht(W-7,Z-7),!1,-1,-1).toResultPoint()}let E=lt.round((A.getX()+S.getX()+x.getX()+v.getX())/4),I=lt.round((A.getY()+S.getY()+x.getY()+v.getY())/4);try{let D=new Cn(this.image,15,E,I).detect();A=D[0],x=D[1],v=D[2],S=D[3]}catch{A=this.getFirstDifferent(new Ht(E+7,I-7),!1,1,-1).toResultPoint(),x=this.getFirstDifferent(new Ht(E+7,I+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Ht(E-7,I+7),!1,-1,1).toResultPoint(),S=this.getFirstDifferent(new Ht(E-7,I-7),!1,-1,-1).toResultPoint()}return E=lt.round((A.getX()+S.getX()+x.getX()+v.getX())/4),I=lt.round((A.getY()+S.getY()+x.getY()+v.getY())/4),new Ht(E,I)}getMatrixCornerPoints(A){return this.expandSquare(A,2*this.nbCenterLayers,this.getDimension())}sampleGrid(A,x,v,S,E){let I=xn.getInstance(),D=this.getDimension(),W=D/2-this.nbCenterLayers,Z=D/2+this.nbCenterLayers;return I.sampleGrid(A,D,D,W,W,Z,W,Z,Z,W,Z,x.getX(),x.getY(),v.getX(),v.getY(),S.getX(),S.getY(),E.getX(),E.getY())}sampleLine(A,x,v){let S=0,E=this.distanceResultPoint(A,x),I=E/v,D=A.getX(),W=A.getY(),Z=I*(x.getX()-A.getX())/E,de=I*(x.getY()-A.getY())/E;for(let be=0;be<v;be++)this.image.get(lt.round(D+be*Z),lt.round(W+be*de))&&(S|=1<<v-be-1);return S}isWhiteOrBlackRectangle(A,x,v,S){let E=3;A=new Ht(A.getX()-E,A.getY()+E),x=new Ht(x.getX()-E,x.getY()-E),v=new Ht(v.getX()+E,v.getY()-E),S=new Ht(S.getX()+E,S.getY()+E);let I=this.getColor(S,A);if(I===0)return!1;let D=this.getColor(A,x);return D!==I||(D=this.getColor(x,v),D!==I)?!1:(D=this.getColor(v,S),D===I)}getColor(A,x){let v=this.distancePoint(A,x),S=(x.getX()-A.getX())/v,E=(x.getY()-A.getY())/v,I=0,D=A.getX(),W=A.getY(),Z=this.image.get(A.getX(),A.getY()),de=Math.ceil(v);for(let Ie=0;Ie<de;Ie++)D+=S,W+=E,this.image.get(lt.round(D),lt.round(W))!==Z&&I++;let be=I/v;return be>.1&&be<.9?0:be<=.1===Z?1:-1}getFirstDifferent(A,x,v,S){let E=A.getX()+v,I=A.getY()+S;for(;this.isValid(E,I)&&this.image.get(E,I)===x;)E+=v,I+=S;for(E-=v,I-=S;this.isValid(E,I)&&this.image.get(E,I)===x;)E+=v;for(E-=v;this.isValid(E,I)&&this.image.get(E,I)===x;)I+=S;return I-=S,new Ht(E,I)}expandSquare(A,x,v){let S=v/(2*x),E=A[0].getX()-A[2].getX(),I=A[0].getY()-A[2].getY(),D=(A[0].getX()+A[2].getX())/2,W=(A[0].getY()+A[2].getY())/2,Z=new ot(D+S*E,W+S*I),de=new ot(D-S*E,W-S*I);E=A[1].getX()-A[3].getX(),I=A[1].getY()-A[3].getY(),D=(A[1].getX()+A[3].getX())/2,W=(A[1].getY()+A[3].getY())/2;let be=new ot(D+S*E,W+S*I),Ie=new ot(D-S*E,W-S*I);return[Z,be,de,Ie]}isValid(A,x){return A>=0&&A<this.image.getWidth()&&x>0&&x<this.image.getHeight()}isValidPoint(A){let x=lt.round(A.getX()),v=lt.round(A.getY());return this.isValid(x,v)}distancePoint(A,x){return lt.distance(A.getX(),A.getY(),x.getX(),x.getY())}distanceResultPoint(A,x){return lt.distance(A.getX(),A.getY(),x.getX(),x.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class rn{decode(A,x=null){let v=null,S=new hn(A.getBlackMatrix()),E=null,I=null;try{let de=S.detectMirror(!1);E=de.getPoints(),this.reportFoundResultPoints(x,E),I=new Ct().decode(de)}catch(de){v=de}if(I==null)try{let de=S.detectMirror(!0);E=de.getPoints(),this.reportFoundResultPoints(x,E),I=new Ct().decode(de)}catch(de){throw v??de}let D=new X(I.getText(),I.getRawBytes(),I.getNumBits(),E,oe.AZTEC,y.currentTimeMillis()),W=I.getByteSegments();W!=null&&D.putMetadata(ke.BYTE_SEGMENTS,W);let Z=I.getECLevel();return Z!=null&&D.putMetadata(ke.ERROR_CORRECTION_LEVEL,Z),D}reportFoundResultPoints(A,x){if(A!=null){let v=A.get(O.NEED_RESULT_POINT_CALLBACK);v!=null&&x.forEach((S,E,I)=>{v.foundPossibleResultPoint(S)})}}reset(){}}class br extends Y{constructor(A=500){super(new rn,A)}}class Tn{decode(A,x){try{return this.doDecode(A,x)}catch{if(x&&x.get(O.TRY_HARDER)===!0&&A.isRotateSupported()){const E=A.rotateCounterClockwise(),I=this.doDecode(E,x),D=I.getResultMetadata();let W=270;D!==null&&D.get(ke.ORIENTATION)===!0&&(W=W+D.get(ke.ORIENTATION)%360),I.putMetadata(ke.ORIENTATION,W);const Z=I.getResultPoints();if(Z!==null){const de=E.getHeight();for(let be=0;be<Z.length;be++)Z[be]=new ot(de-Z[be].getY()-1,Z[be].getX())}return I}else throw new ie}}reset(){}doDecode(A,x){const v=A.getWidth(),S=A.getHeight();let E=new P(v);const I=x&&x.get(O.TRY_HARDER)===!0,D=Math.max(1,S>>(I?8:5));let W;I?W=S:W=15;const Z=Math.trunc(S/2);for(let de=0;de<W;de++){const be=Math.trunc((de+1)/2),Ie=(de&1)===0,ze=Z+D*(Ie?be:-be);if(ze<0||ze>=S)break;try{E=A.getBlackRow(ze,E)}catch{continue}for(let Je=0;Je<2;Je++){if(Je===1&&(E.reverse(),x&&x.get(O.NEED_RESULT_POINT_CALLBACK)===!0)){const tt=new Map;x.forEach((pt,Bt)=>tt.set(Bt,pt)),tt.delete(O.NEED_RESULT_POINT_CALLBACK),x=tt}try{const tt=this.decodeRow(ze,E,x);if(Je===1){tt.putMetadata(ke.ORIENTATION,180);const pt=tt.getResultPoints();pt!==null&&(pt[0]=new ot(v-pt[0].getX()-1,pt[0].getY()),pt[1]=new ot(v-pt[1].getX()-1,pt[1].getY()))}return tt}catch{}}}throw new ie}static recordPattern(A,x,v){const S=v.length;for(let Z=0;Z<S;Z++)v[Z]=0;const E=A.getSize();if(x>=E)throw new ie;let I=!A.get(x),D=0,W=x;for(;W<E;){if(A.get(W)!==I)v[D]++;else{if(++D===S)break;v[D]=1,I=!I}W++}if(!(D===S||D===S-1&&W===E))throw new ie}static recordPatternInReverse(A,x,v){let S=v.length,E=A.get(x);for(;x>0&&S>=0;)A.get(--x)!==E&&(S--,E=!E);if(S>=0)throw new ie;Tn.recordPattern(A,x+1,v)}static patternMatchVariance(A,x,v){const S=A.length;let E=0,I=0;for(let Z=0;Z<S;Z++)E+=A[Z],I+=x[Z];if(E<I)return Number.POSITIVE_INFINITY;const D=E/I;v*=D;let W=0;for(let Z=0;Z<S;Z++){const de=A[Z],be=x[Z]*D,Ie=de>be?de-be:be-de;if(Ie>v)return Number.POSITIVE_INFINITY;W+=Ie}return W/E}}class ut extends Tn{static findStartPattern(A){const x=A.getSize(),v=A.getNextSet(0);let S=0,E=Int32Array.from([0,0,0,0,0,0]),I=v,D=!1;const W=6;for(let Z=v;Z<x;Z++)if(A.get(Z)!==D)E[S]++;else{if(S===W-1){let de=ut.MAX_AVG_VARIANCE,be=-1;for(let Ie=ut.CODE_START_A;Ie<=ut.CODE_START_C;Ie++){const ze=Tn.patternMatchVariance(E,ut.CODE_PATTERNS[Ie],ut.MAX_INDIVIDUAL_VARIANCE);ze<de&&(de=ze,be=Ie)}if(be>=0&&A.isRange(Math.max(0,I-(Z-I)/2),I,!1))return Int32Array.from([I,Z,be]);I+=E[0]+E[1],E=E.slice(2,E.length-1),E[S-1]=0,E[S]=0,S--}else S++;E[S]=1,D=!D}throw new ie}static decodeCode(A,x,v){Tn.recordPattern(A,v,x);let S=ut.MAX_AVG_VARIANCE,E=-1;for(let I=0;I<ut.CODE_PATTERNS.length;I++){const D=ut.CODE_PATTERNS[I],W=this.patternMatchVariance(x,D,ut.MAX_INDIVIDUAL_VARIANCE);W<S&&(S=W,E=I)}if(E>=0)return E;throw new ie}decodeRow(A,x,v){const S=v&&v.get(O.ASSUME_GS1)===!0,E=ut.findStartPattern(x),I=E[2];let D=0;const W=new Uint8Array(20);W[D++]=I;let Z;switch(I){case ut.CODE_START_A:Z=ut.CODE_CODE_A;break;case ut.CODE_START_B:Z=ut.CODE_CODE_B;break;case ut.CODE_START_C:Z=ut.CODE_CODE_C;break;default:throw new L}let de=!1,be=!1,Ie="",ze=E[0],Je=E[1];const tt=Int32Array.from([0,0,0,0,0,0]);let pt=0,Bt=0,qt=I,$t=0,Wt=!0,vr=!1,Er=!1;for(;!de;){const ou=be;switch(be=!1,pt=Bt,Bt=ut.decodeCode(x,tt,Je),W[D++]=Bt,Bt!==ut.CODE_STOP&&(Wt=!0),Bt!==ut.CODE_STOP&&($t++,qt+=$t*Bt),ze=Je,Je+=tt.reduce((b0,Yu)=>b0+Yu,0),Bt){case ut.CODE_START_A:case ut.CODE_START_B:case ut.CODE_START_C:throw new L}switch(Z){case ut.CODE_CODE_A:if(Bt<64)Er===vr?Ie+=String.fromCharCode(32+Bt):Ie+=String.fromCharCode(32+Bt+128),Er=!1;else if(Bt<96)Er===vr?Ie+=String.fromCharCode(Bt-64):Ie+=String.fromCharCode(Bt+64),Er=!1;else switch(Bt!==ut.CODE_STOP&&(Wt=!1),Bt){case ut.CODE_FNC_1:S&&(Ie.length===0?Ie+="]C1":Ie+="");break;case ut.CODE_FNC_2:case ut.CODE_FNC_3:break;case ut.CODE_FNC_4_A:!vr&&Er?(vr=!0,Er=!1):vr&&Er?(vr=!1,Er=!1):Er=!0;break;case ut.CODE_SHIFT:be=!0,Z=ut.CODE_CODE_B;break;case ut.CODE_CODE_B:Z=ut.CODE_CODE_B;break;case ut.CODE_CODE_C:Z=ut.CODE_CODE_C;break;case ut.CODE_STOP:de=!0;break}break;case ut.CODE_CODE_B:if(Bt<96)Er===vr?Ie+=String.fromCharCode(32+Bt):Ie+=String.fromCharCode(32+Bt+128),Er=!1;else switch(Bt!==ut.CODE_STOP&&(Wt=!1),Bt){case ut.CODE_FNC_1:S&&(Ie.length===0?Ie+="]C1":Ie+="");break;case ut.CODE_FNC_2:case ut.CODE_FNC_3:break;case ut.CODE_FNC_4_B:!vr&&Er?(vr=!0,Er=!1):vr&&Er?(vr=!1,Er=!1):Er=!0;break;case ut.CODE_SHIFT:be=!0,Z=ut.CODE_CODE_A;break;case ut.CODE_CODE_A:Z=ut.CODE_CODE_A;break;case ut.CODE_CODE_C:Z=ut.CODE_CODE_C;break;case ut.CODE_STOP:de=!0;break}break;case ut.CODE_CODE_C:if(Bt<100)Bt<10&&(Ie+="0"),Ie+=Bt;else switch(Bt!==ut.CODE_STOP&&(Wt=!1),Bt){case ut.CODE_FNC_1:S&&(Ie.length===0?Ie+="]C1":Ie+="");break;case ut.CODE_CODE_A:Z=ut.CODE_CODE_A;break;case ut.CODE_CODE_B:Z=ut.CODE_CODE_B;break;case ut.CODE_STOP:de=!0;break}break}ou&&(Z=Z===ut.CODE_CODE_A?ut.CODE_CODE_B:ut.CODE_CODE_A)}const as=Je-ze;if(Je=x.getNextUnset(Je),!x.isRange(Je,Math.min(x.getSize(),Je+(Je-ze)/2),!1))throw new ie;if(qt-=$t*pt,qt%103!==pt)throw new m;const ka=Ie.length;if(ka===0)throw new ie;ka>0&&Wt&&(Z===ut.CODE_CODE_C?Ie=Ie.substring(0,ka-2):Ie=Ie.substring(0,ka-1));const da=(E[1]+E[0])/2,Li=ze+as/2,ha=W.length,Co=new Uint8Array(ha);for(let ou=0;ou<ha;ou++)Co[ou]=W[ou];const $u=[new ot(da,A),new ot(Li,A)];return new X(Ie,Co,0,$u,oe.CODE_128,new Date().getTime())}}ut.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ut.MAX_AVG_VARIANCE=.25,ut.MAX_INDIVIDUAL_VARIANCE=.7,ut.CODE_SHIFT=98,ut.CODE_CODE_C=99,ut.CODE_CODE_B=100,ut.CODE_CODE_A=101,ut.CODE_FNC_1=102,ut.CODE_FNC_2=97,ut.CODE_FNC_3=96,ut.CODE_FNC_4_A=101,ut.CODE_FNC_4_B=100,ut.CODE_START_A=103,ut.CODE_START_B=104,ut.CODE_START_C=105,ut.CODE_STOP=106;class yn extends Tn{constructor(A=!1,x=!1){super(),this.usingCheckDigit=A,this.extendedMode=x,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(A,x,v){let S=this.counters;S.fill(0),this.decodeRowResult="";let E=yn.findAsteriskPattern(x,S),I=x.getNextSet(E[1]),D=x.getSize(),W,Z;do{yn.recordPattern(x,I,S);let tt=yn.toNarrowWidePattern(S);if(tt<0)throw new ie;W=yn.patternToChar(tt),this.decodeRowResult+=W,Z=I;for(let pt of S)I+=pt;I=x.getNextSet(I)}while(W!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let de=0;for(let tt of S)de+=tt;let be=I-Z-de;if(I!==D&&be*2<de)throw new ie;if(this.usingCheckDigit){let tt=this.decodeRowResult.length-1,pt=0;for(let Bt=0;Bt<tt;Bt++)pt+=yn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Bt));if(this.decodeRowResult.charAt(tt)!==yn.ALPHABET_STRING.charAt(pt%43))throw new m;this.decodeRowResult=this.decodeRowResult.substring(0,tt)}if(this.decodeRowResult.length===0)throw new ie;let Ie;this.extendedMode?Ie=yn.decodeExtended(this.decodeRowResult):Ie=this.decodeRowResult;let ze=(E[1]+E[0])/2,Je=Z+de/2;return new X(Ie,null,0,[new ot(ze,A),new ot(Je,A)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(A,x){let v=A.getSize(),S=A.getNextSet(0),E=0,I=S,D=!1,W=x.length;for(let Z=S;Z<v;Z++)if(A.get(Z)!==D)x[E]++;else{if(E===W-1){if(this.toNarrowWidePattern(x)===yn.ASTERISK_ENCODING&&A.isRange(Math.max(0,I-Math.floor((Z-I)/2)),I,!1))return[I,Z];I+=x[0]+x[1],x.copyWithin(0,2,2+E-1),x[E-1]=0,x[E]=0,E--}else E++;x[E]=1,D=!D}throw new ie}static toNarrowWidePattern(A){let x=A.length,v=0,S;do{let E=2147483647;for(let W of A)W<E&&W>v&&(E=W);v=E,S=0;let I=0,D=0;for(let W=0;W<x;W++){let Z=A[W];Z>v&&(D|=1<<x-1-W,S++,I+=Z)}if(S===3){for(let W=0;W<x&&S>0;W++){let Z=A[W];if(Z>v&&(S--,Z*2>=I))return-1}return D}}while(S>3);return-1}static patternToChar(A){for(let x=0;x<yn.CHARACTER_ENCODINGS.length;x++)if(yn.CHARACTER_ENCODINGS[x]===A)return yn.ALPHABET_STRING.charAt(x);if(A===yn.ASTERISK_ENCODING)return"*";throw new ie}static decodeExtended(A){let x=A.length,v="";for(let S=0;S<x;S++){let E=A.charAt(S);if(E==="+"||E==="$"||E==="%"||E==="/"){let I=A.charAt(S+1),D="\0";switch(E){case"+":if(I>="A"&&I<="Z")D=String.fromCharCode(I.charCodeAt(0)+32);else throw new L;break;case"$":if(I>="A"&&I<="Z")D=String.fromCharCode(I.charCodeAt(0)-64);else throw new L;break;case"%":if(I>="A"&&I<="E")D=String.fromCharCode(I.charCodeAt(0)-38);else if(I>="F"&&I<="J")D=String.fromCharCode(I.charCodeAt(0)-11);else if(I>="K"&&I<="O")D=String.fromCharCode(I.charCodeAt(0)+16);else if(I>="P"&&I<="T")D=String.fromCharCode(I.charCodeAt(0)+43);else if(I==="U")D="\0";else if(I==="V")D="@";else if(I==="W")D="`";else if(I==="X"||I==="Y"||I==="Z")D="";else throw new L;break;case"/":if(I>="A"&&I<="O")D=String.fromCharCode(I.charCodeAt(0)-32);else if(I==="Z")D=":";else throw new L;break}v+=D,S++}else v+=E}return v}}yn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yn.ASTERISK_ENCODING=148;class un extends Tn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(A,x,v){let S=this.decodeStart(x),E=this.decodeEnd(x),I=new re;un.decodeMiddle(x,S[1],E[0],I);let D=I.toString(),W=null;v!=null&&(W=v.get(O.ALLOWED_LENGTHS)),W==null&&(W=un.DEFAULT_ALLOWED_LENGTHS);let Z=D.length,de=!1,be=0;for(let Je of W){if(Z===Je){de=!0;break}Je>be&&(be=Je)}if(!de&&Z>be&&(de=!0),!de)throw new L;const Ie=[new ot(S[1],A),new ot(E[0],A)];return new X(D,null,0,Ie,oe.ITF,new Date().getTime())}static decodeMiddle(A,x,v,S){let E=new Int32Array(10),I=new Int32Array(5),D=new Int32Array(5);for(E.fill(0),I.fill(0),D.fill(0);x<v;){Tn.recordPattern(A,x,E);for(let Z=0;Z<5;Z++){let de=2*Z;I[Z]=E[de],D[Z]=E[de+1]}let W=un.decodeDigit(I);S.append(W.toString()),W=this.decodeDigit(D),S.append(W.toString()),E.forEach(function(Z){x+=Z})}}decodeStart(A){let x=un.skipWhiteSpace(A),v=un.findGuardPattern(A,x,un.START_PATTERN);return this.narrowLineWidth=(v[1]-v[0])/4,this.validateQuietZone(A,v[0]),v}validateQuietZone(A,x){let v=this.narrowLineWidth*10;v=v<x?v:x;for(let S=x-1;v>0&&S>=0&&!A.get(S);S--)v--;if(v!==0)throw new ie}static skipWhiteSpace(A){const x=A.getSize(),v=A.getNextSet(0);if(v===x)throw new ie;return v}decodeEnd(A){A.reverse();try{let x=un.skipWhiteSpace(A),v;try{v=un.findGuardPattern(A,x,un.END_PATTERN_REVERSED[0])}catch(E){E instanceof ie&&(v=un.findGuardPattern(A,x,un.END_PATTERN_REVERSED[1]))}this.validateQuietZone(A,v[0]);let S=v[0];return v[0]=A.getSize()-v[1],v[1]=A.getSize()-S,v}finally{A.reverse()}}static findGuardPattern(A,x,v){let S=v.length,E=new Int32Array(S),I=A.getSize(),D=!1,W=0,Z=x;E.fill(0);for(let de=x;de<I;de++)if(A.get(de)!==D)E[W]++;else{if(W===S-1){if(Tn.patternMatchVariance(E,v,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return[Z,de];Z+=E[0]+E[1],y.arraycopy(E,2,E,0,W-1),E[W-1]=0,E[W]=0,W--}else W++;E[W]=1,D=!D}throw new ie}static decodeDigit(A){let x=un.MAX_AVG_VARIANCE,v=-1,S=un.PATTERNS.length;for(let E=0;E<S;E++){let I=un.PATTERNS[E],D=Tn.patternMatchVariance(A,I,un.MAX_INDIVIDUAL_VARIANCE);D<x?(x=D,v=E):D===x&&(v=-1)}if(v>=0)return v%10;throw new ie}}un.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],un.MAX_AVG_VARIANCE=.38,un.MAX_INDIVIDUAL_VARIANCE=.5,un.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],un.START_PATTERN=Int32Array.from([1,1,1,1]),un.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class cn extends Tn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(A){let x=!1,v,S=0,E=Int32Array.from([0,0,0]);for(;!x;){E=Int32Array.from([0,0,0]),v=cn.findGuardPattern(A,S,!1,this.START_END_PATTERN,E);let I=v[0];S=v[1];let D=I-(S-I);D>=0&&(x=A.isRange(D,I,!1))}return v}static checkChecksum(A){return cn.checkStandardUPCEANChecksum(A)}static checkStandardUPCEANChecksum(A){let x=A.length;if(x===0)return!1;let v=parseInt(A.charAt(x-1),10);return cn.getStandardUPCEANChecksum(A.substring(0,x-1))===v}static getStandardUPCEANChecksum(A){let x=A.length,v=0;for(let S=x-1;S>=0;S-=2){let E=A.charAt(S).charCodeAt(0)-48;if(E<0||E>9)throw new L;v+=E}v*=3;for(let S=x-2;S>=0;S-=2){let E=A.charAt(S).charCodeAt(0)-48;if(E<0||E>9)throw new L;v+=E}return(1e3-v)%10}static decodeEnd(A,x){return cn.findGuardPattern(A,x,!1,cn.START_END_PATTERN,new Int32Array(cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(A,x,v,S){return this.findGuardPattern(A,x,v,S,new Int32Array(S.length))}static findGuardPattern(A,x,v,S,E){let I=A.getSize();x=v?A.getNextUnset(x):A.getNextSet(x);let D=0,W=x,Z=S.length,de=v;for(let be=x;be<I;be++)if(A.get(be)!==de)E[D]++;else{if(D===Z-1){if(Tn.patternMatchVariance(E,S,cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return Int32Array.from([W,be]);W+=E[0]+E[1];let Ie=E.slice(2,E.length-1);for(let ze=0;ze<D-1;ze++)E[ze]=Ie[ze];E[D-1]=0,E[D]=0,D--}else D++;E[D]=1,de=!de}throw new ie}static decodeDigit(A,x,v,S){this.recordPattern(A,v,x);let E=this.MAX_AVG_VARIANCE,I=-1,D=S.length;for(let W=0;W<D;W++){let Z=S[W],de=Tn.patternMatchVariance(x,Z,cn.MAX_INDIVIDUAL_VARIANCE);de<E&&(E=de,I=W)}if(I>=0)return I;throw new ie}}cn.MAX_AVG_VARIANCE=.48,cn.MAX_INDIVIDUAL_VARIANCE=.7,cn.START_END_PATTERN=Int32Array.from([1,1,1]),cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class or{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(A,x,v){let S=this.decodeRowStringBuffer,E=this.decodeMiddle(x,v,S),I=S.toString(),D=or.parseExtensionString(I),W=[new ot((v[0]+v[1])/2,A),new ot(E,A)],Z=new X(I,null,0,W,oe.UPC_EAN_EXTENSION,new Date().getTime());return D!=null&&Z.putAllMetadata(D),Z}decodeMiddle(A,x,v){let S=this.decodeMiddleCounters;S[0]=0,S[1]=0,S[2]=0,S[3]=0;let E=A.getSize(),I=x[1],D=0;for(let Z=0;Z<5&&I<E;Z++){let de=cn.decodeDigit(A,S,I,cn.L_AND_G_PATTERNS);v+=String.fromCharCode(48+de%10);for(let be of S)I+=be;de>=10&&(D|=1<<4-Z),Z!==4&&(I=A.getNextSet(I),I=A.getNextUnset(I))}if(v.length!==5)throw new ie;let W=this.determineCheckDigit(D);if(or.extensionChecksum(v.toString())!==W)throw new ie;return I}static extensionChecksum(A){let x=A.length,v=0;for(let S=x-2;S>=0;S-=2)v+=A.charAt(S).charCodeAt(0)-48;v*=3;for(let S=x-1;S>=0;S-=2)v+=A.charAt(S).charCodeAt(0)-48;return v*=3,v%10}determineCheckDigit(A){for(let x=0;x<10;x++)if(A===this.CHECK_DIGIT_ENCODINGS[x])return x;throw new ie}static parseExtensionString(A){if(A.length!==5)return null;let x=or.parseExtension5String(A);return x==null?null:new Map([[ke.SUGGESTED_PRICE,x]])}static parseExtension5String(A){let x;switch(A.charAt(0)){case"0":x="";break;case"5":x="$";break;case"9":switch(A){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}x="";break;default:x="";break}let v=parseInt(A.substring(1)),S=(v/100).toString(),E=v%100,I=E<10?"0"+E:E.toString();return x+S+"."+I}}class zn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(A,x,v){let S=this.decodeRowStringBuffer,E=this.decodeMiddle(x,v,S),I=S.toString(),D=zn.parseExtensionString(I),W=[new ot((v[0]+v[1])/2,A),new ot(E,A)],Z=new X(I,null,0,W,oe.UPC_EAN_EXTENSION,new Date().getTime());return D!=null&&Z.putAllMetadata(D),Z}decodeMiddle(A,x,v){let S=this.decodeMiddleCounters;S[0]=0,S[1]=0,S[2]=0,S[3]=0;let E=A.getSize(),I=x[1],D=0;for(let W=0;W<2&&I<E;W++){let Z=cn.decodeDigit(A,S,I,cn.L_AND_G_PATTERNS);v+=String.fromCharCode(48+Z%10);for(let de of S)I+=de;Z>=10&&(D|=1<<1-W),W!==1&&(I=A.getNextSet(I),I=A.getNextUnset(I))}if(v.length!==2)throw new ie;if(parseInt(v.toString())%4!==D)throw new ie;return I}static parseExtensionString(A){return A.length!==2?null:new Map([[ke.ISSUE_NUMBER,parseInt(A)]])}}class Kn{static decodeRow(A,x,v){let S=cn.findGuardPattern(x,v,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new or().decodeRow(A,x,S)}catch{return new zn().decodeRow(A,x,S)}}}Kn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qn extends cn{constructor(){super(),this.decodeRowStringBuffer="",Qn.L_AND_G_PATTERNS=Qn.L_PATTERNS.map(A=>Int32Array.from(A));for(let A=10;A<20;A++){let x=Qn.L_PATTERNS[A-10],v=new Int32Array(x.length);for(let S=0;S<x.length;S++)v[S]=x[x.length-S-1];Qn.L_AND_G_PATTERNS[A]=v}}decodeRow(A,x,v){let S=Qn.findStartGuardPattern(x),E=v==null?null:v.get(O.NEED_RESULT_POINT_CALLBACK);if(E!=null){const Wt=new ot((S[0]+S[1])/2,A);E.foundPossibleResultPoint(Wt)}let I=this.decodeMiddle(x,S,this.decodeRowStringBuffer),D=I.rowOffset,W=I.resultString;if(E!=null){const Wt=new ot(D,A);E.foundPossibleResultPoint(Wt)}let Z=this.decodeEnd(x,D);if(E!=null){const Wt=new ot((Z[0]+Z[1])/2,A);E.foundPossibleResultPoint(Wt)}let de=Z[1],be=de+(de-Z[0]);if(be>=x.getSize()||!x.isRange(de,be,!1))throw new ie;let Ie=W.toString();if(Ie.length<8)throw new L;if(!Qn.checkChecksum(Ie))throw new m;let ze=(S[1]+S[0])/2,Je=(Z[1]+Z[0])/2,tt=this.getBarcodeFormat(),pt=[new ot(ze,A),new ot(Je,A)],Bt=new X(Ie,null,0,pt,tt,new Date().getTime()),qt=0;try{let Wt=Kn.decodeRow(A,x,Z[1]);Bt.putMetadata(ke.UPC_EAN_EXTENSION,Wt.getText()),Bt.putAllMetadata(Wt.getResultMetadata()),Bt.addResultPoints(Wt.getResultPoints()),qt=Wt.getText().length}catch{}let $t=v==null?null:v.get(O.ALLOWED_EAN_EXTENSIONS);if($t!=null){let Wt=!1;for(let vr in $t)if(qt.toString()===vr){Wt=!0;break}if(!Wt)throw new ie}return Bt}decodeEnd(A,x){return Qn.findGuardPattern(A,x,!1,Qn.START_END_PATTERN,new Int32Array(Qn.START_END_PATTERN.length).fill(0))}static checkChecksum(A){return Qn.checkStandardUPCEANChecksum(A)}static checkStandardUPCEANChecksum(A){let x=A.length;if(x===0)return!1;let v=parseInt(A.charAt(x-1),10);return Qn.getStandardUPCEANChecksum(A.substring(0,x-1))===v}static getStandardUPCEANChecksum(A){let x=A.length,v=0;for(let S=x-1;S>=0;S-=2){let E=A.charAt(S).charCodeAt(0)-48;if(E<0||E>9)throw new L;v+=E}v*=3;for(let S=x-2;S>=0;S-=2){let E=A.charAt(S).charCodeAt(0)-48;if(E<0||E>9)throw new L;v+=E}return(1e3-v)%10}}class Hn extends Qn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(A,x,v){let S=this.decodeMiddleCounters;S[0]=0,S[1]=0,S[2]=0,S[3]=0;let E=A.getSize(),I=x[1],D=0;for(let Z=0;Z<6&&I<E;Z++){let de=Qn.decodeDigit(A,S,I,Qn.L_AND_G_PATTERNS);v+=String.fromCharCode(48+de%10);for(let be of S)I+=be;de>=10&&(D|=1<<5-Z)}v=Hn.determineFirstDigit(v,D),I=Qn.findGuardPattern(A,I,!0,Qn.MIDDLE_PATTERN,new Int32Array(Qn.MIDDLE_PATTERN.length).fill(0))[1];for(let Z=0;Z<6&&I<E;Z++){let de=Qn.decodeDigit(A,S,I,Qn.L_PATTERNS);v+=String.fromCharCode(48+de);for(let be of S)I+=be}return{rowOffset:I,resultString:v}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(A,x){for(let v=0;v<10;v++)if(x===this.FIRST_DIGIT_ENCODINGS[v])return A=String.fromCharCode(48+v)+A,A;throw new ie}}Hn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class kn extends Qn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(A,x,v){const S=this.decodeMiddleCounters;S[0]=0,S[1]=0,S[2]=0,S[3]=0;let E=A.getSize(),I=x[1];for(let W=0;W<4&&I<E;W++){let Z=Qn.decodeDigit(A,S,I,Qn.L_PATTERNS);v+=String.fromCharCode(48+Z);for(let de of S)I+=de}I=Qn.findGuardPattern(A,I,!0,Qn.MIDDLE_PATTERN,new Int32Array(Qn.MIDDLE_PATTERN.length).fill(0))[1];for(let W=0;W<4&&I<E;W++){let Z=Qn.decodeDigit(A,S,I,Qn.L_PATTERNS);v+=String.fromCharCode(48+Z);for(let de of S)I+=de}return{rowOffset:I,resultString:v}}getBarcodeFormat(){return oe.EAN_8}}class kr extends Qn{constructor(){super(...arguments),this.ean13Reader=new Hn}getBarcodeFormat(){return oe.UPC_A}decode(A,x){return this.maybeReturnResult(this.ean13Reader.decode(A))}decodeRow(A,x,v){return this.maybeReturnResult(this.ean13Reader.decodeRow(A,x,v))}decodeMiddle(A,x,v){return this.ean13Reader.decodeMiddle(A,x,v)}maybeReturnResult(A){let x=A.getText();if(x.charAt(0)==="0"){let v=new X(x.substring(1),null,null,A.getResultPoints(),oe.UPC_A);return A.getResultMetadata()!=null&&v.putAllMetadata(A.getResultMetadata()),v}else throw new ie}reset(){this.ean13Reader.reset()}}class ei extends Qn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(A,x,v){const S=this.decodeMiddleCounters.map(Z=>Z);S[0]=0,S[1]=0,S[2]=0,S[3]=0;const E=A.getSize();let I=x[1],D=0;for(let Z=0;Z<6&&I<E;Z++){const de=ei.decodeDigit(A,S,I,ei.L_AND_G_PATTERNS);v+=String.fromCharCode(48+de%10);for(let be of S)I+=be;de>=10&&(D|=1<<5-Z)}let W=ei.determineNumSysAndCheckDigit(v,D);return{rowOffset:I,resultString:W}}decodeEnd(A,x){return ei.findGuardPatternWithoutCounters(A,x,!0,ei.MIDDLE_END_PATTERN)}checkChecksum(A){return Qn.checkChecksum(ei.convertUPCEtoUPCA(A))}static determineNumSysAndCheckDigit(A,x){for(let v=0;v<=1;v++)for(let S=0;S<10;S++)if(x===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[v][S]){let E=String.fromCharCode(48+v),I=String.fromCharCode(48+S);return E+A+I}throw ie.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(A){const x=A.slice(1,7).split("").map(E=>E.charCodeAt(0)),v=new re;v.append(A.charAt(0));let S=x[5];switch(S){case 0:case 1:case 2:v.appendChars(x,0,2),v.append(S),v.append("0000"),v.appendChars(x,2,3);break;case 3:v.appendChars(x,0,3),v.append("00000"),v.appendChars(x,3,2);break;case 4:v.appendChars(x,0,4),v.append("00000"),v.append(x[4]);break;default:v.appendChars(x,0,5),v.append("0000"),v.append(S);break}return A.length>=8&&v.append(A.charAt(7)),v.toString()}}ei.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ei.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class mi extends Tn{constructor(A){super();let x=A==null?null:A.get(O.POSSIBLE_FORMATS),v=[];r(x)?(v.push(new Hn),v.push(new kr),v.push(new kn),v.push(new ei)):(x.indexOf(oe.EAN_13)>-1&&v.push(new Hn),x.indexOf(oe.UPC_A)>-1&&v.push(new kr),x.indexOf(oe.EAN_8)>-1&&v.push(new kn),x.indexOf(oe.UPC_E)>-1&&v.push(new ei)),this.readers=v}decodeRow(A,x,v){for(let S of this.readers)try{const E=S.decodeRow(A,x,v),I=E.getBarcodeFormat()===oe.EAN_13&&E.getText().charAt(0)==="0",D=v==null?null:v.get(O.POSSIBLE_FORMATS),W=D==null||D.includes(oe.UPC_A);if(I&&W){const Z=E.getRawBytes(),de=new X(E.getText().substring(1),Z,Z?Z.length:null,E.getResultPoints(),oe.UPC_A);return de.putAllMetadata(E.getResultMetadata()),de}return E}catch{}throw new ie}reset(){for(let A of this.readers)A.reset()}}class ii extends Tn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(A,x){for(let v=0;v<x.length;v++)if(Tn.patternMatchVariance(A,x[v],ii.MAX_INDIVIDUAL_VARIANCE)<ii.MAX_AVG_VARIANCE)return v;throw new ie}static count(A){return lt.sum(new Int32Array(A))}static increment(A,x){let v=0,S=x[0];for(let E=1;E<A.length;E++)x[E]>S&&(S=x[E],v=E);A[v]++}static decrement(A,x){let v=0,S=x[0];for(let E=1;E<A.length;E++)x[E]<S&&(S=x[E],v=E);A[v]--}static isFinderPattern(A){let x=A[0]+A[1],v=x+A[2]+A[3],S=x/v;if(S>=ii.MIN_FINDER_PATTERN_RATIO&&S<=ii.MAX_FINDER_PATTERN_RATIO){let E=Number.MAX_SAFE_INTEGER,I=Number.MIN_SAFE_INTEGER;for(let D of A)D>I&&(I=D),D<E&&(E=D);return I<10*E}return!1}}ii.MAX_AVG_VARIANCE=.2,ii.MAX_INDIVIDUAL_VARIANCE=.45,ii.MIN_FINDER_PATTERN_RATIO=9.5/12,ii.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ki{constructor(A,x){this.value=A,this.checksumPortion=x}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(A){if(!(A instanceof Ki))return!1;const x=A;return this.value===x.value&&this.checksumPortion===x.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class qn{constructor(A,x,v,S,E){this.value=A,this.startEnd=x,this.value=A,this.startEnd=x,this.resultPoints=new Array,this.resultPoints.push(new ot(v,E)),this.resultPoints.push(new ot(S,E))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(A){if(!(A instanceof qn))return!1;const x=A;return this.value===x.value}hashCode(){return this.value}}class Di{constructor(){}static getRSSvalue(A,x,v){let S=0;for(let W of A)S+=W;let E=0,I=0,D=A.length;for(let W=0;W<D-1;W++){let Z;for(Z=1,I|=1<<W;Z<A[W];Z++,I&=~(1<<W)){let de=Di.combins(S-Z-1,D-W-2);if(v&&I===0&&S-Z-(D-W-1)>=D-W-1&&(de-=Di.combins(S-Z-(D-W),D-W-2)),D-W-1>1){let be=0;for(let Ie=S-Z-(D-W-2);Ie>x;Ie--)be+=Di.combins(S-Z-Ie-1,D-W-3);de-=be*(D-1-W)}else S-Z>x&&de--;E+=de}S-=Z}return E}static combins(A,x){let v,S;A-x>x?(S=x,v=A-x):(S=A-x,v=x);let E=1,I=1;for(let D=A;D>v;D--)E*=D,I<=S&&(E/=I,I++);for(;I<=S;)E/=I,I++;return E}}class ea{static buildBitArray(A){let x=A.length*2-1;A[A.length-1].getRightChar()==null&&(x-=1);let v=12*x,S=new P(v),E=0,D=A[0].getRightChar().getValue();for(let W=11;W>=0;--W)(D&1<<W)!=0&&S.set(E),E++;for(let W=1;W<A.length;++W){let Z=A[W],de=Z.getLeftChar().getValue();for(let be=11;be>=0;--be)(de&1<<be)!=0&&S.set(E),E++;if(Z.getRightChar()!=null){let be=Z.getRightChar().getValue();for(let Ie=11;Ie>=0;--Ie)(be&1<<Ie)!=0&&S.set(E),E++}}return S}}class xi{constructor(A,x){x?this.decodedInformation=null:(this.finished=A,this.decodedInformation=x)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Si{constructor(A){this.newPosition=A}getNewPosition(){return this.newPosition}}class Rr extends Si{constructor(A,x){super(A),this.value=x}getValue(){return this.value}isFNC1(){return this.value===Rr.FNC1}}Rr.FNC1="$";class Yr extends Si{constructor(A,x,v){super(A),v?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=x}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ee extends Si{constructor(A,x,v){if(super(A),x<0||x>10||v<0||v>10)throw new L;this.firstDigit=x,this.secondDigit=v}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ee.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ee.FNC1}isAnyFNC1(){return this.firstDigit===Ee.FNC1||this.secondDigit===Ee.FNC1}}Ee.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(A){if(!A)return null;if(A.length<2)throw new ie;let x=A.substring(0,2);for(let E of _e.TWO_DIGIT_DATA_LENGTH)if(E[0]===x)return E[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,E[2],A):_e.processFixedAI(2,E[1],A);if(A.length<3)throw new ie;let v=A.substring(0,3);for(let E of _e.THREE_DIGIT_DATA_LENGTH)if(E[0]===v)return E[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,E[2],A):_e.processFixedAI(3,E[1],A);for(let E of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(E[0]===v)return E[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,E[2],A):_e.processFixedAI(4,E[1],A);if(A.length<4)throw new ie;let S=A.substring(0,4);for(let E of _e.FOUR_DIGIT_DATA_LENGTH)if(E[0]===S)return E[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,E[2],A):_e.processFixedAI(4,E[1],A);throw new ie}static processFixedAI(A,x,v){if(v.length<A)throw new ie;let S=v.substring(0,A);if(v.length<A+x)throw new ie;let E=v.substring(A,A+x),I=v.substring(A+x),D="("+S+")"+E,W=_e.parseFieldsInGeneralPurpose(I);return W==null?D:D+W}static processVariableAI(A,x,v){let S=v.substring(0,A),E;v.length<A+x?E=v.length:E=A+x;let I=v.substring(A,E),D=v.substring(E),W="("+S+")"+I,Z=_e.parseFieldsInGeneralPurpose(D);return Z==null?W:W+Z}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class Le{constructor(A){this.buffer=new re,this.information=A}decodeAllCodes(A,x){let v=x,S=null;do{let E=this.decodeGeneralPurposeField(v,S),I=_e.parseFieldsInGeneralPurpose(E.getNewString());if(I!=null&&A.append(I),E.isRemaining()?S=""+E.getRemainingValue():S=null,v===E.getNewPosition())break;v=E.getNewPosition()}while(!0);return A.toString()}isStillNumeric(A){if(A+7>this.information.getSize())return A+4<=this.information.getSize();for(let x=A;x<A+3;++x)if(this.information.get(x))return!0;return this.information.get(A+3)}decodeNumeric(A){if(A+7>this.information.getSize()){let E=this.extractNumericValueFromBitArray(A,4);return E===0?new Ee(this.information.getSize(),Ee.FNC1,Ee.FNC1):new Ee(this.information.getSize(),E-1,Ee.FNC1)}let x=this.extractNumericValueFromBitArray(A,7),v=(x-8)/11,S=(x-8)%11;return new Ee(A+7,v,S)}extractNumericValueFromBitArray(A,x){return Le.extractNumericValueFromBitArray(this.information,A,x)}static extractNumericValueFromBitArray(A,x,v){let S=0;for(let E=0;E<v;++E)A.get(x+E)&&(S|=1<<v-E-1);return S}decodeGeneralPurposeField(A,x){this.buffer.setLengthToZero(),x!=null&&this.buffer.append(x),this.current.setPosition(A);let v=this.parseBlocks();return v!=null&&v.isRemaining()?new Yr(this.current.getPosition(),this.buffer.toString(),v.getRemainingValue()):new Yr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let A,x;do{let v=this.current.getPosition();if(this.current.isAlpha()?(x=this.parseAlphaBlock(),A=x.isFinished()):this.current.isIsoIec646()?(x=this.parseIsoIec646Block(),A=x.isFinished()):(x=this.parseNumericBlock(),A=x.isFinished()),!(v!==this.current.getPosition())&&!A)break}while(!A);return x.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let A=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFirstDigitFNC1()){let x;return A.isSecondDigitFNC1()?x=new Yr(this.current.getPosition(),this.buffer.toString()):x=new Yr(this.current.getPosition(),this.buffer.toString(),A.getSecondDigit()),new xi(!0,x)}if(this.buffer.append(A.getFirstDigit()),A.isSecondDigitFNC1()){let x=new Yr(this.current.getPosition(),this.buffer.toString());return new xi(!0,x)}this.buffer.append(A.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let A=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFNC1()){let x=new Yr(this.current.getPosition(),this.buffer.toString());return new xi(!0,x)}this.buffer.append(A.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let A=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFNC1()){let x=new Yr(this.current.getPosition(),this.buffer.toString());return new xi(!0,x)}this.buffer.append(A.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xi(!1)}isStillIsoIec646(A){if(A+5>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(A,5);if(x>=5&&x<16)return!0;if(A+7>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(A,7);if(v>=64&&v<116)return!0;if(A+8>this.information.getSize())return!1;let S=this.extractNumericValueFromBitArray(A,8);return S>=232&&S<253}decodeIsoIec646(A){let x=this.extractNumericValueFromBitArray(A,5);if(x===15)return new Rr(A+5,Rr.FNC1);if(x>=5&&x<15)return new Rr(A+5,"0"+(x-5));let v=this.extractNumericValueFromBitArray(A,7);if(v>=64&&v<90)return new Rr(A+7,""+(v+1));if(v>=90&&v<116)return new Rr(A+7,""+(v+7));let S=this.extractNumericValueFromBitArray(A,8),E;switch(S){case 232:E="!";break;case 233:E='"';break;case 234:E="%";break;case 235:E="&";break;case 236:E="'";break;case 237:E="(";break;case 238:E=")";break;case 239:E="*";break;case 240:E="+";break;case 241:E=",";break;case 242:E="-";break;case 243:E=".";break;case 244:E="/";break;case 245:E=":";break;case 246:E=";";break;case 247:E="<";break;case 248:E="=";break;case 249:E=">";break;case 250:E="?";break;case 251:E="_";break;case 252:E=" ";break;default:throw new L}return new Rr(A+8,E)}isStillAlpha(A){if(A+5>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(A,5);if(x>=5&&x<16)return!0;if(A+6>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(A,6);return v>=16&&v<63}decodeAlphanumeric(A){let x=this.extractNumericValueFromBitArray(A,5);if(x===15)return new Rr(A+5,Rr.FNC1);if(x>=5&&x<15)return new Rr(A+5,"0"+(x-5));let v=this.extractNumericValueFromBitArray(A,6);if(v>=32&&v<58)return new Rr(A+6,""+(v+33));let S;switch(v){case 58:S="*";break;case 59:S=",";break;case 60:S="-";break;case 61:S=".";break;case 62:S="/";break;default:throw new Fe("Decoding invalid alphanumeric value: "+v)}return new Rr(A+6,S)}isAlphaTo646ToAlphaLatch(A){if(A+1>this.information.getSize())return!1;for(let x=0;x<5&&x+A<this.information.getSize();++x)if(x===2){if(!this.information.get(A+2))return!1}else if(this.information.get(A+x))return!1;return!0}isAlphaOr646ToNumericLatch(A){if(A+3>this.information.getSize())return!1;for(let x=A;x<A+3;++x)if(this.information.get(x))return!1;return!0}isNumericToAlphaNumericLatch(A){if(A+1>this.information.getSize())return!1;for(let x=0;x<4&&x+A<this.information.getSize();++x)if(this.information.get(A+x))return!1;return!0}}class Me{constructor(A){this.information=A,this.generalDecoder=new Le(A)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class He extends Me{constructor(A){super(A)}encodeCompressedGtin(A,x){A.append("(01)");let v=A.length();A.append("9"),this.encodeCompressedGtinWithoutAI(A,x,v)}encodeCompressedGtinWithoutAI(A,x,v){for(let S=0;S<4;++S){let E=this.getGeneralDecoder().extractNumericValueFromBitArray(x+10*S,10);E/100===0&&A.append("0"),E/10===0&&A.append("0"),A.append(E)}He.appendCheckDigit(A,v)}static appendCheckDigit(A,x){let v=0;for(let S=0;S<13;S++){let E=A.charAt(S+x).charCodeAt(0)-48;v+=(S&1)===0?3*E:E}v=10-v%10,v===10&&(v=0),A.append(v)}}He.GTIN_SIZE=40;class Ve extends He{constructor(A){super(A)}parseInformation(){let A=new re;A.append("(01)");let x=A.length(),v=this.getGeneralDecoder().extractNumericValueFromBitArray(Ve.HEADER_SIZE,4);return A.append(v),this.encodeCompressedGtinWithoutAI(A,Ve.HEADER_SIZE+4,x),this.getGeneralDecoder().decodeAllCodes(A,Ve.HEADER_SIZE+44)}}Ve.HEADER_SIZE=4;class At extends Me{constructor(A){super(A)}parseInformation(){let A=new re;return this.getGeneralDecoder().decodeAllCodes(A,At.HEADER_SIZE)}}At.HEADER_SIZE=5;class Tt extends He{constructor(A){super(A)}encodeCompressedWeight(A,x,v){let S=this.getGeneralDecoder().extractNumericValueFromBitArray(x,v);this.addWeightCode(A,S);let E=this.checkWeight(S),I=1e5;for(let D=0;D<5;++D)E/I===0&&A.append("0"),I/=10;A.append(E)}}class ft extends Tt{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()!=ft.HEADER_SIZE+Tt.GTIN_SIZE+ft.WEIGHT_SIZE)throw new ie;let A=new re;return this.encodeCompressedGtin(A,ft.HEADER_SIZE),this.encodeCompressedWeight(A,ft.HEADER_SIZE+Tt.GTIN_SIZE,ft.WEIGHT_SIZE),A.toString()}}ft.HEADER_SIZE=5,ft.WEIGHT_SIZE=15;class vt extends ft{constructor(A){super(A)}addWeightCode(A,x){A.append("(3103)")}checkWeight(A){return A}}class bt extends ft{constructor(A){super(A)}addWeightCode(A,x){x<1e4?A.append("(3202)"):A.append("(3203)")}checkWeight(A){return A<1e4?A:A-1e4}}class Xt extends He{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()<Xt.HEADER_SIZE+He.GTIN_SIZE)throw new ie;let A=new re;this.encodeCompressedGtin(A,Xt.HEADER_SIZE);let x=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+He.GTIN_SIZE,Xt.LAST_DIGIT_SIZE);A.append("(392"),A.append(x),A.append(")");let v=this.getGeneralDecoder().decodeGeneralPurposeField(Xt.HEADER_SIZE+He.GTIN_SIZE+Xt.LAST_DIGIT_SIZE,null);return A.append(v.getNewString()),A.toString()}}Xt.HEADER_SIZE=8,Xt.LAST_DIGIT_SIZE=2;class an extends He{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()<an.HEADER_SIZE+He.GTIN_SIZE)throw new ie;let A=new re;this.encodeCompressedGtin(A,an.HEADER_SIZE);let x=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+He.GTIN_SIZE,an.LAST_DIGIT_SIZE);A.append("(393"),A.append(x),A.append(")");let v=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+He.GTIN_SIZE+an.LAST_DIGIT_SIZE,an.FIRST_THREE_DIGITS_SIZE);v/100==0&&A.append("0"),v/10==0&&A.append("0"),A.append(v);let S=this.getGeneralDecoder().decodeGeneralPurposeField(an.HEADER_SIZE+He.GTIN_SIZE+an.LAST_DIGIT_SIZE+an.FIRST_THREE_DIGITS_SIZE,null);return A.append(S.getNewString()),A.toString()}}an.HEADER_SIZE=8,an.LAST_DIGIT_SIZE=2,an.FIRST_THREE_DIGITS_SIZE=10;class on extends Tt{constructor(A,x,v){super(A),this.dateCode=v,this.firstAIdigits=x}parseInformation(){if(this.getInformation().getSize()!=on.HEADER_SIZE+on.GTIN_SIZE+on.WEIGHT_SIZE+on.DATE_SIZE)throw new ie;let A=new re;return this.encodeCompressedGtin(A,on.HEADER_SIZE),this.encodeCompressedWeight(A,on.HEADER_SIZE+on.GTIN_SIZE,on.WEIGHT_SIZE),this.encodeCompressedDate(A,on.HEADER_SIZE+on.GTIN_SIZE+on.WEIGHT_SIZE),A.toString()}encodeCompressedDate(A,x){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(x,on.DATE_SIZE);if(v==38400)return;A.append("("),A.append(this.dateCode),A.append(")");let S=v%32;v/=32;let E=v%12+1;v/=12;let I=v;I/10==0&&A.append("0"),A.append(I),E/10==0&&A.append("0"),A.append(E),S/10==0&&A.append("0"),A.append(S)}addWeightCode(A,x){A.append("("),A.append(this.firstAIdigits),A.append(x/1e5),A.append(")")}checkWeight(A){return A%1e5}}on.HEADER_SIZE=8,on.WEIGHT_SIZE=20,on.DATE_SIZE=16;function fn(we){try{if(we.get(1))return new Ve(we);if(!we.get(2))return new At(we);switch(Le.extractNumericValueFromBitArray(we,1,4)){case 4:return new vt(we);case 5:return new bt(we)}switch(Le.extractNumericValueFromBitArray(we,1,5)){case 12:return new Xt(we);case 13:return new an(we)}switch(Le.extractNumericValueFromBitArray(we,1,7)){case 56:return new on(we,"310","11");case 57:return new on(we,"320","11");case 58:return new on(we,"310","13");case 59:return new on(we,"320","13");case 60:return new on(we,"310","15");case 61:return new on(we,"320","15");case 62:return new on(we,"310","17");case 63:return new on(we,"320","17")}}catch(A){throw console.log(A),new Fe("unknown decoder: "+we)}}class vn{constructor(A,x,v,S){this.leftchar=A,this.rightchar=x,this.finderpattern=v,this.maybeLast=S}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(A,x){return A instanceof vn?vn.equalsOrNull(A.leftchar,x.leftchar)&&vn.equalsOrNull(A.rightchar,x.rightchar)&&vn.equalsOrNull(A.finderpattern,x.finderpattern):!1}static equalsOrNull(A,x){return A===null?x===null:vn.equals(A,x)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class On{constructor(A,x,v){this.pairs=A,this.rowNumber=x,this.wasReversed=v}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(A){return this.checkEqualitity(this,A)}toString(){return"{ "+this.pairs+" }"}equals(A,x){return A instanceof On?this.checkEqualitity(A,x)&&A.wasReversed===x.wasReversed:!1}checkEqualitity(A,x){if(!A||!x)return;let v;return A.forEach((S,E)=>{x.forEach(I=>{S.getLeftChar().getValue()===I.getLeftChar().getValue()&&S.getRightChar().getValue()===I.getRightChar().getValue()&&S.getFinderPatter().getValue()===I.getFinderPatter().getValue()&&(v=!0)})}),v}}class Pt extends ii{constructor(A){super(...arguments),this.pairs=new Array(Pt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=A===!0}decodeRow(A,x,v){this.pairs.length=0,this.startFromEven=!1;try{return Pt.constructResult(this.decodeRow2pairs(A,x))}catch(S){this.verbose&&console.log(S)}return this.pairs.length=0,this.startFromEven=!0,Pt.constructResult(this.decodeRow2pairs(A,x))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(A,x){let v=!1;for(;!v;)try{this.pairs.push(this.retrieveNextPair(x,this.pairs,A))}catch(E){if(E instanceof ie){if(!this.pairs.length)throw new ie;v=!0}}if(this.checkChecksum())return this.pairs;let S;if(this.rows.length?S=!0:S=!1,this.storeRow(A,!1),S){let E=this.checkRowsBoolean(!1);if(E!=null||(E=this.checkRowsBoolean(!0),E!=null))return E}throw new ie}checkRowsBoolean(A){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,A&&(this.rows=this.rows.reverse());let x=null;try{x=this.checkRows(new Array,0)}catch(v){this.verbose&&console.log(v)}return A&&(this.rows=this.rows.reverse()),x}checkRows(A,x){for(let v=x;v<this.rows.length;v++){let S=this.rows[v];this.pairs.length=0;for(let I of A)this.pairs.push(I.getPairs());if(this.pairs.push(S.getPairs()),!Pt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let E=new Array(A);E.push(S);try{return this.checkRows(E,v+1)}catch(I){this.verbose&&console.log(I)}}throw new ie}static isValidSequence(A){for(let x of Pt.FINDER_PATTERN_SEQUENCES){if(A.length>x.length)continue;let v=!0;for(let S=0;S<A.length;S++)if(A[S].getFinderPattern().getValue()!=x[S]){v=!1;break}if(v)return!0}return!1}storeRow(A,x){let v=0,S=!1,E=!1;for(;v<this.rows.length;){let I=this.rows[v];if(I.getRowNumber()>A){E=I.isEquivalent(this.pairs);break}S=I.isEquivalent(this.pairs),v++}E||S||Pt.isPartialRow(this.pairs,this.rows)||(this.rows.push(v,new On(this.pairs,A,x)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(A,x){for(let v of x)if(v.getPairs().length!==A.length){for(let S of v.getPairs())for(let E of A)if(vn.equals(S,E))break}}static isPartialRow(A,x){for(let v of x){let S=!0;for(let E of A){let I=!1;for(let D of v.getPairs())if(E.equals(D)){I=!0;break}if(!I){S=!1;break}}if(S)return!0}return!1}getRows(){return this.rows}static constructResult(A){let x=ea.buildBitArray(A),S=fn(x).parseInformation(),E=A[0].getFinderPattern().getResultPoints(),I=A[A.length-1].getFinderPattern().getResultPoints(),D=[E[0],E[1],I[0],I[1]];return new X(S,null,null,D,oe.RSS_EXPANDED,null)}checkChecksum(){let A=this.pairs.get(0),x=A.getLeftChar(),v=A.getRightChar();if(v==null)return!1;let S=v.getChecksumPortion(),E=2;for(let D=1;D<this.pairs.size();++D){let W=this.pairs.get(D);S+=W.getLeftChar().getChecksumPortion(),E++;let Z=W.getRightChar();Z!=null&&(S+=Z.getChecksumPortion(),E++)}return S%=211,211*(E-4)+S==x.getValue()}static getNextSecondBar(A,x){let v;return A.get(x)?(v=A.getNextUnset(x),v=A.getNextSet(v)):(v=A.getNextSet(x),v=A.getNextUnset(v)),v}retrieveNextPair(A,x,v){let S=x.length%2==0;this.startFromEven&&(S=!S);let E,I=!0,D=-1;do this.findNextPair(A,x,D),E=this.parseFoundFinderPattern(A,v,S),E==null?D=Pt.getNextSecondBar(A,this.startEnd[0]):I=!1;while(I);let W=this.decodeDataCharacter(A,E,S,!0);if(!this.isEmptyPair(x)&&x[x.length-1].mustBeLast())throw new ie;let Z;try{Z=this.decodeDataCharacter(A,E,S,!1)}catch(de){Z=null,this.verbose&&console.log(de)}return new vn(W,Z,E,!0)}isEmptyPair(A){return A.length===0}findNextPair(A,x,v){let S=this.getDecodeFinderCounters();S[0]=0,S[1]=0,S[2]=0,S[3]=0;let E=A.getSize(),I;v>=0?I=v:this.isEmptyPair(x)?I=0:I=x[x.length-1].getFinderPattern().getStartEnd()[1];let D=x.length%2!=0;this.startFromEven&&(D=!D);let W=!1;for(;I<E&&(W=!A.get(I),!!W);)I++;let Z=0,de=I;for(let be=I;be<E;be++)if(A.get(be)!=W)S[Z]++;else{if(Z==3){if(D&&Pt.reverseCounters(S),Pt.isFinderPattern(S)){this.startEnd[0]=de,this.startEnd[1]=be;return}D&&Pt.reverseCounters(S),de+=S[0]+S[1],S[0]=S[2],S[1]=S[3],S[2]=0,S[3]=0,Z--}else Z++;S[Z]=1,W=!W}throw new ie}static reverseCounters(A){let x=A.length;for(let v=0;v<x/2;++v){let S=A[v];A[v]=A[x-v-1],A[x-v-1]=S}}parseFoundFinderPattern(A,x,v){let S,E,I;if(v){let Z=this.startEnd[0]-1;for(;Z>=0&&!A.get(Z);)Z--;Z++,S=this.startEnd[0]-Z,E=Z,I=this.startEnd[1]}else E=this.startEnd[0],I=A.getNextUnset(this.startEnd[1]+1),S=I-this.startEnd[1];let D=this.getDecodeFinderCounters();y.arraycopy(D,0,D,1,D.length-1),D[0]=S;let W;try{W=this.parseFinderValue(D,Pt.FINDER_PATTERNS)}catch{return null}return new qn(W,[E,I],E,I,x)}decodeDataCharacter(A,x,v,S){let E=this.getDataCharacterCounters();for(let Li=0;Li<E.length;Li++)E[Li]=0;if(S)Pt.recordPatternInReverse(A,x.getStartEnd()[0],E);else{Pt.recordPattern(A,x.getStartEnd()[1],E);for(let Li=0,ha=E.length-1;Li<ha;Li++,ha--){let Co=E[Li];E[Li]=E[ha],E[ha]=Co}}let I=17,D=lt.sum(new Int32Array(E))/I,W=(x.getStartEnd()[1]-x.getStartEnd()[0])/15;if(Math.abs(D-W)/W>.3)throw new ie;let Z=this.getOddCounts(),de=this.getEvenCounts(),be=this.getOddRoundingErrors(),Ie=this.getEvenRoundingErrors();for(let Li=0;Li<E.length;Li++){let ha=1*E[Li]/D,Co=ha+.5;if(Co<1){if(ha<.3)throw new ie;Co=1}else if(Co>8){if(ha>8.7)throw new ie;Co=8}let $u=Li/2;(Li&1)==0?(Z[$u]=Co,be[$u]=ha-Co):(de[$u]=Co,Ie[$u]=ha-Co)}this.adjustOddEvenCounts(I);let ze=4*x.getValue()+(v?0:2)+(S?0:1)-1,Je=0,tt=0;for(let Li=Z.length-1;Li>=0;Li--){if(Pt.isNotA1left(x,v,S)){let ha=Pt.WEIGHTS[ze][2*Li];tt+=Z[Li]*ha}Je+=Z[Li]}let pt=0;for(let Li=de.length-1;Li>=0;Li--)if(Pt.isNotA1left(x,v,S)){let ha=Pt.WEIGHTS[ze][2*Li+1];pt+=de[Li]*ha}let Bt=tt+pt;if((Je&1)!=0||Je>13||Je<4)throw new ie;let qt=(13-Je)/2,$t=Pt.SYMBOL_WIDEST[qt],Wt=9-$t,vr=Di.getRSSvalue(Z,$t,!0),Er=Di.getRSSvalue(de,Wt,!1),as=Pt.EVEN_TOTAL_SUBSET[qt],ka=Pt.GSUM[qt],da=vr*as+Er+ka;return new Ki(da,Bt)}static isNotA1left(A,x,v){return!(A.getValue()==0&&x&&v)}adjustOddEvenCounts(A){let x=lt.sum(new Int32Array(this.getOddCounts())),v=lt.sum(new Int32Array(this.getEvenCounts())),S=!1,E=!1;x>13?E=!0:x<4&&(S=!0);let I=!1,D=!1;v>13?D=!0:v<4&&(I=!0);let W=x+v-A,Z=(x&1)==1,de=(v&1)==0;if(W==1)if(Z){if(de)throw new ie;E=!0}else{if(!de)throw new ie;D=!0}else if(W==-1)if(Z){if(de)throw new ie;S=!0}else{if(!de)throw new ie;I=!0}else if(W==0){if(Z){if(!de)throw new ie;x<v?(S=!0,D=!0):(E=!0,I=!0)}else if(de)throw new ie}else throw new ie;if(S){if(E)throw new ie;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(E&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),I){if(D)throw new ie;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}D&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pt.SYMBOL_WIDEST=[7,5,4,3,1],Pt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Pt.GSUM=[0,348,1388,2948,3988],Pt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Pt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Pt.FINDER_PAT_A=0,Pt.FINDER_PAT_B=1,Pt.FINDER_PAT_C=2,Pt.FINDER_PAT_D=3,Pt.FINDER_PAT_E=4,Pt.FINDER_PAT_F=5,Pt.FINDER_PATTERN_SEQUENCES=[[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_C,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_E,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D,Pt.FINDER_PAT_C],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_E,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D,Pt.FINDER_PAT_D,Pt.FINDER_PAT_F],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_E,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_F,Pt.FINDER_PAT_F],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_D],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_E],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_F,Pt.FINDER_PAT_F],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_E,Pt.FINDER_PAT_F,Pt.FINDER_PAT_F]],Pt.MAX_PAIRS=11;class Un extends Ki{constructor(A,x,v){super(A,x),this.count=0,this.finderPattern=v}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ir extends ii{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(A,x,v){const S=this.decodePair(x,!1,A,v);ir.addOrTally(this.possibleLeftPairs,S),x.reverse();let E=this.decodePair(x,!0,A,v);ir.addOrTally(this.possibleRightPairs,E),x.reverse();for(let I of this.possibleLeftPairs)if(I.getCount()>1){for(let D of this.possibleRightPairs)if(D.getCount()>1&&ir.checkChecksum(I,D))return ir.constructResult(I,D)}throw new ie}static addOrTally(A,x){if(x==null)return;let v=!1;for(let S of A)if(S.getValue()===x.getValue()){S.incrementCount(),v=!0;break}v||A.push(x)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(A,x){let v=4537077*A.getValue()+x.getValue(),S=new String(v).toString(),E=new re;for(let Z=13-S.length;Z>0;Z--)E.append("0");E.append(S);let I=0;for(let Z=0;Z<13;Z++){let de=E.charAt(Z).charCodeAt(0)-48;I+=(Z&1)===0?3*de:de}I=10-I%10,I===10&&(I=0),E.append(I.toString());let D=A.getFinderPattern().getResultPoints(),W=x.getFinderPattern().getResultPoints();return new X(E.toString(),null,0,[D[0],D[1],W[0],W[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(A,x){let v=(A.getChecksumPortion()+16*x.getChecksumPortion())%79,S=9*A.getFinderPattern().getValue()+x.getFinderPattern().getValue();return S>72&&S--,S>8&&S--,v===S}decodePair(A,x,v,S){try{let E=this.findFinderPattern(A,x),I=this.parseFoundFinderPattern(A,v,x,E),D=S==null?null:S.get(O.NEED_RESULT_POINT_CALLBACK);if(D!=null){let de=(E[0]+E[1])/2;x&&(de=A.getSize()-1-de),D.foundPossibleResultPoint(new ot(de,v))}let W=this.decodeDataCharacter(A,I,!0),Z=this.decodeDataCharacter(A,I,!1);return new Un(1597*W.getValue()+Z.getValue(),W.getChecksumPortion()+4*Z.getChecksumPortion(),I)}catch{return null}}decodeDataCharacter(A,x,v){let S=this.getDataCharacterCounters();for(let pt=0;pt<S.length;pt++)S[pt]=0;if(v)Tn.recordPatternInReverse(A,x.getStartEnd()[0],S);else{Tn.recordPattern(A,x.getStartEnd()[1]+1,S);for(let pt=0,Bt=S.length-1;pt<Bt;pt++,Bt--){let qt=S[pt];S[pt]=S[Bt],S[Bt]=qt}}let E=v?16:15,I=lt.sum(new Int32Array(S))/E,D=this.getOddCounts(),W=this.getEvenCounts(),Z=this.getOddRoundingErrors(),de=this.getEvenRoundingErrors();for(let pt=0;pt<S.length;pt++){let Bt=S[pt]/I,qt=Math.floor(Bt+.5);qt<1?qt=1:qt>8&&(qt=8);let $t=Math.floor(pt/2);(pt&1)===0?(D[$t]=qt,Z[$t]=Bt-qt):(W[$t]=qt,de[$t]=Bt-qt)}this.adjustOddEvenCounts(v,E);let be=0,Ie=0;for(let pt=D.length-1;pt>=0;pt--)Ie*=9,Ie+=D[pt],be+=D[pt];let ze=0,Je=0;for(let pt=W.length-1;pt>=0;pt--)ze*=9,ze+=W[pt],Je+=W[pt];let tt=Ie+3*ze;if(v){if((be&1)!==0||be>12||be<4)throw new ie;let pt=(12-be)/2,Bt=ir.OUTSIDE_ODD_WIDEST[pt],qt=9-Bt,$t=Di.getRSSvalue(D,Bt,!1),Wt=Di.getRSSvalue(W,qt,!0),vr=ir.OUTSIDE_EVEN_TOTAL_SUBSET[pt],Er=ir.OUTSIDE_GSUM[pt];return new Ki($t*vr+Wt+Er,tt)}else{if((Je&1)!==0||Je>10||Je<4)throw new ie;let pt=(10-Je)/2,Bt=ir.INSIDE_ODD_WIDEST[pt],qt=9-Bt,$t=Di.getRSSvalue(D,Bt,!0),Wt=Di.getRSSvalue(W,qt,!1),vr=ir.INSIDE_ODD_TOTAL_SUBSET[pt],Er=ir.INSIDE_GSUM[pt];return new Ki(Wt*vr+$t+Er,tt)}}findFinderPattern(A,x){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let S=A.getSize(),E=!1,I=0;for(;I<S&&(E=!A.get(I),x!==E);)I++;let D=0,W=I;for(let Z=I;Z<S;Z++)if(A.get(Z)!==E)v[D]++;else{if(D===3){if(ii.isFinderPattern(v))return[W,Z];W+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,D--}else D++;v[D]=1,E=!E}throw new ie}parseFoundFinderPattern(A,x,v,S){let E=A.get(S[0]),I=S[0]-1;for(;I>=0&&E!==A.get(I);)I--;I++;const D=S[0]-I,W=this.getDecodeFinderCounters(),Z=new Int32Array(W.length);y.arraycopy(W,0,Z,1,W.length-1),Z[0]=D;const de=this.parseFinderValue(Z,ir.FINDER_PATTERNS);let be=I,Ie=S[1];return v&&(be=A.getSize()-1-be,Ie=A.getSize()-1-Ie),new qn(de,[I,S[1]],be,Ie,x)}adjustOddEvenCounts(A,x){let v=lt.sum(new Int32Array(this.getOddCounts())),S=lt.sum(new Int32Array(this.getEvenCounts())),E=!1,I=!1,D=!1,W=!1;A?(v>12?I=!0:v<4&&(E=!0),S>12?W=!0:S<4&&(D=!0)):(v>11?I=!0:v<5&&(E=!0),S>10?W=!0:S<4&&(D=!0));let Z=v+S-x,de=(v&1)===(A?1:0),be=(S&1)===1;if(Z===1)if(de){if(be)throw new ie;I=!0}else{if(!be)throw new ie;W=!0}else if(Z===-1)if(de){if(be)throw new ie;E=!0}else{if(!be)throw new ie;D=!0}else if(Z===0){if(de){if(!be)throw new ie;v<S?(E=!0,W=!0):(I=!0,D=!0)}else if(be)throw new ie}else throw new ie;if(E){if(I)throw new ie;ii.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(I&&ii.decrement(this.getOddCounts(),this.getOddRoundingErrors()),D){if(W)throw new ie;ii.increment(this.getEvenCounts(),this.getOddRoundingErrors())}W&&ii.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ir.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ir.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ir.OUTSIDE_GSUM=[0,161,961,2015,2715],ir.INSIDE_GSUM=[0,336,1036,1516],ir.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ir.INSIDE_ODD_WIDEST=[2,4,6,8],ir.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vi extends Tn{constructor(A,x){super(),this.readers=[],this.verbose=x===!0;const v=A?A.get(O.POSSIBLE_FORMATS):null,S=A&&A.get(O.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;v?((v.includes(oe.EAN_13)||v.includes(oe.UPC_A)||v.includes(oe.EAN_8)||v.includes(oe.UPC_E))&&this.readers.push(new mi(A)),v.includes(oe.CODE_39)&&this.readers.push(new yn(S)),v.includes(oe.CODE_128)&&this.readers.push(new ut),v.includes(oe.ITF)&&this.readers.push(new un),v.includes(oe.RSS_14)&&this.readers.push(new ir),v.includes(oe.RSS_EXPANDED)&&this.readers.push(new Pt(this.verbose))):(this.readers.push(new mi(A)),this.readers.push(new yn),this.readers.push(new mi(A)),this.readers.push(new ut),this.readers.push(new un),this.readers.push(new ir),this.readers.push(new Pt(this.verbose)))}decodeRow(A,x,v){for(let S=0;S<this.readers.length;S++)try{return this.readers[S].decodeRow(A,x,v)}catch{}throw new ie}reset(){this.readers.forEach(A=>A.reset())}}class ca extends Y{constructor(A=500,x){super(new vi(x),A,x)}}class Dr{constructor(A,x,v){this.ecCodewords=A,this.ecBlocks=[x],v&&this.ecBlocks.push(v)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yr{constructor(A,x){this.count=A,this.dataCodewords=x}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Br{constructor(A,x,v,S,E,I){this.versionNumber=A,this.symbolSizeRows=x,this.symbolSizeColumns=v,this.dataRegionSizeRows=S,this.dataRegionSizeColumns=E,this.ecBlocks=I;let D=0;const W=I.getECCodewords(),Z=I.getECBlocks();for(let de of Z)D+=de.getCount()*(de.getDataCodewords()+W);this.totalCodewords=D}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(A,x){if((A&1)!==0||(x&1)!==0)throw new L;for(let v of Br.VERSIONS)if(v.symbolSizeRows===A&&v.symbolSizeColumns===x)return v;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Br(1,10,10,8,8,new Dr(5,new yr(1,3))),new Br(2,12,12,10,10,new Dr(7,new yr(1,5))),new Br(3,14,14,12,12,new Dr(10,new yr(1,8))),new Br(4,16,16,14,14,new Dr(12,new yr(1,12))),new Br(5,18,18,16,16,new Dr(14,new yr(1,18))),new Br(6,20,20,18,18,new Dr(18,new yr(1,22))),new Br(7,22,22,20,20,new Dr(20,new yr(1,30))),new Br(8,24,24,22,22,new Dr(24,new yr(1,36))),new Br(9,26,26,24,24,new Dr(28,new yr(1,44))),new Br(10,32,32,14,14,new Dr(36,new yr(1,62))),new Br(11,36,36,16,16,new Dr(42,new yr(1,86))),new Br(12,40,40,18,18,new Dr(48,new yr(1,114))),new Br(13,44,44,20,20,new Dr(56,new yr(1,144))),new Br(14,48,48,22,22,new Dr(68,new yr(1,174))),new Br(15,52,52,24,24,new Dr(42,new yr(2,102))),new Br(16,64,64,14,14,new Dr(56,new yr(2,140))),new Br(17,72,72,16,16,new Dr(36,new yr(4,92))),new Br(18,80,80,18,18,new Dr(48,new yr(4,114))),new Br(19,88,88,20,20,new Dr(56,new yr(4,144))),new Br(20,96,96,22,22,new Dr(68,new yr(4,174))),new Br(21,104,104,24,24,new Dr(56,new yr(6,136))),new Br(22,120,120,18,18,new Dr(68,new yr(6,175))),new Br(23,132,132,20,20,new Dr(62,new yr(8,163))),new Br(24,144,144,22,22,new Dr(62,new yr(8,156),new yr(2,155))),new Br(25,8,18,6,16,new Dr(7,new yr(1,5))),new Br(26,8,32,6,14,new Dr(11,new yr(1,10))),new Br(27,12,26,10,24,new Dr(14,new yr(1,16))),new Br(28,12,36,10,16,new Dr(18,new yr(1,22))),new Br(29,16,36,14,16,new Dr(24,new yr(1,32))),new Br(30,16,48,14,22,new Dr(28,new yr(1,49)))]}}Br.VERSIONS=Br.buildVersions();class wi{constructor(A){const x=A.getHeight();if(x<8||x>144||(x&1)!==0)throw new L;this.version=wi.readVersion(A),this.mappingBitMatrix=this.extractDataRegion(A),this.readMappingMatrix=new ee(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(A){const x=A.getHeight(),v=A.getWidth();return Br.getVersionForDimensions(x,v)}readCodewords(){const A=new Int8Array(this.version.getTotalCodewords());let x=0,v=4,S=0;const E=this.mappingBitMatrix.getHeight(),I=this.mappingBitMatrix.getWidth();let D=!1,W=!1,Z=!1,de=!1;do if(v===E&&S===0&&!D)A[x++]=this.readCorner1(E,I)&255,v-=2,S+=2,D=!0;else if(v===E-2&&S===0&&(I&3)!==0&&!W)A[x++]=this.readCorner2(E,I)&255,v-=2,S+=2,W=!0;else if(v===E+4&&S===2&&(I&7)===0&&!Z)A[x++]=this.readCorner3(E,I)&255,v-=2,S+=2,Z=!0;else if(v===E-2&&S===0&&(I&7)===4&&!de)A[x++]=this.readCorner4(E,I)&255,v-=2,S+=2,de=!0;else{do v<E&&S>=0&&!this.readMappingMatrix.get(S,v)&&(A[x++]=this.readUtah(v,S,E,I)&255),v-=2,S+=2;while(v>=0&&S<I);v+=1,S+=3;do v>=0&&S<I&&!this.readMappingMatrix.get(S,v)&&(A[x++]=this.readUtah(v,S,E,I)&255),v+=2,S-=2;while(v<E&&S>=0);v+=3,S+=1}while(v<E||S<I);if(x!==this.version.getTotalCodewords())throw new L;return A}readModule(A,x,v,S){return A<0&&(A+=v,x+=4-(v+4&7)),x<0&&(x+=S,A+=4-(S+4&7)),this.readMappingMatrix.set(x,A),this.mappingBitMatrix.get(x,A)}readUtah(A,x,v,S){let E=0;return this.readModule(A-2,x-2,v,S)&&(E|=1),E<<=1,this.readModule(A-2,x-1,v,S)&&(E|=1),E<<=1,this.readModule(A-1,x-2,v,S)&&(E|=1),E<<=1,this.readModule(A-1,x-1,v,S)&&(E|=1),E<<=1,this.readModule(A-1,x,v,S)&&(E|=1),E<<=1,this.readModule(A,x-2,v,S)&&(E|=1),E<<=1,this.readModule(A,x-1,v,S)&&(E|=1),E<<=1,this.readModule(A,x,v,S)&&(E|=1),E}readCorner1(A,x){let v=0;return this.readModule(A-1,0,A,x)&&(v|=1),v<<=1,this.readModule(A-1,1,A,x)&&(v|=1),v<<=1,this.readModule(A-1,2,A,x)&&(v|=1),v<<=1,this.readModule(0,x-2,A,x)&&(v|=1),v<<=1,this.readModule(0,x-1,A,x)&&(v|=1),v<<=1,this.readModule(1,x-1,A,x)&&(v|=1),v<<=1,this.readModule(2,x-1,A,x)&&(v|=1),v<<=1,this.readModule(3,x-1,A,x)&&(v|=1),v}readCorner2(A,x){let v=0;return this.readModule(A-3,0,A,x)&&(v|=1),v<<=1,this.readModule(A-2,0,A,x)&&(v|=1),v<<=1,this.readModule(A-1,0,A,x)&&(v|=1),v<<=1,this.readModule(0,x-4,A,x)&&(v|=1),v<<=1,this.readModule(0,x-3,A,x)&&(v|=1),v<<=1,this.readModule(0,x-2,A,x)&&(v|=1),v<<=1,this.readModule(0,x-1,A,x)&&(v|=1),v<<=1,this.readModule(1,x-1,A,x)&&(v|=1),v}readCorner3(A,x){let v=0;return this.readModule(A-1,0,A,x)&&(v|=1),v<<=1,this.readModule(A-1,x-1,A,x)&&(v|=1),v<<=1,this.readModule(0,x-3,A,x)&&(v|=1),v<<=1,this.readModule(0,x-2,A,x)&&(v|=1),v<<=1,this.readModule(0,x-1,A,x)&&(v|=1),v<<=1,this.readModule(1,x-3,A,x)&&(v|=1),v<<=1,this.readModule(1,x-2,A,x)&&(v|=1),v<<=1,this.readModule(1,x-1,A,x)&&(v|=1),v}readCorner4(A,x){let v=0;return this.readModule(A-3,0,A,x)&&(v|=1),v<<=1,this.readModule(A-2,0,A,x)&&(v|=1),v<<=1,this.readModule(A-1,0,A,x)&&(v|=1),v<<=1,this.readModule(0,x-2,A,x)&&(v|=1),v<<=1,this.readModule(0,x-1,A,x)&&(v|=1),v<<=1,this.readModule(1,x-1,A,x)&&(v|=1),v<<=1,this.readModule(2,x-1,A,x)&&(v|=1),v<<=1,this.readModule(3,x-1,A,x)&&(v|=1),v}extractDataRegion(A){const x=this.version.getSymbolSizeRows(),v=this.version.getSymbolSizeColumns();if(A.getHeight()!==x)throw new f("Dimension of bitMatrix must match the version size");const S=this.version.getDataRegionSizeRows(),E=this.version.getDataRegionSizeColumns(),I=x/S|0,D=v/E|0,W=I*S,Z=D*E,de=new ee(Z,W);for(let be=0;be<I;++be){const Ie=be*S;for(let ze=0;ze<D;++ze){const Je=ze*E;for(let tt=0;tt<S;++tt){const pt=be*(S+2)+1+tt,Bt=Ie+tt;for(let qt=0;qt<E;++qt){const $t=ze*(E+2)+1+qt;if(A.get($t,pt)){const Wt=Je+qt;de.set(Wt,Bt)}}}}}return de}}class Pe{constructor(A,x){this.numDataCodewords=A,this.codewords=x}static getDataBlocks(A,x){const v=x.getECBlocks();let S=0;const E=v.getECBlocks();for(let tt of E)S+=tt.getCount();const I=new Array(S);let D=0;for(let tt of E)for(let pt=0;pt<tt.getCount();pt++){const Bt=tt.getDataCodewords(),qt=v.getECCodewords()+Bt;I[D++]=new Pe(Bt,new Uint8Array(qt))}const Z=I[0].codewords.length-v.getECCodewords(),de=Z-1;let be=0;for(let tt=0;tt<de;tt++)for(let pt=0;pt<D;pt++)I[pt].codewords[tt]=A[be++];const Ie=x.getVersionNumber()===24,ze=Ie?8:D;for(let tt=0;tt<ze;tt++)I[tt].codewords[Z-1]=A[be++];const Je=I[0].codewords.length;for(let tt=Z;tt<Je;tt++)for(let pt=0;pt<D;pt++){const Bt=Ie?(pt+8)%D:pt,qt=Ie&&Bt>7?tt-1:tt;I[Bt].codewords[qt]=A[be++]}if(be!==A.length)throw new f;return I}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class $e{constructor(A){this.bytes=A,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(A){if(A<1||A>32||A>this.available())throw new f(""+A);let x=0,v=this.bitOffset,S=this.byteOffset;const E=this.bytes;if(v>0){const I=8-v,D=A<I?A:I,W=I-D,Z=255>>8-D<<W;x=(E[S]&Z)>>W,A-=D,v+=D,v===8&&(v=0,S++)}if(A>0){for(;A>=8;)x=x<<8|E[S]&255,S++,A-=8;if(A>0){const I=8-A,D=255>>I<<I;x=x<<A|(E[S]&D)>>I,v+=A}}return this.bitOffset=v,this.byteOffset=S,x}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Oe;(function(we){we[we.PAD_ENCODE=0]="PAD_ENCODE",we[we.ASCII_ENCODE=1]="ASCII_ENCODE",we[we.C40_ENCODE=2]="C40_ENCODE",we[we.TEXT_ENCODE=3]="TEXT_ENCODE",we[we.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",we[we.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",we[we.BASE256_ENCODE=6]="BASE256_ENCODE"})(Oe||(Oe={}));class st{static decode(A){const x=new $e(A),v=new re,S=new re,E=new Array;let I=Oe.ASCII_ENCODE;do if(I===Oe.ASCII_ENCODE)I=this.decodeAsciiSegment(x,v,S);else{switch(I){case Oe.C40_ENCODE:this.decodeC40Segment(x,v);break;case Oe.TEXT_ENCODE:this.decodeTextSegment(x,v);break;case Oe.ANSIX12_ENCODE:this.decodeAnsiX12Segment(x,v);break;case Oe.EDIFACT_ENCODE:this.decodeEdifactSegment(x,v);break;case Oe.BASE256_ENCODE:this.decodeBase256Segment(x,v,E);break;default:throw new L}I=Oe.ASCII_ENCODE}while(I!==Oe.PAD_ENCODE&&x.available()>0);return S.length()>0&&v.append(S.toString()),new Ne(A,v.toString(),E.length===0?null:E,null)}static decodeAsciiSegment(A,x,v){let S=!1;do{let E=A.readBits(8);if(E===0)throw new L;if(E<=128)return S&&(E+=128),x.append(String.fromCharCode(E-1)),Oe.ASCII_ENCODE;if(E===129)return Oe.PAD_ENCODE;if(E<=229){const I=E-130;I<10&&x.append("0"),x.append(""+I)}else switch(E){case 230:return Oe.C40_ENCODE;case 231:return Oe.BASE256_ENCODE;case 232:x.append("");break;case 233:case 234:break;case 235:S=!0;break;case 236:x.append("[)>05"),v.insert(0,"");break;case 237:x.append("[)>06"),v.insert(0,"");break;case 238:return Oe.ANSIX12_ENCODE;case 239:return Oe.TEXT_ENCODE;case 240:return Oe.EDIFACT_ENCODE;case 241:break;default:if(E!==254||A.available()!==0)throw new L;break}}while(A.available()>0);return Oe.ASCII_ENCODE}static decodeC40Segment(A,x){let v=!1;const S=[];let E=0;do{if(A.available()===8)return;const I=A.readBits(8);if(I===254)return;this.parseTwoBytes(I,A.readBits(8),S);for(let D=0;D<3;D++){const W=S[D];switch(E){case 0:if(W<3)E=W+1;else if(W<this.C40_BASIC_SET_CHARS.length){const Z=this.C40_BASIC_SET_CHARS[W];v?(x.append(String.fromCharCode(Z.charCodeAt(0)+128)),v=!1):x.append(Z)}else throw new L;break;case 1:v?(x.append(String.fromCharCode(W+128)),v=!1):x.append(String.fromCharCode(W)),E=0;break;case 2:if(W<this.C40_SHIFT2_SET_CHARS.length){const Z=this.C40_SHIFT2_SET_CHARS[W];v?(x.append(String.fromCharCode(Z.charCodeAt(0)+128)),v=!1):x.append(Z)}else switch(W){case 27:x.append("");break;case 30:v=!0;break;default:throw new L}E=0;break;case 3:v?(x.append(String.fromCharCode(W+224)),v=!1):x.append(String.fromCharCode(W+96)),E=0;break;default:throw new L}}}while(A.available()>0)}static decodeTextSegment(A,x){let v=!1,S=[],E=0;do{if(A.available()===8)return;const I=A.readBits(8);if(I===254)return;this.parseTwoBytes(I,A.readBits(8),S);for(let D=0;D<3;D++){const W=S[D];switch(E){case 0:if(W<3)E=W+1;else if(W<this.TEXT_BASIC_SET_CHARS.length){const Z=this.TEXT_BASIC_SET_CHARS[W];v?(x.append(String.fromCharCode(Z.charCodeAt(0)+128)),v=!1):x.append(Z)}else throw new L;break;case 1:v?(x.append(String.fromCharCode(W+128)),v=!1):x.append(String.fromCharCode(W)),E=0;break;case 2:if(W<this.TEXT_SHIFT2_SET_CHARS.length){const Z=this.TEXT_SHIFT2_SET_CHARS[W];v?(x.append(String.fromCharCode(Z.charCodeAt(0)+128)),v=!1):x.append(Z)}else switch(W){case 27:x.append("");break;case 30:v=!0;break;default:throw new L}E=0;break;case 3:if(W<this.TEXT_SHIFT3_SET_CHARS.length){const Z=this.TEXT_SHIFT3_SET_CHARS[W];v?(x.append(String.fromCharCode(Z.charCodeAt(0)+128)),v=!1):x.append(Z),E=0}else throw new L;break;default:throw new L}}}while(A.available()>0)}static decodeAnsiX12Segment(A,x){const v=[];do{if(A.available()===8)return;const S=A.readBits(8);if(S===254)return;this.parseTwoBytes(S,A.readBits(8),v);for(let E=0;E<3;E++){const I=v[E];switch(I){case 0:x.append("\r");break;case 1:x.append("*");break;case 2:x.append(">");break;case 3:x.append(" ");break;default:if(I<14)x.append(String.fromCharCode(I+44));else if(I<40)x.append(String.fromCharCode(I+51));else throw new L;break}}}while(A.available()>0)}static parseTwoBytes(A,x,v){let S=(A<<8)+x-1,E=Math.floor(S/1600);v[0]=E,S-=E*1600,E=Math.floor(S/40),v[1]=E,v[2]=S-E*40}static decodeEdifactSegment(A,x){do{if(A.available()<=16)return;for(let v=0;v<4;v++){let S=A.readBits(6);if(S===31){const E=8-A.getBitOffset();E!==8&&A.readBits(E);return}(S&32)===0&&(S|=64),x.append(String.fromCharCode(S))}}while(A.available()>0)}static decodeBase256Segment(A,x,v){let S=1+A.getByteOffset();const E=this.unrandomize255State(A.readBits(8),S++);let I;if(E===0?I=A.available()/8|0:E<250?I=E:I=250*(E-249)+this.unrandomize255State(A.readBits(8),S++),I<0)throw new L;const D=new Uint8Array(I);for(let W=0;W<I;W++){if(A.available()<8)throw new L;D[W]=this.unrandomize255State(A.readBits(8),S++)}v.push(D);try{x.append(G.decode(D,V.ISO88591))}catch(W){throw new Fe("Platform does not support required encoding: "+W.message)}}static unrandomize255State(A,x){const v=149*x%255+1,S=A-v;return S>=0?S:S+256}}st.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],st.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],st.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],st.TEXT_SHIFT2_SET_CHARS=st.C40_SHIFT2_SET_CHARS,st.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class rt{constructor(){this.rsDecoder=new Nt(gt.DATA_MATRIX_FIELD_256)}decode(A){const x=new wi(A),v=x.getVersion(),S=x.readCodewords(),E=Pe.getDataBlocks(S,v);let I=0;for(let Z of E)I+=Z.getNumDataCodewords();const D=new Uint8Array(I),W=E.length;for(let Z=0;Z<W;Z++){const de=E[Z],be=de.getCodewords(),Ie=de.getNumDataCodewords();this.correctErrors(be,Ie);for(let ze=0;ze<Ie;ze++)D[ze*W+Z]=be[ze]}return st.decode(D)}correctErrors(A,x){const v=new Int32Array(A);try{this.rsDecoder.decode(v,A.length-x)}catch{throw new m}for(let S=0;S<x;S++)A[S]=v[S]}}class Xe{constructor(A){this.image=A,this.rectangleDetector=new Cn(this.image)}detect(){const A=this.rectangleDetector.detect();let x=this.detectSolid1(A);if(x=this.detectSolid2(x),x[3]=this.correctTopRight(x),!x[3])throw new ie;x=this.shiftToModuleCenter(x);const v=x[0],S=x[1],E=x[2],I=x[3];let D=this.transitionsBetween(v,I)+1,W=this.transitionsBetween(E,I)+1;(D&1)===1&&(D+=1),(W&1)===1&&(W+=1),4*D<7*W&&4*W<7*D&&(D=W=Math.max(D,W));let Z=Xe.sampleGrid(this.image,v,S,E,I,D,W);return new An(Z,[v,S,E,I])}static shiftPoint(A,x,v){let S=(x.getX()-A.getX())/(v+1),E=(x.getY()-A.getY())/(v+1);return new ot(A.getX()+S,A.getY()+E)}static moveAway(A,x,v){let S=A.getX(),E=A.getY();return S<x?S-=1:S+=1,E<v?E-=1:E+=1,new ot(S,E)}detectSolid1(A){let x=A[0],v=A[1],S=A[3],E=A[2],I=this.transitionsBetween(x,v),D=this.transitionsBetween(v,S),W=this.transitionsBetween(S,E),Z=this.transitionsBetween(E,x),de=I,be=[E,x,v,S];return de>D&&(de=D,be[0]=x,be[1]=v,be[2]=S,be[3]=E),de>W&&(de=W,be[0]=v,be[1]=S,be[2]=E,be[3]=x),de>Z&&(be[0]=S,be[1]=E,be[2]=x,be[3]=v),be}detectSolid2(A){let x=A[0],v=A[1],S=A[2],E=A[3],I=this.transitionsBetween(x,E),D=Xe.shiftPoint(v,S,(I+1)*4),W=Xe.shiftPoint(S,v,(I+1)*4),Z=this.transitionsBetween(D,x),de=this.transitionsBetween(W,E);return Z<de?(A[0]=x,A[1]=v,A[2]=S,A[3]=E):(A[0]=v,A[1]=S,A[2]=E,A[3]=x),A}correctTopRight(A){let x=A[0],v=A[1],S=A[2],E=A[3],I=this.transitionsBetween(x,E),D=this.transitionsBetween(v,E),W=Xe.shiftPoint(x,v,(D+1)*4),Z=Xe.shiftPoint(S,v,(I+1)*4);I=this.transitionsBetween(W,E),D=this.transitionsBetween(Z,E);let de=new ot(E.getX()+(S.getX()-v.getX())/(I+1),E.getY()+(S.getY()-v.getY())/(I+1)),be=new ot(E.getX()+(x.getX()-v.getX())/(D+1),E.getY()+(x.getY()-v.getY())/(D+1));if(!this.isValid(de))return this.isValid(be)?be:null;if(!this.isValid(be))return de;let Ie=this.transitionsBetween(W,de)+this.transitionsBetween(Z,de),ze=this.transitionsBetween(W,be)+this.transitionsBetween(Z,be);return Ie>ze?de:be}shiftToModuleCenter(A){let x=A[0],v=A[1],S=A[2],E=A[3],I=this.transitionsBetween(x,E)+1,D=this.transitionsBetween(S,E)+1,W=Xe.shiftPoint(x,v,D*4),Z=Xe.shiftPoint(S,v,I*4);I=this.transitionsBetween(W,E)+1,D=this.transitionsBetween(Z,E)+1,(I&1)===1&&(I+=1),(D&1)===1&&(D+=1);let de=(x.getX()+v.getX()+S.getX()+E.getX())/4,be=(x.getY()+v.getY()+S.getY()+E.getY())/4;x=Xe.moveAway(x,de,be),v=Xe.moveAway(v,de,be),S=Xe.moveAway(S,de,be),E=Xe.moveAway(E,de,be);let Ie,ze;return W=Xe.shiftPoint(x,v,D*4),W=Xe.shiftPoint(W,E,I*4),Ie=Xe.shiftPoint(v,x,D*4),Ie=Xe.shiftPoint(Ie,S,I*4),Z=Xe.shiftPoint(S,E,D*4),Z=Xe.shiftPoint(Z,v,I*4),ze=Xe.shiftPoint(E,S,D*4),ze=Xe.shiftPoint(ze,x,I*4),[W,Ie,Z,ze]}isValid(A){return A.getX()>=0&&A.getX()<this.image.getWidth()&&A.getY()>0&&A.getY()<this.image.getHeight()}static sampleGrid(A,x,v,S,E,I,D){return xn.getInstance().sampleGrid(A,I,D,.5,.5,I-.5,.5,I-.5,D-.5,.5,D-.5,x.getX(),x.getY(),E.getX(),E.getY(),S.getX(),S.getY(),v.getX(),v.getY())}transitionsBetween(A,x){let v=Math.trunc(A.getX()),S=Math.trunc(A.getY()),E=Math.trunc(x.getX()),I=Math.trunc(x.getY()),D=Math.abs(I-S)>Math.abs(E-v);if(D){let tt=v;v=S,S=tt,tt=E,E=I,I=tt}let W=Math.abs(E-v),Z=Math.abs(I-S),de=-W/2,be=S<I?1:-1,Ie=v<E?1:-1,ze=0,Je=this.image.get(D?S:v,D?v:S);for(let tt=v,pt=S;tt!==E;tt+=Ie){let Bt=this.image.get(D?pt:tt,D?tt:pt);if(Bt!==Je&&(ze++,Je=Bt),de+=Z,de>0){if(pt===I)break;pt+=be,de-=W}}return ze}}class jt{constructor(){this.decoder=new rt}decode(A,x=null){let v,S;if(x!=null&&x.has(O.PURE_BARCODE)){const Z=jt.extractPureBits(A.getBlackMatrix());v=this.decoder.decode(Z),S=jt.NO_POINTS}else{const Z=new Xe(A.getBlackMatrix()).detect();v=this.decoder.decode(Z.getBits()),S=Z.getPoints()}const E=v.getRawBytes(),I=new X(v.getText(),E,8*E.length,S,oe.DATA_MATRIX,y.currentTimeMillis()),D=v.getByteSegments();D!=null&&I.putMetadata(ke.BYTE_SEGMENTS,D);const W=v.getECLevel();return W!=null&&I.putMetadata(ke.ERROR_CORRECTION_LEVEL,W),I}reset(){}static extractPureBits(A){const x=A.getTopLeftOnBit(),v=A.getBottomRightOnBit();if(x==null||v==null)throw new ie;const S=this.moduleSize(x,A);let E=x[1];const I=v[1];let D=x[0];const Z=(v[0]-D+1)/S,de=(I-E+1)/S;if(Z<=0||de<=0)throw new ie;const be=S/2;E+=be,D+=be;const Ie=new ee(Z,de);for(let ze=0;ze<de;ze++){const Je=E+ze*S;for(let tt=0;tt<Z;tt++)A.get(D+tt*S,Je)&&Ie.set(tt,ze)}return Ie}static moduleSize(A,x){const v=x.getWidth();let S=A[0];const E=A[1];for(;S<v&&x.get(S,E);)S++;if(S===v)throw new ie;const I=S-A[0];if(I===0)throw new ie;return I}}jt.NO_POINTS=[];class Zt extends Y{constructor(A=500){super(new jt,A)}}var en;(function(we){we[we.L=0]="L",we[we.M=1]="M",we[we.Q=2]="Q",we[we.H=3]="H"})(en||(en={}));class dt{constructor(A,x,v){this.value=A,this.stringValue=x,this.bits=v,dt.FOR_BITS.set(v,this),dt.FOR_VALUE.set(A,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(A){switch(A){case"L":return dt.L;case"M":return dt.M;case"Q":return dt.Q;case"H":return dt.H;default:throw new d(A+"not available")}}toString(){return this.stringValue}equals(A){if(!(A instanceof dt))return!1;const x=A;return this.value===x.value}static forBits(A){if(A<0||A>=dt.FOR_BITS.size)throw new f;return dt.FOR_BITS.get(A)}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.L=new dt(en.L,"L",1),dt.M=new dt(en.M,"M",0),dt.Q=new dt(en.Q,"Q",3),dt.H=new dt(en.H,"H",2);class pe{constructor(A){this.errorCorrectionLevel=dt.forBits(A>>3&3),this.dataMask=A&7}static numBitsDiffering(A,x){return R.bitCount(A^x)}static decodeFormatInformation(A,x){const v=pe.doDecodeFormatInformation(A,x);return v!==null?v:pe.doDecodeFormatInformation(A^pe.FORMAT_INFO_MASK_QR,x^pe.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(A,x){let v=Number.MAX_SAFE_INTEGER,S=0;for(const E of pe.FORMAT_INFO_DECODE_LOOKUP){const I=E[0];if(I===A||I===x)return new pe(E[1]);let D=pe.numBitsDiffering(A,I);D<v&&(S=E[1],v=D),A!==x&&(D=pe.numBitsDiffering(x,I),D<v&&(S=E[1],v=D))}return v<=3?new pe(S):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(A){if(!(A instanceof pe))return!1;const x=A;return this.errorCorrectionLevel===x.errorCorrectionLevel&&this.dataMask===x.dataMask}}pe.FORMAT_INFO_MASK_QR=21522,pe.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class me{constructor(A,...x){this.ecCodewordsPerBlock=A,this.ecBlocks=x}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let A=0;const x=this.ecBlocks;for(const v of x)A+=v.getCount();return A}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ae{constructor(A,x){this.count=A,this.dataCodewords=x}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(A,x,...v){this.versionNumber=A,this.alignmentPatternCenters=x,this.ecBlocks=v;let S=0;const E=v[0].getECCodewordsPerBlock(),I=v[0].getECBlocks();for(const D of I)S+=D.getCount()*(D.getDataCodewords()+E);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(A){return this.ecBlocks[A.getValue()]}static getProvisionalVersionForDimension(A){if(A%4!==1)throw new L;try{return this.getVersionForNumber((A-17)/4)}catch{throw new L}}static getVersionForNumber(A){if(A<1||A>40)throw new f;return Qe.VERSIONS[A-1]}static decodeVersionInformation(A){let x=Number.MAX_SAFE_INTEGER,v=0;for(let S=0;S<Qe.VERSION_DECODE_INFO.length;S++){const E=Qe.VERSION_DECODE_INFO[S];if(E===A)return Qe.getVersionForNumber(S+7);const I=pe.numBitsDiffering(A,E);I<x&&(v=S+7,x=I)}return x<=3?Qe.getVersionForNumber(v):null}buildFunctionPattern(){const A=this.getDimensionForVersion(),x=new ee(A);x.setRegion(0,0,9,9),x.setRegion(A-8,0,8,9),x.setRegion(0,A-8,9,8);const v=this.alignmentPatternCenters.length;for(let S=0;S<v;S++){const E=this.alignmentPatternCenters[S]-2;for(let I=0;I<v;I++)S===0&&(I===0||I===v-1)||S===v-1&&I===0||x.setRegion(this.alignmentPatternCenters[I]-2,E,5,5)}return x.setRegion(6,9,1,A-17),x.setRegion(9,6,A-17,1),this.versionNumber>6&&(x.setRegion(A-11,0,3,6),x.setRegion(0,A-11,6,3)),x}toString(){return""+this.versionNumber}}Qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Qe.VERSIONS=[new Qe(1,new Int32Array(0),new me(7,new ae(1,19)),new me(10,new ae(1,16)),new me(13,new ae(1,13)),new me(17,new ae(1,9))),new Qe(2,Int32Array.from([6,18]),new me(10,new ae(1,34)),new me(16,new ae(1,28)),new me(22,new ae(1,22)),new me(28,new ae(1,16))),new Qe(3,Int32Array.from([6,22]),new me(15,new ae(1,55)),new me(26,new ae(1,44)),new me(18,new ae(2,17)),new me(22,new ae(2,13))),new Qe(4,Int32Array.from([6,26]),new me(20,new ae(1,80)),new me(18,new ae(2,32)),new me(26,new ae(2,24)),new me(16,new ae(4,9))),new Qe(5,Int32Array.from([6,30]),new me(26,new ae(1,108)),new me(24,new ae(2,43)),new me(18,new ae(2,15),new ae(2,16)),new me(22,new ae(2,11),new ae(2,12))),new Qe(6,Int32Array.from([6,34]),new me(18,new ae(2,68)),new me(16,new ae(4,27)),new me(24,new ae(4,19)),new me(28,new ae(4,15))),new Qe(7,Int32Array.from([6,22,38]),new me(20,new ae(2,78)),new me(18,new ae(4,31)),new me(18,new ae(2,14),new ae(4,15)),new me(26,new ae(4,13),new ae(1,14))),new Qe(8,Int32Array.from([6,24,42]),new me(24,new ae(2,97)),new me(22,new ae(2,38),new ae(2,39)),new me(22,new ae(4,18),new ae(2,19)),new me(26,new ae(4,14),new ae(2,15))),new Qe(9,Int32Array.from([6,26,46]),new me(30,new ae(2,116)),new me(22,new ae(3,36),new ae(2,37)),new me(20,new ae(4,16),new ae(4,17)),new me(24,new ae(4,12),new ae(4,13))),new Qe(10,Int32Array.from([6,28,50]),new me(18,new ae(2,68),new ae(2,69)),new me(26,new ae(4,43),new ae(1,44)),new me(24,new ae(6,19),new ae(2,20)),new me(28,new ae(6,15),new ae(2,16))),new Qe(11,Int32Array.from([6,30,54]),new me(20,new ae(4,81)),new me(30,new ae(1,50),new ae(4,51)),new me(28,new ae(4,22),new ae(4,23)),new me(24,new ae(3,12),new ae(8,13))),new Qe(12,Int32Array.from([6,32,58]),new me(24,new ae(2,92),new ae(2,93)),new me(22,new ae(6,36),new ae(2,37)),new me(26,new ae(4,20),new ae(6,21)),new me(28,new ae(7,14),new ae(4,15))),new Qe(13,Int32Array.from([6,34,62]),new me(26,new ae(4,107)),new me(22,new ae(8,37),new ae(1,38)),new me(24,new ae(8,20),new ae(4,21)),new me(22,new ae(12,11),new ae(4,12))),new Qe(14,Int32Array.from([6,26,46,66]),new me(30,new ae(3,115),new ae(1,116)),new me(24,new ae(4,40),new ae(5,41)),new me(20,new ae(11,16),new ae(5,17)),new me(24,new ae(11,12),new ae(5,13))),new Qe(15,Int32Array.from([6,26,48,70]),new me(22,new ae(5,87),new ae(1,88)),new me(24,new ae(5,41),new ae(5,42)),new me(30,new ae(5,24),new ae(7,25)),new me(24,new ae(11,12),new ae(7,13))),new Qe(16,Int32Array.from([6,26,50,74]),new me(24,new ae(5,98),new ae(1,99)),new me(28,new ae(7,45),new ae(3,46)),new me(24,new ae(15,19),new ae(2,20)),new me(30,new ae(3,15),new ae(13,16))),new Qe(17,Int32Array.from([6,30,54,78]),new me(28,new ae(1,107),new ae(5,108)),new me(28,new ae(10,46),new ae(1,47)),new me(28,new ae(1,22),new ae(15,23)),new me(28,new ae(2,14),new ae(17,15))),new Qe(18,Int32Array.from([6,30,56,82]),new me(30,new ae(5,120),new ae(1,121)),new me(26,new ae(9,43),new ae(4,44)),new me(28,new ae(17,22),new ae(1,23)),new me(28,new ae(2,14),new ae(19,15))),new Qe(19,Int32Array.from([6,30,58,86]),new me(28,new ae(3,113),new ae(4,114)),new me(26,new ae(3,44),new ae(11,45)),new me(26,new ae(17,21),new ae(4,22)),new me(26,new ae(9,13),new ae(16,14))),new Qe(20,Int32Array.from([6,34,62,90]),new me(28,new ae(3,107),new ae(5,108)),new me(26,new ae(3,41),new ae(13,42)),new me(30,new ae(15,24),new ae(5,25)),new me(28,new ae(15,15),new ae(10,16))),new Qe(21,Int32Array.from([6,28,50,72,94]),new me(28,new ae(4,116),new ae(4,117)),new me(26,new ae(17,42)),new me(28,new ae(17,22),new ae(6,23)),new me(30,new ae(19,16),new ae(6,17))),new Qe(22,Int32Array.from([6,26,50,74,98]),new me(28,new ae(2,111),new ae(7,112)),new me(28,new ae(17,46)),new me(30,new ae(7,24),new ae(16,25)),new me(24,new ae(34,13))),new Qe(23,Int32Array.from([6,30,54,78,102]),new me(30,new ae(4,121),new ae(5,122)),new me(28,new ae(4,47),new ae(14,48)),new me(30,new ae(11,24),new ae(14,25)),new me(30,new ae(16,15),new ae(14,16))),new Qe(24,Int32Array.from([6,28,54,80,106]),new me(30,new ae(6,117),new ae(4,118)),new me(28,new ae(6,45),new ae(14,46)),new me(30,new ae(11,24),new ae(16,25)),new me(30,new ae(30,16),new ae(2,17))),new Qe(25,Int32Array.from([6,32,58,84,110]),new me(26,new ae(8,106),new ae(4,107)),new me(28,new ae(8,47),new ae(13,48)),new me(30,new ae(7,24),new ae(22,25)),new me(30,new ae(22,15),new ae(13,16))),new Qe(26,Int32Array.from([6,30,58,86,114]),new me(28,new ae(10,114),new ae(2,115)),new me(28,new ae(19,46),new ae(4,47)),new me(28,new ae(28,22),new ae(6,23)),new me(30,new ae(33,16),new ae(4,17))),new Qe(27,Int32Array.from([6,34,62,90,118]),new me(30,new ae(8,122),new ae(4,123)),new me(28,new ae(22,45),new ae(3,46)),new me(30,new ae(8,23),new ae(26,24)),new me(30,new ae(12,15),new ae(28,16))),new Qe(28,Int32Array.from([6,26,50,74,98,122]),new me(30,new ae(3,117),new ae(10,118)),new me(28,new ae(3,45),new ae(23,46)),new me(30,new ae(4,24),new ae(31,25)),new me(30,new ae(11,15),new ae(31,16))),new Qe(29,Int32Array.from([6,30,54,78,102,126]),new me(30,new ae(7,116),new ae(7,117)),new me(28,new ae(21,45),new ae(7,46)),new me(30,new ae(1,23),new ae(37,24)),new me(30,new ae(19,15),new ae(26,16))),new Qe(30,Int32Array.from([6,26,52,78,104,130]),new me(30,new ae(5,115),new ae(10,116)),new me(28,new ae(19,47),new ae(10,48)),new me(30,new ae(15,24),new ae(25,25)),new me(30,new ae(23,15),new ae(25,16))),new Qe(31,Int32Array.from([6,30,56,82,108,134]),new me(30,new ae(13,115),new ae(3,116)),new me(28,new ae(2,46),new ae(29,47)),new me(30,new ae(42,24),new ae(1,25)),new me(30,new ae(23,15),new ae(28,16))),new Qe(32,Int32Array.from([6,34,60,86,112,138]),new me(30,new ae(17,115)),new me(28,new ae(10,46),new ae(23,47)),new me(30,new ae(10,24),new ae(35,25)),new me(30,new ae(19,15),new ae(35,16))),new Qe(33,Int32Array.from([6,30,58,86,114,142]),new me(30,new ae(17,115),new ae(1,116)),new me(28,new ae(14,46),new ae(21,47)),new me(30,new ae(29,24),new ae(19,25)),new me(30,new ae(11,15),new ae(46,16))),new Qe(34,Int32Array.from([6,34,62,90,118,146]),new me(30,new ae(13,115),new ae(6,116)),new me(28,new ae(14,46),new ae(23,47)),new me(30,new ae(44,24),new ae(7,25)),new me(30,new ae(59,16),new ae(1,17))),new Qe(35,Int32Array.from([6,30,54,78,102,126,150]),new me(30,new ae(12,121),new ae(7,122)),new me(28,new ae(12,47),new ae(26,48)),new me(30,new ae(39,24),new ae(14,25)),new me(30,new ae(22,15),new ae(41,16))),new Qe(36,Int32Array.from([6,24,50,76,102,128,154]),new me(30,new ae(6,121),new ae(14,122)),new me(28,new ae(6,47),new ae(34,48)),new me(30,new ae(46,24),new ae(10,25)),new me(30,new ae(2,15),new ae(64,16))),new Qe(37,Int32Array.from([6,28,54,80,106,132,158]),new me(30,new ae(17,122),new ae(4,123)),new me(28,new ae(29,46),new ae(14,47)),new me(30,new ae(49,24),new ae(10,25)),new me(30,new ae(24,15),new ae(46,16))),new Qe(38,Int32Array.from([6,32,58,84,110,136,162]),new me(30,new ae(4,122),new ae(18,123)),new me(28,new ae(13,46),new ae(32,47)),new me(30,new ae(48,24),new ae(14,25)),new me(30,new ae(42,15),new ae(32,16))),new Qe(39,Int32Array.from([6,26,54,82,110,138,166]),new me(30,new ae(20,117),new ae(4,118)),new me(28,new ae(40,47),new ae(7,48)),new me(30,new ae(43,24),new ae(22,25)),new me(30,new ae(10,15),new ae(67,16))),new Qe(40,Int32Array.from([6,30,58,86,114,142,170]),new me(30,new ae(19,118),new ae(6,119)),new me(28,new ae(18,47),new ae(31,48)),new me(30,new ae(34,24),new ae(34,25)),new me(30,new ae(20,15),new ae(61,16)))];var Mt;(function(we){we[we.DATA_MASK_000=0]="DATA_MASK_000",we[we.DATA_MASK_001=1]="DATA_MASK_001",we[we.DATA_MASK_010=2]="DATA_MASK_010",we[we.DATA_MASK_011=3]="DATA_MASK_011",we[we.DATA_MASK_100=4]="DATA_MASK_100",we[we.DATA_MASK_101=5]="DATA_MASK_101",we[we.DATA_MASK_110=6]="DATA_MASK_110",we[we.DATA_MASK_111=7]="DATA_MASK_111"})(Mt||(Mt={}));class Gt{constructor(A,x){this.value=A,this.isMasked=x}unmaskBitMatrix(A,x){for(let v=0;v<x;v++)for(let S=0;S<x;S++)this.isMasked(v,S)&&A.flip(S,v)}}Gt.values=new Map([[Mt.DATA_MASK_000,new Gt(Mt.DATA_MASK_000,(we,A)=>(we+A&1)===0)],[Mt.DATA_MASK_001,new Gt(Mt.DATA_MASK_001,(we,A)=>(we&1)===0)],[Mt.DATA_MASK_010,new Gt(Mt.DATA_MASK_010,(we,A)=>A%3===0)],[Mt.DATA_MASK_011,new Gt(Mt.DATA_MASK_011,(we,A)=>(we+A)%3===0)],[Mt.DATA_MASK_100,new Gt(Mt.DATA_MASK_100,(we,A)=>(Math.floor(we/2)+Math.floor(A/3)&1)===0)],[Mt.DATA_MASK_101,new Gt(Mt.DATA_MASK_101,(we,A)=>we*A%6===0)],[Mt.DATA_MASK_110,new Gt(Mt.DATA_MASK_110,(we,A)=>we*A%6<3)],[Mt.DATA_MASK_111,new Gt(Mt.DATA_MASK_111,(we,A)=>(we+A+we*A%3&1)===0)]]);class En{constructor(A){const x=A.getHeight();if(x<21||(x&3)!==1)throw new L;this.bitMatrix=A}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let A=0;for(let E=0;E<6;E++)A=this.copyBit(E,8,A);A=this.copyBit(7,8,A),A=this.copyBit(8,8,A),A=this.copyBit(8,7,A);for(let E=5;E>=0;E--)A=this.copyBit(8,E,A);const x=this.bitMatrix.getHeight();let v=0;const S=x-7;for(let E=x-1;E>=S;E--)v=this.copyBit(8,E,v);for(let E=x-8;E<x;E++)v=this.copyBit(E,8,v);if(this.parsedFormatInfo=pe.decodeFormatInformation(A,v),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const A=this.bitMatrix.getHeight(),x=Math.floor((A-17)/4);if(x<=6)return Qe.getVersionForNumber(x);let v=0;const S=A-11;for(let I=5;I>=0;I--)for(let D=A-9;D>=S;D--)v=this.copyBit(D,I,v);let E=Qe.decodeVersionInformation(v);if(E!==null&&E.getDimensionForVersion()===A)return this.parsedVersion=E,E;v=0;for(let I=5;I>=0;I--)for(let D=A-9;D>=S;D--)v=this.copyBit(I,D,v);if(E=Qe.decodeVersionInformation(v),E!==null&&E.getDimensionForVersion()===A)return this.parsedVersion=E,E;throw new L}copyBit(A,x,v){return(this.isMirror?this.bitMatrix.get(x,A):this.bitMatrix.get(A,x))?v<<1|1:v<<1}readCodewords(){const A=this.readFormatInformation(),x=this.readVersion(),v=Gt.values.get(A.getDataMask()),S=this.bitMatrix.getHeight();v.unmaskBitMatrix(this.bitMatrix,S);const E=x.buildFunctionPattern();let I=!0;const D=new Uint8Array(x.getTotalCodewords());let W=0,Z=0,de=0;for(let be=S-1;be>0;be-=2){be===6&&be--;for(let Ie=0;Ie<S;Ie++){const ze=I?S-1-Ie:Ie;for(let Je=0;Je<2;Je++)E.get(be-Je,ze)||(de++,Z<<=1,this.bitMatrix.get(be-Je,ze)&&(Z|=1),de===8&&(D[W++]=Z,de=0,Z=0))}I=!I}if(W!==x.getTotalCodewords())throw new L;return D}remask(){if(this.parsedFormatInfo===null)return;const A=Gt.values[this.parsedFormatInfo.getDataMask()],x=this.bitMatrix.getHeight();A.unmaskBitMatrix(this.bitMatrix,x)}setMirror(A){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=A}mirror(){const A=this.bitMatrix;for(let x=0,v=A.getWidth();x<v;x++)for(let S=x+1,E=A.getHeight();S<E;S++)A.get(x,S)!==A.get(S,x)&&(A.flip(S,x),A.flip(x,S))}}class Gn{constructor(A,x){this.numDataCodewords=A,this.codewords=x}static getDataBlocks(A,x,v){if(A.length!==x.getTotalCodewords())throw new f;const S=x.getECBlocksForLevel(v);let E=0;const I=S.getECBlocks();for(const Je of I)E+=Je.getCount();const D=new Array(E);let W=0;for(const Je of I)for(let tt=0;tt<Je.getCount();tt++){const pt=Je.getDataCodewords(),Bt=S.getECCodewordsPerBlock()+pt;D[W++]=new Gn(pt,new Uint8Array(Bt))}const Z=D[0].codewords.length;let de=D.length-1;for(;de>=0&&D[de].codewords.length!==Z;)de--;de++;const be=Z-S.getECCodewordsPerBlock();let Ie=0;for(let Je=0;Je<be;Je++)for(let tt=0;tt<W;tt++)D[tt].codewords[Je]=A[Ie++];for(let Je=de;Je<W;Je++)D[Je].codewords[be]=A[Ie++];const ze=D[0].codewords.length;for(let Je=be;Je<ze;Je++)for(let tt=0;tt<W;tt++){const pt=tt<de?Je:Je+1;D[tt].codewords[pt]=A[Ie++]}return D}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Wn;(function(we){we[we.TERMINATOR=0]="TERMINATOR",we[we.NUMERIC=1]="NUMERIC",we[we.ALPHANUMERIC=2]="ALPHANUMERIC",we[we.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",we[we.BYTE=4]="BYTE",we[we.ECI=5]="ECI",we[we.KANJI=6]="KANJI",we[we.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",we[we.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",we[we.HANZI=9]="HANZI"})(Wn||(Wn={}));class wn{constructor(A,x,v,S){this.value=A,this.stringValue=x,this.characterCountBitsForVersions=v,this.bits=S,wn.FOR_BITS.set(S,this),wn.FOR_VALUE.set(A,this)}static forBits(A){const x=wn.FOR_BITS.get(A);if(x===void 0)throw new f;return x}getCharacterCountBits(A){const x=A.getVersionNumber();let v;return x<=9?v=0:x<=26?v=1:v=2,this.characterCountBitsForVersions[v]}getValue(){return this.value}getBits(){return this.bits}equals(A){if(!(A instanceof wn))return!1;const x=A;return this.value===x.value}toString(){return this.stringValue}}wn.FOR_BITS=new Map,wn.FOR_VALUE=new Map,wn.TERMINATOR=new wn(Wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),wn.NUMERIC=new wn(Wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),wn.ALPHANUMERIC=new wn(Wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),wn.STRUCTURED_APPEND=new wn(Wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),wn.BYTE=new wn(Wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),wn.ECI=new wn(Wn.ECI,"ECI",Int32Array.from([0,0,0]),7),wn.KANJI=new wn(Wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),wn.FNC1_FIRST_POSITION=new wn(Wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),wn.FNC1_SECOND_POSITION=new wn(Wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),wn.HANZI=new wn(Wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mn{static decode(A,x,v,S){const E=new $e(A);let I=new re;const D=new Array;let W=-1,Z=-1;try{let de=null,be=!1,Ie;do{if(E.available()<4)Ie=wn.TERMINATOR;else{const ze=E.readBits(4);Ie=wn.forBits(ze)}switch(Ie){case wn.TERMINATOR:break;case wn.FNC1_FIRST_POSITION:case wn.FNC1_SECOND_POSITION:be=!0;break;case wn.STRUCTURED_APPEND:if(E.available()<16)throw new L;W=E.readBits(8),Z=E.readBits(8);break;case wn.ECI:const ze=Mn.parseECIValue(E);if(de=j.getCharacterSetECIByValue(ze),de===null)throw new L;break;case wn.HANZI:const Je=E.readBits(4),tt=E.readBits(Ie.getCharacterCountBits(x));Je===Mn.GB2312_SUBSET&&Mn.decodeHanziSegment(E,I,tt);break;default:const pt=E.readBits(Ie.getCharacterCountBits(x));switch(Ie){case wn.NUMERIC:Mn.decodeNumericSegment(E,I,pt);break;case wn.ALPHANUMERIC:Mn.decodeAlphanumericSegment(E,I,pt,be);break;case wn.BYTE:Mn.decodeByteSegment(E,I,pt,de,D,S);break;case wn.KANJI:Mn.decodeKanjiSegment(E,I,pt);break;default:throw new L}break}}while(Ie!==wn.TERMINATOR)}catch{throw new L}return new Ne(A,I.toString(),D.length===0?null:D,v===null?null:v.toString(),W,Z)}static decodeHanziSegment(A,x,v){if(v*13>A.available())throw new L;const S=new Uint8Array(2*v);let E=0;for(;v>0;){const I=A.readBits(13);let D=I/96<<8&4294967295|I%96;D<959?D+=41377:D+=42657,S[E]=D>>8&255,S[E+1]=D&255,E+=2,v--}try{x.append(G.decode(S,V.GB2312))}catch(I){throw new L(I)}}static decodeKanjiSegment(A,x,v){if(v*13>A.available())throw new L;const S=new Uint8Array(2*v);let E=0;for(;v>0;){const I=A.readBits(13);let D=I/192<<8&4294967295|I%192;D<7936?D+=33088:D+=49472,S[E]=D>>8,S[E+1]=D,E+=2,v--}try{x.append(G.decode(S,V.SHIFT_JIS))}catch(I){throw new L(I)}}static decodeByteSegment(A,x,v,S,E,I){if(8*v>A.available())throw new L;const D=new Uint8Array(v);for(let Z=0;Z<v;Z++)D[Z]=A.readBits(8);let W;S===null?W=V.guessEncoding(D,I):W=S.getName();try{x.append(G.decode(D,W))}catch(Z){throw new L(Z)}E.push(D)}static toAlphaNumericChar(A){if(A>=Mn.ALPHANUMERIC_CHARS.length)throw new L;return Mn.ALPHANUMERIC_CHARS[A]}static decodeAlphanumericSegment(A,x,v,S){const E=x.length();for(;v>1;){if(A.available()<11)throw new L;const I=A.readBits(11);x.append(Mn.toAlphaNumericChar(Math.floor(I/45))),x.append(Mn.toAlphaNumericChar(I%45)),v-=2}if(v===1){if(A.available()<6)throw new L;x.append(Mn.toAlphaNumericChar(A.readBits(6)))}if(S)for(let I=E;I<x.length();I++)x.charAt(I)==="%"&&(I<x.length()-1&&x.charAt(I+1)==="%"?x.deleteCharAt(I+1):x.setCharAt(I,""))}static decodeNumericSegment(A,x,v){for(;v>=3;){if(A.available()<10)throw new L;const S=A.readBits(10);if(S>=1e3)throw new L;x.append(Mn.toAlphaNumericChar(Math.floor(S/100))),x.append(Mn.toAlphaNumericChar(Math.floor(S/10)%10)),x.append(Mn.toAlphaNumericChar(S%10)),v-=3}if(v===2){if(A.available()<7)throw new L;const S=A.readBits(7);if(S>=100)throw new L;x.append(Mn.toAlphaNumericChar(Math.floor(S/10))),x.append(Mn.toAlphaNumericChar(S%10))}else if(v===1){if(A.available()<4)throw new L;const S=A.readBits(4);if(S>=10)throw new L;x.append(Mn.toAlphaNumericChar(S))}}static parseECIValue(A){const x=A.readBits(8);if((x&128)===0)return x&127;if((x&192)===128){const v=A.readBits(8);return(x&63)<<8&4294967295|v}if((x&224)===192){const v=A.readBits(16);return(x&31)<<16&4294967295|v}throw new L}}Mn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mn.GB2312_SUBSET=1;class Xr{constructor(A){this.mirrored=A}isMirrored(){return this.mirrored}applyMirroredCorrection(A){if(!this.mirrored||A===null||A.length<3)return;const x=A[0];A[0]=A[2],A[2]=x}}class Pi{constructor(){this.rsDecoder=new Nt(gt.QR_CODE_FIELD_256)}decodeBooleanArray(A,x){return this.decodeBitMatrix(ee.parseFromBooleanArray(A),x)}decodeBitMatrix(A,x){const v=new En(A);let S=null;try{return this.decodeBitMatrixParser(v,x)}catch(E){S=E}try{v.remask(),v.setMirror(!0),v.readVersion(),v.readFormatInformation(),v.mirror();const E=this.decodeBitMatrixParser(v,x);return E.setOther(new Xr(!0)),E}catch(E){throw S!==null?S:E}}decodeBitMatrixParser(A,x){const v=A.readVersion(),S=A.readFormatInformation().getErrorCorrectionLevel(),E=A.readCodewords(),I=Gn.getDataBlocks(E,v,S);let D=0;for(const de of I)D+=de.getNumDataCodewords();const W=new Uint8Array(D);let Z=0;for(const de of I){const be=de.getCodewords(),Ie=de.getNumDataCodewords();this.correctErrors(be,Ie);for(let ze=0;ze<Ie;ze++)W[Z++]=be[ze]}return Mn.decode(W,v,S,x)}correctErrors(A,x){const v=new Int32Array(A);try{this.rsDecoder.decode(v,A.length-x)}catch{throw new m}for(let S=0;S<x;S++)A[S]=v[S]}}class oi extends ot{constructor(A,x,v){super(A,x),this.estimatedModuleSize=v}aboutEquals(A,x,v){if(Math.abs(x-this.getY())<=A&&Math.abs(v-this.getX())<=A){const S=Math.abs(A-this.estimatedModuleSize);return S<=1||S<=this.estimatedModuleSize}return!1}combineEstimate(A,x,v){const S=(this.getX()+x)/2,E=(this.getY()+A)/2,I=(this.estimatedModuleSize+v)/2;return new oi(S,E,I)}}class Lr{constructor(A,x,v,S,E,I,D){this.image=A,this.startX=x,this.startY=v,this.width=S,this.height=E,this.moduleSize=I,this.resultPointCallback=D,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const A=this.startX,x=this.height,v=this.width,S=A+v,E=this.startY+x/2,I=new Int32Array(3),D=this.image;for(let W=0;W<x;W++){const Z=E+((W&1)===0?Math.floor((W+1)/2):-Math.floor((W+1)/2));I[0]=0,I[1]=0,I[2]=0;let de=A;for(;de<S&&!D.get(de,Z);)de++;let be=0;for(;de<S;){if(D.get(de,Z))if(be===1)I[1]++;else if(be===2){if(this.foundPatternCross(I)){const Ie=this.handlePossibleCenter(I,Z,de);if(Ie!==null)return Ie}I[0]=I[2],I[1]=1,I[2]=0,be=1}else I[++be]++;else be===1&&be++,I[be]++;de++}if(this.foundPatternCross(I)){const Ie=this.handlePossibleCenter(I,Z,S);if(Ie!==null)return Ie}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie}static centerFromEnd(A,x){return x-A[2]-A[1]/2}foundPatternCross(A){const x=this.moduleSize,v=x/2;for(let S=0;S<3;S++)if(Math.abs(x-A[S])>=v)return!1;return!0}crossCheckVertical(A,x,v,S){const E=this.image,I=E.getHeight(),D=this.crossCheckStateCount;D[0]=0,D[1]=0,D[2]=0;let W=A;for(;W>=0&&E.get(x,W)&&D[1]<=v;)D[1]++,W--;if(W<0||D[1]>v)return NaN;for(;W>=0&&!E.get(x,W)&&D[0]<=v;)D[0]++,W--;if(D[0]>v)return NaN;for(W=A+1;W<I&&E.get(x,W)&&D[1]<=v;)D[1]++,W++;if(W===I||D[1]>v)return NaN;for(;W<I&&!E.get(x,W)&&D[2]<=v;)D[2]++,W++;if(D[2]>v)return NaN;const Z=D[0]+D[1]+D[2];return 5*Math.abs(Z-S)>=2*S?NaN:this.foundPatternCross(D)?Lr.centerFromEnd(D,W):NaN}handlePossibleCenter(A,x,v){const S=A[0]+A[1]+A[2],E=Lr.centerFromEnd(A,v),I=this.crossCheckVertical(x,E,2*A[1],S);if(!isNaN(I)){const D=(A[0]+A[1]+A[2])/3;for(const Z of this.possibleCenters)if(Z.aboutEquals(D,I,E))return Z.combineEstimate(I,E,D);const W=new oi(E,I,D);this.possibleCenters.push(W),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(W)}return null}}class di extends ot{constructor(A,x,v,S){super(A,x),this.estimatedModuleSize=v,this.count=S,S===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(A,x,v){if(Math.abs(x-this.getY())<=A&&Math.abs(v-this.getX())<=A){const S=Math.abs(A-this.estimatedModuleSize);return S<=1||S<=this.estimatedModuleSize}return!1}combineEstimate(A,x,v){const S=this.count+1,E=(this.count*this.getX()+x)/S,I=(this.count*this.getY()+A)/S,D=(this.count*this.estimatedModuleSize+v)/S;return new di(E,I,D,S)}}class xo{constructor(A){this.bottomLeft=A[0],this.topLeft=A[1],this.topRight=A[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class li{constructor(A,x){this.image=A,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=x}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(A){const x=A!=null&&A.get(O.TRY_HARDER)!==void 0,v=A!=null&&A.get(O.PURE_BARCODE)!==void 0,S=this.image,E=S.getHeight(),I=S.getWidth();let D=Math.floor(3*E/(4*li.MAX_MODULES));(D<li.MIN_SKIP||x)&&(D=li.MIN_SKIP);let W=!1;const Z=new Int32Array(5);for(let be=D-1;be<E&&!W;be+=D){Z[0]=0,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0;let Ie=0;for(let ze=0;ze<I;ze++)if(S.get(ze,be))(Ie&1)===1&&Ie++,Z[Ie]++;else if((Ie&1)===0)if(Ie===4)if(li.foundPatternCross(Z)){if(this.handlePossibleCenter(Z,be,ze,v)===!0)if(D=2,this.hasSkipped===!0)W=this.haveMultiplyConfirmedCenters();else{const tt=this.findRowSkip();tt>Z[2]&&(be+=tt-Z[2]-D,ze=I-1)}else{Z[0]=Z[2],Z[1]=Z[3],Z[2]=Z[4],Z[3]=1,Z[4]=0,Ie=3;continue}Ie=0,Z[0]=0,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0}else Z[0]=Z[2],Z[1]=Z[3],Z[2]=Z[4],Z[3]=1,Z[4]=0,Ie=3;else Z[++Ie]++;else Z[Ie]++;li.foundPatternCross(Z)&&this.handlePossibleCenter(Z,be,I,v)===!0&&(D=Z[0],this.hasSkipped&&(W=this.haveMultiplyConfirmedCenters()))}const de=this.selectBestPatterns();return ot.orderBestPatterns(de),new xo(de)}static centerFromEnd(A,x){return x-A[4]-A[3]-A[2]/2}static foundPatternCross(A){let x=0;for(let E=0;E<5;E++){const I=A[E];if(I===0)return!1;x+=I}if(x<7)return!1;const v=x/7,S=v/2;return Math.abs(v-A[0])<S&&Math.abs(v-A[1])<S&&Math.abs(3*v-A[2])<3*S&&Math.abs(v-A[3])<S&&Math.abs(v-A[4])<S}getCrossCheckStateCount(){const A=this.crossCheckStateCount;return A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A}crossCheckDiagonal(A,x,v,S){const E=this.getCrossCheckStateCount();let I=0;const D=this.image;for(;A>=I&&x>=I&&D.get(x-I,A-I);)E[2]++,I++;if(A<I||x<I)return!1;for(;A>=I&&x>=I&&!D.get(x-I,A-I)&&E[1]<=v;)E[1]++,I++;if(A<I||x<I||E[1]>v)return!1;for(;A>=I&&x>=I&&D.get(x-I,A-I)&&E[0]<=v;)E[0]++,I++;if(E[0]>v)return!1;const W=D.getHeight(),Z=D.getWidth();for(I=1;A+I<W&&x+I<Z&&D.get(x+I,A+I);)E[2]++,I++;if(A+I>=W||x+I>=Z)return!1;for(;A+I<W&&x+I<Z&&!D.get(x+I,A+I)&&E[3]<v;)E[3]++,I++;if(A+I>=W||x+I>=Z||E[3]>=v)return!1;for(;A+I<W&&x+I<Z&&D.get(x+I,A+I)&&E[4]<v;)E[4]++,I++;if(E[4]>=v)return!1;const de=E[0]+E[1]+E[2]+E[3]+E[4];return Math.abs(de-S)<2*S&&li.foundPatternCross(E)}crossCheckVertical(A,x,v,S){const E=this.image,I=E.getHeight(),D=this.getCrossCheckStateCount();let W=A;for(;W>=0&&E.get(x,W);)D[2]++,W--;if(W<0)return NaN;for(;W>=0&&!E.get(x,W)&&D[1]<=v;)D[1]++,W--;if(W<0||D[1]>v)return NaN;for(;W>=0&&E.get(x,W)&&D[0]<=v;)D[0]++,W--;if(D[0]>v)return NaN;for(W=A+1;W<I&&E.get(x,W);)D[2]++,W++;if(W===I)return NaN;for(;W<I&&!E.get(x,W)&&D[3]<v;)D[3]++,W++;if(W===I||D[3]>=v)return NaN;for(;W<I&&E.get(x,W)&&D[4]<v;)D[4]++,W++;if(D[4]>=v)return NaN;const Z=D[0]+D[1]+D[2]+D[3]+D[4];return 5*Math.abs(Z-S)>=2*S?NaN:li.foundPatternCross(D)?li.centerFromEnd(D,W):NaN}crossCheckHorizontal(A,x,v,S){const E=this.image,I=E.getWidth(),D=this.getCrossCheckStateCount();let W=A;for(;W>=0&&E.get(W,x);)D[2]++,W--;if(W<0)return NaN;for(;W>=0&&!E.get(W,x)&&D[1]<=v;)D[1]++,W--;if(W<0||D[1]>v)return NaN;for(;W>=0&&E.get(W,x)&&D[0]<=v;)D[0]++,W--;if(D[0]>v)return NaN;for(W=A+1;W<I&&E.get(W,x);)D[2]++,W++;if(W===I)return NaN;for(;W<I&&!E.get(W,x)&&D[3]<v;)D[3]++,W++;if(W===I||D[3]>=v)return NaN;for(;W<I&&E.get(W,x)&&D[4]<v;)D[4]++,W++;if(D[4]>=v)return NaN;const Z=D[0]+D[1]+D[2]+D[3]+D[4];return 5*Math.abs(Z-S)>=S?NaN:li.foundPatternCross(D)?li.centerFromEnd(D,W):NaN}handlePossibleCenter(A,x,v,S){const E=A[0]+A[1]+A[2]+A[3]+A[4];let I=li.centerFromEnd(A,v),D=this.crossCheckVertical(x,Math.floor(I),A[2],E);if(!isNaN(D)&&(I=this.crossCheckHorizontal(Math.floor(I),Math.floor(D),A[2],E),!isNaN(I)&&(!S||this.crossCheckDiagonal(Math.floor(D),Math.floor(I),A[2],E)))){const W=E/7;let Z=!1;const de=this.possibleCenters;for(let be=0,Ie=de.length;be<Ie;be++){const ze=de[be];if(ze.aboutEquals(W,D,I)){de[be]=ze.combineEstimate(D,I,W),Z=!0;break}}if(!Z){const be=new di(I,D,W);de.push(be),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(be)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let x=null;for(const v of this.possibleCenters)if(v.getCount()>=li.CENTER_QUORUM)if(x==null)x=v;else return this.hasSkipped=!0,Math.floor((Math.abs(x.getX()-v.getX())-Math.abs(x.getY()-v.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let A=0,x=0;const v=this.possibleCenters.length;for(const I of this.possibleCenters)I.getCount()>=li.CENTER_QUORUM&&(A++,x+=I.getEstimatedModuleSize());if(A<3)return!1;const S=x/v;let E=0;for(const I of this.possibleCenters)E+=Math.abs(I.getEstimatedModuleSize()-S);return E<=.05*x}selectBestPatterns(){const A=this.possibleCenters.length;if(A<3)throw new ie;const x=this.possibleCenters;let v;if(A>3){let S=0,E=0;for(const W of this.possibleCenters){const Z=W.getEstimatedModuleSize();S+=Z,E+=Z*Z}v=S/A;let I=Math.sqrt(E/A-v*v);x.sort((W,Z)=>{const de=Math.abs(Z.getEstimatedModuleSize()-v),be=Math.abs(W.getEstimatedModuleSize()-v);return de<be?-1:de>be?1:0});const D=Math.max(.2*v,I);for(let W=0;W<x.length&&x.length>3;W++){const Z=x[W];Math.abs(Z.getEstimatedModuleSize()-v)>D&&(x.splice(W,1),W--)}}if(x.length>3){let S=0;for(const E of x)S+=E.getEstimatedModuleSize();v=S/x.length,x.sort((E,I)=>{if(I.getCount()===E.getCount()){const D=Math.abs(I.getEstimatedModuleSize()-v),W=Math.abs(E.getEstimatedModuleSize()-v);return D<W?1:D>W?-1:0}else return I.getCount()-E.getCount()}),x.splice(3)}return[x[0],x[1],x[2]]}}li.CENTER_QUORUM=2,li.MIN_SKIP=3,li.MAX_MODULES=57;class ur{constructor(A){this.image=A}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(A){this.resultPointCallback=A==null?null:A.get(O.NEED_RESULT_POINT_CALLBACK);const v=new li(this.image,this.resultPointCallback).find(A);return this.processFinderPatternInfo(v)}processFinderPatternInfo(A){const x=A.getTopLeft(),v=A.getTopRight(),S=A.getBottomLeft(),E=this.calculateModuleSize(x,v,S);if(E<1)throw new ie("No pattern found in proccess finder.");const I=ur.computeDimension(x,v,S,E),D=Qe.getProvisionalVersionForDimension(I),W=D.getDimensionForVersion()-7;let Z=null;if(D.getAlignmentPatternCenters().length>0){const ze=v.getX()-x.getX()+S.getX(),Je=v.getY()-x.getY()+S.getY(),tt=1-3/W,pt=Math.floor(x.getX()+tt*(ze-x.getX())),Bt=Math.floor(x.getY()+tt*(Je-x.getY()));for(let qt=4;qt<=16;qt<<=1)try{Z=this.findAlignmentInRegion(E,pt,Bt,qt);break}catch($t){if(!($t instanceof ie))throw $t}}const de=ur.createTransform(x,v,S,Z,I),be=ur.sampleGrid(this.image,de,I);let Ie;return Z===null?Ie=[S,x,v]:Ie=[S,x,v,Z],new An(be,Ie)}static createTransform(A,x,v,S,E){const I=E-3.5;let D,W,Z,de;return S!==null?(D=S.getX(),W=S.getY(),Z=I-3,de=Z):(D=x.getX()-A.getX()+v.getX(),W=x.getY()-A.getY()+v.getY(),Z=I,de=I),Sn.quadrilateralToQuadrilateral(3.5,3.5,I,3.5,Z,de,3.5,I,A.getX(),A.getY(),x.getX(),x.getY(),D,W,v.getX(),v.getY())}static sampleGrid(A,x,v){return xn.getInstance().sampleGridWithTransform(A,v,v,x)}static computeDimension(A,x,v,S){const E=lt.round(ot.distance(A,x)/S),I=lt.round(ot.distance(A,v)/S);let D=Math.floor((E+I)/2)+7;switch(D&3){case 0:D++;break;case 2:D--;break;case 3:throw new ie("Dimensions could be not found.")}return D}calculateModuleSize(A,x,v){return(this.calculateModuleSizeOneWay(A,x)+this.calculateModuleSizeOneWay(A,v))/2}calculateModuleSizeOneWay(A,x){const v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(A.getX()),Math.floor(A.getY()),Math.floor(x.getX()),Math.floor(x.getY())),S=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(x.getX()),Math.floor(x.getY()),Math.floor(A.getX()),Math.floor(A.getY()));return isNaN(v)?S/7:isNaN(S)?v/7:(v+S)/14}sizeOfBlackWhiteBlackRunBothWays(A,x,v,S){let E=this.sizeOfBlackWhiteBlackRun(A,x,v,S),I=1,D=A-(v-A);D<0?(I=A/(A-D),D=0):D>=this.image.getWidth()&&(I=(this.image.getWidth()-1-A)/(D-A),D=this.image.getWidth()-1);let W=Math.floor(x-(S-x)*I);return I=1,W<0?(I=x/(x-W),W=0):W>=this.image.getHeight()&&(I=(this.image.getHeight()-1-x)/(W-x),W=this.image.getHeight()-1),D=Math.floor(A+(D-A)*I),E+=this.sizeOfBlackWhiteBlackRun(A,x,D,W),E-1}sizeOfBlackWhiteBlackRun(A,x,v,S){const E=Math.abs(S-x)>Math.abs(v-A);if(E){let ze=A;A=x,x=ze,ze=v,v=S,S=ze}const I=Math.abs(v-A),D=Math.abs(S-x);let W=-I/2;const Z=A<v?1:-1,de=x<S?1:-1;let be=0;const Ie=v+Z;for(let ze=A,Je=x;ze!==Ie;ze+=Z){const tt=E?Je:ze,pt=E?ze:Je;if(be===1===this.image.get(tt,pt)){if(be===2)return lt.distance(ze,Je,A,x);be++}if(W+=D,W>0){if(Je===S)break;Je+=de,W-=I}}return be===2?lt.distance(v+Z,S,A,x):NaN}findAlignmentInRegion(A,x,v,S){const E=Math.floor(S*A),I=Math.max(0,x-E),D=Math.min(this.image.getWidth()-1,x+E);if(D-I<A*3)throw new ie("Alignment top exceeds estimated module size.");const W=Math.max(0,v-E),Z=Math.min(this.image.getHeight()-1,v+E);if(Z-W<A*3)throw new ie("Alignment bottom exceeds estimated module size.");return new Lr(this.image,I,W,D-I,Z-W,A,this.resultPointCallback).find()}}class Ji{constructor(){this.decoder=new Pi}getDecoder(){return this.decoder}decode(A,x){let v,S;if(x!=null&&x.get(O.PURE_BARCODE)!==void 0){const W=Ji.extractPureBits(A.getBlackMatrix());v=this.decoder.decodeBitMatrix(W,x),S=Ji.NO_POINTS}else{const W=new ur(A.getBlackMatrix()).detect(x);v=this.decoder.decodeBitMatrix(W.getBits(),x),S=W.getPoints()}v.getOther()instanceof Xr&&v.getOther().applyMirroredCorrection(S);const E=new X(v.getText(),v.getRawBytes(),void 0,S,oe.QR_CODE,void 0),I=v.getByteSegments();I!==null&&E.putMetadata(ke.BYTE_SEGMENTS,I);const D=v.getECLevel();return D!==null&&E.putMetadata(ke.ERROR_CORRECTION_LEVEL,D),v.hasStructuredAppend()&&(E.putMetadata(ke.STRUCTURED_APPEND_SEQUENCE,v.getStructuredAppendSequenceNumber()),E.putMetadata(ke.STRUCTURED_APPEND_PARITY,v.getStructuredAppendParity())),E}reset(){}static extractPureBits(A){const x=A.getTopLeftOnBit(),v=A.getBottomRightOnBit();if(x===null||v===null)throw new ie;const S=this.moduleSize(x,A);let E=x[1],I=v[1],D=x[0],W=v[0];if(D>=W||E>=I)throw new ie;if(I-E!==W-D&&(W=D+(I-E),W>=A.getWidth()))throw new ie;const Z=Math.round((W-D+1)/S),de=Math.round((I-E+1)/S);if(Z<=0||de<=0)throw new ie;if(de!==Z)throw new ie;const be=Math.floor(S/2);E+=be,D+=be;const Ie=D+Math.floor((Z-1)*S)-W;if(Ie>0){if(Ie>be)throw new ie;D-=Ie}const ze=E+Math.floor((de-1)*S)-I;if(ze>0){if(ze>be)throw new ie;E-=ze}const Je=new ee(Z,de);for(let tt=0;tt<de;tt++){const pt=E+Math.floor(tt*S);for(let Bt=0;Bt<Z;Bt++)A.get(D+Math.floor(Bt*S),pt)&&Je.set(Bt,tt)}return Je}static moduleSize(A,x){const v=x.getHeight(),S=x.getWidth();let E=A[0],I=A[1],D=!0,W=0;for(;E<S&&I<v;){if(D!==x.get(E,I)){if(++W===5)break;D=!D}E++,I++}if(E===S||I===v)throw new ie;return(E-A[0])/7}}Ji.NO_POINTS=new Array;class gr{PDF417Common(){}static getBitCountSum(A){return lt.sum(A)}static toIntArray(A){if(A==null||!A.length)return gr.EMPTY_INT_ARRAY;const x=new Int32Array(A.length);let v=0;for(const S of A)x[v++]=S;return x}static getCodeword(A){const x=k.binarySearch(gr.SYMBOL_TABLE,A&262143);return x<0?-1:(gr.CODEWORD_TABLE[x]-1)%gr.NUMBER_OF_CODEWORDS}}gr.NUMBER_OF_CODEWORDS=929,gr.MAX_CODEWORDS_IN_BARCODE=gr.NUMBER_OF_CODEWORDS-1,gr.MIN_ROWS_IN_BARCODE=3,gr.MAX_ROWS_IN_BARCODE=90,gr.MODULES_IN_CODEWORD=17,gr.MODULES_IN_STOP_PATTERN=18,gr.BARS_IN_MODULE=8,gr.EMPTY_INT_ARRAY=new Int32Array([]),gr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),gr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Mc{constructor(A,x){this.bits=A,this.points=x}getBits(){return this.bits}getPoints(){return this.points}}class mr{static detectMultiple(A,x,v){let S=A.getBlackMatrix(),E=mr.detect(v,S);return E.length||(S=S.clone(),S.rotate180(),E=mr.detect(v,S)),new Mc(S,E)}static detect(A,x){const v=new Array;let S=0,E=0,I=!1;for(;S<x.getHeight();){const D=mr.findVertices(x,S,E);if(D[0]==null&&D[3]==null){if(!I)break;I=!1,E=0;for(const W of v)W[1]!=null&&(S=Math.trunc(Math.max(S,W[1].getY()))),W[3]!=null&&(S=Math.max(S,Math.trunc(W[3].getY())));S+=mr.ROW_STEP;continue}if(I=!0,v.push(D),!A)break;D[2]!=null?(E=Math.trunc(D[2].getX()),S=Math.trunc(D[2].getY())):(E=Math.trunc(D[4].getX()),S=Math.trunc(D[4].getY()))}return v}static findVertices(A,x,v){const S=A.getHeight(),E=A.getWidth(),I=new Array(8);return mr.copyToResult(I,mr.findRowsWithPattern(A,S,E,x,v,mr.START_PATTERN),mr.INDEXES_START_PATTERN),I[4]!=null&&(v=Math.trunc(I[4].getX()),x=Math.trunc(I[4].getY())),mr.copyToResult(I,mr.findRowsWithPattern(A,S,E,x,v,mr.STOP_PATTERN),mr.INDEXES_STOP_PATTERN),I}static copyToResult(A,x,v){for(let S=0;S<v.length;S++)A[v[S]]=x[S]}static findRowsWithPattern(A,x,v,S,E,I){const D=new Array(4);let W=!1;const Z=new Int32Array(I.length);for(;S<x;S+=mr.ROW_STEP){let be=mr.findGuardPattern(A,E,S,v,!1,I,Z);if(be!=null){for(;S>0;){const Ie=mr.findGuardPattern(A,E,--S,v,!1,I,Z);if(Ie!=null)be=Ie;else{S++;break}}D[0]=new ot(be[0],S),D[1]=new ot(be[1],S),W=!0;break}}let de=S+1;if(W){let be=0,Ie=Int32Array.from([Math.trunc(D[0].getX()),Math.trunc(D[1].getX())]);for(;de<x;de++){const ze=mr.findGuardPattern(A,Ie[0],de,v,!1,I,Z);if(ze!=null&&Math.abs(Ie[0]-ze[0])<mr.MAX_PATTERN_DRIFT&&Math.abs(Ie[1]-ze[1])<mr.MAX_PATTERN_DRIFT)Ie=ze,be=0;else{if(be>mr.SKIPPED_ROW_COUNT_MAX)break;be++}}de-=be+1,D[2]=new ot(Ie[0],de),D[3]=new ot(Ie[1],de)}return de-S<mr.BARCODE_MIN_HEIGHT&&k.fill(D,null),D}static findGuardPattern(A,x,v,S,E,I,D){k.fillWithin(D,0,D.length,0);let W=x,Z=0;for(;A.get(W,v)&&W>0&&Z++<mr.MAX_PIXEL_DRIFT;)W--;let de=W,be=0,Ie=I.length;for(let ze=E;de<S;de++)if(A.get(de,v)!==ze)D[be]++;else{if(be===Ie-1){if(mr.patternMatchVariance(D,I,mr.MAX_INDIVIDUAL_VARIANCE)<mr.MAX_AVG_VARIANCE)return new Int32Array([W,de]);W+=D[0]+D[1],y.arraycopy(D,2,D,0,be-1),D[be-1]=0,D[be]=0,be--}else be++;D[be]=1,ze=!ze}return be===Ie-1&&mr.patternMatchVariance(D,I,mr.MAX_INDIVIDUAL_VARIANCE)<mr.MAX_AVG_VARIANCE?new Int32Array([W,de-1]):null}static patternMatchVariance(A,x,v){let S=A.length,E=0,I=0;for(let Z=0;Z<S;Z++)E+=A[Z],I+=x[Z];if(E<I)return 1/0;let D=E/I;v*=D;let W=0;for(let Z=0;Z<S;Z++){let de=A[Z],be=x[Z]*D,Ie=de>be?de-be:be-de;if(Ie>v)return 1/0;W+=Ie}return W/E}}mr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),mr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),mr.MAX_AVG_VARIANCE=.42,mr.MAX_INDIVIDUAL_VARIANCE=.8,mr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),mr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),mr.MAX_PIXEL_DRIFT=3,mr.MAX_PATTERN_DRIFT=5,mr.SKIPPED_ROW_COUNT_MAX=25,mr.ROW_STEP=5,mr.BARCODE_MIN_HEIGHT=10;class Bn{constructor(A,x){if(x.length===0)throw new f;this.field=A;let v=x.length;if(v>1&&x[0]===0){let S=1;for(;S<v&&x[S]===0;)S++;S===v?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(v-S),y.arraycopy(x,S,this.coefficients,0,this.coefficients.length))}else this.coefficients=x}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(A){return this.coefficients[this.coefficients.length-1-A]}evaluateAt(A){if(A===0)return this.getCoefficient(0);if(A===1){let S=0;for(let E of this.coefficients)S=this.field.add(S,E);return S}let x=this.coefficients[0],v=this.coefficients.length;for(let S=1;S<v;S++)x=this.field.add(this.field.multiply(A,x),this.coefficients[S]);return x}add(A){if(!this.field.equals(A.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero())return A;if(A.isZero())return this;let x=this.coefficients,v=A.coefficients;if(x.length>v.length){let I=x;x=v,v=I}let S=new Int32Array(v.length),E=v.length-x.length;y.arraycopy(v,0,S,0,E);for(let I=E;I<v.length;I++)S[I]=this.field.add(x[I-E],v[I]);return new Bn(this.field,S)}subtract(A){if(!this.field.equals(A.field))throw new f("ModulusPolys do not have same ModulusGF field");return A.isZero()?this:this.add(A.negative())}multiply(A){return A instanceof Bn?this.multiplyOther(A):this.multiplyScalar(A)}multiplyOther(A){if(!this.field.equals(A.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero()||A.isZero())return new Bn(this.field,new Int32Array([0]));let x=this.coefficients,v=x.length,S=A.coefficients,E=S.length,I=new Int32Array(v+E-1);for(let D=0;D<v;D++){let W=x[D];for(let Z=0;Z<E;Z++)I[D+Z]=this.field.add(I[D+Z],this.field.multiply(W,S[Z]))}return new Bn(this.field,I)}negative(){let A=this.coefficients.length,x=new Int32Array(A);for(let v=0;v<A;v++)x[v]=this.field.subtract(0,this.coefficients[v]);return new Bn(this.field,x)}multiplyScalar(A){if(A===0)return new Bn(this.field,new Int32Array([0]));if(A===1)return this;let x=this.coefficients.length,v=new Int32Array(x);for(let S=0;S<x;S++)v[S]=this.field.multiply(this.coefficients[S],A);return new Bn(this.field,v)}multiplyByMonomial(A,x){if(A<0)throw new f;if(x===0)return new Bn(this.field,new Int32Array([0]));let v=this.coefficients.length,S=new Int32Array(v+A);for(let E=0;E<v;E++)S[E]=this.field.multiply(this.coefficients[E],x);return new Bn(this.field,S)}toString(){let A=new re;for(let x=this.getDegree();x>=0;x--){let v=this.getCoefficient(x);v!==0&&(v<0?(A.append(" - "),v=-v):A.length()>0&&A.append(" + "),(x===0||v!==1)&&A.append(v),x!==0&&(x===1?A.append("x"):(A.append("x^"),A.append(x))))}return A.toString()}}class Te{add(A,x){return(A+x)%this.modulus}subtract(A,x){return(this.modulus+A-x)%this.modulus}exp(A){return this.expTable[A]}log(A){if(A===0)throw new f;return this.logTable[A]}inverse(A){if(A===0)throw new ve;return this.expTable[this.modulus-this.logTable[A]-1]}multiply(A,x){return A===0||x===0?0:this.expTable[(this.logTable[A]+this.logTable[x])%(this.modulus-1)]}getSize(){return this.modulus}equals(A){return A===this}}class it extends Te{constructor(A,x){super(),this.modulus=A,this.expTable=new Int32Array(A),this.logTable=new Int32Array(A);let v=1;for(let S=0;S<A;S++)this.expTable[S]=v,v=v*x%A;for(let S=0;S<A-1;S++)this.logTable[this.expTable[S]]=S;this.zero=new Bn(this,new Int32Array([0])),this.one=new Bn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(A,x){if(A<0)throw new f;if(x===0)return this.zero;let v=new Int32Array(A+1);return v[0]=x,new Bn(this,v)}}it.PDF417_GF=new it(gr.NUMBER_OF_CODEWORDS,3);class Lt{constructor(){this.field=it.PDF417_GF}decode(A,x,v){let S=new Bn(this.field,A),E=new Int32Array(x),I=!1;for(let Je=x;Je>0;Je--){let tt=S.evaluateAt(this.field.exp(Je));E[x-Je]=tt,tt!==0&&(I=!0)}if(!I)return 0;let D=this.field.getOne();if(v!=null)for(const Je of v){let tt=this.field.exp(A.length-1-Je),pt=new Bn(this.field,new Int32Array([this.field.subtract(0,tt),1]));D=D.multiply(pt)}let W=new Bn(this.field,E),Z=this.runEuclideanAlgorithm(this.field.buildMonomial(x,1),W,x),de=Z[0],be=Z[1],Ie=this.findErrorLocations(de),ze=this.findErrorMagnitudes(be,de,Ie);for(let Je=0;Je<Ie.length;Je++){let tt=A.length-1-this.field.log(Ie[Je]);if(tt<0)throw m.getChecksumInstance();A[tt]=this.field.subtract(A[tt],ze[Je])}return Ie.length}runEuclideanAlgorithm(A,x,v){if(A.getDegree()<x.getDegree()){let Ie=A;A=x,x=Ie}let S=A,E=x,I=this.field.getZero(),D=this.field.getOne();for(;E.getDegree()>=Math.round(v/2);){let Ie=S,ze=I;if(S=E,I=D,S.isZero())throw m.getChecksumInstance();E=Ie;let Je=this.field.getZero(),tt=S.getCoefficient(S.getDegree()),pt=this.field.inverse(tt);for(;E.getDegree()>=S.getDegree()&&!E.isZero();){let Bt=E.getDegree()-S.getDegree(),qt=this.field.multiply(E.getCoefficient(E.getDegree()),pt);Je=Je.add(this.field.buildMonomial(Bt,qt)),E=E.subtract(S.multiplyByMonomial(Bt,qt))}D=Je.multiply(I).subtract(ze).negative()}let W=D.getCoefficient(0);if(W===0)throw m.getChecksumInstance();let Z=this.field.inverse(W),de=D.multiply(Z),be=E.multiply(Z);return[de,be]}findErrorLocations(A){let x=A.getDegree(),v=new Int32Array(x),S=0;for(let E=1;E<this.field.getSize()&&S<x;E++)A.evaluateAt(E)===0&&(v[S]=this.field.inverse(E),S++);if(S!==x)throw m.getChecksumInstance();return v}findErrorMagnitudes(A,x,v){let S=x.getDegree(),E=new Int32Array(S);for(let Z=1;Z<=S;Z++)E[S-Z]=this.field.multiply(Z,x.getCoefficient(Z));let I=new Bn(this.field,E),D=v.length,W=new Int32Array(D);for(let Z=0;Z<D;Z++){let de=this.field.inverse(v[Z]),be=this.field.subtract(0,A.evaluateAt(de)),Ie=this.field.inverse(I.evaluateAt(de));W[Z]=this.field.multiply(be,Ie)}return W}}class sn{constructor(A,x,v,S,E){A instanceof sn?this.constructor_2(A):this.constructor_1(A,x,v,S,E)}constructor_1(A,x,v,S,E){const I=x==null||v==null,D=S==null||E==null;if(I&&D)throw new ie;I?(x=new ot(0,S.getY()),v=new ot(0,E.getY())):D&&(S=new ot(A.getWidth()-1,x.getY()),E=new ot(A.getWidth()-1,v.getY())),this.image=A,this.topLeft=x,this.bottomLeft=v,this.topRight=S,this.bottomRight=E,this.minX=Math.trunc(Math.min(x.getX(),v.getX())),this.maxX=Math.trunc(Math.max(S.getX(),E.getX())),this.minY=Math.trunc(Math.min(x.getY(),S.getY())),this.maxY=Math.trunc(Math.max(v.getY(),E.getY()))}constructor_2(A){this.image=A.image,this.topLeft=A.getTopLeft(),this.bottomLeft=A.getBottomLeft(),this.topRight=A.getTopRight(),this.bottomRight=A.getBottomRight(),this.minX=A.getMinX(),this.maxX=A.getMaxX(),this.minY=A.getMinY(),this.maxY=A.getMaxY()}static merge(A,x){return A==null?x:x==null?A:new sn(A.image,A.topLeft,A.bottomLeft,x.topRight,x.bottomRight)}addMissingRows(A,x,v){let S=this.topLeft,E=this.bottomLeft,I=this.topRight,D=this.bottomRight;if(A>0){let W=v?this.topLeft:this.topRight,Z=Math.trunc(W.getY()-A);Z<0&&(Z=0);let de=new ot(W.getX(),Z);v?S=de:I=de}if(x>0){let W=v?this.bottomLeft:this.bottomRight,Z=Math.trunc(W.getY()+x);Z>=this.image.getHeight()&&(Z=this.image.getHeight()-1);let de=new ot(W.getX(),Z);v?E=de:D=de}return new sn(this.image,S,E,I,D)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Fn{constructor(A,x,v,S){this.columnCount=A,this.errorCorrectionLevel=S,this.rowCountUpperPart=x,this.rowCountLowerPart=v,this.rowCount=x+v}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Rn{constructor(){this.buffer=""}static form(A,x){let v=-1;function S(I,D,W,Z,de,be){if(I==="%%")return"%";if(x[++v]===void 0)return;I=Z?parseInt(Z.substr(1)):void 0;let Ie=de?parseInt(de.substr(1)):void 0,ze;switch(be){case"s":ze=x[v];break;case"c":ze=x[v][0];break;case"f":ze=parseFloat(x[v]).toFixed(I);break;case"p":ze=parseFloat(x[v]).toPrecision(I);break;case"e":ze=parseFloat(x[v]).toExponential(I);break;case"x":ze=parseInt(x[v]).toString(Ie||16);break;case"d":ze=parseFloat(parseInt(x[v],Ie||10).toPrecision(I)).toFixed(0);break}ze=typeof ze=="object"?JSON.stringify(ze):(+ze).toString(Ie);let Je=parseInt(W),tt=W&&W[0]+""=="0"?"0":" ";for(;ze.length<Je;)ze=D!==void 0?ze+tt:tt+ze;return ze}let E=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return A.replace(E,S)}format(A,...x){this.buffer+=Rn.form(A,x)}toString(){return this.buffer}}class In{constructor(A){this.boundingBox=new sn(A),this.codewords=new Array(A.getMaxY()-A.getMinY()+1)}getCodewordNearby(A){let x=this.getCodeword(A);if(x!=null)return x;for(let v=1;v<In.MAX_NEARBY_DISTANCE;v++){let S=this.imageRowToCodewordIndex(A)-v;if(S>=0&&(x=this.codewords[S],x!=null)||(S=this.imageRowToCodewordIndex(A)+v,S<this.codewords.length&&(x=this.codewords[S],x!=null)))return x}return null}imageRowToCodewordIndex(A){return A-this.boundingBox.getMinY()}setCodeword(A,x){this.codewords[this.imageRowToCodewordIndex(A)]=x}getCodeword(A){return this.codewords[this.imageRowToCodewordIndex(A)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const A=new Rn;let x=0;for(const v of this.codewords){if(v==null){A.format("%3d:    |   %n",x++);continue}A.format("%3d: %3d|%3d%n",x++,v.getRowNumber(),v.getValue())}return A.toString()}}In.MAX_NEARBY_DISTANCE=5;class si{constructor(){this.values=new Map}setValue(A){A=Math.trunc(A);let x=this.values.get(A);x==null&&(x=0),x++,this.values.set(A,x)}getValue(){let A=-1,x=new Array;for(const[v,S]of this.values.entries()){const E={getKey:()=>v,getValue:()=>S};E.getValue()>A?(A=E.getValue(),x=[],x.push(E.getKey())):E.getValue()===A&&x.push(E.getKey())}return gr.toIntArray(x)}getConfidence(A){return this.values.get(A)}}class gs extends In{constructor(A,x){super(A),this._isLeft=x}setRowNumbers(){for(let A of this.getCodewords())A!=null&&A.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(A){let x=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(x,A);let v=this.getBoundingBox(),S=this._isLeft?v.getTopLeft():v.getTopRight(),E=this._isLeft?v.getBottomLeft():v.getBottomRight(),I=this.imageRowToCodewordIndex(Math.trunc(S.getY())),D=this.imageRowToCodewordIndex(Math.trunc(E.getY())),W=-1,Z=1,de=0;for(let be=I;be<D;be++){if(x[be]==null)continue;let Ie=x[be],ze=Ie.getRowNumber()-W;if(ze===0)de++;else if(ze===1)Z=Math.max(Z,de),de=1,W=Ie.getRowNumber();else if(ze<0||Ie.getRowNumber()>=A.getRowCount()||ze>be)x[be]=null;else{let Je;Z>2?Je=(Z-2)*ze:Je=ze;let tt=Je>=be;for(let pt=1;pt<=Je&&!tt;pt++)tt=x[be-pt]!=null;tt?x[be]=null:(W=Ie.getRowNumber(),de=1)}}}getRowHeights(){let A=this.getBarcodeMetadata();if(A==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(A);let x=new Int32Array(A.getRowCount());for(let v of this.getCodewords())if(v!=null){let S=v.getRowNumber();if(S>=x.length)continue;x[S]++}return x}adjustIncompleteIndicatorColumnRowNumbers(A){let x=this.getBoundingBox(),v=this._isLeft?x.getTopLeft():x.getTopRight(),S=this._isLeft?x.getBottomLeft():x.getBottomRight(),E=this.imageRowToCodewordIndex(Math.trunc(v.getY())),I=this.imageRowToCodewordIndex(Math.trunc(S.getY())),D=this.getCodewords(),W=-1;for(let Z=E;Z<I;Z++){if(D[Z]==null)continue;let de=D[Z];de.setRowNumberAsRowIndicatorColumn();let be=de.getRowNumber()-W;be===0||(be===1?W=de.getRowNumber():de.getRowNumber()>=A.getRowCount()?D[Z]=null:W=de.getRowNumber())}}getBarcodeMetadata(){let A=this.getCodewords(),x=new si,v=new si,S=new si,E=new si;for(let D of A){if(D==null)continue;D.setRowNumberAsRowIndicatorColumn();let W=D.getValue()%30,Z=D.getRowNumber();switch(this._isLeft||(Z+=2),Z%3){case 0:v.setValue(W*3+1);break;case 1:E.setValue(W/3),S.setValue(W%3);break;case 2:x.setValue(W+1);break}}if(x.getValue().length===0||v.getValue().length===0||S.getValue().length===0||E.getValue().length===0||x.getValue()[0]<1||v.getValue()[0]+S.getValue()[0]<gr.MIN_ROWS_IN_BARCODE||v.getValue()[0]+S.getValue()[0]>gr.MAX_ROWS_IN_BARCODE)return null;let I=new Fn(x.getValue()[0],v.getValue()[0],S.getValue()[0],E.getValue()[0]);return this.removeIncorrectCodewords(A,I),I}removeIncorrectCodewords(A,x){for(let v=0;v<A.length;v++){let S=A[v];if(A[v]==null)continue;let E=S.getValue()%30,I=S.getRowNumber();if(I>x.getRowCount()){A[v]=null;continue}switch(this._isLeft||(I+=2),I%3){case 0:E*3+1!==x.getRowCountUpperPart()&&(A[v]=null);break;case 1:(Math.trunc(E/3)!==x.getErrorCorrectionLevel()||E%3!==x.getRowCountLowerPart())&&(A[v]=null);break;case 2:E+1!==x.getColumnCount()&&(A[v]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ci{constructor(A,x){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=A,this.barcodeColumnCount=A.getColumnCount(),this.boundingBox=x,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let A=gr.MAX_CODEWORDS_IN_BARCODE,x;do x=A,A=this.adjustRowNumbersAndGetCount();while(A>0&&A<x);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(A){A!=null&&A.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let A=this.adjustRowNumbersByRow();if(A===0)return 0;for(let x=1;x<this.barcodeColumnCount+1;x++){let v=this.detectionResultColumns[x].getCodewords();for(let S=0;S<v.length;S++)v[S]!=null&&(v[S].hasValidRowNumber()||this.adjustRowNumbers(x,S,v))}return A}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let A=this.detectionResultColumns[0].getCodewords(),x=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let v=0;v<A.length;v++)if(A[v]!=null&&x[v]!=null&&A[v].getRowNumber()===x[v].getRowNumber())for(let S=1;S<=this.barcodeColumnCount;S++){let E=this.detectionResultColumns[S].getCodewords()[v];E!=null&&(E.setRowNumber(A[v].getRowNumber()),E.hasValidRowNumber()||(this.detectionResultColumns[S].getCodewords()[v]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let A=0,x=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let v=0;v<x.length;v++){if(x[v]==null)continue;let S=x[v].getRowNumber(),E=0;for(let I=this.barcodeColumnCount+1;I>0&&E<this.ADJUST_ROW_NUMBER_SKIP;I--){let D=this.detectionResultColumns[I].getCodewords()[v];D!=null&&(E=ci.adjustRowNumberIfValid(S,E,D),D.hasValidRowNumber()||A++)}}return A}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let A=0,x=this.detectionResultColumns[0].getCodewords();for(let v=0;v<x.length;v++){if(x[v]==null)continue;let S=x[v].getRowNumber(),E=0;for(let I=1;I<this.barcodeColumnCount+1&&E<this.ADJUST_ROW_NUMBER_SKIP;I++){let D=this.detectionResultColumns[I].getCodewords()[v];D!=null&&(E=ci.adjustRowNumberIfValid(S,E,D),D.hasValidRowNumber()||A++)}}return A}static adjustRowNumberIfValid(A,x,v){return v==null||v.hasValidRowNumber()||(v.isValidRowNumber(A)?(v.setRowNumber(A),x=0):++x),x}adjustRowNumbers(A,x,v){if(!this.detectionResultColumns[A-1])return;let S=v[x],E=this.detectionResultColumns[A-1].getCodewords(),I=E;this.detectionResultColumns[A+1]!=null&&(I=this.detectionResultColumns[A+1].getCodewords());let D=new Array(14);D[2]=E[x],D[3]=I[x],x>0&&(D[0]=v[x-1],D[4]=E[x-1],D[5]=I[x-1]),x>1&&(D[8]=v[x-2],D[10]=E[x-2],D[11]=I[x-2]),x<v.length-1&&(D[1]=v[x+1],D[6]=E[x+1],D[7]=I[x+1]),x<v.length-2&&(D[9]=v[x+2],D[12]=E[x+2],D[13]=I[x+2]);for(let W of D)if(ci.adjustRowNumber(S,W))return}static adjustRowNumber(A,x){return x==null?!1:x.hasValidRowNumber()&&x.getBucket()===A.getBucket()?(A.setRowNumber(x.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(A){this.boundingBox=A}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(A,x){this.detectionResultColumns[A]=x}getDetectionResultColumn(A){return this.detectionResultColumns[A]}toString(){let A=this.detectionResultColumns[0];A==null&&(A=this.detectionResultColumns[this.barcodeColumnCount+1]);let x=new Rn;for(let v=0;v<A.getCodewords().length;v++){x.format("CW %3d:",v);for(let S=0;S<this.barcodeColumnCount+2;S++){if(this.detectionResultColumns[S]==null){x.format("    |   ");continue}let E=this.detectionResultColumns[S].getCodewords()[v];if(E==null){x.format("    |   ");continue}x.format(" %3d|%3d",E.getRowNumber(),E.getValue())}x.format("%n")}return x.toString()}}class Bs{constructor(A,x,v,S){this.rowNumber=Bs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(A),this.endX=Math.trunc(x),this.bucket=Math.trunc(v),this.value=Math.trunc(S)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(A){return A!==Bs.BARCODE_ROW_UNKNOWN&&this.bucket===A%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(A){this.rowNumber=A}toString(){return this.rowNumber+"|"+this.value}}Bs.BARCODE_ROW_UNKNOWN=-1;class hi{static initialize(){for(let A=0;A<gr.SYMBOL_TABLE.length;A++){let x=gr.SYMBOL_TABLE[A],v=x&1;for(let S=0;S<gr.BARS_IN_MODULE;S++){let E=0;for(;(x&1)===v;)E+=1,x>>=1;v=x&1,hi.RATIOS_TABLE[A]||(hi.RATIOS_TABLE[A]=new Array(gr.BARS_IN_MODULE)),hi.RATIOS_TABLE[A][gr.BARS_IN_MODULE-S-1]=Math.fround(E/gr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(A){let x=hi.getDecodedCodewordValue(hi.sampleBitCounts(A));return x!==-1?x:hi.getClosestDecodedValue(A)}static sampleBitCounts(A){let x=lt.sum(A),v=new Int32Array(gr.BARS_IN_MODULE),S=0,E=0;for(let I=0;I<gr.MODULES_IN_CODEWORD;I++){let D=x/(2*gr.MODULES_IN_CODEWORD)+I*x/gr.MODULES_IN_CODEWORD;E+A[S]<=D&&(E+=A[S],S++),v[S]++}return v}static getDecodedCodewordValue(A){let x=hi.getBitValue(A);return gr.getCodeword(x)===-1?-1:x}static getBitValue(A){let x=0;for(let v=0;v<A.length;v++)for(let S=0;S<A[v];S++)x=x<<1|(v%2===0?1:0);return Math.trunc(x)}static getClosestDecodedValue(A){let x=lt.sum(A),v=new Array(gr.BARS_IN_MODULE);if(x>1)for(let I=0;I<v.length;I++)v[I]=Math.fround(A[I]/x);let S=Qt.MAX_VALUE,E=-1;this.bSymbolTableReady||hi.initialize();for(let I=0;I<hi.RATIOS_TABLE.length;I++){let D=0,W=hi.RATIOS_TABLE[I];for(let Z=0;Z<gr.BARS_IN_MODULE;Z++){let de=Math.fround(W[Z]-v[Z]);if(D+=Math.fround(de*de),D>=S)break}D<S&&(S=D,E=gr.SYMBOL_TABLE[I])}return E}}hi.bSymbolTableReady=!1,hi.RATIOS_TABLE=new Array(gr.SYMBOL_TABLE.length).map(we=>new Array(gr.BARS_IN_MODULE));class Na{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(A){this.segmentIndex=A}getFileId(){return this.fileId}setFileId(A){this.fileId=A}getOptionalData(){return this.optionalData}setOptionalData(A){this.optionalData=A}isLastSegment(){return this.lastSegment}setLastSegment(A){this.lastSegment=A}getSegmentCount(){return this.segmentCount}setSegmentCount(A){this.segmentCount=A}getSender(){return this.sender||null}setSender(A){this.sender=A}getAddressee(){return this.addressee||null}setAddressee(A){this.addressee=A}getFileName(){return this.fileName}setFileName(A){this.fileName=A}getFileSize(){return this.fileSize}setFileSize(A){this.fileSize=A}getChecksum(){return this.checksum}setChecksum(A){this.checksum=A}getTimestamp(){return this.timestamp}setTimestamp(A){this.timestamp=A}}class tc{static parseLong(A,x=void 0){return parseInt(A,x)}}class nc extends c{}nc.kind="NullPointerException";class il{writeBytes(A){this.writeBytesOffset(A,0,A.length)}writeBytesOffset(A,x,v){if(A==null)throw new nc;if(x<0||x>A.length||v<0||x+v>A.length||x+v<0)throw new C;if(v===0)return;for(let S=0;S<v;S++)this.write(A[x+S])}flush(){}close(){}}class Dl extends c{}class Lc extends il{constructor(A=32){if(super(),this.count=0,A<0)throw new f("Negative initial size: "+A);this.buf=new Uint8Array(A)}ensureCapacity(A){A-this.buf.length>0&&this.grow(A)}grow(A){let v=this.buf.length<<1;if(v-A<0&&(v=A),v<0){if(A<0)throw new Dl;v=R.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,v)}write(A){this.ensureCapacity(this.count+1),this.buf[this.count]=A,this.count+=1}writeBytesOffset(A,x,v){if(x<0||x>A.length||v<0||x+v-A.length>0)throw new C;this.ensureCapacity(this.count+v),y.arraycopy(A,x,this.buf,this.count,v),this.count+=v}writeTo(A){A.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(A){return A?typeof A=="string"?this.toString_string(A):this.toString_number(A):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(A){return new String(this.buf).toString()}toString_number(A){return new String(this.buf).toString()}close(){}}var ai;(function(we){we[we.ALPHA=0]="ALPHA",we[we.LOWER=1]="LOWER",we[we.MIXED=2]="MIXED",we[we.PUNCT=3]="PUNCT",we[we.ALPHA_SHIFT=4]="ALPHA_SHIFT",we[we.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ai||(ai={}));function Vo(){if(typeof window<"u")return window.BigInt||null;if(typeof DA<"u")return DA.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vo;function Qo(we){if(typeof vo>"u"&&(vo=Vo()),vo===null)throw new Error("BigInt is not supported!");return vo(we)}function sl(){let we=[];we[0]=Qo(1);let A=Qo(900);we[1]=A;for(let x=2;x<16;x++)we[x]=we[x-1]*A;return we}class _t{static decode(A,x){let v=new re(""),S=j.ISO8859_1;v.enableDecoding(S);let E=1,I=A[E++],D=new Na;for(;E<A[0];){switch(I){case _t.TEXT_COMPACTION_MODE_LATCH:E=_t.textCompaction(A,E,v);break;case _t.BYTE_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH_6:E=_t.byteCompaction(I,A,S,E,v);break;case _t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(A[E++]);break;case _t.NUMERIC_COMPACTION_MODE_LATCH:E=_t.numericCompaction(A,E,v);break;case _t.ECI_CHARSET:j.getCharacterSetECIByValue(A[E++]);break;case _t.ECI_GENERAL_PURPOSE:E+=2;break;case _t.ECI_USER_DEFINED:E++;break;case _t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:E=_t.decodeMacroBlock(A,E,D);break;case _t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _t.MACRO_PDF417_TERMINATOR:throw new L;default:E--,E=_t.textCompaction(A,E,v);break}if(E<A.length)I=A[E++];else throw L.getFormatInstance()}if(v.length()===0)throw L.getFormatInstance();let W=new Ne(null,v.toString(),null,x);return W.setOther(D),W}static decodeMacroBlock(A,x,v){if(x+_t.NUMBER_OF_SEQUENCE_CODEWORDS>A[0])throw L.getFormatInstance();let S=new Int32Array(_t.NUMBER_OF_SEQUENCE_CODEWORDS);for(let D=0;D<_t.NUMBER_OF_SEQUENCE_CODEWORDS;D++,x++)S[D]=A[x];v.setSegmentIndex(R.parseInt(_t.decodeBase900toBase10(S,_t.NUMBER_OF_SEQUENCE_CODEWORDS)));let E=new re;x=_t.textCompaction(A,x,E),v.setFileId(E.toString());let I=-1;for(A[x]===_t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(I=x+1);x<A[0];)switch(A[x]){case _t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(x++,A[x]){case _t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let D=new re;x=_t.textCompaction(A,x+1,D),v.setFileName(D.toString());break;case _t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let W=new re;x=_t.textCompaction(A,x+1,W),v.setSender(W.toString());break;case _t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let Z=new re;x=_t.textCompaction(A,x+1,Z),v.setAddressee(Z.toString());break;case _t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let de=new re;x=_t.numericCompaction(A,x+1,de),v.setSegmentCount(R.parseInt(de.toString()));break;case _t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let be=new re;x=_t.numericCompaction(A,x+1,be),v.setTimestamp(tc.parseLong(be.toString()));break;case _t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Ie=new re;x=_t.numericCompaction(A,x+1,Ie),v.setChecksum(R.parseInt(Ie.toString()));break;case _t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ze=new re;x=_t.numericCompaction(A,x+1,ze),v.setFileSize(tc.parseLong(ze.toString()));break;default:throw L.getFormatInstance()}break;case _t.MACRO_PDF417_TERMINATOR:x++,v.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(I!==-1){let D=x-I;v.isLastSegment()&&D--,v.setOptionalData(k.copyOfRange(A,I,I+D))}return x}static textCompaction(A,x,v){let S=new Int32Array((A[0]-x)*2),E=new Int32Array((A[0]-x)*2),I=0,D=!1;for(;x<A[0]&&!D;){let W=A[x++];if(W<_t.TEXT_COMPACTION_MODE_LATCH)S[I]=W/30,S[I+1]=W%30,I+=2;else switch(W){case _t.TEXT_COMPACTION_MODE_LATCH:S[I++]=_t.TEXT_COMPACTION_MODE_LATCH;break;case _t.BYTE_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH_6:case _t.NUMERIC_COMPACTION_MODE_LATCH:case _t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _t.MACRO_PDF417_TERMINATOR:x--,D=!0;break;case _t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:S[I]=_t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,W=A[x++],E[I]=W,I++;break}}return _t.decodeTextCompaction(S,E,I,v),x}static decodeTextCompaction(A,x,v,S){let E=ai.ALPHA,I=ai.ALPHA,D=0;for(;D<v;){let W=A[D],Z="";switch(E){case ai.ALPHA:if(W<26)Z=String.fromCharCode(65+W);else switch(W){case 26:Z=" ";break;case _t.LL:E=ai.LOWER;break;case _t.ML:E=ai.MIXED;break;case _t.PS:I=E,E=ai.PUNCT_SHIFT;break;case _t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:S.append(x[D]);break;case _t.TEXT_COMPACTION_MODE_LATCH:E=ai.ALPHA;break}break;case ai.LOWER:if(W<26)Z=String.fromCharCode(97+W);else switch(W){case 26:Z=" ";break;case _t.AS:I=E,E=ai.ALPHA_SHIFT;break;case _t.ML:E=ai.MIXED;break;case _t.PS:I=E,E=ai.PUNCT_SHIFT;break;case _t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:S.append(x[D]);break;case _t.TEXT_COMPACTION_MODE_LATCH:E=ai.ALPHA;break}break;case ai.MIXED:if(W<_t.PL)Z=_t.MIXED_CHARS[W];else switch(W){case _t.PL:E=ai.PUNCT;break;case 26:Z=" ";break;case _t.LL:E=ai.LOWER;break;case _t.AL:E=ai.ALPHA;break;case _t.PS:I=E,E=ai.PUNCT_SHIFT;break;case _t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:S.append(x[D]);break;case _t.TEXT_COMPACTION_MODE_LATCH:E=ai.ALPHA;break}break;case ai.PUNCT:if(W<_t.PAL)Z=_t.PUNCT_CHARS[W];else switch(W){case _t.PAL:E=ai.ALPHA;break;case _t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:S.append(x[D]);break;case _t.TEXT_COMPACTION_MODE_LATCH:E=ai.ALPHA;break}break;case ai.ALPHA_SHIFT:if(E=I,W<26)Z=String.fromCharCode(65+W);else switch(W){case 26:Z=" ";break;case _t.TEXT_COMPACTION_MODE_LATCH:E=ai.ALPHA;break}break;case ai.PUNCT_SHIFT:if(E=I,W<_t.PAL)Z=_t.PUNCT_CHARS[W];else switch(W){case _t.PAL:E=ai.ALPHA;break;case _t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:S.append(x[D]);break;case _t.TEXT_COMPACTION_MODE_LATCH:E=ai.ALPHA;break}break}Z!==""&&S.append(Z),D++}}static byteCompaction(A,x,v,S,E){let I=new Lc,D=0,W=0,Z=!1;switch(A){case _t.BYTE_COMPACTION_MODE_LATCH:let de=new Int32Array(6),be=x[S++];for(;S<x[0]&&!Z;)switch(de[D++]=be,W=900*W+be,be=x[S++],be){case _t.TEXT_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH:case _t.NUMERIC_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH_6:case _t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _t.MACRO_PDF417_TERMINATOR:S--,Z=!0;break;default:if(D%5===0&&D>0){for(let Ie=0;Ie<6;++Ie)I.write(Number(Qo(W)>>Qo(8*(5-Ie))));W=0,D=0}break}S===x[0]&&be<_t.TEXT_COMPACTION_MODE_LATCH&&(de[D++]=be);for(let Ie=0;Ie<D;Ie++)I.write(de[Ie]);break;case _t.BYTE_COMPACTION_MODE_LATCH_6:for(;S<x[0]&&!Z;){let Ie=x[S++];if(Ie<_t.TEXT_COMPACTION_MODE_LATCH)D++,W=900*W+Ie;else switch(Ie){case _t.TEXT_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH:case _t.NUMERIC_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH_6:case _t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _t.MACRO_PDF417_TERMINATOR:S--,Z=!0;break}if(D%5===0&&D>0){for(let ze=0;ze<6;++ze)I.write(Number(Qo(W)>>Qo(8*(5-ze))));W=0,D=0}}break}return E.append(G.decode(I.toByteArray(),v)),S}static numericCompaction(A,x,v){let S=0,E=!1,I=new Int32Array(_t.MAX_NUMERIC_CODEWORDS);for(;x<A[0]&&!E;){let D=A[x++];if(x===A[0]&&(E=!0),D<_t.TEXT_COMPACTION_MODE_LATCH)I[S]=D,S++;else switch(D){case _t.TEXT_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH:case _t.BYTE_COMPACTION_MODE_LATCH_6:case _t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _t.MACRO_PDF417_TERMINATOR:x--,E=!0;break}(S%_t.MAX_NUMERIC_CODEWORDS===0||D===_t.NUMERIC_COMPACTION_MODE_LATCH||E)&&S>0&&(v.append(_t.decodeBase900toBase10(I,S)),S=0)}return x}static decodeBase900toBase10(A,x){let v=Qo(0);for(let E=0;E<x;E++)v+=_t.EXP900[x-E-1]*Qo(A[E]);let S=v.toString();if(S.charAt(0)!=="1")throw new L;return S.substring(1)}}_t.TEXT_COMPACTION_MODE_LATCH=900,_t.BYTE_COMPACTION_MODE_LATCH=901,_t.NUMERIC_COMPACTION_MODE_LATCH=902,_t.BYTE_COMPACTION_MODE_LATCH_6=924,_t.ECI_USER_DEFINED=925,_t.ECI_GENERAL_PURPOSE=926,_t.ECI_CHARSET=927,_t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,_t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,_t.MACRO_PDF417_TERMINATOR=922,_t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,_t.MAX_NUMERIC_CODEWORDS=15,_t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,_t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,_t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,_t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,_t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,_t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,_t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,_t.PL=25,_t.LL=27,_t.AS=27,_t.ML=28,_t.AL=28,_t.PS=29,_t.PAL=29,_t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,_t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",_t.EXP900=Vo()?sl():[],_t.NUMBER_OF_SEQUENCE_CODEWORDS=2;class J{constructor(){}static decode(A,x,v,S,E,I,D){let W=new sn(A,x,v,S,E),Z=null,de=null,be;for(let Je=!0;;Je=!1){if(x!=null&&(Z=J.getRowIndicatorColumn(A,W,x,!0,I,D)),S!=null&&(de=J.getRowIndicatorColumn(A,W,S,!1,I,D)),be=J.merge(Z,de),be==null)throw ie.getNotFoundInstance();let tt=be.getBoundingBox();if(Je&&tt!=null&&(tt.getMinY()<W.getMinY()||tt.getMaxY()>W.getMaxY()))W=tt;else break}be.setBoundingBox(W);let Ie=be.getBarcodeColumnCount()+1;be.setDetectionResultColumn(0,Z),be.setDetectionResultColumn(Ie,de);let ze=Z!=null;for(let Je=1;Je<=Ie;Je++){let tt=ze?Je:Ie-Je;if(be.getDetectionResultColumn(tt)!==void 0)continue;let pt;tt===0||tt===Ie?pt=new gs(W,tt===0):pt=new In(W),be.setDetectionResultColumn(tt,pt);let Bt=-1,qt=Bt;for(let $t=W.getMinY();$t<=W.getMaxY();$t++){if(Bt=J.getStartColumn(be,tt,$t,ze),Bt<0||Bt>W.getMaxX()){if(qt===-1)continue;Bt=qt}let Wt=J.detectCodeword(A,W.getMinX(),W.getMaxX(),ze,Bt,$t,I,D);Wt!=null&&(pt.setCodeword($t,Wt),qt=Bt,I=Math.min(I,Wt.getWidth()),D=Math.max(D,Wt.getWidth()))}}return J.createDecoderResult(be)}static merge(A,x){if(A==null&&x==null)return null;let v=J.getBarcodeMetadata(A,x);if(v==null)return null;let S=sn.merge(J.adjustBoundingBox(A),J.adjustBoundingBox(x));return new ci(v,S)}static adjustBoundingBox(A){if(A==null)return null;let x=A.getRowHeights();if(x==null)return null;let v=J.getMax(x),S=0;for(let D of x)if(S+=v-D,D>0)break;let E=A.getCodewords();for(let D=0;S>0&&E[D]==null;D++)S--;let I=0;for(let D=x.length-1;D>=0&&(I+=v-x[D],!(x[D]>0));D--);for(let D=E.length-1;I>0&&E[D]==null;D--)I--;return A.getBoundingBox().addMissingRows(S,I,A.isLeft())}static getMax(A){let x=-1;for(let v of A)x=Math.max(x,v);return x}static getBarcodeMetadata(A,x){let v;if(A==null||(v=A.getBarcodeMetadata())==null)return x==null?null:x.getBarcodeMetadata();let S;return x==null||(S=x.getBarcodeMetadata())==null?v:v.getColumnCount()!==S.getColumnCount()&&v.getErrorCorrectionLevel()!==S.getErrorCorrectionLevel()&&v.getRowCount()!==S.getRowCount()?null:v}static getRowIndicatorColumn(A,x,v,S,E,I){let D=new gs(x,S);for(let W=0;W<2;W++){let Z=W===0?1:-1,de=Math.trunc(Math.trunc(v.getX()));for(let be=Math.trunc(Math.trunc(v.getY()));be<=x.getMaxY()&&be>=x.getMinY();be+=Z){let Ie=J.detectCodeword(A,0,A.getWidth(),S,de,be,E,I);Ie!=null&&(D.setCodeword(be,Ie),S?de=Ie.getStartX():de=Ie.getEndX())}}return D}static adjustCodewordCount(A,x){let v=x[0][1],S=v.getValue(),E=A.getBarcodeColumnCount()*A.getBarcodeRowCount()-J.getNumberOfECCodeWords(A.getBarcodeECLevel());if(S.length===0){if(E<1||E>gr.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();v.setValue(E)}else S[0]!==E&&v.setValue(E)}static createDecoderResult(A){let x=J.createBarcodeMatrix(A);J.adjustCodewordCount(A,x);let v=new Array,S=new Int32Array(A.getBarcodeRowCount()*A.getBarcodeColumnCount()),E=[],I=new Array;for(let W=0;W<A.getBarcodeRowCount();W++)for(let Z=0;Z<A.getBarcodeColumnCount();Z++){let de=x[W][Z+1].getValue(),be=W*A.getBarcodeColumnCount()+Z;de.length===0?v.push(be):de.length===1?S[be]=de[0]:(I.push(be),E.push(de))}let D=new Array(E.length);for(let W=0;W<D.length;W++)D[W]=E[W];return J.createDecoderResultFromAmbiguousValues(A.getBarcodeECLevel(),S,gr.toIntArray(v),gr.toIntArray(I),D)}static createDecoderResultFromAmbiguousValues(A,x,v,S,E){let I=new Int32Array(S.length),D=100;for(;D-- >0;){for(let W=0;W<I.length;W++)x[S[W]]=E[W][I[W]];try{return J.decodeCodewords(x,A,v)}catch(W){if(!(W instanceof m))throw W}if(I.length===0)throw m.getChecksumInstance();for(let W=0;W<I.length;W++)if(I[W]<E[W].length-1){I[W]++;break}else if(I[W]=0,W===I.length-1)throw m.getChecksumInstance()}throw m.getChecksumInstance()}static createBarcodeMatrix(A){let x=Array.from({length:A.getBarcodeRowCount()},()=>new Array(A.getBarcodeColumnCount()+2));for(let S=0;S<x.length;S++)for(let E=0;E<x[S].length;E++)x[S][E]=new si;let v=0;for(let S of A.getDetectionResultColumns()){if(S!=null){for(let E of S.getCodewords())if(E!=null){let I=E.getRowNumber();if(I>=0){if(I>=x.length)continue;x[I][v].setValue(E.getValue())}}}v++}return x}static isValidBarcodeColumn(A,x){return x>=0&&x<=A.getBarcodeColumnCount()+1}static getStartColumn(A,x,v,S){let E=S?1:-1,I=null;if(J.isValidBarcodeColumn(A,x-E)&&(I=A.getDetectionResultColumn(x-E).getCodeword(v)),I!=null)return S?I.getEndX():I.getStartX();if(I=A.getDetectionResultColumn(x).getCodewordNearby(v),I!=null)return S?I.getStartX():I.getEndX();if(J.isValidBarcodeColumn(A,x-E)&&(I=A.getDetectionResultColumn(x-E).getCodewordNearby(v)),I!=null)return S?I.getEndX():I.getStartX();let D=0;for(;J.isValidBarcodeColumn(A,x-E);){x-=E;for(let W of A.getDetectionResultColumn(x).getCodewords())if(W!=null)return(S?W.getEndX():W.getStartX())+E*D*(W.getEndX()-W.getStartX());D++}return S?A.getBoundingBox().getMinX():A.getBoundingBox().getMaxX()}static detectCodeword(A,x,v,S,E,I,D,W){E=J.adjustCodewordStartColumn(A,x,v,S,E,I);let Z=J.getModuleBitCount(A,x,v,S,E,I);if(Z==null)return null;let de,be=lt.sum(Z);if(S)de=E+be;else{for(let Je=0;Je<Z.length/2;Je++){let tt=Z[Je];Z[Je]=Z[Z.length-1-Je],Z[Z.length-1-Je]=tt}de=E,E=de-be}if(!J.checkCodewordSkew(be,D,W))return null;let Ie=hi.getDecodedValue(Z),ze=gr.getCodeword(Ie);return ze===-1?null:new Bs(E,de,J.getCodewordBucketNumber(Ie),ze)}static getModuleBitCount(A,x,v,S,E,I){let D=E,W=new Int32Array(8),Z=0,de=S?1:-1,be=S;for(;(S?D<v:D>=x)&&Z<W.length;)A.get(D,I)===be?(W[Z]++,D+=de):(Z++,be=!be);return Z===W.length||D===(S?v:x)&&Z===W.length-1?W:null}static getNumberOfECCodeWords(A){return 2<<A}static adjustCodewordStartColumn(A,x,v,S,E,I){let D=E,W=S?-1:1;for(let Z=0;Z<2;Z++){for(;(S?D>=x:D<v)&&S===A.get(D,I);){if(Math.abs(E-D)>J.CODEWORD_SKEW_SIZE)return E;D+=W}W=-W,S=!S}return D}static checkCodewordSkew(A,x,v){return x-J.CODEWORD_SKEW_SIZE<=A&&A<=v+J.CODEWORD_SKEW_SIZE}static decodeCodewords(A,x,v){if(A.length===0)throw L.getFormatInstance();let S=1<<x+1,E=J.correctErrors(A,v,S);J.verifyCodewordCount(A,S);let I=_t.decode(A,""+x);return I.setErrorsCorrected(E),I.setErasures(v.length),I}static correctErrors(A,x,v){if(x!=null&&x.length>v/2+J.MAX_ERRORS||v<0||v>J.MAX_EC_CODEWORDS)throw m.getChecksumInstance();return J.errorCorrection.decode(A,v,x)}static verifyCodewordCount(A,x){if(A.length<4)throw L.getFormatInstance();let v=A[0];if(v>A.length)throw L.getFormatInstance();if(v===0)if(x<A.length)A[0]=A.length-x;else throw L.getFormatInstance()}static getBitCountForCodeword(A){let x=new Int32Array(8),v=0,S=x.length-1;for(;!((A&1)!==v&&(v=A&1,S--,S<0));)x[S]++,A>>=1;return x}static getCodewordBucketNumber(A){return A instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(A):this.getCodewordBucketNumber_number(A)}static getCodewordBucketNumber_number(A){return J.getCodewordBucketNumber(J.getBitCountForCodeword(A))}static getCodewordBucketNumber_Int32Array(A){return(A[0]-A[2]+A[4]-A[6]+9)%9}static toString(A){let x=new Rn;for(let v=0;v<A.length;v++){x.format("Row %2d: ",v);for(let S=0;S<A[v].length;S++){let E=A[v][S];E.getValue().length===0?x.format("        ",null):x.format("%4d(%2d)",E.getValue()[0],E.getConfidence(E.getValue()[0]))}x.format("%n")}return x.toString()}}J.CODEWORD_SKEW_SIZE=2,J.MAX_ERRORS=3,J.MAX_EC_CODEWORDS=512,J.errorCorrection=new Lt;class ye{decode(A,x=null){let v=ye.decode(A,x,!1);if(v==null||v.length===0||v[0]==null)throw ie.getNotFoundInstance();return v[0]}decodeMultiple(A,x=null){try{return ye.decode(A,x,!0)}catch(v){throw v instanceof L||v instanceof m?ie.getNotFoundInstance():v}}static decode(A,x,v){const S=new Array,E=mr.detectMultiple(A,x,v);for(const I of E.getPoints()){const D=J.decode(E.getBits(),I[4],I[5],I[6],I[7],ye.getMinCodewordWidth(I),ye.getMaxCodewordWidth(I)),W=new X(D.getText(),D.getRawBytes(),void 0,I,oe.PDF_417);W.putMetadata(ke.ERROR_CORRECTION_LEVEL,D.getECLevel());const Z=D.getOther();Z!=null&&W.putMetadata(ke.PDF417_EXTRA_METADATA,Z),S.push(W)}return S.map(I=>I)}static getMaxWidth(A,x){return A==null||x==null?0:Math.trunc(Math.abs(A.getX()-x.getX()))}static getMinWidth(A,x){return A==null||x==null?R.MAX_VALUE:Math.trunc(Math.abs(A.getX()-x.getX()))}static getMaxCodewordWidth(A){return Math.floor(Math.max(Math.max(ye.getMaxWidth(A[0],A[4]),ye.getMaxWidth(A[6],A[2])*gr.MODULES_IN_CODEWORD/gr.MODULES_IN_STOP_PATTERN),Math.max(ye.getMaxWidth(A[1],A[5]),ye.getMaxWidth(A[7],A[3])*gr.MODULES_IN_CODEWORD/gr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(A){return Math.floor(Math.min(Math.min(ye.getMinWidth(A[0],A[4]),ye.getMinWidth(A[6],A[2])*gr.MODULES_IN_CODEWORD/gr.MODULES_IN_STOP_PATTERN),Math.min(ye.getMinWidth(A[1],A[5]),ye.getMinWidth(A[7],A[3])*gr.MODULES_IN_CODEWORD/gr.MODULES_IN_STOP_PATTERN)))}reset(){}}class We extends c{}We.kind="ReaderException";class et{constructor(A,x){this.verbose=A===!0,x&&this.setHints(x)}decode(A,x){return x&&this.setHints(x),this.decodeInternal(A)}decodeWithState(A){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(A)}setHints(A){this.hints=A;const x=!r(A)&&A.get(O.TRY_HARDER)===!0,v=r(A)?null:A.get(O.POSSIBLE_FORMATS),S=new Array;if(!r(v)){const E=v.some(I=>I===oe.UPC_A||I===oe.UPC_E||I===oe.EAN_13||I===oe.EAN_8||I===oe.CODABAR||I===oe.CODE_39||I===oe.CODE_93||I===oe.CODE_128||I===oe.ITF||I===oe.RSS_14||I===oe.RSS_EXPANDED);E&&!x&&S.push(new vi(A,this.verbose)),v.includes(oe.QR_CODE)&&S.push(new Ji),v.includes(oe.DATA_MATRIX)&&S.push(new jt),v.includes(oe.AZTEC)&&S.push(new rn),v.includes(oe.PDF_417)&&S.push(new ye),E&&x&&S.push(new vi(A,this.verbose))}S.length===0&&(x||S.push(new vi(A,this.verbose)),S.push(new Ji),S.push(new jt),S.push(new rn),S.push(new ye),x&&S.push(new vi(A,this.verbose))),this.readers=S}reset(){if(this.readers!==null)for(const A of this.readers)A.reset()}decodeInternal(A){if(this.readers===null)throw new We("No readers where selected, nothing can be read.");for(const x of this.readers)try{return x.decode(A,this.hints)}catch(v){if(v instanceof We)continue}throw new ie("No MultiFormat Readers were able to detect the code.")}}class mt extends Y{constructor(A=null,x=500){const v=new et;v.setHints(A),super(v,x)}decodeBitmap(A){return this.reader.decodeWithState(A)}}class Jt extends Y{constructor(A=500){super(new ye,A)}}class pn extends Y{constructor(A=500){super(new Ji,A)}}var nr;(function(we){we[we.ERROR_CORRECTION=0]="ERROR_CORRECTION",we[we.CHARACTER_SET=1]="CHARACTER_SET",we[we.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",we[we.MIN_SIZE=3]="MIN_SIZE",we[we.MAX_SIZE=4]="MAX_SIZE",we[we.MARGIN=5]="MARGIN",we[we.PDF417_COMPACT=6]="PDF417_COMPACT",we[we.PDF417_COMPACTION=7]="PDF417_COMPACTION",we[we.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",we[we.AZTEC_LAYERS=9]="AZTEC_LAYERS",we[we.QR_VERSION=10]="QR_VERSION"})(nr||(nr={}));var Ln=nr;class Ir{constructor(A){this.field=A,this.cachedGenerators=[],this.cachedGenerators.push(new Ye(A,Int32Array.from([1])))}buildGenerator(A){const x=this.cachedGenerators;if(A>=x.length){let v=x[x.length-1];const S=this.field;for(let E=x.length;E<=A;E++){const I=v.multiply(new Ye(S,Int32Array.from([1,S.exp(E-1+S.getGeneratorBase())])));x.push(I),v=I}}return x[A]}encode(A,x){if(x===0)throw new f("No error correction bytes");const v=A.length-x;if(v<=0)throw new f("No data bytes provided");const S=this.buildGenerator(x),E=new Int32Array(v);y.arraycopy(A,0,E,0,v);let I=new Ye(this.field,E);I=I.multiplyByMonomial(x,1);const W=I.divide(S)[1].getCoefficients(),Z=x-W.length;for(let de=0;de<Z;de++)A[v+de]=0;y.arraycopy(W,0,A,v+Z,W.length)}}class sr{constructor(){}static applyMaskPenaltyRule1(A){return sr.applyMaskPenaltyRule1Internal(A,!0)+sr.applyMaskPenaltyRule1Internal(A,!1)}static applyMaskPenaltyRule2(A){let x=0;const v=A.getArray(),S=A.getWidth(),E=A.getHeight();for(let I=0;I<E-1;I++){const D=v[I];for(let W=0;W<S-1;W++){const Z=D[W];Z===D[W+1]&&Z===v[I+1][W]&&Z===v[I+1][W+1]&&x++}}return sr.N2*x}static applyMaskPenaltyRule3(A){let x=0;const v=A.getArray(),S=A.getWidth(),E=A.getHeight();for(let I=0;I<E;I++)for(let D=0;D<S;D++){const W=v[I];D+6<S&&W[D]===1&&W[D+1]===0&&W[D+2]===1&&W[D+3]===1&&W[D+4]===1&&W[D+5]===0&&W[D+6]===1&&(sr.isWhiteHorizontal(W,D-4,D)||sr.isWhiteHorizontal(W,D+7,D+11))&&x++,I+6<E&&v[I][D]===1&&v[I+1][D]===0&&v[I+2][D]===1&&v[I+3][D]===1&&v[I+4][D]===1&&v[I+5][D]===0&&v[I+6][D]===1&&(sr.isWhiteVertical(v,D,I-4,I)||sr.isWhiteVertical(v,D,I+7,I+11))&&x++}return x*sr.N3}static isWhiteHorizontal(A,x,v){x=Math.max(x,0),v=Math.min(v,A.length);for(let S=x;S<v;S++)if(A[S]===1)return!1;return!0}static isWhiteVertical(A,x,v,S){v=Math.max(v,0),S=Math.min(S,A.length);for(let E=v;E<S;E++)if(A[E][x]===1)return!1;return!0}static applyMaskPenaltyRule4(A){let x=0;const v=A.getArray(),S=A.getWidth(),E=A.getHeight();for(let W=0;W<E;W++){const Z=v[W];for(let de=0;de<S;de++)Z[de]===1&&x++}const I=A.getHeight()*A.getWidth();return Math.floor(Math.abs(x*2-I)*10/I)*sr.N4}static getDataMaskBit(A,x,v){let S,E;switch(A){case 0:S=v+x&1;break;case 1:S=v&1;break;case 2:S=x%3;break;case 3:S=(v+x)%3;break;case 4:S=Math.floor(v/2)+Math.floor(x/3)&1;break;case 5:E=v*x,S=(E&1)+E%3;break;case 6:E=v*x,S=(E&1)+E%3&1;break;case 7:E=v*x,S=E%3+(v+x&1)&1;break;default:throw new f("Invalid mask pattern: "+A)}return S===0}static applyMaskPenaltyRule1Internal(A,x){let v=0;const S=x?A.getHeight():A.getWidth(),E=x?A.getWidth():A.getHeight(),I=A.getArray();for(let D=0;D<S;D++){let W=0,Z=-1;for(let de=0;de<E;de++){const be=x?I[D][de]:I[de][D];be===Z?W++:(W>=5&&(v+=sr.N1+(W-5)),W=1,Z=be)}W>=5&&(v+=sr.N1+(W-5))}return v}}sr.N1=3,sr.N2=3,sr.N3=40,sr.N4=10;class ti{constructor(A,x){this.width=A,this.height=x;const v=new Array(x);for(let S=0;S!==x;S++)v[S]=new Uint8Array(A);this.bytes=v}getHeight(){return this.height}getWidth(){return this.width}get(A,x){return this.bytes[x][A]}getArray(){return this.bytes}setNumber(A,x,v){this.bytes[x][A]=v}setBoolean(A,x,v){this.bytes[x][A]=v?1:0}clear(A){for(const x of this.bytes)k.fill(x,A)}equals(A){if(!(A instanceof ti))return!1;const x=A;if(this.width!==x.width||this.height!==x.height)return!1;for(let v=0,S=this.height;v<S;++v){const E=this.bytes[v],I=x.bytes[v];for(let D=0,W=this.width;D<W;++D)if(E[D]!==I[D])return!1}return!0}toString(){const A=new re;for(let x=0,v=this.height;x<v;++x){const S=this.bytes[x];for(let E=0,I=this.width;E<I;++E)switch(S[E]){case 0:A.append(" 0");break;case 1:A.append(" 1");break;default:A.append("  ");break}A.append(`
`)}return A.toString()}}class Mi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const A=new re;return A.append(`<<
`),A.append(" mode: "),A.append(this.mode?this.mode.toString():"null"),A.append(`
 ecLevel: `),A.append(this.ecLevel?this.ecLevel.toString():"null"),A.append(`
 version: `),A.append(this.version?this.version.toString():"null"),A.append(`
 maskPattern: `),A.append(this.maskPattern.toString()),this.matrix?(A.append(`
 matrix:
`),A.append(this.matrix.toString())):A.append(`
 matrix: null
`),A.append(`>>
`),A.toString()}setMode(A){this.mode=A}setECLevel(A){this.ecLevel=A}setVersion(A){this.version=A}setMaskPattern(A){this.maskPattern=A}setMatrix(A){this.matrix=A}static isValidMaskPattern(A){return A>=0&&A<Mi.NUM_MASK_PATTERNS}}Mi.NUM_MASK_PATTERNS=8;class Pr extends c{}Pr.kind="WriterException";class jn{constructor(){}static clearMatrix(A){A.clear(255)}static buildMatrix(A,x,v,S,E){jn.clearMatrix(E),jn.embedBasicPatterns(v,E),jn.embedTypeInfo(x,S,E),jn.maybeEmbedVersionInfo(v,E),jn.embedDataBits(A,S,E)}static embedBasicPatterns(A,x){jn.embedPositionDetectionPatternsAndSeparators(x),jn.embedDarkDotAtLeftBottomCorner(x),jn.maybeEmbedPositionAdjustmentPatterns(A,x),jn.embedTimingPatterns(x)}static embedTypeInfo(A,x,v){const S=new P;jn.makeTypeInfoBits(A,x,S);for(let E=0,I=S.getSize();E<I;++E){const D=S.get(S.getSize()-1-E),W=jn.TYPE_INFO_COORDINATES[E],Z=W[0],de=W[1];if(v.setBoolean(Z,de,D),E<8){const be=v.getWidth()-E-1;v.setBoolean(be,8,D)}else{const Ie=v.getHeight()-7+(E-8);v.setBoolean(8,Ie,D)}}}static maybeEmbedVersionInfo(A,x){if(A.getVersionNumber()<7)return;const v=new P;jn.makeVersionInfoBits(A,v);let S=17;for(let E=0;E<6;++E)for(let I=0;I<3;++I){const D=v.get(S);S--,x.setBoolean(E,x.getHeight()-11+I,D),x.setBoolean(x.getHeight()-11+I,E,D)}}static embedDataBits(A,x,v){let S=0,E=-1,I=v.getWidth()-1,D=v.getHeight()-1;for(;I>0;){for(I===6&&(I-=1);D>=0&&D<v.getHeight();){for(let W=0;W<2;++W){const Z=I-W;if(!jn.isEmpty(v.get(Z,D)))continue;let de;S<A.getSize()?(de=A.get(S),++S):de=!1,x!==255&&sr.getDataMaskBit(x,Z,D)&&(de=!de),v.setBoolean(Z,D,de)}D+=E}E=-E,D+=E,I-=2}if(S!==A.getSize())throw new Pr("Not all bits consumed: "+S+"/"+A.getSize())}static findMSBSet(A){return 32-R.numberOfLeadingZeros(A)}static calculateBCHCode(A,x){if(x===0)throw new f("0 polynomial");const v=jn.findMSBSet(x);for(A<<=v-1;jn.findMSBSet(A)>=v;)A^=x<<jn.findMSBSet(A)-v;return A}static makeTypeInfoBits(A,x,v){if(!Mi.isValidMaskPattern(x))throw new Pr("Invalid mask pattern");const S=A.getBits()<<3|x;v.appendBits(S,5);const E=jn.calculateBCHCode(S,jn.TYPE_INFO_POLY);v.appendBits(E,10);const I=new P;if(I.appendBits(jn.TYPE_INFO_MASK_PATTERN,15),v.xor(I),v.getSize()!==15)throw new Pr("should not happen but we got: "+v.getSize())}static makeVersionInfoBits(A,x){x.appendBits(A.getVersionNumber(),6);const v=jn.calculateBCHCode(A.getVersionNumber(),jn.VERSION_INFO_POLY);if(x.appendBits(v,12),x.getSize()!==18)throw new Pr("should not happen but we got: "+x.getSize())}static isEmpty(A){return A===255}static embedTimingPatterns(A){for(let x=8;x<A.getWidth()-8;++x){const v=(x+1)%2;jn.isEmpty(A.get(x,6))&&A.setNumber(x,6,v),jn.isEmpty(A.get(6,x))&&A.setNumber(6,x,v)}}static embedDarkDotAtLeftBottomCorner(A){if(A.get(8,A.getHeight()-8)===0)throw new Pr;A.setNumber(8,A.getHeight()-8,1)}static embedHorizontalSeparationPattern(A,x,v){for(let S=0;S<8;++S){if(!jn.isEmpty(v.get(A+S,x)))throw new Pr;v.setNumber(A+S,x,0)}}static embedVerticalSeparationPattern(A,x,v){for(let S=0;S<7;++S){if(!jn.isEmpty(v.get(A,x+S)))throw new Pr;v.setNumber(A,x+S,0)}}static embedPositionAdjustmentPattern(A,x,v){for(let S=0;S<5;++S){const E=jn.POSITION_ADJUSTMENT_PATTERN[S];for(let I=0;I<5;++I)v.setNumber(A+I,x+S,E[I])}}static embedPositionDetectionPattern(A,x,v){for(let S=0;S<7;++S){const E=jn.POSITION_DETECTION_PATTERN[S];for(let I=0;I<7;++I)v.setNumber(A+I,x+S,E[I])}}static embedPositionDetectionPatternsAndSeparators(A){const x=jn.POSITION_DETECTION_PATTERN[0].length;jn.embedPositionDetectionPattern(0,0,A),jn.embedPositionDetectionPattern(A.getWidth()-x,0,A),jn.embedPositionDetectionPattern(0,A.getWidth()-x,A);const v=8;jn.embedHorizontalSeparationPattern(0,v-1,A),jn.embedHorizontalSeparationPattern(A.getWidth()-v,v-1,A),jn.embedHorizontalSeparationPattern(0,A.getWidth()-v,A);const S=7;jn.embedVerticalSeparationPattern(S,0,A),jn.embedVerticalSeparationPattern(A.getHeight()-S-1,0,A),jn.embedVerticalSeparationPattern(S,A.getHeight()-S,A)}static maybeEmbedPositionAdjustmentPatterns(A,x){if(A.getVersionNumber()<2)return;const v=A.getVersionNumber()-1,S=jn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[v];for(let E=0,I=S.length;E!==I;E++){const D=S[E];if(D>=0)for(let W=0;W!==I;W++){const Z=S[W];Z>=0&&jn.isEmpty(x.get(Z,D))&&jn.embedPositionAdjustmentPattern(Z-2,D-2,x)}}}}jn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),jn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),jn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),jn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),jn.VERSION_INFO_POLY=7973,jn.TYPE_INFO_POLY=1335,jn.TYPE_INFO_MASK_PATTERN=21522;class ta{constructor(A,x){this.dataBytes=A,this.errorCorrectionBytes=x}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class jr{constructor(){}static calculateMaskPenalty(A){return sr.applyMaskPenaltyRule1(A)+sr.applyMaskPenaltyRule2(A)+sr.applyMaskPenaltyRule3(A)+sr.applyMaskPenaltyRule4(A)}static encode(A,x,v=null){let S=jr.DEFAULT_BYTE_MODE_ENCODING;const E=v!==null&&v.get(Ln.CHARACTER_SET)!==void 0;E&&(S=v.get(Ln.CHARACTER_SET).toString());const I=this.chooseMode(A,S),D=new P;if(I===wn.BYTE&&(E||jr.DEFAULT_BYTE_MODE_ENCODING!==S)){const $t=j.getCharacterSetECIByName(S);$t!==void 0&&this.appendECI($t,D)}this.appendModeInfo(I,D);const W=new P;this.appendBytes(A,I,W,S);let Z;if(v!==null&&v.get(Ln.QR_VERSION)!==void 0){const $t=Number.parseInt(v.get(Ln.QR_VERSION).toString(),10);Z=Qe.getVersionForNumber($t);const Wt=this.calculateBitsNeeded(I,D,W,Z);if(!this.willFit(Wt,Z,x))throw new Pr("Data too big for requested version")}else Z=this.recommendVersion(x,I,D,W);const de=new P;de.appendBitArray(D);const be=I===wn.BYTE?W.getSizeInBytes():A.length;this.appendLengthInfo(be,Z,I,de),de.appendBitArray(W);const Ie=Z.getECBlocksForLevel(x),ze=Z.getTotalCodewords()-Ie.getTotalECCodewords();this.terminateBits(ze,de);const Je=this.interleaveWithECBytes(de,Z.getTotalCodewords(),ze,Ie.getNumBlocks()),tt=new Mi;tt.setECLevel(x),tt.setMode(I),tt.setVersion(Z);const pt=Z.getDimensionForVersion(),Bt=new ti(pt,pt),qt=this.chooseMaskPattern(Je,x,Z,Bt);return tt.setMaskPattern(qt),jn.buildMatrix(Je,x,Z,qt,Bt),tt.setMatrix(Bt),tt}static recommendVersion(A,x,v,S){const E=this.calculateBitsNeeded(x,v,S,Qe.getVersionForNumber(1)),I=this.chooseVersion(E,A),D=this.calculateBitsNeeded(x,v,S,I);return this.chooseVersion(D,A)}static calculateBitsNeeded(A,x,v,S){return x.getSize()+A.getCharacterCountBits(S)+v.getSize()}static getAlphanumericCode(A){return A<jr.ALPHANUMERIC_TABLE.length?jr.ALPHANUMERIC_TABLE[A]:-1}static chooseMode(A,x=null){if(j.SJIS.getName()===x&&this.isOnlyDoubleByteKanji(A))return wn.KANJI;let v=!1,S=!1;for(let E=0,I=A.length;E<I;++E){const D=A.charAt(E);if(jr.isDigit(D))v=!0;else if(this.getAlphanumericCode(D.charCodeAt(0))!==-1)S=!0;else return wn.BYTE}return S?wn.ALPHANUMERIC:v?wn.NUMERIC:wn.BYTE}static isOnlyDoubleByteKanji(A){let x;try{x=G.encode(A,j.SJIS)}catch{return!1}const v=x.length;if(v%2!==0)return!1;for(let S=0;S<v;S+=2){const E=x[S]&255;if((E<129||E>159)&&(E<224||E>235))return!1}return!0}static chooseMaskPattern(A,x,v,S){let E=Number.MAX_SAFE_INTEGER,I=-1;for(let D=0;D<Mi.NUM_MASK_PATTERNS;D++){jn.buildMatrix(A,x,v,D,S);let W=this.calculateMaskPenalty(S);W<E&&(E=W,I=D)}return I}static chooseVersion(A,x){for(let v=1;v<=40;v++){const S=Qe.getVersionForNumber(v);if(jr.willFit(A,S,x))return S}throw new Pr("Data too big")}static willFit(A,x,v){const S=x.getTotalCodewords(),I=x.getECBlocksForLevel(v).getTotalECCodewords(),D=S-I,W=(A+7)/8;return D>=W}static terminateBits(A,x){const v=A*8;if(x.getSize()>v)throw new Pr("data bits cannot fit in the QR Code"+x.getSize()+" > "+v);for(let I=0;I<4&&x.getSize()<v;++I)x.appendBit(!1);const S=x.getSize()&7;if(S>0)for(let I=S;I<8;I++)x.appendBit(!1);const E=A-x.getSizeInBytes();for(let I=0;I<E;++I)x.appendBits((I&1)===0?236:17,8);if(x.getSize()!==v)throw new Pr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(A,x,v,S,E,I){if(S>=v)throw new Pr("Block ID too large");const D=A%v,W=v-D,Z=Math.floor(A/v),de=Z+1,be=Math.floor(x/v),Ie=be+1,ze=Z-be,Je=de-Ie;if(ze!==Je)throw new Pr("EC bytes mismatch");if(v!==W+D)throw new Pr("RS blocks mismatch");if(A!==(be+ze)*W+(Ie+Je)*D)throw new Pr("Total bytes mismatch");S<W?(E[0]=be,I[0]=ze):(E[0]=Ie,I[0]=Je)}static interleaveWithECBytes(A,x,v,S){if(A.getSizeInBytes()!==v)throw new Pr("Number of bits and data bytes does not match");let E=0,I=0,D=0;const W=new Array;for(let de=0;de<S;++de){const be=new Int32Array(1),Ie=new Int32Array(1);jr.getNumDataBytesAndNumECBytesForBlockID(x,v,S,de,be,Ie);const ze=be[0],Je=new Uint8Array(ze);A.toBytes(8*E,Je,0,ze);const tt=jr.generateECBytes(Je,Ie[0]);W.push(new ta(Je,tt)),I=Math.max(I,ze),D=Math.max(D,tt.length),E+=be[0]}if(v!==E)throw new Pr("Data bytes does not match offset");const Z=new P;for(let de=0;de<I;++de)for(const be of W){const Ie=be.getDataBytes();de<Ie.length&&Z.appendBits(Ie[de],8)}for(let de=0;de<D;++de)for(const be of W){const Ie=be.getErrorCorrectionBytes();de<Ie.length&&Z.appendBits(Ie[de],8)}if(x!==Z.getSizeInBytes())throw new Pr("Interleaving error: "+x+" and "+Z.getSizeInBytes()+" differ.");return Z}static generateECBytes(A,x){const v=A.length,S=new Int32Array(v+x);for(let I=0;I<v;I++)S[I]=A[I]&255;new Ir(gt.QR_CODE_FIELD_256).encode(S,x);const E=new Uint8Array(x);for(let I=0;I<x;I++)E[I]=S[v+I];return E}static appendModeInfo(A,x){x.appendBits(A.getBits(),4)}static appendLengthInfo(A,x,v,S){const E=v.getCharacterCountBits(x);if(A>=1<<E)throw new Pr(A+" is bigger than "+((1<<E)-1));S.appendBits(A,E)}static appendBytes(A,x,v,S){switch(x){case wn.NUMERIC:jr.appendNumericBytes(A,v);break;case wn.ALPHANUMERIC:jr.appendAlphanumericBytes(A,v);break;case wn.BYTE:jr.append8BitBytes(A,v,S);break;case wn.KANJI:jr.appendKanjiBytes(A,v);break;default:throw new Pr("Invalid mode: "+x)}}static getDigit(A){return A.charCodeAt(0)-48}static isDigit(A){const x=jr.getDigit(A);return x>=0&&x<=9}static appendNumericBytes(A,x){const v=A.length;let S=0;for(;S<v;){const E=jr.getDigit(A.charAt(S));if(S+2<v){const I=jr.getDigit(A.charAt(S+1)),D=jr.getDigit(A.charAt(S+2));x.appendBits(E*100+I*10+D,10),S+=3}else if(S+1<v){const I=jr.getDigit(A.charAt(S+1));x.appendBits(E*10+I,7),S+=2}else x.appendBits(E,4),S++}}static appendAlphanumericBytes(A,x){const v=A.length;let S=0;for(;S<v;){const E=jr.getAlphanumericCode(A.charCodeAt(S));if(E===-1)throw new Pr;if(S+1<v){const I=jr.getAlphanumericCode(A.charCodeAt(S+1));if(I===-1)throw new Pr;x.appendBits(E*45+I,11),S+=2}else x.appendBits(E,6),S++}}static append8BitBytes(A,x,v){let S;try{S=G.encode(A,v)}catch(E){throw new Pr(E)}for(let E=0,I=S.length;E!==I;E++){const D=S[E];x.appendBits(D,8)}}static appendKanjiBytes(A,x){let v;try{v=G.encode(A,j.SJIS)}catch(E){throw new Pr(E)}const S=v.length;for(let E=0;E<S;E+=2){const I=v[E]&255,D=v[E+1]&255,W=I<<8&4294967295|D;let Z=-1;if(W>=33088&&W<=40956?Z=W-33088:W>=57408&&W<=60351&&(Z=W-49472),Z===-1)throw new Pr("Invalid byte sequence");const de=(Z>>8)*192+(Z&255);x.appendBits(de,13)}}static appendECI(A,x){x.appendBits(wn.ECI.getBits(),4),x.appendBits(A.getValue(),8)}}jr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),jr.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class ms{write(A,x,v,S=null){if(A.length===0)throw new f("Found empty contents");if(x<0||v<0)throw new f("Requested dimensions are too small: "+x+"x"+v);let E=dt.L,I=ms.QUIET_ZONE_SIZE;S!==null&&(S.get(Ln.ERROR_CORRECTION)!==void 0&&(E=dt.fromString(S.get(Ln.ERROR_CORRECTION).toString())),S.get(Ln.MARGIN)!==void 0&&(I=Number.parseInt(S.get(Ln.MARGIN).toString(),10)));const D=jr.encode(A,E,S);return this.renderResult(D,x,v,I)}writeToDom(A,x,v,S,E=null){typeof A=="string"&&(A=document.querySelector(A));const I=this.write(x,v,S,E);A&&A.appendChild(I)}renderResult(A,x,v,S){const E=A.getMatrix();if(E===null)throw new Fe;const I=E.getWidth(),D=E.getHeight(),W=I+S*2,Z=D+S*2,de=Math.max(x,W),be=Math.max(v,Z),Ie=Math.min(Math.floor(de/W),Math.floor(be/Z)),ze=Math.floor((de-I*Ie)/2),Je=Math.floor((be-D*Ie)/2),tt=this.createSVGElement(de,be);for(let pt=0,Bt=Je;pt<D;pt++,Bt+=Ie)for(let qt=0,$t=ze;qt<I;qt++,$t+=Ie)if(E.get(qt,pt)===1){const Wt=this.createSvgRectElement($t,Bt,Ie,Ie);tt.appendChild(Wt)}return tt}createSVGElement(A,x){const v=document.createElementNS(ms.SVG_NS,"svg");return v.setAttributeNS(null,"height",A.toString()),v.setAttributeNS(null,"width",x.toString()),v}createSvgRectElement(A,x,v,S){const E=document.createElementNS(ms.SVG_NS,"rect");return E.setAttributeNS(null,"x",A.toString()),E.setAttributeNS(null,"y",x.toString()),E.setAttributeNS(null,"height",v.toString()),E.setAttributeNS(null,"width",S.toString()),E.setAttributeNS(null,"fill","#000000"),E}}ms.QUIET_ZONE_SIZE=4,ms.SVG_NS="http://www.w3.org/2000/svg";class wo{encode(A,x,v,S,E){if(A.length===0)throw new f("Found empty contents");if(x!==oe.QR_CODE)throw new f("Can only encode QR_CODE, but got "+x);if(v<0||S<0)throw new f(`Requested dimensions are too small: ${v}x${S}`);let I=dt.L,D=wo.QUIET_ZONE_SIZE;E!==null&&(E.get(Ln.ERROR_CORRECTION)!==void 0&&(I=dt.fromString(E.get(Ln.ERROR_CORRECTION).toString())),E.get(Ln.MARGIN)!==void 0&&(D=Number.parseInt(E.get(Ln.MARGIN).toString(),10)));const W=jr.encode(A,I,E);return wo.renderResult(W,v,S,D)}static renderResult(A,x,v,S){const E=A.getMatrix();if(E===null)throw new Fe;const I=E.getWidth(),D=E.getHeight(),W=I+S*2,Z=D+S*2,de=Math.max(x,W),be=Math.max(v,Z),Ie=Math.min(Math.floor(de/W),Math.floor(be/Z)),ze=Math.floor((de-I*Ie)/2),Je=Math.floor((be-D*Ie)/2),tt=new ee(de,be);for(let pt=0,Bt=Je;pt<D;pt++,Bt+=Ie)for(let qt=0,$t=ze;qt<I;qt++,$t+=Ie)E.get(qt,pt)===1&&tt.setRegion($t,Bt,Ie,Ie);return tt}}wo.QUIET_ZONE_SIZE=4;class Pl{encode(A,x,v,S,E){let I;switch(x){case oe.QR_CODE:I=new wo;break;default:throw new f("No encoder available for format "+x)}return I.encode(A,x,v,S,E)}}class ua extends xe{constructor(A,x,v,S,E,I,D,W){if(super(I,D),this.yuvData=A,this.dataWidth=x,this.dataHeight=v,this.left=S,this.top=E,S+I>x||E+D>v)throw new f("Crop rectangle does not fit within image data.");W&&this.reverseHorizontal(I,D)}getRow(A,x){if(A<0||A>=this.getHeight())throw new f("Requested row is outside the image: "+A);const v=this.getWidth();(x==null||x.length<v)&&(x=new Uint8ClampedArray(v));const S=(A+this.top)*this.dataWidth+this.left;return y.arraycopy(this.yuvData,S,x,0,v),x}getMatrix(){const A=this.getWidth(),x=this.getHeight();if(A===this.dataWidth&&x===this.dataHeight)return this.yuvData;const v=A*x,S=new Uint8ClampedArray(v);let E=this.top*this.dataWidth+this.left;if(A===this.dataWidth)return y.arraycopy(this.yuvData,E,S,0,v),S;for(let I=0;I<x;I++){const D=I*A;y.arraycopy(this.yuvData,E,S,D,A),E+=this.dataWidth}return S}isCropSupported(){return!0}crop(A,x,v,S){return new ua(this.yuvData,this.dataWidth,this.dataHeight,this.left+A,this.top+x,v,S,!1)}renderThumbnail(){const A=this.getWidth()/ua.THUMBNAIL_SCALE_FACTOR,x=this.getHeight()/ua.THUMBNAIL_SCALE_FACTOR,v=new Int32Array(A*x),S=this.yuvData;let E=this.top*this.dataWidth+this.left;for(let I=0;I<x;I++){const D=I*A;for(let W=0;W<A;W++){const Z=S[E+W*ua.THUMBNAIL_SCALE_FACTOR]&255;v[D+W]=4278190080|Z*65793}E+=this.dataWidth*ua.THUMBNAIL_SCALE_FACTOR}return v}getThumbnailWidth(){return this.getWidth()/ua.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ua.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(A,x){const v=this.yuvData;for(let S=0,E=this.top*this.dataWidth+this.left;S<x;S++,E+=this.dataWidth){const I=E+A/2;for(let D=E,W=E+A-1;D<I;D++,W--){const Z=v[D];v[D]=v[W],v[W]=Z}}}invert(){return new ge(this)}}ua.THUMBNAIL_SCALE_FACTOR=2;class Ku extends xe{constructor(A,x,v,S,E,I,D){if(super(x,v),this.dataWidth=S,this.dataHeight=E,this.left=I,this.top=D,A.BYTES_PER_ELEMENT===4){const W=x*v,Z=new Uint8ClampedArray(W);for(let de=0;de<W;de++){const be=A[de],Ie=be>>16&255,ze=be>>7&510,Je=be&255;Z[de]=(Ie+ze+Je)/4&255}this.luminances=Z}else this.luminances=A;if(S===void 0&&(this.dataWidth=x),E===void 0&&(this.dataHeight=v),I===void 0&&(this.left=0),D===void 0&&(this.top=0),this.left+x>this.dataWidth||this.top+v>this.dataHeight)throw new f("Crop rectangle does not fit within image data.")}getRow(A,x){if(A<0||A>=this.getHeight())throw new f("Requested row is outside the image: "+A);const v=this.getWidth();(x==null||x.length<v)&&(x=new Uint8ClampedArray(v));const S=(A+this.top)*this.dataWidth+this.left;return y.arraycopy(this.luminances,S,x,0,v),x}getMatrix(){const A=this.getWidth(),x=this.getHeight();if(A===this.dataWidth&&x===this.dataHeight)return this.luminances;const v=A*x,S=new Uint8ClampedArray(v);let E=this.top*this.dataWidth+this.left;if(A===this.dataWidth)return y.arraycopy(this.luminances,E,S,0,v),S;for(let I=0;I<x;I++){const D=I*A;y.arraycopy(this.luminances,E,S,D,A),E+=this.dataWidth}return S}isCropSupported(){return!0}crop(A,x,v,S){return new Ku(this.luminances,v,S,this.dataWidth,this.dataHeight,this.left+A,this.top+x)}invert(){return new ge(this)}}class qu extends j{static forName(A){return this.getCharacterSetECIByName(A)}}class al{}al.ISO_8859_1=j.ISO8859_1;class ol{isCompact(){return this.compact}setCompact(A){this.compact=A}getSize(){return this.size}setSize(A){this.size=A}getLayers(){return this.layers}setLayers(A){this.layers=A}getCodeWords(){return this.codeWords}setCodeWords(A){this.codeWords=A}getMatrix(){return this.matrix}setMatrix(A){this.matrix=A}}class su{static singletonList(A){return[A]}static min(A,x){return A.sort(x)[0]}}class Oc{constructor(A){this.previous=A}getPrevious(){return this.previous}}class xs extends Oc{constructor(A,x,v){super(A),this.value=x,this.bitCount=v}appendTo(A,x){A.appendBits(this.value,this.bitCount)}add(A,x){return new xs(this,A,x)}addBinaryShift(A,x){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xs(this,A,x)}toString(){let A=this.value&(1<<this.bitCount)-1;return A|=1<<this.bitCount,"<"+R.toBinaryString(A|1<<this.bitCount).substring(1)+">"}}class rc extends xs{constructor(A,x,v){super(A,0,0),this.binaryShiftStart=x,this.binaryShiftByteCount=v}appendTo(A,x){for(let v=0;v<this.binaryShiftByteCount;v++)(v===0||v===31&&this.binaryShiftByteCount<=62)&&(A.appendBits(31,5),this.binaryShiftByteCount>62?A.appendBits(this.binaryShiftByteCount-31,16):v===0?A.appendBits(Math.min(this.binaryShiftByteCount,31),5):A.appendBits(this.binaryShiftByteCount-31,5)),A.appendBits(x[this.binaryShiftStart+v],8)}addBinaryShift(A,x){return new rc(this,A,x)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function au(we,A,x){return new rc(we,A,x)}function ic(we,A,x){return new xs(we,A,x)}const sc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Es=0,ll=1,Ta=2,_d=3,Ns=4,Ml=new xs(null,0,0),Ll=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Dh(we){for(let A of we)k.fill(A,-1);return we[Es][Ns]=0,we[ll][Ns]=0,we[ll][Es]=28,we[_d][Ns]=0,we[Ta][Ns]=0,we[Ta][Es]=15,we}const cl=Dh(k.createInt32Array(6,6));class Ia{constructor(A,x,v,S){this.token=A,this.mode=x,this.binaryShiftByteCount=v,this.bitCount=S}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(A,x){let v=this.bitCount,S=this.token;if(A!==this.mode){let I=Ll[this.mode][A];S=ic(S,I&65535,I>>16),v+=I>>16}let E=A===Ta?4:5;return S=ic(S,x,E),new Ia(S,A,0,v+E)}shiftAndAppend(A,x){let v=this.token,S=this.mode===Ta?4:5;return v=ic(v,cl[this.mode][A],S),v=ic(v,x,5),new Ia(v,this.mode,0,this.bitCount+S+5)}addBinaryShiftChar(A){let x=this.token,v=this.mode,S=this.bitCount;if(this.mode===Ns||this.mode===Ta){let D=Ll[v][Es];x=ic(x,D&65535,D>>16),S+=D>>16,v=Es}let E=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,I=new Ia(x,v,this.binaryShiftByteCount+1,S+E);return I.binaryShiftByteCount===2078&&(I=I.endBinaryShift(A+1)),I}endBinaryShift(A){if(this.binaryShiftByteCount===0)return this;let x=this.token;return x=au(x,A-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ia(x,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(A){let x=this.bitCount+(Ll[this.mode][A.mode]>>16);return this.binaryShiftByteCount<A.binaryShiftByteCount?x+=Ia.calculateBinaryShiftCost(A)-Ia.calculateBinaryShiftCost(this):this.binaryShiftByteCount>A.binaryShiftByteCount&&A.binaryShiftByteCount>0&&(x+=10),x<=A.bitCount}toBitArray(A){let x=[];for(let S=this.endBinaryShift(A.length).token;S!==null;S=S.getPrevious())x.unshift(S);let v=new P;for(const S of x)S.appendTo(v,A);return v}toString(){return V.format("%s bits=%d bytes=%d",sc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(A){return A.binaryShiftByteCount>62?21:A.binaryShiftByteCount>31?20:A.binaryShiftByteCount>0?10:0}}Ia.INITIAL_STATE=new Ia(Ml,Es,0,0);function bo(we){const A=V.getCharCode(" "),x=V.getCharCode("."),v=V.getCharCode(",");we[Es][A]=1;const S=V.getCharCode("Z"),E=V.getCharCode("A");for(let Ie=E;Ie<=S;Ie++)we[Es][Ie]=Ie-E+2;we[ll][A]=1;const I=V.getCharCode("z"),D=V.getCharCode("a");for(let Ie=D;Ie<=I;Ie++)we[ll][Ie]=Ie-D+2;we[Ta][A]=1;const W=V.getCharCode("9"),Z=V.getCharCode("0");for(let Ie=Z;Ie<=W;Ie++)we[Ta][Ie]=Ie-Z+2;we[Ta][v]=12,we[Ta][x]=13;const de=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Ie=0;Ie<de.length;Ie++)we[_d][V.getCharCode(de[Ie])]=Ie;const be=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Ie=0;Ie<be.length;Ie++)V.getCharCode(be[Ie])>0&&(we[Ns][V.getCharCode(be[Ie])]=Ie);return we}const Fa=bo(k.createInt32Array(5,256));class yo{constructor(A){this.text=A}encode(){const A=V.getCharCode(" "),x=V.getCharCode(`
`);let v=su.singletonList(Ia.INITIAL_STATE);for(let E=0;E<this.text.length;E++){let I,D=E+1<this.text.length?this.text[E+1]:0;switch(this.text[E]){case V.getCharCode("\r"):I=D===x?2:0;break;case V.getCharCode("."):I=D===A?3:0;break;case V.getCharCode(","):I=D===A?4:0;break;case V.getCharCode(":"):I=D===A?5:0;break;default:I=0}I>0?(v=yo.updateStateListForPair(v,E,I),E++):v=this.updateStateListForChar(v,E)}return su.min(v,(E,I)=>E.getBitCount()-I.getBitCount()).toBitArray(this.text)}updateStateListForChar(A,x){const v=[];for(let S of A)this.updateStateForChar(S,x,v);return yo.simplifyStates(v)}updateStateForChar(A,x,v){let S=this.text[x]&255,E=Fa[A.getMode()][S]>0,I=null;for(let D=0;D<=Ns;D++){let W=Fa[D][S];if(W>0){if(I==null&&(I=A.endBinaryShift(x)),!E||D===A.getMode()||D===Ta){const Z=I.latchAndAppend(D,W);v.push(Z)}if(!E&&cl[A.getMode()][D]>=0){const Z=I.shiftAndAppend(D,W);v.push(Z)}}}if(A.getBinaryShiftByteCount()>0||Fa[A.getMode()][S]===0){let D=A.addBinaryShiftChar(x);v.push(D)}}static updateStateListForPair(A,x,v){const S=[];for(let E of A)this.updateStateForPair(E,x,v,S);return this.simplifyStates(S)}static updateStateForPair(A,x,v,S){let E=A.endBinaryShift(x);if(S.push(E.latchAndAppend(Ns,v)),A.getMode()!==Ns&&S.push(E.shiftAndAppend(Ns,v)),v===3||v===4){let I=E.latchAndAppend(Ta,16-v).latchAndAppend(Ta,1);S.push(I)}if(A.getBinaryShiftByteCount()>0){let I=A.addBinaryShiftChar(x).addBinaryShiftChar(x+1);S.push(I)}}static simplifyStates(A){let x=[];for(const v of A){let S=!0;for(const E of x){if(E.isBetterThanOrEqualTo(v)){S=!1;break}v.isBetterThanOrEqualTo(E)&&(x=x.filter(I=>I!==E))}S&&x.push(v)}return x}}class Vr{constructor(){}static encodeBytes(A){return Vr.encode(A,Vr.DEFAULT_EC_PERCENT,Vr.DEFAULT_AZTEC_LAYERS)}static encode(A,x,v){let S=new yo(A).encode(),E=R.truncDivision(S.getSize()*x,100)+11,I=S.getSize()+E,D,W,Z,de,be;if(v!==Vr.DEFAULT_AZTEC_LAYERS){if(D=v<0,W=Math.abs(v),W>(D?Vr.MAX_NB_BITS_COMPACT:Vr.MAX_NB_BITS))throw new f(V.format("Illegal value %s for layers",v));Z=Vr.totalBitsInLayer(W,D),de=Vr.WORD_SIZE[W];let Wt=Z-Z%de;if(be=Vr.stuffBits(S,de),be.getSize()+E>Wt)throw new f("Data to large for user specified layer");if(D&&be.getSize()>de*64)throw new f("Data to large for user specified layer")}else{de=0,be=null;for(let Wt=0;;Wt++){if(Wt>Vr.MAX_NB_BITS)throw new f("Data too large for an Aztec code");if(D=Wt<=3,W=D?Wt+1:Wt,Z=Vr.totalBitsInLayer(W,D),I>Z)continue;(be==null||de!==Vr.WORD_SIZE[W])&&(de=Vr.WORD_SIZE[W],be=Vr.stuffBits(S,de));let vr=Z-Z%de;if(!(D&&be.getSize()>de*64)&&be.getSize()+E<=vr)break}}let Ie=Vr.generateCheckWords(be,Z,de),ze=be.getSize()/de,Je=Vr.generateModeMessage(D,W,ze),tt=(D?11:14)+W*4,pt=new Int32Array(tt),Bt;if(D){Bt=tt;for(let Wt=0;Wt<pt.length;Wt++)pt[Wt]=Wt}else{Bt=tt+1+2*R.truncDivision(R.truncDivision(tt,2)-1,15);let Wt=R.truncDivision(tt,2),vr=R.truncDivision(Bt,2);for(let Er=0;Er<Wt;Er++){let as=Er+R.truncDivision(Er,15);pt[Wt-Er-1]=vr-as-1,pt[Wt+Er]=vr+as+1}}let qt=new ee(Bt);for(let Wt=0,vr=0;Wt<W;Wt++){let Er=(W-Wt)*4+(D?9:12);for(let as=0;as<Er;as++){let ka=as*2;for(let da=0;da<2;da++)Ie.get(vr+ka+da)&&qt.set(pt[Wt*2+da],pt[Wt*2+as]),Ie.get(vr+Er*2+ka+da)&&qt.set(pt[Wt*2+as],pt[tt-1-Wt*2-da]),Ie.get(vr+Er*4+ka+da)&&qt.set(pt[tt-1-Wt*2-da],pt[tt-1-Wt*2-as]),Ie.get(vr+Er*6+ka+da)&&qt.set(pt[tt-1-Wt*2-as],pt[Wt*2+da])}vr+=Er*8}if(Vr.drawModeMessage(qt,D,Bt,Je),D)Vr.drawBullsEye(qt,R.truncDivision(Bt,2),5);else{Vr.drawBullsEye(qt,R.truncDivision(Bt,2),7);for(let Wt=0,vr=0;Wt<R.truncDivision(tt,2)-1;Wt+=15,vr+=16)for(let Er=R.truncDivision(Bt,2)&1;Er<Bt;Er+=2)qt.set(R.truncDivision(Bt,2)-vr,Er),qt.set(R.truncDivision(Bt,2)+vr,Er),qt.set(Er,R.truncDivision(Bt,2)-vr),qt.set(Er,R.truncDivision(Bt,2)+vr)}let $t=new ol;return $t.setCompact(D),$t.setSize(Bt),$t.setLayers(W),$t.setCodeWords(ze),$t.setMatrix(qt),$t}static drawBullsEye(A,x,v){for(let S=0;S<v;S+=2)for(let E=x-S;E<=x+S;E++)A.set(E,x-S),A.set(E,x+S),A.set(x-S,E),A.set(x+S,E);A.set(x-v,x-v),A.set(x-v+1,x-v),A.set(x-v,x-v+1),A.set(x+v,x-v),A.set(x+v,x-v+1),A.set(x+v,x+v-1)}static generateModeMessage(A,x,v){let S=new P;return A?(S.appendBits(x-1,2),S.appendBits(v-1,6),S=Vr.generateCheckWords(S,28,4)):(S.appendBits(x-1,5),S.appendBits(v-1,11),S=Vr.generateCheckWords(S,40,4)),S}static drawModeMessage(A,x,v,S){let E=R.truncDivision(v,2);if(x)for(let I=0;I<7;I++){let D=E-3+I;S.get(I)&&A.set(D,E-5),S.get(I+7)&&A.set(E+5,D),S.get(20-I)&&A.set(D,E+5),S.get(27-I)&&A.set(E-5,D)}else for(let I=0;I<10;I++){let D=E-5+I+R.truncDivision(I,5);S.get(I)&&A.set(D,E-7),S.get(I+10)&&A.set(E+7,D),S.get(29-I)&&A.set(D,E+7),S.get(39-I)&&A.set(E-7,D)}}static generateCheckWords(A,x,v){let S=A.getSize()/v,E=new Ir(Vr.getGF(v)),I=R.truncDivision(x,v),D=Vr.bitsToWords(A,v,I);E.encode(D,I-S);let W=x%v,Z=new P;Z.appendBits(0,W);for(const de of Array.from(D))Z.appendBits(de,v);return Z}static bitsToWords(A,x,v){let S=new Int32Array(v),E,I;for(E=0,I=A.getSize()/x;E<I;E++){let D=0;for(let W=0;W<x;W++)D|=A.get(E*x+W)?1<<x-W-1:0;S[E]=D}return S}static getGF(A){switch(A){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new f("Unsupported word size "+A)}}static stuffBits(A,x){let v=new P,S=A.getSize(),E=(1<<x)-2;for(let I=0;I<S;I+=x){let D=0;for(let W=0;W<x;W++)(I+W>=S||A.get(I+W))&&(D|=1<<x-1-W);(D&E)===E?(v.appendBits(D&E,x),I--):(D&E)===0?(v.appendBits(D|1,x),I--):v.appendBits(D,x)}return v}static totalBitsInLayer(A,x){return((x?88:112)+16*A)*A}}Vr.DEFAULT_EC_PERCENT=33,Vr.DEFAULT_AZTEC_LAYERS=0,Vr.MAX_NB_BITS=32,Vr.MAX_NB_BITS_COMPACT=4,Vr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ul{encode(A,x,v,S){return this.encodeWithHints(A,x,v,S,null)}encodeWithHints(A,x,v,S,E){let I=al.ISO_8859_1,D=Vr.DEFAULT_EC_PERCENT,W=Vr.DEFAULT_AZTEC_LAYERS;return E!=null&&(E.has(Ln.CHARACTER_SET)&&(I=qu.forName(E.get(Ln.CHARACTER_SET).toString())),E.has(Ln.ERROR_CORRECTION)&&(D=R.parseInt(E.get(Ln.ERROR_CORRECTION).toString())),E.has(Ln.AZTEC_LAYERS)&&(W=R.parseInt(E.get(Ln.AZTEC_LAYERS).toString()))),ul.encodeLayers(A,x,v,S,I,D,W)}static encodeLayers(A,x,v,S,E,I,D){if(x!==oe.AZTEC)throw new f("Can only encode AZTEC, but got "+x);let W=Vr.encode(V.getBytes(A,E),I,D);return ul.renderResult(W,v,S)}static renderResult(A,x,v){let S=A.getMatrix();if(S==null)throw new Fe;let E=S.getWidth(),I=S.getHeight(),D=Math.max(x,E),W=Math.max(v,I),Z=Math.min(D/E,W/I),de=(D-E*Z)/2,be=(W-I*Z)/2,Ie=new ee(D,W);for(let ze=0,Je=be;ze<I;ze++,Je+=Z)for(let tt=0,pt=de;tt<E;tt++,pt+=Z)S.get(tt,ze)&&Ie.setRegion(pt,Je,Z,Z);return Ie}}n.AbstractExpandedDecoder=Me,n.ArgumentException=d,n.ArithmeticException=ve,n.AztecCode=ol,n.AztecCodeReader=rn,n.AztecCodeWriter=ul,n.AztecDecoder=Ct,n.AztecDetector=hn,n.AztecDetectorResult=bn,n.AztecEncoder=Vr,n.AztecHighLevelEncoder=yo,n.AztecPoint=Ht,n.BarcodeFormat=oe,n.Binarizer=w,n.BinaryBitmap=p,n.BitArray=P,n.BitMatrix=ee,n.BitSource=$e,n.BrowserAztecCodeReader=br,n.BrowserBarcodeReader=ca,n.BrowserCodeReader=Y,n.BrowserDatamatrixCodeReader=Zt,n.BrowserMultiFormatReader=mt,n.BrowserPDF417Reader=Jt,n.BrowserQRCodeReader=pn,n.BrowserQRCodeSvgWriter=ms,n.CharacterSetECI=j,n.ChecksumException=m,n.Code128Reader=ut,n.Code39Reader=yn,n.DataMatrixDecodedBitStreamParser=st,n.DataMatrixReader=jt,n.DecodeHintType=O,n.DecoderResult=Ne,n.DefaultGridSampler=tr,n.DetectorResult=An,n.EAN13Reader=Hn,n.EncodeHintType=Ln,n.Exception=c,n.FormatException=L,n.GenericGF=gt,n.GenericGFPoly=Ye,n.GlobalHistogramBinarizer=ue,n.GridSampler=Vn,n.GridSamplerInstance=xn,n.HTMLCanvasElementLuminanceSource=fe,n.HybridBinarizer=le,n.ITFReader=un,n.IllegalArgumentException=f,n.IllegalStateException=Fe,n.InvertedLuminanceSource=ge,n.LuminanceSource=xe,n.MathUtils=lt,n.MultiFormatOneDReader=vi,n.MultiFormatReader=et,n.MultiFormatWriter=Pl,n.NotFoundException=ie,n.OneDReader=Tn,n.PDF417DecodedBitStreamParser=_t,n.PDF417DecoderErrorCorrection=Lt,n.PDF417Reader=ye,n.PDF417ResultMetadata=Na,n.PerspectiveTransform=Sn,n.PlanarYUVLuminanceSource=ua,n.QRCodeByteMatrix=ti,n.QRCodeDataMask=Gt,n.QRCodeDecodedBitStreamParser=Mn,n.QRCodeDecoderErrorCorrectionLevel=dt,n.QRCodeDecoderFormatInformation=pe,n.QRCodeEncoder=jr,n.QRCodeEncoderQRCode=Mi,n.QRCodeMaskUtil=sr,n.QRCodeMatrixUtil=jn,n.QRCodeMode=wn,n.QRCodeReader=Ji,n.QRCodeVersion=Qe,n.QRCodeWriter=wo,n.RGBLuminanceSource=Ku,n.RSS14Reader=ir,n.RSSExpandedReader=Pt,n.ReaderException=We,n.ReedSolomonDecoder=Nt,n.ReedSolomonEncoder=Ir,n.ReedSolomonException=yt,n.Result=X,n.ResultMetadataType=ke,n.ResultPoint=ot,n.StringUtils=V,n.UnsupportedOperationException=te,n.VideoInputDevice=ce,n.WhiteRectangleDetector=Cn,n.WriterException=Pr,n.ZXingArrays=k,n.ZXingCharset=qu,n.ZXingInteger=R,n.ZXingStandardCharsets=al,n.ZXingStringBuilder=re,n.ZXingStringEncoding=G,n.ZXingSystem=y,n.createAbstractExpandedDecoder=fn,Object.defineProperty(n,"__esModule",{value:!0})}))})(Cv,Cv.exports)),Cv.exports}var Ms=Nct();const Tct=iu(Ms),Ict=NW({__proto__:null,default:Tct},[Ms]);var AW=(function(){function e(t,n,r){if(this.formatMap=new Map([[ar.QR_CODE,Ms.BarcodeFormat.QR_CODE],[ar.AZTEC,Ms.BarcodeFormat.AZTEC],[ar.CODABAR,Ms.BarcodeFormat.CODABAR],[ar.CODE_39,Ms.BarcodeFormat.CODE_39],[ar.CODE_93,Ms.BarcodeFormat.CODE_93],[ar.CODE_128,Ms.BarcodeFormat.CODE_128],[ar.DATA_MATRIX,Ms.BarcodeFormat.DATA_MATRIX],[ar.MAXICODE,Ms.BarcodeFormat.MAXICODE],[ar.ITF,Ms.BarcodeFormat.ITF],[ar.EAN_13,Ms.BarcodeFormat.EAN_13],[ar.EAN_8,Ms.BarcodeFormat.EAN_8],[ar.PDF_417,Ms.BarcodeFormat.PDF_417],[ar.RSS_14,Ms.BarcodeFormat.RSS_14],[ar.RSS_EXPANDED,Ms.BarcodeFormat.RSS_EXPANDED],[ar.UPC_A,Ms.BarcodeFormat.UPC_A],[ar.UPC_E,Ms.BarcodeFormat.UPC_E],[ar.UPC_EAN_EXTENSION,Ms.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ict)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),s=new Map;s.set(Ms.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Ms.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var n=new Ms.MultiFormatReader(this.verbose,this.hints),r=new Ms.HTMLCanvasElementLuminanceSource(t),i=new Ms.BinaryBitmap(new Ms.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:Use.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),Fct=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},kct=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},pW=(function(){function e(t,n,r){if(this.formatMap=new Map([[ar.QR_CODE,"qr_code"],[ar.AZTEC,"aztec"],[ar.CODABAR,"codabar"],[ar.CODE_39,"code_39"],[ar.CODE_93,"code_93"],[ar.CODE_128,"code_128"],[ar.DATA_MATRIX,"data_matrix"],[ar.ITF,"itf"],[ar.EAN_13,"ean_13"],[ar.EAN_8,"ean_8"],[ar.PDF_417,"pdf417"],[ar.UPC_A,"upc_a"],[ar.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Fct(this,void 0,void 0,function(){var n,r;return kct(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Use.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,s=t;i<s.length;i++){var a=s[i],o=a.boundingBox.width*a.boundingBox.height;o>r&&(r=o,n=a)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),gW=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},mW=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Bct=(function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&pW.isSupported()?(this.primaryDecoder=new pW(t,r,i),this.secondaryDecoder=new AW(t,r,i)):this.primaryDecoder=new AW(t,r,i)}return e.prototype.decodeAsync=function(t){return gW(this,void 0,void 0,function(){var n;return mW(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return gW(this,void 0,void 0,function(){var n,r;return mW(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),oM=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jE=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},UE=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Gse=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),Rct=(function(e){oM(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(Gse),_ct=(function(e){oM(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(Rct),Dct=(function(e){oM(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(Gse),Pct=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new _ct(this.track)},e.prototype.torchFeature=function(){return new Dct(this.track)},e})(),Mct=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return jE(this,void 0,void 0,function(){var s,a;return UE(this,function(o){switch(o.label){case 0:return s=new e(t,n,i),r.aspectRatio?(a={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:o.sent(),o.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return jE(this,void 0,void 0,function(){return UE(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),s=i.length,a=0;t.mediaStream.getVideoTracks().forEach(function(o){t.mediaStream.removeTrack(o),o.stop(),++a,a>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Pct(this.getFirstTrackOrFail())},e})(),Lct=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return jE(this,void 0,void 0,function(){return UE(this,function(i){return[2,Mct.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return jE(this,void 0,void 0,function(){var n,r;return UE(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e})(),xW=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},vW=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Oct=(function(){function e(){}return e.failIfNotSupported=function(){return xW(this,void 0,void 0,function(){return vW(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return xW(this,void 0,void 0,function(){return vW(this,function(n){return[2,Lct.create(t)]})})},e})(),jct=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},Uct=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Hct=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=_m.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=_m.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return jct(this,void 0,void 0,function(){var t,n,r,i,s,a,o;return Uct(this,function(l){switch(l.label){case 0:return t=function(c){for(var d=c.getVideoTracks(),f=0,p=d;f<p.length;f++){var m=p[f];m.enabled=!1,m.stop(),c.removeTrack(m)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=l.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=l.sent(),i=[],s=0,a=r;s<a.length;s++)o=a[s],o.kind==="videoinput"&&i.push({id:o.deviceId,label:o.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(s){for(var a=[],o=0,l=s;o<l.length;o++){var c=l[o];c.kind==="video"&&a.push({id:c.id,label:c.label})}t(a)},i=MediaStreamTrack;i.getSources(r)})},e})(),wa;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(wa||(wa={}));var Gct=(function(){function e(){this.state=wa.NOT_STARTED,this.onGoingTransactionNewState=wa.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===wa.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=wa.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===wa.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=wa.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==wa.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case wa.UNKNOWN:throw"Transition from unknown is not allowed";case wa.NOT_STARTED:this.failIfNewStateIs(t,[wa.PAUSED]);break;case wa.SCANNING:break;case wa.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),Vct=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===wa.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==wa.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===wa.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===wa.PAUSED},e})(),Qct=(function(){function e(){}return e.create=function(){return new Vct(new Gct)},e})(),zct=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zc=(function(e){zct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(yct),Wct=(function(){function e(t,n){this.logger=n,this.fps=zc.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=zc.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Hse.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!nf(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),Kct=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Sct(this.verbose),this.qrcode=new Bct(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Qct.create()}return e.prototype.start=function(t,n,r,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var a;i?a=i:a=this.verbose?this.logger.log:function(){};var o=Wct.create(n,this.logger);this.clearElement();var l=!1;o.videoConstraints&&(o.isMediaStreamConstraintsValid()?l=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=l,d=document.getElementById(this.elementId);d.clientWidth?d.clientWidth:zc.DEFAULT_WIDTH,d.style.position="relative",this.shouldScan=!0,this.element=d;var f=this,p=this.stateManagerProxy.startTransition(wa.SCANNING);return new Promise(function(m,w){var y=c?o.videoConstraints:f.createVideoConstraints(t);if(!y){p.cancel(),w("videoConstraints should be defined");return}var C={};(!c||o.aspectRatio)&&(C.aspectRatio=o.aspectRatio);var T={onRenderSurfaceReady:function(k,R){f.setupUi(k,R,o),f.isScanning=!0,f.foreverScan(o,r,a)}};Oct.failIfNotSupported().then(function(k){k.create(y).then(function(R){return R.render(s.element,C,T).then(function(P){f.renderedCamera=P,p.execute(),m(null)}).catch(function(P){p.cancel(),w(P)})}).catch(function(R){p.cancel(),w(_m.errorGettingUserMedia(R))})}).catch(function(k){p.cancel(),w(_m.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(wa.PAUSED),this.showPausedState(),(nf(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(wa.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(wa.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var s=document.getElementById(zc.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(nf(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var a=new Image;a.onload=function(){var o=a.width,l=a.height,c=document.getElementById(r.elementId),d=c.clientWidth?c.clientWidth:zc.DEFAULT_WIDTH,f=Math.max(c.clientHeight?c.clientHeight:l,zc.FILE_SCAN_MIN_HEIGHT),p=r.computeCanvasDrawConfig(o,l,d,f);if(n){var m=r.createCanvasElement(d,f,"qr-canvas-visible");m.style.display="inline-block",c.appendChild(m);var w=m.getContext("2d");if(!w)throw"Unable to get 2d context from canvas";w.canvas.width=d,w.canvas.height=f,w.drawImage(a,0,0,o,l,p.x,p.y,p.width,p.height)}var y=zc.FILE_SCAN_HIDDEN_CANVAS_PADDING,C=Math.max(a.width,p.width),T=Math.max(a.height,p.height),k=C+2*y,R=T+2*y,P=r.createCanvasElement(k,R);c.appendChild(P);var U=P.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=k,U.canvas.height=R,U.drawImage(a,0,0,o,l,y,y,C,T);try{r.qrcode.decodeRobustlyAsync(P).then(function(O){i(hW.createFromQrcodeResult(O))}).catch(s)}catch(O){s("QR code parse error, error = ".concat(O))}},a.onerror=s,a.onabort=s,a.onstalled=s,a.onsuspend=s,a.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Hct.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Hse.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ar.QR_CODE,ar.AZTEC,ar.CODABAR,ar.CODE_39,ar.CODE_93,ar.CODE_128,ar.DATA_MATRIX,ar.MAXICODE,ar.ITF,ar.EAN_13,ar.EAN_8,ar.PDF_417,ar.RSS_14,ar.RSS_EXPANDED,ar.UPC_A,ar.UPC_E,ar.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=t.formatsToSupport;i<s.length;i++){var a=s[i];bct(a)?r.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(nf(t))return!0;if(!nf(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(nf(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return nf(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s),o=function(c){if(c<zc.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(zc.MIN_QR_BOX_SIZE,"px.")},l=function(c){return c>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),c=t),c};o(a.width),o(a.height),a.width=l(a.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=nf(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=r.isShadedBoxEnabled()&&s.height<=n,o={x:0,y:0,width:t,height:n},l=a?this.getShadedRegionBounds(t,n,s):o,c=this.createCanvasElement(l.width,l.height),d={willReadFrequently:!0},f=c.getContext("2d",d);f.canvas.width=l.width,f.canvas.height=l.height,this.element.append(c),a&&this.possiblyInsertShadingElement(this.element,t,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=l,this.context=f,this.canvasElement=c},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=_m.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,hW.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=_m.codeParseError(i);return n(s,Cct.createFrom(s)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),a=s.videoWidth/s.clientWidth,o=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var l=this.qrRegion.width*a,c=this.qrRegion.height*o,d=this.qrRegion.x*a,f=this.qrRegion.y*o;this.context.drawImage(s,d,f,l,c,0,0,this.qrRegion.width,this.qrRegion.height);var p=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(m){!m&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){p()})):p()}).catch(function(m){i.logger.logError("Error happend while scanning context",m),p()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",a=function(w){if(w in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(w,"'")},o=Object.keys(t);if(o.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(o.length," keys");var l=Object.keys(t)[0];if(l!==n&&l!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(l===n){var c=t.facingMode;if(typeof c=="string"){if(a(c))return{facingMode:c}}else if(typeof c=="object")if(s in c){if(a(c["".concat(s)]))return{facingMode:{exact:c["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var d=typeof c;throw"Invalid type of 'facingMode' = ".concat(d)}}else{var f=t.deviceId;if(typeof f=="string")return{deviceId:f};if(typeof f=="object"){if(s in f)return{deviceId:{exact:f["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var p=typeof f;throw"Invalid type of 'deviceId' = ".concat(p)}}}var m=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(m)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var s=(r-t)/2,a=(i-n)/2;return{x:s,y:a,width:t,height:n}}else{var o=t,l=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(o,"X").concat(l)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?zc.BORDER_SHADER_MATCH_COLOR:zc.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,s=n,a=document.createElement("canvas");return a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a.style.display="none",a.id=nf(r)?"qr-canvas":r,a},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var a=(n-i.width)/2,o=(r-i.height)/2;if(s.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(zc.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var l=5,c=40;this.insertShaderBorders(s,c,l,-l,null,0,!0),this.insertShaderBorders(s,c,l,-l,null,0,!1),this.insertShaderBorders(s,c,l,null,-l,0,!0),this.insertShaderBorders(s,c,l,null,-l,0,!1),this.insertShaderBorders(s,l,c+l,-l,null,-l,!0),this.insertShaderBorders(s,l,c+l,null,-l,-l,!0),this.insertShaderBorders(s,l,c+l,-l,null,-l,!1),this.insertShaderBorders(s,l,c+l,null,-l,-l,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,n,r,i,s,a,o){var l=document.createElement("div");l.style.position="absolute",l.style.backgroundColor=zc.BORDER_SHADER_DEFAULT_COLOR,l.style.width="".concat(n,"px"),l.style.height="".concat(r,"px"),i!==null&&(l.style.top="".concat(i,"px")),s!==null&&(l.style.bottom="".concat(s,"px")),o?l.style.left="".concat(a,"px"):l.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(l),t.appendChild(l)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),wW;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(wW||(wW={}));const qct=({inventoryItems:e,locations:t,onClose:n,onConfirm:r})=>{const[i,s]=B.useState([]),[a,o]=B.useState(""),[l,c]=B.useState(!1),[d,f]=B.useState(""),[p,m]=B.useState(""),[w,y]=B.useState(null),C=()=>{new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play().catch(L=>console.log("Audio play failed",L))},T=O=>{console.log(`Scan result: ${O}`);const L=e.find(K=>K.barcode&&K.barcode===O||K.sku&&K.sku===O||K.id===O);if(L){C();let K=p;const j=L.locations.find(te=>te.name===K);if(!j||j.quantity<=0){const te=L.locations.find(G=>G.quantity>0);te&&(K=te.name)}s(te=>{var V;const G=te.findIndex(re=>re.inventoryItem.id===L.id&&re.fromLocation===K);if(G>=0){const re=te[G].quantity,ee=((V=L.locations.find(ie=>ie.name===K))==null?void 0:V.quantity)||0;if(re<ee){const ie=[...te];return ie[G].quantity+=1,ie}else return te}else return[{inventoryItem:L,quantity:1,fromLocation:K},...te]}),y(null)}else y(`: ${O}`)};B.useEffect(()=>{let O=null,L=!0;return l&&(async()=>{if(!l||(await new Promise(G=>setTimeout(G,200)),!L))return;const j="reader";if(!document.getElementById(j)){console.error("Reader element not found");return}try{O&&(await O.stop().catch(()=>{}),O.clear()),O=new Kct(j);const G={fps:10,qrbox:(V,re)=>{const ee=Math.min(V,re),ie=Math.floor(ee*.7);return{width:ie,height:ie}}};await O.start({facingMode:"environment"},G,V=>T(V),V=>{})}catch(G){if(console.error("Primary start failed",G),L&&O)try{console.log("Attempting fallback config..."),await O.start({facingMode:"user"},config,V=>T(V),V=>{})}catch(V){if(console.error("Fallback failed",V),L){let re=" HTTPS ";(G==null?void 0:G.name)==="NotAllowedError"&&(re=" "),(G==null?void 0:G.name)==="NotFoundError"&&(re=""),y(re),c(!1)}}}})(),()=>{L=!1,O&&O.stop().then(()=>O==null?void 0:O.clear()).catch(j=>console.error(j))}},[l]);const k=O=>{O.preventDefault(),d&&(T(d),f(""))},R=O=>{s(L=>L.filter((K,j)=>j!==O))},P=(O,L)=>{s(K=>{var re;const j=[...K],te=j[O],G=((re=te.inventoryItem.locations.find(ee=>ee.name===te.fromLocation))==null?void 0:re.quantity)||0,V=te.quantity+L;return V>0&&V<=G&&(te.quantity=V),j})},U=()=>{if(!a){y("");return}if(i.length===0){y("");return}r(i,a)};return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:`bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col ${l?"h-[80vh]":"max-h-[85vh]"}`,children:[u.jsxs("div",{className:"px-8 py-6 bg-slate-900 flex justify-between items-center text-white shrink-0",children:[u.jsxs("h2",{className:"font-bold flex items-center gap-3 text-lg",children:[u.jsx(m3,{className:"text-emerald-400"})," (Scan & Transfer)"]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:24})})]}),u.jsxs("div",{className:"overflow-y-auto flex-1 custom-scrollbar",children:[u.jsx("div",{className:"p-6 space-y-4 bg-slate-50 border-b border-slate-100",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 space-y-1.5",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:" (To)"}),u.jsxs("div",{className:"relative",children:[u.jsx(aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-emerald-500 appearance-none",value:a,onChange:O=>o(O.target.value),children:[u.jsx("option",{value:"",children:"..."}),t.map(O=>u.jsx("option",{value:O.name,children:O.name},O.id))]})]})]}),u.jsxs("div",{className:"flex-1 space-y-1.5",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:" (Default From)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Tp,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-3 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500 appearance-none",value:p,onChange:O=>m(O.target.value),children:[u.jsx("option",{value:"",children:" (Auto)"}),t.map(O=>u.jsx("option",{value:O.name,children:O.name},O.id))]})]})]})]})}),l?u.jsxs("div",{className:"p-4 bg-black relative",children:[u.jsx("div",{id:"reader",className:"w-full h-full rounded-2xl overflow-hidden bg-white/10"}),u.jsx("button",{onClick:()=>c(!1),className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-white text-slate-900 px-6 py-2 rounded-full font-bold shadow-lg text-sm",children:""})]}):u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>c(!0),className:"flex-1 bg-slate-900 text-white py-4 rounded-2xl font-bold flex flex-col items-center justify-center gap-2 hover:bg-slate-800 transition-all shadow-lg active:scale-95",children:[u.jsx(c1,{size:24,className:"text-emerald-400"}),u.jsx("span",{children:""})]}),u.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[u.jsxs("form",{onSubmit:k,className:"bg-white border-2 border-slate-100 rounded-2xl p-1 flex items-center focus-within:border-blue-500 transition-colors",children:[u.jsx(Xle,{size:20,className:"text-slate-300 ml-3"}),u.jsx("input",{autoFocus:!0,className:"w-full bg-transparent border-none outline-none px-3 py-3 font-bold text-slate-700",placeholder:"/...",value:d,onChange:O=>f(O.target.value)})]}),u.jsx("p",{className:"text-[10px] text-slate-400 font-bold text-center",children:" USB "})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest flex items-center justify-between",children:[u.jsxs("span",{children:[" (",i.length,")"]}),i.length>0&&u.jsx("button",{onClick:()=>s([]),className:"text-rose-500 text-[10px] underline",children:""})]}),w&&u.jsxs("div",{className:"bg-rose-50 text-rose-600 px-4 py-3 rounded-xl text-xs font-bold flex items-center gap-2",children:[u.jsx(ri,{size:14,className:"cursor-pointer",onClick:()=>y(null)}),w]}),u.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[i.length===0&&u.jsx("div",{className:"text-center py-10 bg-slate-50 rounded-2xl text-slate-300 border border-dashed border-slate-200",children:u.jsx("p",{className:"font-bold",children:""})}),i.map((O,L)=>u.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-2xl border border-slate-100 shadow-sm animate-in slide-in-from-bottom-2 duration-300",children:[u.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center shrink-0",children:u.jsx(Tp,{size:18,className:"text-slate-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h4",{className:"font-bold text-slate-900 truncate",children:O.inventoryItem.name}),u.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:O.inventoryItem.unit})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 font-bold overflow-hidden",children:[u.jsxs("span",{className:"truncate",children:["From: ",O.fromLocation]}),u.jsx("span",{children:""}),u.jsxs("span",{className:"truncate",children:["Bar: ",O.inventoryItem.barcode||O.inventoryItem.sku]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-xl p-1",children:[u.jsx("button",{onClick:()=>P(L,-1),className:"w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm text-slate-500 hover:text-slate-900 active:scale-95",children:u.jsx(Nce,{size:14})}),u.jsx("span",{className:"w-6 text-center font-black text-slate-700",children:O.quantity}),u.jsx("button",{onClick:()=>P(L,1),className:"w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm text-slate-500 hover:text-slate-900 active:scale-95",children:u.jsx(zl,{size:14})})]}),u.jsx("button",{onClick:()=>R(L),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:u.jsx(Ni,{size:18})})]},L))]})]})]})]}),u.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 shrink-0",children:u.jsxs("button",{onClick:U,disabled:i.length===0||!a,className:"w-full bg-emerald-500 hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed text-white text-lg font-black py-4 rounded-2xl shadow-xl shadow-emerald-200 transition-all active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(Jv,{size:20})," (",i.reduce((O,L)=>O+L.quantity,0),") "]})})]})})};function qC(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var l3={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var bW;function $ct(){return bW||(bW=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,s){function a(c,d){if(!i[c]){if(!r[c]){var f=typeof qC=="function"&&qC;if(!d&&f)return f(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[c]={exports:{}};r[c][0].call(m.exports,function(w){var y=r[c][1][w];return a(y||w)},m,m.exports,n,r,i,s)}return i[c].exports}for(var o=typeof qC=="function"&&qC,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var l=0,c=new a(w),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),o=function(){d.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=w,o=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var C=s.document.createElement("script");C.onreadystatechange=function(){w(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},s.document.documentElement.appendChild(C)}:o=function(){setTimeout(w,0)};var p,m=[];function w(){p=!0;for(var C,T,k=m.length;k;){for(T=m,m=[],C=-1;++C<k;)T[C]();k=m.length}p=!1}r.exports=y;function y(C){m.push(C)===1&&!p&&o()}}).call(this,typeof DA<"u"?DA:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];r.exports=f;function f(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,U!==a&&y(this,U)}f.prototype.catch=function(U){return this.then(null,U)},f.prototype.then=function(U,O){if(typeof U!="function"&&this.state===c||typeof O!="function"&&this.state===l)return this;var L=new this.constructor(a);if(this.state!==d){var K=this.state===c?U:O;m(L,K,this.outcome)}else this.queue.push(new p(L,U,O));return L};function p(U,O,L){this.promise=U,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(U){o.resolve(this.promise,U)},p.prototype.otherCallFulfilled=function(U){m(this.promise,this.onFulfilled,U)},p.prototype.callRejected=function(U){o.reject(this.promise,U)},p.prototype.otherCallRejected=function(U){m(this.promise,this.onRejected,U)};function m(U,O,L){s(function(){var K;try{K=O(L)}catch(j){return o.reject(U,j)}K===U?o.reject(U,new TypeError("Cannot resolve promise with itself")):o.resolve(U,K)})}o.resolve=function(U,O){var L=C(w,O);if(L.status==="error")return o.reject(U,L.value);var K=L.value;if(K)y(U,K);else{U.state=c,U.outcome=O;for(var j=-1,te=U.queue.length;++j<te;)U.queue[j].callFulfilled(O)}return U},o.reject=function(U,O){U.state=l,U.outcome=O;for(var L=-1,K=U.queue.length;++L<K;)U.queue[L].callRejected(O);return U};function w(U){var O=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof O=="function")return function(){O.apply(U,arguments)}}function y(U,O){var L=!1;function K(V){L||(L=!0,o.reject(U,V))}function j(V){L||(L=!0,o.resolve(U,V))}function te(){O(j,K)}var G=C(te);G.status==="error"&&K(G.value)}function C(U,O){var L={};try{L.value=U(O),L.status="success"}catch(K){L.status="error",L.value=K}return L}f.resolve=T;function T(U){return U instanceof this?U:o.resolve(new this(a),U)}f.reject=k;function k(U){var O=new this(a);return o.reject(O,U)}f.all=R;function R(U){var O=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=U.length,K=!1;if(!L)return this.resolve([]);for(var j=new Array(L),te=0,G=-1,V=new this(a);++G<L;)re(U[G],G);return V;function re(ee,ie){O.resolve(ee).then(ue,function(le){K||(K=!0,o.reject(V,le))});function ue(le){j[ie]=le,++te===L&&!K&&(K=!0,o.resolve(V,j))}}}f.race=P;function P(U){var O=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=U.length,K=!1;if(!L)return this.resolve([]);for(var j=-1,te=new this(a);++j<L;)G(U[j]);return te;function G(V){O.resolve(V).then(function(re){K||(K=!0,o.resolve(te,re))},function(re){K||(K=!0,o.reject(te,re))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof DA<"u"?DA:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe};function a(Pe,$e){if(!(Pe instanceof $e))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=o();function c(){try{if(!l||!l.open)return!1;var Pe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),$e=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Pe||$e)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(Pe,$e){Pe=Pe||[],$e=$e||{};try{return new Blob(Pe,$e)}catch(Xe){if(Xe.name!=="TypeError")throw Xe;for(var Oe=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,st=new Oe,rt=0;rt<Pe.length;rt+=1)st.append(Pe[rt]);return st.getBlob($e.type)}}typeof Promise>"u"&&n(3);var f=Promise;function p(Pe,$e){$e&&Pe.then(function(Oe){$e(null,Oe)},function(Oe){$e(Oe)})}function m(Pe,$e,Oe){typeof $e=="function"&&Pe.then($e),typeof Oe=="function"&&Pe.catch(Oe)}function w(Pe){return typeof Pe!="string"&&(console.warn(Pe+" used as a key, but it is not a string."),Pe=String(Pe)),Pe}function y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var C="local-forage-detect-blob-support",T=void 0,k={},R=Object.prototype.toString,P="readonly",U="readwrite";function O(Pe){for(var $e=Pe.length,Oe=new ArrayBuffer($e),st=new Uint8Array(Oe),rt=0;rt<$e;rt++)st[rt]=Pe.charCodeAt(rt);return Oe}function L(Pe){return new f(function($e){var Oe=Pe.transaction(C,U),st=d([""]);Oe.objectStore(C).put(st,"key"),Oe.onabort=function(rt){rt.preventDefault(),rt.stopPropagation(),$e(!1)},Oe.oncomplete=function(){var rt=navigator.userAgent.match(/Chrome\/(\d+)/),Xe=navigator.userAgent.match(/Edge\//);$e(Xe||!rt||parseInt(rt[1],10)>=43)}}).catch(function(){return!1})}function K(Pe){return typeof T=="boolean"?f.resolve(T):L(Pe).then(function($e){return T=$e,T})}function j(Pe){var $e=k[Pe.name],Oe={};Oe.promise=new f(function(st,rt){Oe.resolve=st,Oe.reject=rt}),$e.deferredOperations.push(Oe),$e.dbReady?$e.dbReady=$e.dbReady.then(function(){return Oe.promise}):$e.dbReady=Oe.promise}function te(Pe){var $e=k[Pe.name],Oe=$e.deferredOperations.pop();if(Oe)return Oe.resolve(),Oe.promise}function G(Pe,$e){var Oe=k[Pe.name],st=Oe.deferredOperations.pop();if(st)return st.reject($e),st.promise}function V(Pe,$e){return new f(function(Oe,st){if(k[Pe.name]=k[Pe.name]||Q(),Pe.db)if($e)j(Pe),Pe.db.close();else return Oe(Pe.db);var rt=[Pe.name];$e&&rt.push(Pe.version);var Xe=l.open.apply(l,rt);$e&&(Xe.onupgradeneeded=function(jt){var Zt=Xe.result;try{Zt.createObjectStore(Pe.storeName),jt.oldVersion<=1&&Zt.createObjectStore(C)}catch(en){if(en.name==="ConstraintError")console.warn('The database "'+Pe.name+'" has been upgraded from version '+jt.oldVersion+" to version "+jt.newVersion+', but the storage "'+Pe.storeName+'" already exists.');else throw en}}),Xe.onerror=function(jt){jt.preventDefault(),st(Xe.error)},Xe.onsuccess=function(){var jt=Xe.result;jt.onversionchange=function(Zt){Zt.target.close()},Oe(jt),te(Pe)}})}function re(Pe){return V(Pe,!1)}function ee(Pe){return V(Pe,!0)}function ie(Pe,$e){if(!Pe.db)return!0;var Oe=!Pe.db.objectStoreNames.contains(Pe.storeName),st=Pe.version<Pe.db.version,rt=Pe.version>Pe.db.version;if(st&&(Pe.version!==$e&&console.warn('The database "'+Pe.name+`" can't be downgraded from version `+Pe.db.version+" to version "+Pe.version+"."),Pe.version=Pe.db.version),rt||Oe){if(Oe){var Xe=Pe.db.version+1;Xe>Pe.version&&(Pe.version=Xe)}return!0}return!1}function ue(Pe){return new f(function($e,Oe){var st=new FileReader;st.onerror=Oe,st.onloadend=function(rt){var Xe=btoa(rt.target.result||"");$e({__local_forage_encoded_blob:!0,data:Xe,type:Pe.type})},st.readAsBinaryString(Pe)})}function le(Pe){var $e=O(atob(Pe.data));return d([$e],{type:Pe.type})}function xe(Pe){return Pe&&Pe.__local_forage_encoded_blob}function ge(Pe){var $e=this,Oe=$e._initReady().then(function(){var st=k[$e._dbInfo.name];if(st&&st.dbReady)return st.dbReady});return m(Oe,Pe,Pe),Oe}function fe(Pe){j(Pe);for(var $e=k[Pe.name],Oe=$e.forages,st=0;st<Oe.length;st++){var rt=Oe[st];rt._dbInfo.db&&(rt._dbInfo.db.close(),rt._dbInfo.db=null)}return Pe.db=null,re(Pe).then(function(Xe){return Pe.db=Xe,ie(Pe)?ee(Pe):Xe}).then(function(Xe){Pe.db=$e.db=Xe;for(var jt=0;jt<Oe.length;jt++)Oe[jt]._dbInfo.db=Xe}).catch(function(Xe){throw G(Pe,Xe),Xe})}function ce(Pe,$e,Oe,st){st===void 0&&(st=1);try{var rt=Pe.db.transaction(Pe.storeName,$e);Oe(null,rt)}catch(Xe){if(st>0&&(!Pe.db||Xe.name==="InvalidStateError"||Xe.name==="NotFoundError"))return f.resolve().then(function(){if(!Pe.db||Xe.name==="NotFoundError"&&!Pe.db.objectStoreNames.contains(Pe.storeName)&&Pe.version<=Pe.db.version)return Pe.db&&(Pe.version=Pe.db.version+1),ee(Pe)}).then(function(){return fe(Pe).then(function(){ce(Pe,$e,Oe,st-1)})}).catch(Oe);Oe(Xe)}}function Q(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Y(Pe){var $e=this,Oe={db:null};if(Pe)for(var st in Pe)Oe[st]=Pe[st];var rt=k[Oe.name];rt||(rt=Q(),k[Oe.name]=rt),rt.forages.push($e),$e._initReady||($e._initReady=$e.ready,$e.ready=ge);var Xe=[];function jt(){return f.resolve()}for(var Zt=0;Zt<rt.forages.length;Zt++){var en=rt.forages[Zt];en!==$e&&Xe.push(en._initReady().catch(jt))}var dt=rt.forages.slice(0);return f.all(Xe).then(function(){return Oe.db=rt.db,re(Oe)}).then(function(pe){return Oe.db=pe,ie(Oe,$e._defaultConfig.version)?ee(Oe):pe}).then(function(pe){Oe.db=rt.db=pe,$e._dbInfo=Oe;for(var me=0;me<dt.length;me++){var ae=dt[me];ae!==$e&&(ae._dbInfo.db=Oe.db,ae._dbInfo.version=Oe.version)}})}function X(Pe,$e){var Oe=this;Pe=w(Pe);var st=new f(function(rt,Xe){Oe.ready().then(function(){ce(Oe._dbInfo,P,function(jt,Zt){if(jt)return Xe(jt);try{var en=Zt.objectStore(Oe._dbInfo.storeName),dt=en.get(Pe);dt.onsuccess=function(){var pe=dt.result;pe===void 0&&(pe=null),xe(pe)&&(pe=le(pe)),rt(pe)},dt.onerror=function(){Xe(dt.error)}}catch(pe){Xe(pe)}})}).catch(Xe)});return p(st,$e),st}function ne(Pe,$e){var Oe=this,st=new f(function(rt,Xe){Oe.ready().then(function(){ce(Oe._dbInfo,P,function(jt,Zt){if(jt)return Xe(jt);try{var en=Zt.objectStore(Oe._dbInfo.storeName),dt=en.openCursor(),pe=1;dt.onsuccess=function(){var me=dt.result;if(me){var ae=me.value;xe(ae)&&(ae=le(ae));var Qe=Pe(ae,me.key,pe++);Qe!==void 0?rt(Qe):me.continue()}else rt()},dt.onerror=function(){Xe(dt.error)}}catch(me){Xe(me)}})}).catch(Xe)});return p(st,$e),st}function oe(Pe,$e,Oe){var st=this;Pe=w(Pe);var rt=new f(function(Xe,jt){var Zt;st.ready().then(function(){return Zt=st._dbInfo,R.call($e)==="[object Blob]"?K(Zt.db).then(function(en){return en?$e:ue($e)}):$e}).then(function(en){ce(st._dbInfo,U,function(dt,pe){if(dt)return jt(dt);try{var me=pe.objectStore(st._dbInfo.storeName);en===null&&(en=void 0);var ae=me.put(en,Pe);pe.oncomplete=function(){en===void 0&&(en=null),Xe(en)},pe.onabort=pe.onerror=function(){var Qe=ae.error?ae.error:ae.transaction.error;jt(Qe)}}catch(Qe){jt(Qe)}})}).catch(jt)});return p(rt,Oe),rt}function Ce(Pe,$e){var Oe=this;Pe=w(Pe);var st=new f(function(rt,Xe){Oe.ready().then(function(){ce(Oe._dbInfo,U,function(jt,Zt){if(jt)return Xe(jt);try{var en=Zt.objectStore(Oe._dbInfo.storeName),dt=en.delete(Pe);Zt.oncomplete=function(){rt()},Zt.onerror=function(){Xe(dt.error)},Zt.onabort=function(){var pe=dt.error?dt.error:dt.transaction.error;Xe(pe)}}catch(pe){Xe(pe)}})}).catch(Xe)});return p(st,$e),st}function ke(Pe){var $e=this,Oe=new f(function(st,rt){$e.ready().then(function(){ce($e._dbInfo,U,function(Xe,jt){if(Xe)return rt(Xe);try{var Zt=jt.objectStore($e._dbInfo.storeName),en=Zt.clear();jt.oncomplete=function(){st()},jt.onabort=jt.onerror=function(){var dt=en.error?en.error:en.transaction.error;rt(dt)}}catch(dt){rt(dt)}})}).catch(rt)});return p(Oe,Pe),Oe}function Ne(Pe){var $e=this,Oe=new f(function(st,rt){$e.ready().then(function(){ce($e._dbInfo,P,function(Xe,jt){if(Xe)return rt(Xe);try{var Zt=jt.objectStore($e._dbInfo.storeName),en=Zt.count();en.onsuccess=function(){st(en.result)},en.onerror=function(){rt(en.error)}}catch(dt){rt(dt)}})}).catch(rt)});return p(Oe,Pe),Oe}function Ue(Pe,$e){var Oe=this,st=new f(function(rt,Xe){if(Pe<0){rt(null);return}Oe.ready().then(function(){ce(Oe._dbInfo,P,function(jt,Zt){if(jt)return Xe(jt);try{var en=Zt.objectStore(Oe._dbInfo.storeName),dt=!1,pe=en.openKeyCursor();pe.onsuccess=function(){var me=pe.result;if(!me){rt(null);return}Pe===0||dt?rt(me.key):(dt=!0,me.advance(Pe))},pe.onerror=function(){Xe(pe.error)}}catch(me){Xe(me)}})}).catch(Xe)});return p(st,$e),st}function Ye(Pe){var $e=this,Oe=new f(function(st,rt){$e.ready().then(function(){ce($e._dbInfo,P,function(Xe,jt){if(Xe)return rt(Xe);try{var Zt=jt.objectStore($e._dbInfo.storeName),en=Zt.openKeyCursor(),dt=[];en.onsuccess=function(){var pe=en.result;if(!pe){st(dt);return}dt.push(pe.key),pe.continue()},en.onerror=function(){rt(en.error)}}catch(pe){rt(pe)}})}).catch(rt)});return p(Oe,Pe),Oe}function ve(Pe,$e){$e=y.apply(this,arguments);var Oe=this.config();Pe=typeof Pe!="function"&&Pe||{},Pe.name||(Pe.name=Pe.name||Oe.name,Pe.storeName=Pe.storeName||Oe.storeName);var st=this,rt;if(!Pe.name)rt=f.reject("Invalid arguments");else{var Xe=Pe.name===Oe.name&&st._dbInfo.db,jt=Xe?f.resolve(st._dbInfo.db):re(Pe).then(function(Zt){var en=k[Pe.name],dt=en.forages;en.db=Zt;for(var pe=0;pe<dt.length;pe++)dt[pe]._dbInfo.db=Zt;return Zt});Pe.storeName?rt=jt.then(function(Zt){if(Zt.objectStoreNames.contains(Pe.storeName)){var en=Zt.version+1;j(Pe);var dt=k[Pe.name],pe=dt.forages;Zt.close();for(var me=0;me<pe.length;me++){var ae=pe[me];ae._dbInfo.db=null,ae._dbInfo.version=en}var Qe=new f(function(Mt,Gt){var En=l.open(Pe.name,en);En.onerror=function(Gn){var Wn=En.result;Wn.close(),Gt(Gn)},En.onupgradeneeded=function(){var Gn=En.result;Gn.deleteObjectStore(Pe.storeName)},En.onsuccess=function(){var Gn=En.result;Gn.close(),Mt(Gn)}});return Qe.then(function(Mt){dt.db=Mt;for(var Gt=0;Gt<pe.length;Gt++){var En=pe[Gt];En._dbInfo.db=Mt,te(En._dbInfo)}}).catch(function(Mt){throw(G(Pe,Mt)||f.resolve()).catch(function(){}),Mt})}}):rt=jt.then(function(Zt){j(Pe);var en=k[Pe.name],dt=en.forages;Zt.close();for(var pe=0;pe<dt.length;pe++){var me=dt[pe];me._dbInfo.db=null}var ae=new f(function(Qe,Mt){var Gt=l.deleteDatabase(Pe.name);Gt.onerror=function(){var En=Gt.result;En&&En.close(),Mt(Gt.error)},Gt.onblocked=function(){console.warn('dropInstance blocked for database "'+Pe.name+'" until all open connections are closed')},Gt.onsuccess=function(){var En=Gt.result;En&&En.close(),Qe(En)}});return ae.then(function(Qe){en.db=Qe;for(var Mt=0;Mt<dt.length;Mt++){var Gt=dt[Mt];te(Gt._dbInfo)}}).catch(function(Qe){throw(G(Pe,Qe)||f.resolve()).catch(function(){}),Qe})})}return p(rt,$e),rt}var gt={_driver:"asyncStorage",_initStorage:Y,_support:c(),iterate:ne,getItem:X,setItem:oe,removeItem:Ce,clear:ke,length:Ne,key:Ue,keys:Ye,dropInstance:ve};function yt(){return typeof openDatabase=="function"}var Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt="~~local_forage_type~",nt=/^~~local_forage_type~([^~]+)~/,Ct="__lfsc__:",lt=Ct.length,Qt="arbf",ot="blob",An="si08",bn="ui08",Cn="uic8",Vn="si16",Sn="si32",tr="ur16",xn="ui32",Ht="fl32",hn="fl64",rn=lt+Qt.length,br=Object.prototype.toString;function Tn(Pe){var $e=Pe.length*.75,Oe=Pe.length,st,rt=0,Xe,jt,Zt,en;Pe[Pe.length-1]==="="&&($e--,Pe[Pe.length-2]==="="&&$e--);var dt=new ArrayBuffer($e),pe=new Uint8Array(dt);for(st=0;st<Oe;st+=4)Xe=Fe.indexOf(Pe[st]),jt=Fe.indexOf(Pe[st+1]),Zt=Fe.indexOf(Pe[st+2]),en=Fe.indexOf(Pe[st+3]),pe[rt++]=Xe<<2|jt>>4,pe[rt++]=(jt&15)<<4|Zt>>2,pe[rt++]=(Zt&3)<<6|en&63;return dt}function ut(Pe){var $e=new Uint8Array(Pe),Oe="",st;for(st=0;st<$e.length;st+=3)Oe+=Fe[$e[st]>>2],Oe+=Fe[($e[st]&3)<<4|$e[st+1]>>4],Oe+=Fe[($e[st+1]&15)<<2|$e[st+2]>>6],Oe+=Fe[$e[st+2]&63];return $e.length%3===2?Oe=Oe.substring(0,Oe.length-1)+"=":$e.length%3===1&&(Oe=Oe.substring(0,Oe.length-2)+"=="),Oe}function yn(Pe,$e){var Oe="";if(Pe&&(Oe=br.call(Pe)),Pe&&(Oe==="[object ArrayBuffer]"||Pe.buffer&&br.call(Pe.buffer)==="[object ArrayBuffer]")){var st,rt=Ct;Pe instanceof ArrayBuffer?(st=Pe,rt+=Qt):(st=Pe.buffer,Oe==="[object Int8Array]"?rt+=An:Oe==="[object Uint8Array]"?rt+=bn:Oe==="[object Uint8ClampedArray]"?rt+=Cn:Oe==="[object Int16Array]"?rt+=Vn:Oe==="[object Uint16Array]"?rt+=tr:Oe==="[object Int32Array]"?rt+=Sn:Oe==="[object Uint32Array]"?rt+=xn:Oe==="[object Float32Array]"?rt+=Ht:Oe==="[object Float64Array]"?rt+=hn:$e(new Error("Failed to get type for BinaryArray"))),$e(rt+ut(st))}else if(Oe==="[object Blob]"){var Xe=new FileReader;Xe.onload=function(){var jt=Nt+Pe.type+"~"+ut(this.result);$e(Ct+ot+jt)},Xe.readAsArrayBuffer(Pe)}else try{$e(JSON.stringify(Pe))}catch(jt){console.error("Couldn't convert value into a JSON string: ",Pe),$e(null,jt)}}function un(Pe){if(Pe.substring(0,lt)!==Ct)return JSON.parse(Pe);var $e=Pe.substring(rn),Oe=Pe.substring(lt,rn),st;if(Oe===ot&&nt.test($e)){var rt=$e.match(nt);st=rt[1],$e=$e.substring(rt[0].length)}var Xe=Tn($e);switch(Oe){case Qt:return Xe;case ot:return d([Xe],{type:st});case An:return new Int8Array(Xe);case bn:return new Uint8Array(Xe);case Cn:return new Uint8ClampedArray(Xe);case Vn:return new Int16Array(Xe);case tr:return new Uint16Array(Xe);case Sn:return new Int32Array(Xe);case xn:return new Uint32Array(Xe);case Ht:return new Float32Array(Xe);case hn:return new Float64Array(Xe);default:throw new Error("Unkown type: "+Oe)}}var cn={serialize:yn,deserialize:un,stringToBuffer:Tn,bufferToString:ut};function or(Pe,$e,Oe,st){Pe.executeSql("CREATE TABLE IF NOT EXISTS "+$e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Oe,st)}function zn(Pe){var $e=this,Oe={db:null};if(Pe)for(var st in Pe)Oe[st]=typeof Pe[st]!="string"?Pe[st].toString():Pe[st];var rt=new f(function(Xe,jt){try{Oe.db=openDatabase(Oe.name,String(Oe.version),Oe.description,Oe.size)}catch(Zt){return jt(Zt)}Oe.db.transaction(function(Zt){or(Zt,Oe,function(){$e._dbInfo=Oe,Xe()},function(en,dt){jt(dt)})},jt)});return Oe.serializer=cn,rt}function Kn(Pe,$e,Oe,st,rt,Xe){Pe.executeSql(Oe,st,rt,function(jt,Zt){Zt.code===Zt.SYNTAX_ERR?jt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[$e.storeName],function(en,dt){dt.rows.length?Xe(en,Zt):or(en,$e,function(){en.executeSql(Oe,st,rt,Xe)},Xe)},Xe):Xe(jt,Zt)},Xe)}function Qn(Pe,$e){var Oe=this;Pe=w(Pe);var st=new f(function(rt,Xe){Oe.ready().then(function(){var jt=Oe._dbInfo;jt.db.transaction(function(Zt){Kn(Zt,jt,"SELECT * FROM "+jt.storeName+" WHERE key = ? LIMIT 1",[Pe],function(en,dt){var pe=dt.rows.length?dt.rows.item(0).value:null;pe&&(pe=jt.serializer.deserialize(pe)),rt(pe)},function(en,dt){Xe(dt)})})}).catch(Xe)});return p(st,$e),st}function Hn(Pe,$e){var Oe=this,st=new f(function(rt,Xe){Oe.ready().then(function(){var jt=Oe._dbInfo;jt.db.transaction(function(Zt){Kn(Zt,jt,"SELECT * FROM "+jt.storeName,[],function(en,dt){for(var pe=dt.rows,me=pe.length,ae=0;ae<me;ae++){var Qe=pe.item(ae),Mt=Qe.value;if(Mt&&(Mt=jt.serializer.deserialize(Mt)),Mt=Pe(Mt,Qe.key,ae+1),Mt!==void 0){rt(Mt);return}}rt()},function(en,dt){Xe(dt)})})}).catch(Xe)});return p(st,$e),st}function kn(Pe,$e,Oe,st){var rt=this;Pe=w(Pe);var Xe=new f(function(jt,Zt){rt.ready().then(function(){$e===void 0&&($e=null);var en=$e,dt=rt._dbInfo;dt.serializer.serialize($e,function(pe,me){me?Zt(me):dt.db.transaction(function(ae){Kn(ae,dt,"INSERT OR REPLACE INTO "+dt.storeName+" (key, value) VALUES (?, ?)",[Pe,pe],function(){jt(en)},function(Qe,Mt){Zt(Mt)})},function(ae){if(ae.code===ae.QUOTA_ERR){if(st>0){jt(kn.apply(rt,[Pe,en,Oe,st-1]));return}Zt(ae)}})})}).catch(Zt)});return p(Xe,Oe),Xe}function kr(Pe,$e,Oe){return kn.apply(this,[Pe,$e,Oe,1])}function ei(Pe,$e){var Oe=this;Pe=w(Pe);var st=new f(function(rt,Xe){Oe.ready().then(function(){var jt=Oe._dbInfo;jt.db.transaction(function(Zt){Kn(Zt,jt,"DELETE FROM "+jt.storeName+" WHERE key = ?",[Pe],function(){rt()},function(en,dt){Xe(dt)})})}).catch(Xe)});return p(st,$e),st}function mi(Pe){var $e=this,Oe=new f(function(st,rt){$e.ready().then(function(){var Xe=$e._dbInfo;Xe.db.transaction(function(jt){Kn(jt,Xe,"DELETE FROM "+Xe.storeName,[],function(){st()},function(Zt,en){rt(en)})})}).catch(rt)});return p(Oe,Pe),Oe}function ii(Pe){var $e=this,Oe=new f(function(st,rt){$e.ready().then(function(){var Xe=$e._dbInfo;Xe.db.transaction(function(jt){Kn(jt,Xe,"SELECT COUNT(key) as c FROM "+Xe.storeName,[],function(Zt,en){var dt=en.rows.item(0).c;st(dt)},function(Zt,en){rt(en)})})}).catch(rt)});return p(Oe,Pe),Oe}function Ki(Pe,$e){var Oe=this,st=new f(function(rt,Xe){Oe.ready().then(function(){var jt=Oe._dbInfo;jt.db.transaction(function(Zt){Kn(Zt,jt,"SELECT key FROM "+jt.storeName+" WHERE id = ? LIMIT 1",[Pe+1],function(en,dt){var pe=dt.rows.length?dt.rows.item(0).key:null;rt(pe)},function(en,dt){Xe(dt)})})}).catch(Xe)});return p(st,$e),st}function qn(Pe){var $e=this,Oe=new f(function(st,rt){$e.ready().then(function(){var Xe=$e._dbInfo;Xe.db.transaction(function(jt){Kn(jt,Xe,"SELECT key FROM "+Xe.storeName,[],function(Zt,en){for(var dt=[],pe=0;pe<en.rows.length;pe++)dt.push(en.rows.item(pe).key);st(dt)},function(Zt,en){rt(en)})})}).catch(rt)});return p(Oe,Pe),Oe}function Di(Pe){return new f(function($e,Oe){Pe.transaction(function(st){st.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(rt,Xe){for(var jt=[],Zt=0;Zt<Xe.rows.length;Zt++)jt.push(Xe.rows.item(Zt).name);$e({db:Pe,storeNames:jt})},function(rt,Xe){Oe(Xe)})},function(st){Oe(st)})})}function ea(Pe,$e){$e=y.apply(this,arguments);var Oe=this.config();Pe=typeof Pe!="function"&&Pe||{},Pe.name||(Pe.name=Pe.name||Oe.name,Pe.storeName=Pe.storeName||Oe.storeName);var st=this,rt;return Pe.name?rt=new f(function(Xe){var jt;Pe.name===Oe.name?jt=st._dbInfo.db:jt=openDatabase(Pe.name,"","",0),Pe.storeName?Xe({db:jt,storeNames:[Pe.storeName]}):Xe(Di(jt))}).then(function(Xe){return new f(function(jt,Zt){Xe.db.transaction(function(en){function dt(Qe){return new f(function(Mt,Gt){en.executeSql("DROP TABLE IF EXISTS "+Qe,[],function(){Mt()},function(En,Gn){Gt(Gn)})})}for(var pe=[],me=0,ae=Xe.storeNames.length;me<ae;me++)pe.push(dt(Xe.storeNames[me]));f.all(pe).then(function(){jt()}).catch(function(Qe){Zt(Qe)})},function(en){Zt(en)})})}):rt=f.reject("Invalid arguments"),p(rt,$e),rt}var xi={_driver:"webSQLStorage",_initStorage:zn,_support:yt(),iterate:Hn,getItem:Qn,setItem:kr,removeItem:ei,clear:mi,length:ii,key:Ki,keys:qn,dropInstance:ea};function Si(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Rr(Pe,$e){var Oe=Pe.name+"/";return Pe.storeName!==$e.storeName&&(Oe+=Pe.storeName+"/"),Oe}function Yr(){var Pe="_localforage_support_test";try{return localStorage.setItem(Pe,!0),localStorage.removeItem(Pe),!1}catch{return!0}}function Ee(){return!Yr()||localStorage.length>0}function _e(Pe){var $e=this,Oe={};if(Pe)for(var st in Pe)Oe[st]=Pe[st];return Oe.keyPrefix=Rr(Pe,$e._defaultConfig),Ee()?($e._dbInfo=Oe,Oe.serializer=cn,f.resolve()):f.reject()}function Le(Pe){var $e=this,Oe=$e.ready().then(function(){for(var st=$e._dbInfo.keyPrefix,rt=localStorage.length-1;rt>=0;rt--){var Xe=localStorage.key(rt);Xe.indexOf(st)===0&&localStorage.removeItem(Xe)}});return p(Oe,Pe),Oe}function Me(Pe,$e){var Oe=this;Pe=w(Pe);var st=Oe.ready().then(function(){var rt=Oe._dbInfo,Xe=localStorage.getItem(rt.keyPrefix+Pe);return Xe&&(Xe=rt.serializer.deserialize(Xe)),Xe});return p(st,$e),st}function He(Pe,$e){var Oe=this,st=Oe.ready().then(function(){for(var rt=Oe._dbInfo,Xe=rt.keyPrefix,jt=Xe.length,Zt=localStorage.length,en=1,dt=0;dt<Zt;dt++){var pe=localStorage.key(dt);if(pe.indexOf(Xe)===0){var me=localStorage.getItem(pe);if(me&&(me=rt.serializer.deserialize(me)),me=Pe(me,pe.substring(jt),en++),me!==void 0)return me}}});return p(st,$e),st}function Ve(Pe,$e){var Oe=this,st=Oe.ready().then(function(){var rt=Oe._dbInfo,Xe;try{Xe=localStorage.key(Pe)}catch{Xe=null}return Xe&&(Xe=Xe.substring(rt.keyPrefix.length)),Xe});return p(st,$e),st}function At(Pe){var $e=this,Oe=$e.ready().then(function(){for(var st=$e._dbInfo,rt=localStorage.length,Xe=[],jt=0;jt<rt;jt++){var Zt=localStorage.key(jt);Zt.indexOf(st.keyPrefix)===0&&Xe.push(Zt.substring(st.keyPrefix.length))}return Xe});return p(Oe,Pe),Oe}function Tt(Pe){var $e=this,Oe=$e.keys().then(function(st){return st.length});return p(Oe,Pe),Oe}function ft(Pe,$e){var Oe=this;Pe=w(Pe);var st=Oe.ready().then(function(){var rt=Oe._dbInfo;localStorage.removeItem(rt.keyPrefix+Pe)});return p(st,$e),st}function vt(Pe,$e,Oe){var st=this;Pe=w(Pe);var rt=st.ready().then(function(){$e===void 0&&($e=null);var Xe=$e;return new f(function(jt,Zt){var en=st._dbInfo;en.serializer.serialize($e,function(dt,pe){if(pe)Zt(pe);else try{localStorage.setItem(en.keyPrefix+Pe,dt),jt(Xe)}catch(me){(me.name==="QuotaExceededError"||me.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Zt(me),Zt(me)}})})});return p(rt,Oe),rt}function bt(Pe,$e){if($e=y.apply(this,arguments),Pe=typeof Pe!="function"&&Pe||{},!Pe.name){var Oe=this.config();Pe.name=Pe.name||Oe.name,Pe.storeName=Pe.storeName||Oe.storeName}var st=this,rt;return Pe.name?rt=new f(function(Xe){Pe.storeName?Xe(Rr(Pe,st._defaultConfig)):Xe(Pe.name+"/")}).then(function(Xe){for(var jt=localStorage.length-1;jt>=0;jt--){var Zt=localStorage.key(jt);Zt.indexOf(Xe)===0&&localStorage.removeItem(Zt)}}):rt=f.reject("Invalid arguments"),p(rt,$e),rt}var Xt={_driver:"localStorageWrapper",_initStorage:_e,_support:Si(),iterate:He,getItem:Me,setItem:vt,removeItem:ft,clear:Le,length:Tt,key:Ve,keys:At,dropInstance:bt},an=function($e,Oe){return $e===Oe||typeof $e=="number"&&typeof Oe=="number"&&isNaN($e)&&isNaN(Oe)},on=function($e,Oe){for(var st=$e.length,rt=0;rt<st;){if(an($e[rt],Oe))return!0;rt++}return!1},fn=Array.isArray||function(Pe){return Object.prototype.toString.call(Pe)==="[object Array]"},vn={},On={},Pt={INDEXEDDB:gt,WEBSQL:xi,LOCALSTORAGE:Xt},Un=[Pt.INDEXEDDB._driver,Pt.WEBSQL._driver,Pt.LOCALSTORAGE._driver],ir=["dropInstance"],vi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ir),ca={description:"",driver:Un.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Dr(Pe,$e){Pe[$e]=function(){var Oe=arguments;return Pe.ready().then(function(){return Pe[$e].apply(Pe,Oe)})}}function yr(){for(var Pe=1;Pe<arguments.length;Pe++){var $e=arguments[Pe];if($e)for(var Oe in $e)$e.hasOwnProperty(Oe)&&(fn($e[Oe])?arguments[0][Oe]=$e[Oe].slice():arguments[0][Oe]=$e[Oe])}return arguments[0]}var Br=(function(){function Pe($e){a(this,Pe);for(var Oe in Pt)if(Pt.hasOwnProperty(Oe)){var st=Pt[Oe],rt=st._driver;this[Oe]=rt,vn[rt]||this.defineDriver(st)}this._defaultConfig=yr({},ca),this._config=yr({},this._defaultConfig,$e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Pe.prototype.config=function(Oe){if((typeof Oe>"u"?"undefined":s(Oe))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var st in Oe){if(st==="storeName"&&(Oe[st]=Oe[st].replace(/\W/g,"_")),st==="version"&&typeof Oe[st]!="number")return new Error("Database version must be a number.");this._config[st]=Oe[st]}return"driver"in Oe&&Oe.driver?this.setDriver(this._config.driver):!0}else return typeof Oe=="string"?this._config[Oe]:this._config},Pe.prototype.defineDriver=function(Oe,st,rt){var Xe=new f(function(jt,Zt){try{var en=Oe._driver,dt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Oe._driver){Zt(dt);return}for(var pe=vi.concat("_initStorage"),me=0,ae=pe.length;me<ae;me++){var Qe=pe[me],Mt=!on(ir,Qe);if((Mt||Oe[Qe])&&typeof Oe[Qe]!="function"){Zt(dt);return}}var Gt=function(){for(var Wn=function(oi){return function(){var Lr=new Error("Method "+oi+" is not implemented by the current driver"),di=f.reject(Lr);return p(di,arguments[arguments.length-1]),di}},wn=0,Mn=ir.length;wn<Mn;wn++){var Xr=ir[wn];Oe[Xr]||(Oe[Xr]=Wn(Xr))}};Gt();var En=function(Wn){vn[en]&&console.info("Redefining LocalForage driver: "+en),vn[en]=Oe,On[en]=Wn,jt()};"_support"in Oe?Oe._support&&typeof Oe._support=="function"?Oe._support().then(En,Zt):En(!!Oe._support):En(!0)}catch(Gn){Zt(Gn)}});return m(Xe,st,rt),Xe},Pe.prototype.driver=function(){return this._driver||null},Pe.prototype.getDriver=function(Oe,st,rt){var Xe=vn[Oe]?f.resolve(vn[Oe]):f.reject(new Error("Driver not found."));return m(Xe,st,rt),Xe},Pe.prototype.getSerializer=function(Oe){var st=f.resolve(cn);return m(st,Oe),st},Pe.prototype.ready=function(Oe){var st=this,rt=st._driverSet.then(function(){return st._ready===null&&(st._ready=st._initDriver()),st._ready});return m(rt,Oe,Oe),rt},Pe.prototype.setDriver=function(Oe,st,rt){var Xe=this;fn(Oe)||(Oe=[Oe]);var jt=this._getSupportedDrivers(Oe);function Zt(){Xe._config.driver=Xe.driver()}function en(me){return Xe._extend(me),Zt(),Xe._ready=Xe._initStorage(Xe._config),Xe._ready}function dt(me){return function(){var ae=0;function Qe(){for(;ae<me.length;){var Mt=me[ae];return ae++,Xe._dbInfo=null,Xe._ready=null,Xe.getDriver(Mt).then(en).catch(Qe)}Zt();var Gt=new Error("No available storage method found.");return Xe._driverSet=f.reject(Gt),Xe._driverSet}return Qe()}}var pe=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=pe.then(function(){var me=jt[0];return Xe._dbInfo=null,Xe._ready=null,Xe.getDriver(me).then(function(ae){Xe._driver=ae._driver,Zt(),Xe._wrapLibraryMethodsWithReady(),Xe._initDriver=dt(jt)})}).catch(function(){Zt();var me=new Error("No available storage method found.");return Xe._driverSet=f.reject(me),Xe._driverSet}),m(this._driverSet,st,rt),this._driverSet},Pe.prototype.supports=function(Oe){return!!On[Oe]},Pe.prototype._extend=function(Oe){yr(this,Oe)},Pe.prototype._getSupportedDrivers=function(Oe){for(var st=[],rt=0,Xe=Oe.length;rt<Xe;rt++){var jt=Oe[rt];this.supports(jt)&&st.push(jt)}return st},Pe.prototype._wrapLibraryMethodsWithReady=function(){for(var Oe=0,st=vi.length;Oe<st;Oe++)Dr(this,vi[Oe])},Pe.prototype.createInstance=function(Oe){return new Pe(Oe)},Pe})(),wi=new Br;r.exports=wi},{3:3}]},{},[4])(4)})})(l3)),l3.exports}var Yct=$ct();const mm=iu(Yct);mm.config({name:"LifeQualitySystem",storeName:"app_data",description:"Storage for project management data"});const Cr={setItem:async(e,t)=>{try{return await mm.setItem(e,t),!0}catch(n){console.error(`[StorageService] IndexedDB set error for ${e}:`,n);try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch{return console.error(`[StorageService] LocalStorage fallback failed for ${e}`),!1}}},getItem:async(e,t)=>{try{const n=await mm.getItem(e);if(n!==null)return n;const r=localStorage.getItem(e);if(r)try{const i=JSON.parse(r);return await mm.setItem(e,i),i}catch{return t}return t}catch(n){return console.error(`[StorageService] getItem error for ${e}:`,n),t}},removeItem:async e=>{await mm.removeItem(e),localStorage.removeItem(e)},clear:async()=>{await mm.clear(),localStorage.clear()}},Xct=({onLoginSuccess:e})=>{const[t,n]=B.useState(""),[r,i]=B.useState(""),[s,a]=B.useState(null),[o,l]=B.useState(!1),[c,d]=B.useState("FirstDept"),f=async m=>{if(m.preventDefault(),a(null),!t||!r){a("");return}l(!0),await new Promise(k=>setTimeout(k,800));const w=t.trim(),y=r.trim();if(w.toLowerCase()==="admin"&&y==="1234"){e({id:"ADMIN-ROOT",name:"",email:"admin@lifequality.ai",picture:"https://ui-avatars.com/api/?name=Admin&background=ea580c&color=fff",role:"SuperAdmin",department:c},c);return}if(w.toLowerCase()==="test"&&y==="test"){e({id:"SYNC-ONLY",name:"",email:"sync@lifequality.ai",picture:"https://ui-avatars.com/api/?name=Sync&background=0ea5e9&color=fff",role:"SyncOnly",department:c},c);return}let C=[];try{const R=`${c==="ThirdDept"?"dept3_":c==="FourthDept"?"dept4_":""}bt_team`;C=await Cr.getItem(R,[]),Array.isArray(C)||(C=[])}catch(k){console.error("Error loading team during login",k),C=[]}const T=C.find(k=>k&&k.employeeId===w.toUpperCase());if(T){const k=T.password||"1234";if(y===k){const R=T.systemRole||(T.role===""||T.role===""?"DeptAdmin":"Staff");e({id:T.id,name:T.name,email:T.email,picture:T.avatar,role:R,roleName:T.role,department:c},c)}else a(""),l(!1)}else a(` ( test  ${c==="FirstDept"?"":c==="ThirdDept"?"":""} )`),l(!1)},p=()=>{l(!0),setTimeout(()=>{e({id:"GUEST-USER",name:"",email:"guest@lifequality.ai",picture:"https://ui-avatars.com/api/?name=Guest&background=1e293b&color=fff",role:"Guest",department:c},c)},500)};return u.jsxs("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center p-4 lg:p-8 relative overflow-hidden font-sans",children:[u.jsx("div",{className:`absolute top-[-15%] left-[-10%] w-[60%] h-[60%] blur-[150px] rounded-full animate-pulse transition-colors duration-1000 ${c==="FirstDept"?"bg-orange-600/10":c==="ThirdDept"?"bg-blue-600/10":"bg-purple-600/10"}`}),u.jsx("div",{className:`absolute bottom-[-15%] right-[-10%] w-[60%] h-[60%] blur-[150px] rounded-full animate-pulse [animation-delay:2s] transition-colors duration-1000 ${c==="FirstDept"?"bg-amber-600/10":c==="ThirdDept"?"bg-cyan-600/10":"bg-fuchsia-600/10"}`}),u.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 lg:grid-cols-12 bg-stone-900/40 backdrop-blur-3xl border border-white/10 rounded-[3rem] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.5)] relative z-10 overflow-hidden",children:[u.jsx("div",{className:`hidden lg:flex lg:col-span-5 flex-col justify-between p-16 bg-gradient-to-br transition-all duration-1000 border-r border-white/5 relative ${c==="FirstDept"?"from-stone-900 to-stone-950":c==="ThirdDept"?"from-slate-900 to-slate-950":"from-purple-950 to-purple-900"}`,children:u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"bg-white/10 w-16 h-16 rounded-3xl flex items-center justify-center border border-white/10 shadow-[0_20px_40px_-10px_rgba(0,0,0,0.4)] mb-10 group hover:scale-110 transition-transform duration-500 overflow-hidden",children:u.jsx("img",{src:"./pwa-icon.png",alt:"Logo",className:"w-10 h-10 object-contain"})}),u.jsxs("h1",{className:"text-4xl font-black text-white leading-tight tracking-tighter mb-6",children:["",u.jsx("br",{}),u.jsx("span",{className:`transition-colors duration-500 ${c==="FirstDept"?"text-orange-500":c==="ThirdDept"?"text-blue-500":"text-purple-500"}`,children:""})]}),u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white/5 border border-white/10 rounded-full mb-8",children:[u.jsx(Ui,{size:14,className:c==="FirstDept"?"text-amber-400":c==="ThirdDept"?"text-cyan-400":"text-fuchsia-400"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-stone-400",children:"2026 Professional Edition"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{onClick:()=>d("FirstDept"),className:`cursor-pointer p-4 rounded-2xl border transition-all ${c==="FirstDept"?"bg-orange-500/20 border-orange-500/50":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold text-white",children:["",u.jsx("br",{}),""]}),c==="FirstDept"&&u.jsx(Ic,{size:16,className:"text-orange-500"})]}),u.jsx("p",{className:"text-xs text-stone-400",children:""})]}),u.jsxs("div",{onClick:()=>d("ThirdDept"),className:`cursor-pointer p-4 rounded-2xl border transition-all ${c==="ThirdDept"?"bg-blue-500/20 border-blue-500/50":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold text-white",children:["",u.jsx("br",{}),""]}),c==="ThirdDept"&&u.jsx(Ic,{size:16,className:"text-blue-500"})]}),u.jsx("p",{className:"text-xs text-stone-400",children:""})]}),u.jsxs("div",{onClick:()=>d("FourthDept"),className:`cursor-pointer p-4 rounded-2xl border transition-all ${c==="FourthDept"?"bg-purple-500/20 border-purple-500/50":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold text-white",children:["",u.jsx("br",{}),""]}),c==="FourthDept"&&u.jsx(Ic,{size:16,className:"text-purple-500"})]}),u.jsx("p",{className:"text-xs text-stone-400",children:""})]})]})]})}),u.jsx("div",{className:"lg:col-span-7 p-8 lg:p-20 flex flex-col justify-center",children:u.jsxs("form",{onSubmit:f,className:"space-y-8 max-w-md mx-auto w-full",children:[u.jsxs("div",{className:"text-center lg:text-left space-y-2",children:[u.jsx("h1",{className:"text-3xl font-black text-stone-900 tracking-tight",children:"Quality of Life"}),u.jsxs("p",{className:"text-stone-500 font-bold uppercase tracking-widest text-xs mt-2",children:["Login to ",u.jsx("span",{className:c==="FirstDept"?"text-orange-600":c==="ThirdDept"?"text-blue-600":"text-purple-600",children:c==="FirstDept"?"First Dept.":c==="ThirdDept"?"Third Dept.":"Fourth Dept."})]}),u.jsxs("div",{className:"lg:hidden flex gap-2 mt-4 p-1 bg-stone-100 rounded-xl",children:[u.jsxs("button",{type:"button",onClick:()=>d("FirstDept"),className:`flex-1 py-2 text-[10px] font-bold rounded-lg transition-all ${c==="FirstDept"?"bg-white shadow text-orange-600":"text-stone-400"}`,children:["",u.jsx("br",{}),""]}),u.jsxs("button",{type:"button",onClick:()=>d("ThirdDept"),className:`flex-1 py-2 text-[10px] font-bold rounded-lg transition-all ${c==="ThirdDept"?"bg-white shadow text-blue-600":"text-stone-400"}`,children:["",u.jsx("br",{}),""]}),u.jsxs("button",{type:"button",onClick:()=>d("FourthDept"),className:`flex-1 py-2 text-[10px] font-bold rounded-lg transition-all ${c==="FourthDept"?"bg-white shadow text-purple-600":"text-stone-400"}`,children:["",u.jsx("br",{}),""]})]})]}),s&&u.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 p-4 rounded-2xl flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[u.jsx(xh,{className:"text-rose-500 shrink-0",size:18}),u.jsx("p",{className:"text-rose-200 text-xs font-bold",children:s})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-stone-500 text-[10px] font-black uppercase tracking-[0.25em] pl-1 flex items-center gap-2",children:[u.jsx(VE,{size:14,className:c==="FirstDept"?"text-orange-500":c==="ThirdDept"?"text-blue-500":"text-purple-500"}),"  Employee ID"]}),u.jsx("div",{className:"group relative",children:u.jsx("input",{type:"text",placeholder:"",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-sm text-white font-bold outline-none focus:ring-2 focus:ring-opacity-50 transition-all placeholder:text-stone-700 uppercase",style:{"--tw-ring-color":c==="FirstDept"?"rgb(234 88 12)":c==="ThirdDept"?"rgb(37 99 235)":"rgb(168 85 247)"},value:t,onChange:m=>n(m.target.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-stone-500 text-[10px] font-black uppercase tracking-[0.25em] pl-1 flex items-center gap-2",children:[u.jsx(p3,{size:14,className:c==="FirstDept"?"text-orange-500":c==="ThirdDept"?"text-blue-500":"text-purple-500"}),"  Password"]}),u.jsx("input",{type:"password",placeholder:"",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-sm text-white font-bold outline-none focus:ring-2 focus:ring-opacity-50 transition-all placeholder:text-stone-700",style:{"--tw-ring-color":c==="FirstDept"?"rgb(234 88 12)":c==="ThirdDept"?"rgb(37 99 235)":"rgb(168 85 247)"},value:r,onChange:m=>i(m.target.value)})]})]}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsx("button",{type:"submit",disabled:o,className:`w-full py-5 rounded-2xl flex items-center justify-center gap-3 font-black text-sm tracking-[0.2em] uppercase transition-all shadow-2xl active:scale-[0.98] ${o?"bg-stone-800 text-stone-600 cursor-not-allowed":c==="FirstDept"?"bg-orange-600 hover:bg-orange-500 text-white shadow-orange-900/20":c==="ThirdDept"?"bg-blue-600 hover:bg-blue-500 text-white shadow-blue-900/20":"bg-purple-600 hover:bg-purple-500 text-white shadow-purple-900/20"}`,children:o?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),""]}):u.jsxs(u.Fragment,{children:["",u.jsx(Np,{size:20})]})}),u.jsxs("button",{type:"button",onClick:p,disabled:o,className:"w-full py-4 rounded-2xl flex items-center justify-center gap-2 font-black text-[11px] uppercase tracking-[0.3em] text-stone-500 hover:text-white border border-white/5 hover:border-white/10 hover:bg-white/5 transition-all duration-300",children:[u.jsx(Ui,{size:14,className:"text-amber-500"})," ()"]}),u.jsxs("div",{className:"pt-6 relative",children:[u.jsx("div",{className:"absolute inset-x-0 top-0 flex items-center justify-center",children:u.jsx("span",{className:"bg-[#1c1917] px-4 text-[9px] font-black text-stone-600 uppercase tracking-[0.3em]",children:"First Time Login"})}),u.jsx("div",{className:"pt-6",children:u.jsx("button",{type:"button",onClick:()=>{n("test"),i("test")},className:"w-full py-6 bg-gradient-to-r from-stone-800 to-stone-900 hover:from-stone-700 hover:to-stone-800 border border-white/5 rounded-[2rem] flex flex-col items-center gap-2 transition-all hover:scale-[1.02] active:scale-[0.98] group",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(d1,{size:20,className:"text-stone-400 group-hover:text-white transition-colors"}),u.jsx("span",{className:"text-sm font-black text-stone-300 group-hover:text-white tracking-widest uppercase",children:""})]})})})]})]})]})})]})]})},Jct=({onClose:e,orders:t,inventoryItems:n,locations:r,onSaveOrder:i,onUpdateOrder:s,onReceiveItems:a,onDeleteOrder:o})=>{var Y,X;const[l,c]=B.useState("list"),[d,f]=B.useState(null),[p,m]=B.useState(""),[w,y]=B.useState({date:new Date().toISOString().split("T")[0],supplier:"",targetWarehouseId:"",items:[],payments:[],status:"Pending",totalAmount:0}),[C,T]=B.useState({itemId:"",quantity:1,cost:0}),[k,R]=B.useState({amount:0,date:new Date().toISOString().split("T")[0],method:"Transfer",note:""}),[P,U]=B.useState(null),[O,L]=B.useState(null),K=ne=>{var oe;return((oe=r.find(Ce=>Ce.id===ne))==null?void 0:oe.name)||ne},j=()=>{L(null),y({date:new Date().toISOString().split("T")[0],supplier:"",targetWarehouseId:r.length>0?r[0].id:"",items:[],payments:[],status:"Pending",totalAmount:0}),c("create")},te=ne=>{L(ne.id),y({...ne}),c("create")},G=ne=>{confirm(`
`)&&(o(ne),(d==null?void 0:d.id)===ne&&(f(null),c("list")))},V=()=>{if(!C.itemId||C.quantity<=0)return;const ne=n.find(Ce=>Ce.id===C.itemId);if(!ne)return;const oe={itemId:ne.id,itemName:ne.name,quantity:C.quantity,unit:ne.unit,cost:C.cost,received:!1};y(Ce=>({...Ce,items:[...Ce.items||[],oe],totalAmount:(Ce.totalAmount||0)+oe.cost*oe.quantity})),T({itemId:"",quantity:1,cost:0})},re=ne=>{y(oe=>{const Ce=[...oe.items||[]],ke=Ce.splice(ne,1)[0];return{...oe,items:Ce,totalAmount:(oe.totalAmount||0)-ke.cost*ke.quantity}})},ee=()=>{var ne;if(!w.supplier||!w.targetWarehouseId||(((ne=w.items)==null?void 0:ne.length)||0)===0){alert(" ()");return}if(O){const oe={...w,id:O,updatedAt:new Date().toISOString()};s(oe),(d==null?void 0:d.id)===O&&f(oe)}else{const oe={id:"PO"+Date.now().toString().slice(-8),date:w.date,supplier:w.supplier,targetWarehouseId:w.targetWarehouseId,items:w.items,payments:w.payments||[],status:"Pending",totalAmount:w.totalAmount||0,notes:w.notes,updatedAt:new Date().toISOString()};i(oe)}c("list"),L(null)},ie=ne=>{f(ne),c("detail")},ue=()=>{if(!d||k.amount<=0)return;const ne={...d};let oe=[...ne.payments||[]];if(P)oe=oe.map(Ce=>Ce.id===P?{...Ce,...k,id:Ce.id}:Ce);else{const Ce={id:Date.now().toString(),...k};oe.push(Ce)}ne.payments=oe,s(ne),f(ne),R({amount:0,date:new Date().toISOString().split("T")[0],method:"Transfer",note:""}),U(null)},le=ne=>{R({amount:ne.amount,date:ne.date,method:ne.method,note:ne.note||""}),U(ne.id)},xe=ne=>{if(!confirm("")||!d)return;const oe={...d};oe.payments=(oe.payments||[]).filter(Ce=>Ce.id!==ne),s(oe),f(oe),P===ne&&(U(null),R({amount:0,date:new Date().toISOString().split("T")[0],method:"Transfer",note:""}))},[ge,fe]=B.useState([]),ce=()=>{if(!d||ge.length===0)return;a(d.id,ge);const ne=[...d.items];ge.forEach(ke=>{ne[ke].received=!0});const oe=ne.every(ke=>ke.received),Ce={...d,items:ne,status:oe?"Completed":"Partial"};f(Ce),fe([])},Q=t.filter(ne=>ne.supplier.includes(p)||ne.id.includes(p)).sort((ne,oe)=>new Date(oe.date).getTime()-new Date(ne.date).getTime());return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:`bg-white w-full ${l==="list"?"max-w-4xl":"max-w-2xl"} flex flex-col rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 h-[85vh]`,children:[u.jsxs("div",{className:"px-8 py-6 bg-slate-900 flex justify-between items-center text-white shrink-0",children:[u.jsxs("h2",{className:"font-bold flex items-center gap-3 text-lg",children:[u.jsx(v3,{className:"text-blue-400"}),l==="list"&&"",l==="create"&&(O?"":""),l==="detail"&&`: ${d==null?void 0:d.id}`]}),u.jsx("button",{onClick:e,className:"p-2.5 hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:u.jsx(ri,{size:24})})]}),u.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-slate-50",children:[l==="list"&&u.jsxs("div",{className:"flex-1 flex flex-col p-6 overflow-hidden",children:[u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(vh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),u.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-slate-700",value:p,onChange:ne=>m(ne.target.value)})]}),u.jsxs("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-blue-200 transition-all active:scale-95",children:[u.jsx(zl,{size:18})," "]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar space-y-4",children:Q.length===0?u.jsxs("div",{className:"text-center py-20 text-slate-400",children:[u.jsx(v3,{className:"mx-auto mb-4 opacity-20",size:64}),u.jsx("p",{className:"font-bold",children:""})]}):Q.map(ne=>u.jsxs("div",{onClick:()=>ie(ne),className:"bg-white p-5 rounded-2xl border border-slate-200 hover:shadow-lg transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-black bg-slate-100 text-slate-500 px-2 py-0.5 rounded uppercase",children:ne.id}),u.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:ne.date})]}),u.jsx("h3",{className:"text-lg font-black text-slate-800 group-hover:text-blue-600 transition-colors",children:ne.supplier})]}),u.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${ne.status==="Completed"?"bg-emerald-100 text-emerald-600":ne.status==="Cancelled"?"bg-slate-100 text-slate-400":"bg-amber-100 text-amber-600"}`,children:ne.status==="Pending"?"":ne.status==="Partial"?"":ne.status==="Completed"?"":""})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 font-bold",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(ip,{size:14})," ",ne.items.length," "]}),u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(KE,{size:14})," ",K(ne.targetWarehouseId)]})]}),u.jsxs("div",{className:"text-slate-900 text-lg",children:["$",ne.totalAmount.toLocaleString()]})]})]},ne.id))})]}),l==="create"&&u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsx("input",{type:"date",className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:w.date,onChange:ne=>y({...w,date:ne.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:w.supplier,onChange:ne=>y({...w,supplier:ne.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1.5",children:" ()"}),u.jsx("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500 appearance-none",value:w.targetWarehouseId,onChange:ne=>y({...w,targetWarehouseId:ne.target.value}),children:r.map(ne=>u.jsx("option",{value:ne.id,children:ne.name},ne.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1.5",children:""}),u.jsx("input",{type:"text",placeholder:"",className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:w.notes||"",onChange:ne=>y({...w,notes:ne.target.value})})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200",children:[u.jsxs("h3",{className:"font-black text-slate-700 mb-4 flex items-center gap-2",children:[u.jsx(ip,{size:18})," "]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs text-slate-400 font-bold mb-1 ml-1",children:""}),u.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm font-bold text-slate-700 outline-none",value:C.itemId,onChange:ne=>{const oe=n.find(Ce=>Ce.id===ne.target.value);T({...C,itemId:ne.target.value,cost:(oe==null?void 0:oe.costPrice)||0})},children:[u.jsx("option",{value:"",children:"..."}),n.map(ne=>u.jsxs("option",{value:ne.id,children:[ne.name," (",ne.sku||"No SKU",")"]},ne.id))]})]}),u.jsxs("div",{className:"w-24",children:[u.jsx("div",{className:"text-xs text-slate-400 font-bold mb-1 ml-1",children:""}),u.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm font-bold text-slate-700 outline-none text-center",value:C.quantity,onChange:ne=>T({...C,quantity:Number(ne.target.value)})})]}),u.jsxs("div",{className:"w-32",children:[u.jsx("div",{className:"text-xs text-slate-400 font-bold mb-1 ml-1",children:""}),u.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm font-bold text-slate-700 outline-none text-right",value:C.cost,onChange:ne=>T({...C,cost:Number(ne.target.value)})})]}),u.jsx("div",{className:"flex items-end",children:u.jsx("button",{onClick:V,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",children:u.jsx(zl,{size:20})})})]}),u.jsxs("div",{className:"space-y-2",children:[(Y=w.items)==null?void 0:Y.map((ne,oe)=>u.jsxs("div",{className:"flex justify-between items-center p-3 hover:bg-slate-50 rounded-xl transition-colors border-b border-slate-50 last:border-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 font-bold text-xs",children:oe+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-slate-800",children:ne.itemName}),u.jsxs("div",{className:"text-xs text-slate-400 font-bold",children:[": $",ne.cost.toLocaleString()]})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-black text-slate-700",children:["x ",ne.quantity," ",ne.unit]}),u.jsxs("div",{className:"text-sm font-bold text-blue-600",children:["$",(ne.quantity*ne.cost).toLocaleString()]})]}),u.jsx("button",{onClick:()=>re(oe),className:"text-slate-300 hover:text-rose-500",children:u.jsx(ri,{size:18})})]})]},oe)),(!w.items||w.items.length===0)&&u.jsx("div",{className:"text-center text-slate-400 py-4 font-bold text-sm",children:""})]}),u.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-100 flex justify-between items-center",children:[u.jsx("span",{className:"text-slate-400 font-black uppercase tracking-widest text-xs",children:""}),u.jsxs("span",{className:"text-2xl font-black text-slate-900",children:["$",(X=w.totalAmount)==null?void 0:X.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"p-6 border-t border-slate-100 flex gap-4",children:[u.jsx("button",{onClick:()=>c("list"),className:"flex-1 py-4 text-slate-400 font-bold hover:text-slate-600",children:""}),u.jsx("button",{onClick:ee,className:"flex-[2] bg-slate-900 text-white font-bold py-4 rounded-2xl hover:bg-slate-800 shadow-xl active:scale-95 transition-all",children:O?"":""})]})]}),d&&l==="detail"&&u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black text-slate-800",children:d.supplier}),u.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-500 mt-1",children:[u.jsx("span",{children:d.date}),u.jsx("span",{children:""}),u.jsxs("span",{className:"text-slate-400",children:[": ",K(d.targetWarehouseId)]})]})]}),u.jsxs("div",{className:"text-right flex items-center gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),u.jsxs("div",{className:"text-3xl font-black text-slate-900",children:["$",d.totalAmount.toLocaleString()]})]}),u.jsx("div",{className:"h-10 w-px bg-slate-200 mx-2"}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("button",{onClick:()=>te(d),className:"bg-white border border-slate-200 text-slate-600 p-2 rounded-xl hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:u.jsx(Mo,{size:16})}),u.jsx("button",{onClick:()=>G(d.id),className:"bg-white border border-slate-200 text-slate-600 p-2 rounded-xl hover:bg-rose-50 hover:text-rose-600 hover:border-rose-200 transition-all shadow-sm",children:u.jsx(Ni,{size:16})})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",children:[u.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center",children:[u.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[u.jsx(ip,{size:18})," "]}),ge.length>0&&u.jsxs("button",{onClick:ce,className:"bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-bold px-4 py-2 rounded-lg shadow-lg shadow-emerald-200 transition-all flex items-center gap-2",children:[u.jsx(u1,{size:14}),"  (",ge.length,")"]})]}),u.jsx("div",{className:"divide-y divide-slate-100",children:d.items.map((ne,oe)=>u.jsxs("div",{className:`p-4 flex items-center justify-between transition-colors ${ne.received?"bg-slate-50/50":"hover:bg-slate-50"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all cursor-pointer ${ne.received?"bg-emerald-500 border-emerald-500 text-white":ge.includes(oe)?"bg-blue-500 border-blue-500 text-white":"border-slate-300 bg-white"}`,onClick:()=>{ne.received||(ge.includes(oe)?fe(Ce=>Ce.filter(ke=>ke!==oe)):fe(Ce=>[...Ce,oe]))},children:(ne.received||ge.includes(oe))&&u.jsx(Ic,{size:14,strokeWidth:4})}),u.jsxs("div",{children:[u.jsx("div",{className:`font-bold ${ne.received?"text-slate-400 line-through":"text-slate-800"}`,children:ne.itemName}),u.jsxs("div",{className:"text-xs text-slate-400 font-bold",children:["$",ne.cost.toLocaleString()," / ",ne.unit]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-black ${ne.received?"text-slate-400":"text-slate-700"}`,children:["x ",ne.quantity]}),ne.received&&u.jsx("div",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full inline-block mt-1",children:""})]})]},oe))})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",children:[u.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:u.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[u.jsx(Cc,{size:18})," "]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"space-y-4 mb-6",children:[d.payments.map(ne=>u.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 last:border-0 ${P===ne.id?"bg-blue-50/50 -mx-2 px-2 rounded-lg":""}`,children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-bold text-slate-700",children:["$",ne.amount.toLocaleString()]}),u.jsxs("div",{className:"text-xs text-slate-400 font-bold",children:[ne.date,"  ",ne.method]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[ne.note&&u.jsx("div",{className:"text-sm text-slate-500 mr-2",children:ne.note}),u.jsx("button",{onClick:()=>le(ne),className:"text-slate-300 hover:text-blue-600 transition-colors",children:u.jsx(Mo,{size:14})}),u.jsx("button",{onClick:()=>xe(ne.id),className:"text-slate-300 hover:text-rose-600 transition-colors",children:u.jsx(Ni,{size:14})})]})]},ne.id)),d.payments.length===0&&u.jsx("div",{className:"text-center text-slate-400 text-sm font-bold py-2",children:""})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex flex-col gap-3",children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsx("input",{type:"date",className:"w-[150px] bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500",value:k.date,onChange:ne=>R({...k,date:ne.target.value})}),u.jsxs("div",{className:"relative flex-1 min-w-[120px]",children:[u.jsx(Cc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"number",placeholder:"",className:"w-full bg-white border border-slate-200 rounded-lg pl-8 pr-3 py-2 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500",value:k.amount||"",onChange:ne=>R({...k,amount:Number(ne.target.value)})})]}),u.jsxs("select",{className:"w-[100px] bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500",value:k.method,onChange:ne=>R({...k,method:ne.target.value}),children:[u.jsx("option",{value:"Cash",children:""}),u.jsx("option",{value:"Transfer",children:""}),u.jsx("option",{value:"Check",children:""})]}),u.jsx("button",{onClick:ue,className:`${P?"bg-blue-600":"bg-slate-900"} text-white px-4 py-2 rounded-lg font-bold text-sm hover:opacity-90 shadow-lg active:scale-95 transition-all whitespace-nowrap`,children:P?"":""}),P&&u.jsx("button",{onClick:()=>{U(null),R({amount:0,date:new Date().toISOString().split("T")[0],method:"Transfer",note:""})},className:"bg-white text-slate-400 border border-slate-200 px-3 py-2 rounded-lg font-bold text-sm hover:bg-slate-50 transition-all whitespace-nowrap",children:""})]}),u.jsx("input",{type:"text",placeholder:" ()...",className:"w-full bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm font-bold outline-none",value:k.note,onChange:ne=>R({...k,note:ne.target.value})})]})]})]})]}),u.jsx("div",{className:"p-6 border-t border-slate-100 bg-white",children:u.jsx("button",{onClick:()=>c("list"),className:"w-full py-4 bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold rounded-2xl transition-all",children:""})})]})]})]})})},dR=({location:e,onClose:t,title:n=""})=>{const r=`https://maps.google.com/maps?q=${e.lat},${e.lng}&hl=zh-TW&z=15&output=embed`,i=`https://www.google.com/maps/search/?api=1&query=${e.lat},${e.lng}`;return u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm animate-in fade-in",onClick:s=>{s.target===s.currentTarget&&t()},children:u.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden relative animate-in zoom-in-95",children:[u.jsxs("div",{className:"p-4 bg-stone-900 text-white flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(aa,{size:18,className:"text-orange-400"}),u.jsx("span",{className:"font-bold",children:n})]}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(ri,{size:20})})]}),u.jsxs("div",{className:"aspect-video w-full bg-stone-100 relative",children:[u.jsx("iframe",{width:"100%",height:"100%",src:r,frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,title:"Map Preview"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-black/10 to-transparent pointer-events-none"})]}),u.jsx("div",{className:"p-6 bg-white",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:"Recorded Location"}),u.jsxs("p",{className:"font-mono text-xl font-bold text-stone-800 tracking-tight",children:[e.lat.toFixed(6),", ",e.lng.toFixed(6)]}),e.address&&u.jsxs("p",{className:"text-sm text-stone-500 font-medium flex items-center gap-1",children:[u.jsx(aa,{size:12}),e.address]})]}),u.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto bg-stone-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center justify-center gap-3 hover:bg-stone-800 hover:scale-105 active:scale-95 transition-all shadow-xl",children:[u.jsx(zE,{size:18,className:"text-orange-400"}),u.jsx("span",{children:""})]})]})})]})})},yW=["","","","","","","","","","","","",""],Zct=e=>{const t=e.getHours();return t>=5&&t<11?"":t>=11&&t<14?"":t>=14&&t<18?"":t>=18&&t<24?"":""},eut=({currentUser:e,records:t,onRecord:n})=>{const[r,i]=B.useState(new Date),[s,a]=B.useState(""),[o,l]=B.useState(null),[c,d]=B.useState(!1),[f,p]=B.useState(null),[m,w]=B.useState(null);B.useEffect(()=>{const K=setInterval(()=>i(new Date),1e3);return a(yW[Math.floor(Math.random()*yW.length)]),()=>clearInterval(K)},[]);const y=new Date().toISOString().split("T")[0],C=t.filter(K=>K.employeeId===e.id&&K.timestamp.startsWith(y)).sort((K,j)=>new Date(K.timestamp).getTime()-new Date(j.timestamp).getTime()),T=C.length>0?C[C.length-1]:null,k=(T==null?void 0:T.type)==="work-start",R=mn.useMemo(()=>{const K=new Date().toISOString().slice(0,7),j=t.filter(ee=>ee.employeeId===e.id&&ee.timestamp.startsWith(K)),te={};j.forEach(ee=>{const ie=ee.timestamp.split("T")[0];te[ie]||(te[ie]=[]),te[ie].push(ee)});let G=0,V=0,re=0;return Object.entries(te).forEach(([ee,ie])=>{ie.sort((fe,ce)=>new Date(fe.timestamp).getTime()-new Date(ce.timestamp).getTime()),ie.some(fe=>fe.type==="work-start")&&G++;let le=0,xe=null;ie.forEach(fe=>{const ce=new Date(fe.timestamp).getTime();fe.type==="work-start"?xe===null&&(xe=ce):fe.type==="work-end"&&xe!==null&&(le+=ce-xe,xe=null)}),ee===y&&xe!==null&&(le+=r.getTime()-xe);const ge=le/(1e3*60*60);V+=ge,ee===y&&(re=ge)}),{days:G,hours:V.toFixed(1),todayHours:re.toFixed(1),groupedRecords:Object.entries(te).sort((ee,ie)=>ie[0].localeCompare(ee[0]))}},[t,e.id,r]),P=async()=>{if(d(!0),p(null),!navigator.geolocation){p(""),d(!1);return}navigator.geolocation.getCurrentPosition(async K=>{const{latitude:j,longitude:te}=K.coords;let G="";try{G=await nie(j,te)}catch(V){console.error("Reverse Geocoding Error:",V),G=`${j.toFixed(6)}, ${te.toFixed(6)}`}l({lat:j,lng:te,address:G}),d(!1)},K=>{let j="";switch(K.code){case K.PERMISSION_DENIED:j="";break;case K.POSITION_UNAVAILABLE:j="";break;case K.TIMEOUT:j="";break}p(j),d(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};B.useEffect(()=>{P()},[]);const U=K=>{try{const j=new Date(K);return isNaN(j.getTime())?"":j.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"})}catch{return""}},O=K=>K?K.address?K.address:typeof K.lat!="number"||typeof K.lng!="number"?null:`${K.lat.toFixed(4)}, ${K.lng.toFixed(4)}`:null,L=K=>{if(!o){P();return}n(K,o)};return u.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-8 animate-in fade-in",children:[m&&m.location&&u.jsx(dR,{location:m.location,onClose:()=>w(null),title:`${U(m.timestamp)} `}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl p-8 border border-stone-100 flex flex-col md:flex-row justify-between items-center gap-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-50 rounded-full translate-x-1/3 -translate-y-1/3 blur-3xl -z-10"}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-black text-stone-800 tracking-tight mb-2",children:[Zct(r),"",e.name]}),u.jsx("p",{className:"text-emerald-700 font-bold mb-1 opacity-90",children:s}),u.jsxs("p",{className:"text-xs text-stone-400 font-medium",children:[" ",r.toLocaleDateString("zh-TW",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-5xl font-black text-stone-800 tracking-tighter tabular-nums text-right",children:r.toLocaleTimeString("zh-TW",{hour12:!1})}),u.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[u.jsxs("button",{onClick:()=>window.dispatchEvent(new CustomEvent("TRIGGER_CLOUD_SYNC")),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-white/50 hover:bg-white text-stone-500 hover:text-orange-600 transition-all border border-transparent hover:border-orange-200",title:"",children:[u.jsx(ia,{size:12,className:"opacity-70"})," "]}),u.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-bold ${k?"bg-emerald-100 text-emerald-700":"bg-stone-100 text-stone-500"}`,children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${k?"bg-emerald-500 animate-pulse":"bg-stone-400"}`}),k?"":""]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-500",children:u.jsx(Du,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("p",{className:"text-2xl font-black text-stone-800 tabular-nums",children:[R.days," ",u.jsx("span",{className:"text-sm text-stone-400",children:""})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-500",children:u.jsx(Ru,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("p",{className:"text-2xl font-black text-stone-800 tabular-nums",children:[R.todayHours," ",u.jsx("span",{className:"text-sm text-stone-400",children:"hr"})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-100 shadow-sm flex items-center gap-4 col-span-2 md:col-span-1",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-500",children:u.jsx(Ru,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsxs("p",{className:"text-2xl font-black text-stone-800 tabular-nums",children:[R.hours," ",u.jsx("span",{className:"text-sm text-stone-400",children:"hr"})]})]})]})]}),u.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-3 transition-colors ${c?"bg-blue-50 border-blue-100 text-blue-700":f?"bg-rose-50 border-rose-100 text-rose-700":o?"bg-emerald-50 border-emerald-100 text-emerald-700":"bg-stone-50 border-stone-200 text-stone-600"}`,children:[c?u.jsx(ia,{className:"animate-spin"}):f?u.jsx(ho,{}):u.jsx(aa,{}),u.jsxs("div",{className:"flex-1",children:[c&&u.jsx("span",{className:"font-bold",children:"..."}),f&&u.jsxs("span",{className:"font-bold",children:[f," ",u.jsx("button",{onClick:P,className:"underline ml-2",children:""})]}),o&&u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold flex items-center gap-1",children:[" ",u.jsx(Ui,{size:10,className:"text-blue-500"})]}),u.jsx("span",{className:"text-xs opacity-75",children:o.address||`${o.lat.toFixed(6)}, ${o.lng.toFixed(6)}`})]})]}),!c&&!f&&u.jsx("button",{onClick:P,className:"p-2 hover:bg-black/5 rounded-full",title:"",children:u.jsx(zE,{size:16})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("button",{onClick:()=>L("work-start"),disabled:c||!!f,className:`group relative overflow-hidden p-8 rounded-[2rem] transition-all hover:-translate-y-1 hover:shadow-2xl ${c||f?"opacity-50 cursor-not-allowed bg-stone-100":"bg-gradient-to-br from-emerald-400 to-teal-600 cursor-pointer shadow-lg shadow-emerald-200"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"relative flex flex-col items-center gap-4 text-white",children:[u.jsx("div",{className:"bg-white/20 p-4 rounded-2xl backdrop-blur-sm",children:u.jsx(Ace,{size:48,strokeWidth:2.5})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-2xl font-black tracking-tight mb-1",children:""}),u.jsx("p",{className:"text-emerald-100 font-bold text-sm",children:""})]})]})]}),u.jsxs("button",{onClick:()=>L("work-end"),disabled:c||!!f,className:`group relative overflow-hidden p-8 rounded-[2rem] transition-all hover:-translate-y-1 hover:shadow-2xl ${c||f?"opacity-50 cursor-not-allowed bg-stone-100":"bg-gradient-to-br from-indigo-500 to-violet-600 cursor-pointer shadow-lg shadow-indigo-200"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"relative flex flex-col items-center gap-4 text-white",children:[u.jsx("div",{className:"bg-white/20 p-4 rounded-2xl backdrop-blur-sm",children:u.jsx(g3,{size:48,strokeWidth:2.5})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-2xl font-black tracking-tight mb-1",children:""}),u.jsx("p",{className:"text-indigo-100 font-bold text-sm",children:""})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-sm border border-stone-200 p-6 overflow-hidden",children:[u.jsxs("h3",{className:"text-lg font-black text-stone-800 mb-6 flex items-center gap-2",children:[u.jsx(Ru,{size:20,className:"text-stone-400"}),""]}),R.groupedRecords.length===0?u.jsx("div",{className:"text-center py-10 text-stone-400 font-medium bg-stone-50 rounded-2xl border border-stone-100 border-dashed",children:""}):u.jsx("div",{className:"space-y-8",children:R.groupedRecords.map(([K,j])=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"h-px flex-1 bg-stone-100"}),u.jsx("span",{className:"text-xs font-black text-stone-400 bg-stone-50 px-3 py-1 rounded-full",children:K===y?"":K}),u.jsx("div",{className:"h-px flex-1 bg-stone-100"})]}),u.jsx("div",{className:"relative border-l-2 border-stone-100 ml-3 space-y-6 py-2",children:j.map(te=>{const G=O(te.location);return u.jsxs("div",{className:"relative pl-8",children:[u.jsx("div",{className:`absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white shadow-sm ${te.type==="work-start"?"bg-emerald-500":"bg-indigo-500"}`}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline justify-between gap-1",children:[u.jsxs("div",{children:[u.jsx("span",{className:`font-black text-sm px-2 py-0.5 rounded mr-2 ${te.type==="work-start"?"bg-emerald-100 text-emerald-700":"bg-indigo-100 text-indigo-700"}`,children:te.type==="work-start"?"":""}),u.jsx("span",{className:"font-bold text-stone-800 text-lg",children:U(te.timestamp)})]}),u.jsxs("div",{className:`text-xs text-stone-400 font-mono flex items-center gap-1 ${G?"cursor-pointer hover:text-orange-500 hover:underline":""}`,onClick:()=>G&&w(te),children:[u.jsx(aa,{size:10}),G||""]})]})]},te.id)})})]},K))})]})]})},tut={"2026-01-01":"","2026-02-16":"","2026-02-17":"","2026-02-18":"","2026-02-19":"","2026-02-20":"","2026-02-27":"228","2026-02-28":"","2026-04-03":"","2026-04-04":"","2026-05-01":"","2026-06-19":"","2026-09-25":"","2026-10-09":"","2026-10-10":""},nut=e=>{const t=new Date(e).getDay();return t===0||t===6},rut=({member:e,data:t,month:n,onClose:r,onUpdateAdjustment:i})=>{const[s,a]=B.useState(!1),[o,l]=B.useState({baseSalary:t.baseSalary,meal:t.allowances.meal,transport:t.allowances.transport,otherAllowance:t.allowances.other,leave:t.deductions.leave,otherDeduction:t.deductions.other,labor:t.deductions.labor,health:t.deductions.health});B.useEffect(()=>{l({baseSalary:t.baseSalary,meal:t.allowances.meal,transport:t.allowances.transport,otherAllowance:t.allowances.other,leave:t.deductions.leave,otherDeduction:t.deductions.other,labor:t.deductions.labor,health:t.deductions.health})},[t]);const c=()=>{i(o),a(!1)},d=({label:C,value:T,onChange:k,className:R=""})=>u.jsxs("div",{className:`flex flex-col gap-1 ${R}`,children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:C}),u.jsx("input",{type:"number",value:T,onChange:P=>k(Number(P.target.value)),className:"w-full bg-slate-100 rounded-lg px-2 py-1 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-emerald-500"})]}),f=t.allowances.spiderman+o.meal+o.transport+o.otherAllowance,p=o.baseSalary+t.overtimePay+f,m=o.labor+o.health+t.deductions.late+o.leave+o.otherDeduction,w=Math.max(0,p-m),y=()=>{if(!window.confirm(""))return;let C=0;e.salaryType==="monthly"||!e.salaryType?C=e.monthlySalary||0:e.salaryType==="daily"?C=(e.dailyRate||0)*t.workDays:e.salaryType==="hourly"&&(C=0),l({baseSalary:C,meal:0,transport:0,otherAllowance:0,leave:0,otherDeduction:0,labor:e.laborFee||0,health:e.healthFee||0})};return u.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in print:static print:bg-white print:p-0 print:block print:animate-none print:opacity-100 print:visible",children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media print {
                    /*  */
                    body * {
                        visibility: hidden;
                    }
                    
                    /*  */
                    #printable-payroll-content,
                    #printable-payroll-content * {
                        visibility: visible !important;
                    }
                    
                    /*  */
                    body, html { 
                        height: auto !important; 
                        overflow: visible !important;
                        background: white !important;
                        margin: 0 !important;
                        padding: 0 !important;
                    }
                    
                    /*  */
                    #printable-payroll-content {
                        position: absolute !important;
                        left: 0 !important;
                        top: 0 !important;
                        width: 100% !important;
                        height: auto !important;
                        overflow: visible !important;
                        max-height: none !important;
                        background: white !important;
                        padding: 20px !important;
                        margin: 0 !important;
                    }
                    
                    /*  */
                    .print:hidden {
                        display: none !important;
                        visibility: hidden !important;
                    }
                    
                    /*  */
                    table {
                        page-break-inside: auto !important;
                        width: 100% !important;
                    }
                    tr {
                        page-break-inside: avoid !important;
                        page-break-after: auto !important;
                    }
                    
                    /*  */
                    * {
                        border-radius: 0 !important;
                        box-shadow: none !important;
                    }
                }
            `}}),u.jsxs("div",{id:"printable-payroll-content",className:"bg-white w-full max-w-4xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh] print:max-h-none print:shadow-none print:rounded-none print:w-full print:h-auto print:overflow-visible print:block print:max-w-none",children:[u.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:e.avatar||`https://ui-avatars.com/api/?name=${e.name}&background=random`,alt:"avatar",className:"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg"}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-black text-slate-900 flex items-center gap-2 print:text-3xl",children:[e.name," ",u.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[u.jsxs("button",{onClick:()=>window.print(),className:"bg-slate-800 text-white text-xs px-3 py-1 rounded-full hover:bg-slate-700 transition-colors flex items-center gap-1 shadow-lg shadow-slate-200",children:[u.jsx(WE,{size:12}),"  PDF"]}),s?u.jsx("button",{onClick:c,className:"bg-emerald-500 text-white text-xs px-3 py-1 rounded-full hover:bg-emerald-600 transition-colors shadow-lg shadow-emerald-200",children:""}):u.jsx("button",{onClick:()=>a(!0),className:"bg-white border border-slate-200 text-slate-400 text-xs px-3 py-1 rounded-full hover:text-blue-500 hover:border-blue-200 transition-colors",children:""})]})]}),u.jsxs("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest",children:[n,"   ",e.role]}),u.jsxs("p",{className:"text-xs text-slate-400 font-mono mt-1 flex items-center gap-1",children:[u.jsx(Ru,{size:12}),": ",e.workStartTime||""," - ",e.workEndTime||""]})]})]}),u.jsx("button",{onClick:r,className:"p-2.5 hover:bg-slate-200 rounded-full transition-colors text-slate-400 print:hidden",children:u.jsx(rp,{size:28})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-8 print:overflow-visible print:h-auto print:p-4",children:[s&&u.jsx("div",{className:"mb-4 flex justify-end print:hidden",children:u.jsxs("button",{onClick:y,className:"text-xs font-bold text-rose-500 hover:underline flex items-center gap-1",children:[u.jsx(rp,{size:12})," "]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl border border-blue-100 space-y-2",children:[u.jsx("p",{className:"text-[10px] uppercase font-black text-blue-400 tracking-widest",children:""}),u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("span",{className:"text-sm font-bold text-slate-600",children:""}),u.jsxs("span",{className:"text-lg font-black text-slate-800",children:[t.hours.toFixed(1)," ",u.jsx("span",{className:"text-xs text-slate-400",children:"hr"})]})]}),u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("span",{className:"text-sm font-bold text-slate-600",children:""}),u.jsxs("span",{className:"text-lg font-black text-amber-600",children:[t.overtimeHours.toFixed(1)," ",u.jsx("span",{className:"text-xs text-amber-400",children:"hr"})]})]})]}),u.jsxs("div",{className:`p-4 rounded-2xl border space-y-1 ${s?"bg-white border-emerald-500 ring-4 ring-emerald-50/50":"bg-emerald-50 border-emerald-100"}`,children:[u.jsx("p",{className:"text-[10px] uppercase font-black text-emerald-500 tracking-widest mb-2",children:""}),s?u.jsxs("div",{className:"space-y-2",children:[u.jsx(d,{label:" (Base Salary)",value:o.baseSalary,onChange:C=>l({...o,baseSalary:C})}),u.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-500 pt-1",children:[u.jsx("span",{children:" ()"}),u.jsxs("span",{children:["+$",t.overtimePay.toLocaleString()]})]}),u.jsxs("div",{className:"border-t border-slate-100 my-1 pt-1",children:[u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:" Adjustments"}),u.jsx(d,{label:"",value:o.meal,onChange:C=>l({...o,meal:C}),className:"mb-1"}),u.jsx(d,{label:"",value:o.transport,onChange:C=>l({...o,transport:C}),className:"mb-1"}),u.jsx(d,{label:"",value:o.otherAllowance,onChange:C=>l({...o,otherAllowance:C})})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-slate-500",children:""}),u.jsxs("span",{className:"font-black text-slate-700",children:["$",o.baseSalary.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-slate-500",children:""}),u.jsxs("span",{className:"font-black text-amber-600",children:["+$",t.overtimePay.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-slate-500",children:""}),u.jsxs("span",{className:"font-black text-blue-600",children:["+$",f.toLocaleString()]})]})]}),u.jsxs("div",{className:"border-t border-emerald-200/50 pt-1 mt-1 flex justify-between",children:[u.jsx("span",{className:"font-black text-emerald-700 text-xs uppercase",children:""}),u.jsxs("span",{className:"font-black text-emerald-700",children:["$",p.toLocaleString()]})]})]}),u.jsxs("div",{className:`p-4 rounded-2xl border space-y-1 ${s?"bg-white border-rose-500 ring-4 ring-rose-50/50":"bg-rose-50 border-rose-100"}`,children:[u.jsx("p",{className:"text-[10px] uppercase font-black text-rose-400 tracking-widest mb-2",children:""}),s?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(d,{label:"",value:o.labor,onChange:C=>l({...o,labor:C})}),u.jsx(d,{label:"",value:o.health,onChange:C=>l({...o,health:C})})]}),u.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-500 border-b border-slate-100 pb-1 mb-1",children:[u.jsx("span",{children:" ()"}),u.jsxs("span",{className:"text-rose-500",children:["-$",t.deductions.late]})]}),u.jsx(d,{label:"",value:o.leave,onChange:C=>l({...o,leave:C})}),u.jsx(d,{label:"",value:o.otherDeduction,onChange:C=>l({...o,otherDeduction:C})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-slate-500",children:""}),u.jsxs("span",{className:"font-black text-rose-600",children:["-$",o.labor.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-slate-500",children:""}),u.jsxs("span",{className:"font-black text-rose-600",children:["-$",o.health.toLocaleString()]})]}),t.deductions.late>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-rose-500",children:""}),u.jsxs("span",{className:"font-black text-rose-600",children:["-$",t.deductions.late.toLocaleString()]})]}),o.leave>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-rose-500",children:""}),u.jsxs("span",{className:"font-black text-rose-600",children:["-$",o.leave.toLocaleString()]})]}),o.otherDeduction>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"font-bold text-rose-500",children:""}),u.jsxs("span",{className:"font-black text-rose-600",children:["-$",o.otherDeduction.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-slate-900 p-4 rounded-2xl text-white shadow-xl shadow-slate-200 flex flex-col justify-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-black text-slate-400 tracking-widest mb-1",children:""}),u.jsxs("p",{className:"text-3xl font-black tracking-tight",children:["$",w.toLocaleString()]}),s&&u.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"* "})]})]}),u.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(Du,{size:16}),"  (ERP )"]}),u.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase",children:""}),u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase text-center print:text-black",children:""}),u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase text-center print:text-black",children:""}),u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase text-center print:text-black",children:"/"}),u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase text-right",children:""}),u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase text-right",children:""}),u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase text-right",children:""}),u.jsx("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase text-right",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-slate-50",children:t.dailyLogs.map(C=>u.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"font-mono text-sm font-bold text-slate-600 print:text-black",children:C.date}),C.note&&u.jsx("div",{className:"text-[10px] text-slate-400 mt-0.5 print:text-black",children:C.note})]}),u.jsxs("td",{className:"px-4 py-3 text-center border-b border-slate-50 print:border-black",children:[C.status==="work"&&u.jsx("span",{className:"bg-blue-100 text-blue-700 text-[10px] font-black px-2 py-1 rounded print:border print:border-black print:bg-transparent print:text-black",children:""}),C.status==="leave"&&u.jsx("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-black px-2 py-1 rounded print:border print:border-black print:bg-transparent print:text-black",children:""}),C.status==="absent"&&u.jsx("span",{className:"text-slate-300 text-[10px] font-bold",children:"-"}),(C.status==="holiday"||C.status==="weekend")&&u.jsx("span",{className:"bg-purple-50 text-purple-700 text-[10px] font-black px-2 py-1 rounded print:border print:border-black print:bg-transparent print:text-black",children:C.note||(C.status==="weekend"?"":"")}),C.isLate&&u.jsx("div",{className:"mt-1",children:u.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[9px] font-black px-1.5 py-0.5 rounded print:border print:border-black print:bg-transparent print:text-black",children:["",C.lateMinutes,""]})}),C.isEarlyLeave&&u.jsx("div",{className:"mt-1",children:u.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[9px] font-black px-1.5 py-0.5 rounded print:border print:border-black print:bg-transparent print:text-black",children:["",C.earlyLeaveMinutes,""]})})]}),u.jsxs("td",{className:"px-4 py-3 text-center text-xs font-bold text-slate-600 font-mono whitespace-nowrap border-b border-slate-50 print:border-black print:text-black",children:[C.actualStartTime||"--:--"," - ",C.actualEndTime||"--:--"]}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"font-mono text-xs font-bold text-slate-600",children:[C.hours.toFixed(1),"h"]}),C.overtimeHours>0&&u.jsxs("span",{className:"font-mono text-[10px] font-bold text-amber-600",children:["OT: ",C.overtimeHours.toFixed(1),"h"]})]})}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-xs font-bold text-slate-500",children:C.salary>0?`$${C.salary.toLocaleString()}`:"-"}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-xs font-bold text-amber-600",children:C.overtimePay>0?`$${C.overtimePay.toLocaleString()}`:"-"}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-xs font-bold text-blue-600",children:C.allowance>0?`$${C.allowance.toLocaleString()}`:"-"}),u.jsxs("td",{className:"px-4 py-3 text-right font-mono text-sm font-black text-emerald-700 bg-emerald-50/30",children:["$",(C.salary+C.overtimePay+C.allowance-C.lateDeduction).toLocaleString(),C.lateDeduction>0&&u.jsxs("div",{className:"text-[9px] text-rose-500 font-bold",children:["- $",C.lateDeduction]})]})]},C.date))}),u.jsx("tfoot",{className:"bg-slate-50 border-t border-slate-100",children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:7,className:"px-4 py-3 text-right text-xs font-black text-slate-500 uppercase print:text-black",children:""}),u.jsxs("td",{className:"px-4 py-3 text-right font-black text-emerald-700 border-t-2 border-emerald-500",children:["$",t.grossSalary.toLocaleString()]})]})})]})})]})]})]})},iut=({records:e=[],teamMembers:t,currentUser:n,approvalRequests:r=[],onCreateApproval:i})=>{const[s,a]=B.useState("payroll"),[o,l]=B.useState(null),[c,d]=B.useState({});B.useEffect(()=>{try{const V=localStorage.getItem("bt_payroll_adjustments");V&&d(JSON.parse(V))}catch{}},[]);const f=(V,re)=>{const ee=`${w}-${V}`,ie={...c,[ee]:re};d(ie),localStorage.setItem("bt_payroll_adjustments",JSON.stringify(ie))},[p,m]=B.useState(null),[w,y]=B.useState(new Date().toISOString().slice(0,7)),[C,T]=B.useState(null),[k,R]=B.useState(new Set),P=Array.isArray(e)?e.filter(V=>V&&V.timestamp&&V.id):[],U=V=>!V||typeof V.lat!="number"||typeof V.lng!="number"?null:`${V.lat.toFixed(4)}, ${V.lng.toFixed(4)}`,O=V=>typeof V!="string"?"":V,L=B.useMemo(()=>{const re=r.filter(ee=>ee.status==="approved"&&(ee.templateName.includes("")||ee.title.includes(""))).map(ee=>({id:`correction-${ee.id}`,employeeId:ee.formData.targetEmployeeId||ee.requesterId,name:ee.formData.targetEmployeeName||ee.requesterName,type:ee.formData.type===""?"work-start":"work-end",timestamp:`${ee.formData.date}T${ee.formData.time}`,location:{lat:0,lng:0,address:""},isCorrection:!0}));return[...P,...re]},[P,r]),K=B.useMemo(()=>{const V=[...L].sort((ee,ie)=>new Date(ie.timestamp).getTime()-new Date(ee.timestamp).getTime()),re=new Map;return V.forEach(ee=>{const ie=O(ee.name);re.has(ie)||re.set(ie,[]),re.get(ie).push(ee)}),Array.from(re.entries()).map(([ee,ie])=>{const ue=ie.sort((fe,ce)=>{const Q=new Date(fe.timestamp).getTime(),Y=new Date(ce.timestamp).getTime();return(isNaN(Y)?0:Y)-(isNaN(Q)?0:Q)}),le=new Map;ue.forEach(fe=>{const ce=fe.timestamp.split("T")[0];le.has(ce)||le.set(ce,{records:[],hours:0}),le.get(ce).records.push(fe)});let xe=0;const ge=[];return le.forEach((fe,ce)=>{const Q=fe.records.filter(X=>X.type==="work-start").sort((X,ne)=>new Date(X.timestamp).getTime()-new Date(ne.timestamp).getTime()),Y=fe.records.filter(X=>X.type==="work-end").sort((X,ne)=>new Date(ne.timestamp).getTime()-new Date(X.timestamp).getTime());if(Q.length>0&&Y.length>0){const X=new Date(Q[0].timestamp).getTime(),ne=new Date(Y[0].timestamp).getTime();if(ne>X){let oe=(ne-X)/36e5;new Date(Q[0].timestamp).getHours()<12&&new Date(Y[0].timestamp).getHours()>=13&&(oe=Math.max(0,oe-1)),fe.hours=oe}}xe+=fe.hours,ge.push({date:ce,records:fe.records,hours:fe.hours})}),ge.sort((fe,ce)=>ce.date.localeCompare(fe.date)),{name:ee,records:ue,count:ue.length,dailyRecords:ge,totalMonthHours:xe,dailyGroups:le}}).sort((ee,ie)=>ee.name.localeCompare(ie.name,"zh-TW"))},[L]),j=V=>{R(re=>{const ee=new Set(re);return ee.has(V)?ee.delete(V):ee.add(V),ee})},te=B.useMemo(()=>{const[V,re]=w.split("-"),ee=parseInt(V),ie=parseInt(re),ue=new Date(ee,ie,0).getDate(),le=L.filter(fe=>fe.timestamp.startsWith(w)),xe=r.filter(fe=>{var X,ne;const ce=fe.templateName.includes("")||fe.title.includes(""),Q=fe.status==="approved";let Y=!1;return(X=fe.formData)!=null&&X.date&&fe.formData.date.startsWith(w)&&(Y=!0),(ne=fe.formData)!=null&&ne.startDate&&fe.formData.startDate.startsWith(w)&&(Y=!0),ce&&Q&&Y}),ge={};return t.forEach(fe=>{ge[fe.employeeId||fe.id]={member:fe,workDays:0,leaveDays:0,hours:0,overtimeHours:0,records:[],baseSalary:0,overtimePay:0,allowances:{spiderman:0,meal:0,transport:0,other:0,total:0},grossSalary:0,deductions:{late:0,leave:0,labor:fe.laborFee||0,health:fe.healthFee||0,other:0},netSalary:0,dailyLogs:[]}}),Object.values(ge).forEach(fe=>{var ke;const ce=fe.member,Q=ce.employeeId||ce.id,Y=ce.dailyRate||0,X=Y>0?Y/8:0;for(let Ne=1;Ne<=ue;Ne++){const Ue=`${w}-${Ne.toString().padStart(2,"0")}`,Ye=tut[Ue],ve=nut(Ue),gt=(ce.name||"").trim(),yt=le.filter(ut=>ut.timestamp.startsWith(Ue)&&(ut.employeeId&&ut.employeeId===Q||ut.name&&ut.name.trim()===gt)),Fe=yt.some(ut=>ut.type==="work-start"),Nt=xe.find(ut=>{var cn,or;const yn=ut.requesterId===ce.id,un=((cn=ut.formData)==null?void 0:cn.date)===Ue||((or=ut.formData)==null?void 0:or.startDate)===Ue;return yn&&un}),nt=r.find(ut=>{var zn,Kn;const yn=ut.templateName.includes("")||ut.title.includes(""),un=ut.status==="approved",cn=ut.requesterId===ce.id,or=((zn=ut.formData)==null?void 0:zn.date)===Ue||((Kn=ut.formData)==null?void 0:Kn.startDate)===Ue;return yn&&un&&cn&&or}),Ct=nt&&parseFloat((ke=nt.formData)==null?void 0:ke.hours)||0;let lt=0,Qt=!1,ot=0,An=!1,bn=0,Cn=!1,Vn,Sn;if(Fe)if(ce.salaryType==="hourly"){const ut=yt.sort((cn,or)=>new Date(cn.timestamp).getTime()-new Date(or.timestamp).getTime());let yn=0,un=null;if(ut.length>0){const cn=ut.filter(zn=>zn.type==="work-start"),or=ut.filter(zn=>zn.type==="work-end");cn.length>0&&(Vn=new Date(cn[0].timestamp).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"})),or.length>0&&(Sn=new Date(or[or.length-1].timestamp).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}))}ut.forEach(cn=>{const or=new Date(cn.timestamp).getTime();cn.type==="work-start"?un===null&&(un=or):cn.type==="work-end"&&(un!==null?(yn+=or-un,un=null):Cn=!0)}),un!==null&&(Cn=!0),lt=yn/(1e3*60*60)}else{const ut=yt.filter(un=>un.type==="work-start").map(un=>({time:new Date(un.timestamp).getTime(),timestamp:un.timestamp})),yn=yt.filter(un=>un.type==="work-end").map(un=>({time:new Date(un.timestamp).getTime(),timestamp:un.timestamp}));if(ut.length>0&&yn.length>0){const un=ut.reduce((Hn,kn)=>kn.time<Hn.time?kn:Hn),cn=yn.reduce((Hn,kn)=>kn.time>Hn.time?kn:Hn);Vn=new Date(un.timestamp).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}),Sn=new Date(cn.timestamp).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}),lt=(cn.time-un.time)/(1e3*60*60);const or=new Date(un.timestamp),zn=new Date(cn.timestamp),Kn=new Date(or);Kn.setHours(12,0,0,0);const Qn=new Date(or);if(Qn.setHours(13,0,0,0),or<Qn&&zn>Kn&&(lt=Math.max(0,lt-1)),ce.workStartTime){const[Hn,kn]=ce.workStartTime.split(":").map(Number),kr=new Date(un.timestamp);kr.setHours(Hn,kn,0,0);const ei=kr.getTime();un.time>ei&&(Qt=!0,ot=Math.round((un.time-ei)/(1e3*60)))}if(ce.workEndTime){const[Hn,kn]=ce.workEndTime.split(":").map(Number),kr=new Date(cn.timestamp);kr.setHours(Hn,kn,0,0);const ei=kr.getTime();cn.time<ei&&(An=!0,bn=Math.round((ei-cn.time)/(1e3*60)))}}else ut.length>0?Vn=new Date(ut[0].timestamp).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):yn.length>0&&(Sn=new Date(yn[yn.length-1].timestamp).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"})),Cn=!0,lt=0}Cn&&(lt=0);let tr="absent",xn="",Ht=0,hn=0,rn=0,br=0,Tn=0;if(Fe){if(tr="work",fe.workDays++,fe.hours+=lt,Cn?(Ht=0,xn=" ()"):ce.salaryType==="hourly"&&ce.hourlyRate?Ht=Math.round(lt*ce.hourlyRate):ce.salaryType==="daily"&&ce.dailyRate?Ht=ce.dailyRate:ce.salaryType==="monthly"?Ht=0:ce.dailyRate&&(Ht=ce.dailyRate),fe.baseSalary+=Ht,fe.records.push(...yt),Qt&&ot>0){let ut=0;ce.salaryType==="monthly"&&ce.monthlySalary?ut=ce.monthlySalary/30/8/60:(ce.salaryType==="daily"&&ce.dailyRate||ce.dailyRate)&&(ut=ce.dailyRate/8/60),Tn=Math.round(ut*ot),fe.deductions.late+=Tn}if(An&&bn>0&&(xn=` ${bn} `),lt>8&&(br=lt-8,fe.overtimeHours+=br,Ct>0)){const ut=Math.min(Ct,br),yn=Math.min(ut,2),un=Math.max(0,ut-2);hn+=yn*X*1.34,hn+=un*X*1.67,hn=Math.round(hn),fe.overtimePay+=hn}ce.spiderManAllowance&&ce.spiderManAllowance>0&&(rn+=ce.spiderManAllowance,fe.allowances.spiderman+=ce.spiderManAllowance)}else Nt?(tr="leave",fe.leaveDays++,xn=`${Nt.templateName} (${Nt.title||""})`):Ye?(tr="holiday",xn=Ye):ve&&(tr="weekend");fe.dailyLogs.push({date:Ue,status:tr,hours:lt,overtimeHours:br,approvedOvertimeHours:Ct,isLate:Qt,lateMinutes:ot,lateDeduction:Tn,isEarlyLeave:An,earlyLeaveMinutes:bn,actualStartTime:Vn,actualEndTime:Sn,note:xn,salary:Ht,overtimePay:hn,allowance:rn})}const ne=Number(ce.monthlySalary||0);(ne>0&&(ce.salaryType==="monthly"||!ce.salaryType)||ne>0&&ce.salaryType==="daily"&&fe.workDays>0&&(ce.dailyRate||0)===0)&&(fe.baseSalary=ne);const oe=`${w}-${Q}`,Ce=c[oe];Ce&&(Ce.baseSalary!==void 0&&(fe.baseSalary=Number(Ce.baseSalary)),Ce.labor!==void 0&&(fe.deductions.labor=Number(Ce.labor)),Ce.health!==void 0&&(fe.deductions.health=Number(Ce.health)),fe.deductions.leave=Number(Ce.leave||0),fe.deductions.other=Number(Ce.otherDeduction||0),fe.allowances.meal=Number(Ce.meal||0),fe.allowances.transport=Number(Ce.transport||0),fe.allowances.other=Number(Ce.otherAllowance||0)),fe.allowances.total=fe.allowances.spiderman+fe.allowances.meal+fe.allowances.transport+fe.allowances.other,fe.grossSalary=fe.baseSalary+fe.overtimePay+fe.allowances.total,fe.netSalary=Math.max(0,fe.grossSalary-fe.deductions.labor-fe.deductions.health-fe.deductions.late-fe.deductions.leave-fe.deductions.other)}),Object.values(ge).sort((fe,ce)=>ce.workDays-fe.workDays)},[L,t,w,r,c]),G=()=>{const V=["","","","","","","","//","","","","","","",""],re=te.map(xe=>{var ge,fe,ce,Q,Y,X,ne,oe;return[((ge=xe.member)==null?void 0:ge.name)||"",((fe=xe.member)==null?void 0:fe.employeeId)||"-",((ce=xe.member)==null?void 0:ce.role)||"-",xe.workDays,xe.leaveDays,xe.hours.toFixed(1),xe.overtimeHours.toFixed(1),((Q=xe.member)==null?void 0:Q.salaryType)==="monthly"?`${(Y=xe.member)==null?void 0:Y.monthlySalary}()`:((X=xe.member)==null?void 0:X.salaryType)==="hourly"?`${(ne=xe.member)==null?void 0:ne.hourlyRate}()`:((oe=xe.member)==null?void 0:oe.dailyRate)||0,xe.baseSalary,xe.overtimePay,xe.allowances.total,xe.deductions.late,xe.deductions.labor,xe.deductions.health,xe.netSalary]}),ee="\uFEFF"+[V,...re].map(xe=>xe.join(",")).join(`
`),ie=new Blob([ee],{type:"text/csv;charset=utf-8;"}),ue=URL.createObjectURL(ie),le=document.createElement("a");le.href=ue,le.setAttribute("download",`_${w}.csv`),document.body.appendChild(le),le.click(),document.body.removeChild(le)};return u.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto animate-in fade-in space-y-6",children:[p&&p.location&&u.jsx(dR,{location:p.location,onClose:()=>m(null),title:`${O(p.name)} - `}),C&&C.member&&u.jsx(rut,{member:C.member,data:C.data,month:w,onClose:()=>T(null),onUpdateAdjustment:V=>f(C.member.id,V)}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 print:hidden",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-black text-stone-900 mb-1",children:""}),u.jsx("p",{className:"text-stone-500 font-bold text-xs",children:""})]}),u.jsxs("div",{className:"flex bg-stone-100 p-1 rounded-xl",children:[u.jsx("button",{onClick:()=>a("payroll"),className:`px-4 py-2 rounded-lg text-xs font-black transition-all ${s==="payroll"?"bg-white text-stone-900 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Cc,{size:14})," "]})}),u.jsx("button",{onClick:()=>a("records"),className:`px-4 py-2 rounded-lg text-xs font-black transition-all ${s==="records"?"bg-white text-stone-900 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ru,{size:14})," "]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 print:hidden",children:[u.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-200 shadow-sm hover:shadow-md transition-all",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-600",children:u.jsx(Cc,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest leading-none mb-1",children:""}),u.jsxs("p",{className:"text-2xl font-black text-stone-900 tabular-nums",children:["$",te.reduce((V,re)=>V+re.netSalary,0).toLocaleString()]})]})]})}),u.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-200 shadow-sm hover:shadow-md transition-all",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-600",children:u.jsx(Du,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest leading-none mb-1",children:" / "}),u.jsxs("p",{className:"text-2xl font-black text-stone-900 tabular-nums flex items-center gap-2",children:[u.jsxs("span",{children:[te.reduce((V,re)=>V+re.workDays,0)," "]}),u.jsxs("span",{className:"text-sm font-bold text-amber-500 bg-amber-50 px-2 py-0.5 rounded-full",children:[te.reduce((V,re)=>V+re.leaveDays,0)," "]})]})]})]})}),u.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-stone-200 shadow-sm hover:shadow-md transition-all",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-2xl flex items-center justify-center text-rose-600",children:u.jsx(ah,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest leading-none mb-1",children:""}),u.jsxs("p",{className:"text-2xl font-black text-stone-900 tabular-nums",children:["$",te.reduce((V,re)=>V+re.deductions.labor+re.deductions.health,0).toLocaleString()]})]})]})})]}),s==="payroll"&&u.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 print:hidden",children:[u.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-200 flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center text-emerald-600",children:u.jsx(_oe,{size:20})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsx("input",{type:"month",value:w,onChange:V=>y(V.target.value),className:"font-bold text-stone-900 bg-transparent outline-none cursor-pointer"})]})]}),u.jsxs("button",{onClick:G,className:"bg-emerald-600 text-white px-4 py-2 rounded-xl text-xs font-black flex items-center gap-2 hover:bg-emerald-700 active:scale-95 transition-all shadow-lg shadow-emerald-100",children:[u.jsx(f3,{size:16}),"  CSV "]})]}),u.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-stone-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-stone-50 border-b border-stone-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-stone-400 uppercase tracking-widest",children:" / "}),u.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-stone-400 uppercase tracking-widest hidden md:table-cell",children:""}),u.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-stone-400 uppercase tracking-widest hidden md:table-cell",children:""}),u.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""}),u.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-stone-400 uppercase tracking-widest",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-stone-100",children:te.filter(V=>{if(!V.member)return!1;const re=["","","","","","","",""],ee=["T-","CEO"],ie=typeof V.member.id=="string"&&ee.some(le=>V.member.id.startsWith(le)&&V.member.id.length<8),ue=re.includes(V.member.name);return!ie&&!ue}).map(V=>{var re,ee,ie,ue,le,xe,ge,fe,ce,Q,Y,X;return V.workDays>0||V.leaveDays>0,u.jsxs("tr",{className:"hover:bg-stone-50 transition-colors group",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:((re=V.member)==null?void 0:re.avatar)||`https://ui-avatars.com/api/?name=${(ee=V.member)==null?void 0:ee.name}&background=random`,alt:"avatar",className:"w-10 h-10 rounded-xl object-cover border border-stone-100 shadow-sm"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-stone-900",children:((ie=V.member)==null?void 0:ie.name)||""}),u.jsx("div",{className:"text-[10px] text-stone-400 font-black uppercase tracking-wider",children:((ue=V.member)==null?void 0:ue.role)||""})]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsxs("span",{className:`inline-block px-3 py-1 rounded-lg text-sm font-black ${V.workDays>0?"bg-blue-50 text-blue-600":"text-stone-300"}`,children:[V.workDays," ",u.jsx("span",{className:"text-[10px] opacity-70",children:""})]}),V.leaveDays>0&&u.jsxs("span",{className:"text-[10px] font-bold text-amber-500 bg-amber-50 px-2 py-0.5 rounded-full",children:[" ",V.leaveDays," "]})]})}),u.jsx("td",{className:"px-6 py-4 text-right hidden md:table-cell",children:u.jsx("span",{className:`text-xs font-mono font-bold ${((le=V.member)==null?void 0:le.salaryType)==="monthly"||Number(((xe=V.member)==null?void 0:xe.monthlySalary)||0)>0||Number(((ge=V.member)==null?void 0:ge.dailyRate)||0)>0||Number(((fe=V.member)==null?void 0:fe.hourlyRate)||0)>0?"text-slate-600":"text-rose-400"}`,children:((ce=V.member)==null?void 0:ce.salaryType)==="monthly"?`$${Number(V.member.monthlySalary||0).toLocaleString()}`:Number(((Q=V.member)==null?void 0:Q.dailyRate)||0)>0?`$${Number(V.member.dailyRate).toLocaleString()}()`:Number(((Y=V.member)==null?void 0:Y.hourlyRate)||0)>0?`$${Number(V.member.hourlyRate).toLocaleString()}()`:""})}),u.jsx("td",{className:"px-6 py-4 text-right hidden md:table-cell",children:u.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[u.jsxs("span",{className:"text-[10px] font-bold text-slate-400",children:[" $",V.deductions.labor]}),u.jsxs("span",{className:"text-[10px] font-bold text-slate-400",children:[" $",V.deductions.health]})]})}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsxs("span",{className:`text-lg font-black font-mono tracking-tight ${V.netSalary>0?"text-emerald-600":"text-stone-300"}`,children:["$",V.netSalary.toLocaleString()]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("button",{onClick:()=>V.member&&T({member:V.member,data:V}),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"",children:u.jsx(ah,{size:18})})})]},((X=V.member)==null?void 0:X.id)||Math.random())})})]})})})]}),s==="records"&&u.jsx("div",{className:"space-y-6 animate-in slide-in-from-left-4",children:u.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-stone-200 overflow-hidden",children:u.jsx("div",{className:"p-6 space-y-3",children:K.length===0?u.jsx("div",{className:"text-center py-12 text-stone-400",children:""}):K.map(({name:V,records:re,count:ee,dailyRecords:ie,totalMonthHours:ue})=>{const le=k.has(V),xe=t.find(ge=>ge.name===V);return u.jsxs("div",{className:"border border-stone-200 rounded-2xl overflow-hidden",children:[u.jsxs("button",{onClick:()=>j(V),className:"w-full px-6 py-4 bg-stone-50 hover:bg-stone-100 transition-colors flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:(xe==null?void 0:xe.avatar)||`https://ui-avatars.com/api/?name=${V}&background=random`,alt:"avatar",className:"w-12 h-12 rounded-xl object-cover border-2 border-white shadow-sm"}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-lg font-black text-stone-900",children:V}),u.jsx("p",{className:"text-xs text-stone-500 font-bold",children:(xe==null?void 0:xe.role)||""})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"bg-emerald-50 text-emerald-700 px-4 py-2 rounded-xl",children:[u.jsx("span",{className:"text-sm font-black",children:ue.toFixed(1)}),u.jsx("span",{className:"text-xs font-bold ml-1",children:""})]}),u.jsxs("div",{className:"bg-blue-50 text-blue-700 px-4 py-2 rounded-xl",children:[u.jsx("span",{className:"text-sm font-black",children:ee}),u.jsx("span",{className:"text-xs font-bold ml-1",children:""})]}),le?u.jsx(ch,{size:20,className:"text-stone-400"}):u.jsx(uh,{size:20,className:"text-stone-400"})]})]}),le&&u.jsx("div",{className:"bg-white",children:ie.map(({date:ge,records:fe,hours:ce})=>{const Y=new Date(ge+"T00:00:00").toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"short"});return u.jsxs("div",{className:"border-b border-stone-100 last:border-b-0",children:[u.jsxs("div",{className:"bg-stone-50/50 px-6 py-2 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Du,{size:14,className:"text-stone-400"}),u.jsx("span",{className:"text-xs font-black text-stone-600",children:Y})]}),u.jsx("div",{className:"flex items-center gap-2",children:ce>0?u.jsxs(u.Fragment,{children:[u.jsx(Ru,{size:14,className:"text-emerald-600"}),u.jsxs("span",{className:"text-xs font-black text-emerald-700",children:[ce.toFixed(1)," "]}),ce>8&&u.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[" ",(ce-8).toFixed(1),"h"]})]}):u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-bold text-rose-500 bg-rose-50 px-2 py-1 rounded-lg",children:" ()"}),i&&u.jsx("button",{onClick:()=>{const X=t.find(ne=>ne.name===V);X&&l({date:ge,memberId:X.id||X.employeeId,memberName:X.name})},className:"text-[10px] font-black bg-emerald-500 text-white px-2 py-1 rounded-lg hover:bg-emerald-600 shadow-sm transition-all",children:""})]})})]}),u.jsx("table",{className:"w-full",children:u.jsx("tbody",{children:(()=>{const X=fe.filter(oe=>oe.type==="work-start"),ne=X.length>0?X.reduce((oe,Ce)=>new Date(oe.timestamp).getTime()<new Date(Ce.timestamp).getTime()?oe:Ce):null;return fe.map(oe=>{const Ce=U(oe.location),ke=new Date(oe.timestamp),Ne=t.find(ve=>ve.name===V);let Ue=!1,Ye=0;if(oe.type==="work-start"&&ne&&oe.id===ne.id&&(Ne!=null&&Ne.workStartTime)){const[ve,gt]=Ne.workStartTime.split(":").map(Number),yt=new Date(ke);yt.setHours(ve,gt,0,0),ke>yt&&(Ue=!0,Ye=Math.round((ke.getTime()-yt.getTime())/(1e3*60)))}return u.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-3 whitespace-nowrap w-24",children:u.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-bold ${oe.type==="work-start"?"bg-emerald-100 text-emerald-700":"bg-indigo-100 text-indigo-700"}`,children:oe.type==="work-start"?"":""})}),u.jsx("td",{className:"px-6 py-3 whitespace-nowrap font-mono text-sm text-stone-600",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:ke.toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),Ue&&u.jsxs("span",{className:"text-[10px] font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded-full",children:[" ",Ye,""]})]})}),u.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-stone-500",children:u.jsxs("div",{className:`flex items-center gap-1 ${Ce?"cursor-pointer hover:text-orange-500 hover:underline":""}`,onClick:()=>Ce&&m(oe),children:[u.jsx(aa,{size:14}),Ce||""]})})]},oe.id)})})()})})]},ge)})})]},V)})})})}),p&&u.jsx(dR,{record:p,onClose:()=>m(null)}),o&&u.jsx("div",{className:"fixed inset-0 z-[300] bg-black/50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in duration-200",children:[u.jsxs("div",{className:"p-4 border-b border-stone-100 flex justify-between items-center bg-stone-50",children:[u.jsx("h3",{className:"font-bold text-stone-800",children:""}),u.jsx("button",{onClick:()=>l(null),children:u.jsx(rp,{size:20,className:"text-stone-400 hover:text-stone-600"})})]}),u.jsxs("form",{onSubmit:V=>{if(V.preventDefault(),!i){alert("");return}const re=new FormData(V.currentTarget),ee=re.get("time"),ie=re.get("type"),ue=re.get("reason");i({id:crypto.randomUUID(),templateId:"TPL-CORRECTION",templateName:"",requesterId:n.id,requesterName:n.name,title:`[] ${o.memberName} - ${o.date}`,formData:{date:o.date,time:ee,type:ie,reason:ue,targetEmployeeId:o.memberId,targetEmployeeName:o.memberName},status:"pending",currentStep:0,workflowLogs:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),alert(""),l(null)},className:"p-4 space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-stone-500",children:""}),u.jsx("div",{className:"font-bold text-lg",children:o.date})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-stone-500",children:""}),u.jsxs("select",{name:"type",className:"w-full bg-stone-100 rounded-xl px-3 py-2 font-bold outline-none focus:ring-2 ring-emerald-500",children:[u.jsx("option",{value:"",children:" (Work Start)"}),u.jsx("option",{value:"",children:" (Work End)"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-stone-500",children:""}),u.jsx("input",{type:"time",name:"time",required:!0,defaultValue:"09:00",className:"w-full bg-stone-100 rounded-xl px-3 py-2 font-bold outline-none focus:ring-2 ring-emerald-500"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-bold text-stone-500",children:""}),u.jsx("input",{type:"text",name:"reason",placeholder:"",required:!0,className:"w-full bg-stone-100 rounded-xl px-3 py-2 font-bold outline-none focus:ring-2 ring-emerald-500"})]}),u.jsx("div",{className:"pt-2",children:u.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-bold py-3 rounded-xl hover:bg-emerald-700 active:scale-95 transition-all shadow-lg shadow-emerald-100",children:""})})]})]})})]})},sut=({requests:e=[],templates:t=[],teamMembers:n,currentUser:r,onSaveRequest:i,onSaveTemplate:s,onDeleteTemplate:a,onAction:o})=>{const[l,c]=B.useState("my-tasks"),[d,f]=B.useState(!1),[p,m]=B.useState(!1),[w,y]=B.useState(null),[C,T]=B.useState(null),[k,R]=B.useState({}),[P,U]=B.useState(""),[O,L]=B.useState(""),[K,j]=B.useState(null),te=B.useMemo(()=>e.filter(ee=>{var ue;if(ee.status!=="pending")return!1;const ie=(ue=t.find(le=>le.id===ee.templateId))==null?void 0:ue.workflow[ee.currentStep];return r.role===ie||r.id===ie}),[e,r,t]),G=B.useMemo(()=>e.filter(ee=>ee.requesterId===r.id),[e,r]),V=ee=>{T(ee),R({}),U(""),f(!0)},re=ee=>{if(ee.preventDefault(),!C)return;const ie={id:"REQ-"+Date.now().toString().slice(-6),templateId:C.id,templateName:C.name,requesterId:r.id,requesterName:r.name,title:P,formData:k,status:"pending",currentStep:0,workflowLogs:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i(ie),f(!1)};return u.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto animate-in fade-in space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-[2rem] flex items-center justify-center text-white shadow-xl shadow-indigo-100 ring-4 ring-white",children:u.jsx(hR,{size:32})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:""}),u.jsxs("p",{className:"text-slate-500 font-bold text-sm flex items-center gap-2",children:[u.jsx(lce,{size:14})," "]})]})]}),u.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-2xl shadow-inner border border-slate-200",children:[u.jsxs("button",{onClick:()=>c("my-tasks"),className:`px-6 py-2.5 rounded-xl text-xs font-black transition-all flex items-center gap-2 ${l==="my-tasks"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-indigo-600"}`,children:["",te.length>0&&u.jsx("span",{className:"bg-rose-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-[10px] animate-pulse",children:te.length})]}),u.jsxs("button",{onClick:()=>c("my-requests"),className:`px-6 py-2.5 rounded-xl text-xs font-black transition-all flex items-center gap-2 ${l==="my-requests"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-indigo-600"}`,children:[u.jsx(OW,{size:14})," "]}),["SuperAdmin","Admin","DeptAdmin","Manager","AdminStaff"].includes(r.role)&&u.jsxs("button",{onClick:()=>c("templates"),className:`px-6 py-2.5 rounded-xl text-xs font-black transition-all flex items-center gap-2 ${l==="templates"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-indigo-600"}`,children:[u.jsx(P2,{size:14})," "]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-200 shadow-sm space-y-4",children:[u.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:""}),u.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.map(ee=>u.jsxs("button",{onClick:()=>V(ee),className:"group w-full p-4 bg-slate-50 hover:bg-indigo-600 rounded-2xl border border-slate-100 hover:border-indigo-500 transition-all text-left flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-indigo-500 group-hover:scale-110 transition-transform",children:u.jsx(ah,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-black text-slate-800 group-hover:text-white transition-colors",children:ee.name}),u.jsxs("p",{className:"text-[10px] text-slate-400 group-hover:text-indigo-100 font-bold transition-colors",children:[ee.workflow.length," "]})]})]}),u.jsx(zl,{size:16,className:"text-slate-300 group-hover:text-white"})]},ee.id))})]}),u.jsxs("div",{className:"bg-indigo-600 p-8 rounded-[2.5rem] text-white shadow-xl shadow-indigo-100 relative overflow-hidden group",children:[u.jsx("div",{className:"absolute -right-8 -bottom-8 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform"}),u.jsx("h4",{className:"text-xl font-black mb-2 relative z-10",children:""}),u.jsx("p",{className:"text-indigo-100 text-xs font-medium mb-6 relative z-10",children:""}),u.jsx("button",{onClick:()=>{y(null),m(!0)},className:"w-full bg-white text-indigo-600 py-3 rounded-xl text-xs font-black shadow-lg shadow-indigo-800/20 active:scale-95 transition-all relative z-10",children:""})]})]}),u.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l==="my-tasks"&&u.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex items-center justify-between px-2",children:[u.jsxs("h2",{className:"text-lg font-black text-slate-900 flex items-center gap-2",children:[" ",u.jsx("span",{className:"bg-rose-500 text-white text-[10px] px-2 py-0.5 rounded-full",children:te.length})]}),u.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[u.jsx(fR,{size:16}),u.jsx("span",{className:"text-xs font-bold",children:""})]})]}),te.length===0?u.jsxs("div",{className:"bg-white border-2 border-dashed border-slate-100 rounded-[2.5rem] py-24 flex flex-col items-center justify-center text-slate-300 gap-4",children:[u.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:u.jsx(gd,{size:40,className:"text-slate-200"})}),u.jsx("p",{className:"font-bold",children:""})]}):te.map(ee=>u.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-200 shadow-sm hover:shadow-xl transition-all group",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[u.jsxs("div",{className:"flex gap-5",children:[u.jsx("div",{className:"w-14 h-14 bg-amber-50 rounded-2xl flex items-center justify-center text-amber-500 shrink-0",children:u.jsx(Ru,{size:28})}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-black bg-amber-100 text-amber-700 px-2 py-0.5 rounded uppercase tracking-widest",children:ee.templateName}),u.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:ee.id})]}),u.jsx("h3",{className:"text-lg font-black text-slate-900",children:ee.title||""}),u.jsxs("p",{className:"text-xs text-slate-500 font-bold flex items-center gap-1",children:["",ee.requesterName," ",u.jsx(uh,{size:12}),"  ",ee.currentStep+1," "]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>j(ee),className:"px-5 py-2.5 bg-slate-50 hover:bg-slate-100 rounded-xl text-xs font-black text-slate-600 transition-all border border-slate-200",children:""}),u.jsx("button",{onClick:()=>{j(ee),L("")},className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-black shadow-lg shadow-indigo-100 transition-all active:scale-95",children:""})]})]})},ee.id))]}),l==="my-requests"&&u.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[u.jsx("h2",{className:"text-lg font-black text-slate-900 px-2",children:""}),u.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:" / "}),u.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:""}),u.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:G.map(ee=>u.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[u.jsx("td",{className:"px-8 py-5",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-slate-900 text-sm",children:ee.id}),u.jsx("p",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:ee.templateName})]})}),u.jsx("td",{className:"px-8 py-5",children:u.jsx("p",{className:"font-bold text-slate-700",children:ee.title||""})}),u.jsx("td",{className:"px-8 py-5",children:u.jsxs("div",{className:"flex justify-center",children:[ee.status==="pending"&&u.jsx("span",{className:"bg-amber-50 text-amber-600 px-3 py-1 rounded-full text-[10px] font-black ring-1 ring-amber-100",children:""}),ee.status==="approved"&&u.jsx("span",{className:"bg-emerald-50 text-emerald-600 px-3 py-1 rounded-full text-[10px] font-black ring-1 ring-emerald-100",children:""}),ee.status==="rejected"&&u.jsx("span",{className:"bg-rose-50 text-rose-600 px-3 py-1 rounded-full text-[10px] font-black ring-1 ring-rose-100",children:""})]})}),u.jsxs("td",{className:"px-8 py-5 text-xs text-slate-500 font-medium",children:[new Date(ee.createdAt).toLocaleDateString()," ",new Date(ee.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),u.jsx("td",{className:"px-8 py-5 text-right",children:u.jsx("button",{onClick:()=>j(ee),className:"text-slate-400 hover:text-indigo-600 p-2",children:u.jsx(uh,{size:18})})})]},ee.id))})]})})]}),l==="templates"&&u.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex justify-between items-center px-2",children:[u.jsx("h2",{className:"text-lg font-black text-slate-900",children:""}),u.jsxs("button",{onClick:()=>{y(null),m(!0)},className:"flex items-center gap-2 text-indigo-600 text-sm font-black hover:underline",children:[u.jsx(zl,{size:16})," "]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(ee=>u.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-200 shadow-sm flex items-start justify-between group",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-400 group-hover:text-indigo-500 transition-colors",children:u.jsx(P2,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-slate-900",children:ee.name}),u.jsx("p",{className:"text-xs text-slate-500 font-bold",children:ee.description||""})]}),u.jsx("div",{className:"flex items-center gap-1",children:ee.workflow.map((ie,ue)=>u.jsxs(mn.Fragment,{children:[u.jsx("div",{className:"px-2 py-1 bg-slate-100 rounded text-[9px] font-black text-slate-500 border border-slate-200",children:ie}),ue<ee.workflow.length-1&&u.jsx(Np,{size:10,className:"text-slate-300 mx-0.5"})]},ue))})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{y(ee),m(!0)},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",children:u.jsx(AR,{size:16})}),u.jsx("button",{onClick:()=>a(ee.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-xl transition-all",children:u.jsx(Ni,{size:16})})]})]},ee.id))})]})]})]}),d&&C&&u.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-100",children:u.jsx(D2,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black text-slate-900",children:""}),u.jsx("p",{className:"text-xs text-indigo-500 font-black uppercase tracking-widest",children:C.name})]})]}),u.jsx("button",{onClick:()=>f(!1),className:"p-2.5 hover:bg-slate-200 rounded-full transition-colors text-slate-400",children:u.jsx(rp,{size:24})})]}),u.jsxs("form",{onSubmit:re,className:"flex-1 overflow-y-auto p-8 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2 px-1",children:" *"}),u.jsx("input",{required:!0,placeholder:"1",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold",value:P,onChange:ee=>U(ee.target.value)})]}),C.formFields.map(ee=>{var ie;return u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2 px-1",children:[ee.label," ",ee.required?"*":""]}),ee.type==="text"&&u.jsx("textarea",{required:ee.required,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold min-h-[100px]",value:k[ee.key]||"",onChange:ue=>R({...k,[ee.key]:ue.target.value})}),ee.type==="number"&&u.jsx("input",{type:"number",required:ee.required,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold",value:k[ee.key]||"",onChange:ue=>R({...k,[ee.key]:ue.target.value})}),ee.type==="date"&&u.jsx("input",{type:"date",required:ee.required,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold",value:k[ee.key]||"",onChange:ue=>R({...k,[ee.key]:ue.target.value})}),ee.type==="time"&&u.jsx("input",{type:"time",required:ee.required,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold",value:k[ee.key]||"",onChange:ue=>R({...k,[ee.key]:ue.target.value})}),ee.type==="select"&&u.jsxs("select",{required:ee.required,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold",value:k[ee.key]||"",onChange:ue=>R({...k,[ee.key]:ue.target.value}),children:[u.jsx("option",{value:"",children:"..."}),(ie=ee.options)==null?void 0:ie.map(ue=>u.jsx("option",{value:ue,children:ue},ue))]}),ee.type==="teamMember"&&u.jsxs("select",{required:ee.required,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold",value:k[ee.key]||"",onChange:ue=>R({...k,[ee.key]:ue.target.value}),children:[u.jsx("option",{value:"",children:"..."}),n.map(ue=>u.jsxs("option",{value:ue.name,children:[ue.name," - ",ue.role]},ue.id))]})]},ee.key)}),u.jsxs("div",{className:"bg-amber-50 rounded-2xl p-5 border border-amber-100 flex gap-4",children:[u.jsx(xh,{className:"text-amber-500 shrink-0"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-[11px] font-black text-amber-700 uppercase tracking-widest",children:""}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsxs("span",{className:"text-[10px] font-bold text-slate-500",children:[r.name," ()"]}),u.jsx(uh,{size:10,className:"text-amber-300"}),C.workflow.map((ee,ie)=>u.jsxs(mn.Fragment,{children:[u.jsx("span",{className:"text-[10px] font-bold text-amber-700",children:ee}),ie<C.workflow.length-1&&u.jsx(uh,{size:10,className:"text-amber-300"})]},ie))]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 py-4 rounded-2xl border border-slate-200 text-slate-600 font-black text-sm hover:bg-slate-50 transition-all",children:""}),u.jsxs("button",{type:"submit",className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black text-sm shadow-xl hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(D2,{size:18})," "]})]})]})]})}),K&&!d&&u.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",children:[u.jsxs("div",{className:"flex-1 p-8 md:p-12 overflow-y-auto space-y-8 no-scrollbar",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-widest",children:K.templateName}),u.jsx("h2",{className:"text-3xl font-black text-slate-900",children:K.title||""}),u.jsxs("div",{className:"flex items-center gap-4 text-xs font-bold text-slate-400",children:[u.jsxs("span",{children:["",K.requesterName]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["",new Date(K.createdAt).toLocaleString()]})]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:Object.entries(K.formData).map(([ee,ie])=>{const ue=t.find(ge=>ge.id===K.templateId),le=ue==null?void 0:ue.formFields.find(ge=>ge.key===ee),xe=(le==null?void 0:le.label)||ee;return ee==="targetEmployeeId"||ee==="targetEmployeeName"?K.requesterId===K.formData.targetEmployeeId?null:u.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:ee==="targetEmployeeName"?"":ee}),u.jsx("p",{className:"text-slate-800 font-bold whitespace-pre-wrap",children:ie})]},ee):u.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:xe}),u.jsx("p",{className:"text-slate-800 font-bold whitespace-pre-wrap",children:ie})]},ee)})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 pb-2",children:""}),u.jsxs("div",{className:"relative border-l-2 border-slate-100 ml-3 space-y-8 py-2",children:[K.workflowLogs.map((ee,ie)=>u.jsxs("div",{className:"relative pl-8",children:[u.jsx("div",{className:`absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white shadow-sm ${ee.status==="approved"?"bg-emerald-500":"bg-rose-500"}`}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-slate-900",children:ee.status==="approved"?"":""}),u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[ee.approverName," (",ee.role,")"]})]}),ee.comment&&u.jsxs("p",{className:"text-xs text-slate-500 bg-slate-50 p-2 rounded-lg border border-slate-100 italic",children:["",ee.comment,""]}),u.jsx("p",{className:"text-[10px] text-slate-400 font-mono",children:new Date(ee.timestamp).toLocaleString()})]})]},ie)),K.status==="pending"&&u.jsxs("div",{className:"relative pl-8",children:[u.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white shadow-sm bg-amber-500 animate-pulse"}),u.jsxs("p",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:[" ",K.currentStep+1," "]})]})]})]})]}),u.jsxs("div",{className:"w-full md:w-80 bg-slate-50 p-8 md:p-12 border-l border-slate-200 flex flex-col justify-between overflow-y-auto",children:[u.jsxs("div",{className:"space-y-8",children:[u.jsx("button",{onClick:()=>j(null),className:"w-full py-3 bg-white border border-slate-200 rounded-xl text-xs font-black text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-all",children:""}),K.status==="pending"&&u.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest",children:" ()"}),u.jsx("textarea",{className:"w-full bg-white border border-slate-200 rounded-2xl p-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-bold min-h-[120px] text-sm",placeholder:"...",value:O,onChange:ee=>L(ee.target.value)})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsxs("button",{onClick:()=>{o(K.id,"approved",O),j(null)},className:"w-full py-4 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-100 hover:bg-emerald-700 transition-all active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(gd,{size:20})," "]}),u.jsxs("button",{onClick:()=>{o(K.id,"rejected",O),j(null)},className:"w-full py-4 bg-white border-2 border-rose-500 text-rose-500 rounded-2xl font-black hover:bg-rose-50 transition-all active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(rp,{size:20})," "]})]})]})]}),u.jsx("div",{className:"mt-8 text-center text-slate-400",children:u.jsx("p",{className:"text-[10px] font-bold",children:"BuildTrack Workflow v1.0"})})]})]})}),p&&u.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-black text-slate-900",children:w?"":""}),u.jsx("button",{onClick:()=>m(!1),className:"p-2.5 hover:bg-slate-200 rounded-full transition-colors text-slate-400",children:u.jsx(rp,{size:24})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto space-y-8 no-scrollbar",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2 px-1",children:""}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"...",value:(w==null?void 0:w.name)||"",onChange:ee=>y(ie=>({...ie||{id:"",name:"",workflow:[],formFields:[],updatedAt:""},name:ee.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2 px-1",children:""}),u.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 font-bold outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"...",value:(w==null?void 0:w.description)||"",onChange:ee=>y(ie=>({...ie||{id:"",name:"",workflow:[],formFields:[],updatedAt:""},description:ee.target.value}))})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest px-1",children:" ()"}),u.jsxs("div",{className:"space-y-2",children:[((w==null?void 0:w.workflow)||[]).map((ee,ie)=>u.jsxs("div",{className:"flex items-center gap-3 animate-in slide-in-from-left-2",children:[u.jsx("div",{className:"w-8 h-8 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-500 font-extrabold text-xs",children:ie+1}),u.jsxs("select",{className:"flex-1 bg-white border border-slate-200 p-3 rounded-xl font-bold",value:ee,onChange:ue=>{const le=[...(w==null?void 0:w.workflow)||[]];le[ie]=ue.target.value,y(xe=>xe?{...xe,workflow:le}:null)},children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"Admin",children:" (Admin)"}),u.jsx("option",{value:"Manager",children:" (Manager)"}),u.jsx("option",{value:"DeptAdmin",children:" (DeptAdmin)"}),u.jsx("option",{value:"AdminStaff",children:" (AdminStaff)"}),u.jsx("option",{value:"Staff",children:" (Staff)"}),u.jsx("option",{value:"SuperAdmin",children:" (SuperAdmin)"})]}),u.jsx("button",{onClick:()=>{const ue=((w==null?void 0:w.workflow)||[]).filter((le,xe)=>xe!==ie);y(le=>le?{...le,workflow:ue}:null)},className:"p-2 text-rose-400 hover:text-rose-600",children:u.jsx(Ni,{size:16})})]},ie)),u.jsxs("button",{onClick:()=>{const ee=[...(w==null?void 0:w.workflow)||[],""];y(ie=>ie?{...ie,workflow:ee}:{id:"",name:"",workflow:[""],formFields:[],updatedAt:""})},className:"w-full py-3 border-2 border-dashed border-slate-100 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-all flex items-center justify-center gap-2 text-sm",children:[u.jsx(zl,{size:16})," "]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest px-1",children:""}),u.jsxs("div",{className:"space-y-3",children:[((w==null?void 0:w.formFields)||[]).map((ee,ie)=>{var ue;return u.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-2xl flex flex-wrap gap-4 items-end",children:[u.jsx("div",{className:"flex-1 min-w-[150px]",children:u.jsx("input",{className:"w-full bg-white border border-slate-200 p-2 text-xs font-bold rounded-lg",placeholder:" (e.g. )",value:ee.label,onChange:le=>{const xe=[...(w==null?void 0:w.formFields)||[]];xe[ie].label=le.target.value,xe[ie].key=le.target.value,y(ge=>ge?{...ge,formFields:xe}:null)}})}),u.jsxs("select",{className:"bg-white border border-slate-200 p-2 text-xs font-bold rounded-lg",value:ee.type,onChange:le=>{const xe=[...(w==null?void 0:w.formFields)||[]];xe[ie].type=le.target.value,y(ge=>ge?{...ge,formFields:xe}:null)},children:[u.jsx("option",{value:"text",children:""}),u.jsx("option",{value:"number",children:""}),u.jsx("option",{value:"date",children:""}),u.jsx("option",{value:"time",children:""}),u.jsx("option",{value:"select",children:""}),u.jsx("option",{value:"teamMember",children:""})]}),ee.type==="select"&&u.jsx("input",{className:"w-full bg-white border border-slate-200 p-2 text-xs font-bold rounded-lg mt-2",placeholder:" ( e.g. ,)",value:((ue=ee.options)==null?void 0:ue.join(","))||"",onChange:le=>{const xe=[...(w==null?void 0:w.formFields)||[]];xe[ie].options=le.target.value.split(",").map(ge=>ge.trim()).filter(Boolean),y(ge=>ge?{...ge,formFields:xe}:null)}}),u.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-slate-400 pb-2",children:[u.jsx("input",{type:"checkbox",checked:ee.required,onChange:le=>{const xe=[...(w==null?void 0:w.formFields)||[]];xe[ie].required=le.target.checked,y(ge=>ge?{...ge,formFields:xe}:null)}})," "]}),u.jsx("button",{onClick:()=>{const le=((w==null?void 0:w.formFields)||[]).filter((xe,ge)=>ge!==ie);y(xe=>xe?{...xe,formFields:le}:null)},className:"p-2 text-rose-400 hover:text-rose-600 mb-0.5",children:u.jsx(Ni,{size:16})})]},ie)}),u.jsxs("button",{onClick:()=>{const ee=[...(w==null?void 0:w.formFields)||[],{key:"",label:"",type:"text",required:!0}];y(ie=>ie?{...ie,formFields:ee}:{id:"",name:"",workflow:[],formFields:[{key:"",label:"",type:"text",required:!0}],updatedAt:""})},className:"w-full py-3 border-2 border-dashed border-slate-100 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-all flex items-center justify-center gap-2 text-sm",children:[u.jsx(zl,{size:16})," "]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-6 border-t border-slate-100",children:[u.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-black text-sm",children:""}),u.jsxs("button",{onClick:()=>{if(!(w!=null&&w.name))return alert("");s({...w,id:w.id||"TPL-"+Date.now().toString().slice(-4),updatedAt:new Date().toISOString()}),m(!1)},className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black text-sm shadow-xl flex items-center justify-center gap-2",children:[u.jsx(Xp,{size:18})," "]})]})]})]})})]})},aut=({userRole:e})=>{const[t,n]=B.useState([]),[r,i]=B.useState("all"),[s,a]=B.useState({show:!1,message:"",module:null}),[o,l]=B.useState(new Set);if(e!=="SuperAdmin")return u.jsx("div",{className:"p-8 lg:p-12",children:u.jsxs("div",{className:"max-w-2xl mx-auto bg-rose-50 border border-rose-200 rounded-[2rem] p-12 text-center",children:[u.jsx(M2,{size:48,className:"mx-auto text-rose-500 mb-4"}),u.jsx("h2",{className:"text-xl font-black text-rose-900 mb-2",children:""}),u.jsx("p",{className:"text-sm text-rose-600 font-medium",children:""})]})});B.useEffect(()=>(c(),qa.onChange(()=>{c()})),[]);const c=()=>{n(qa.getAllModules())},d=P=>{const U=t.find(L=>L.id===P);if(!U)return;if(U.isCore){a({show:!0,message:"",module:P}),setTimeout(()=>a({show:!1,message:"",module:null}),3e3);return}const O=qa.toggleModule(P,!1);O.success?c():a({show:!0,message:O.message,module:P})},f=P=>{qa.toggleModule(P,!0),a({show:!1,message:"",module:null}),c()},p=P=>{confirm(`${YC[P].name}

${YC[P].description}`)&&(qa.applyPreset(P),c())},m=()=>{const P=qa.exportConfig(),U=new Blob([JSON.stringify(P,null,2)],{type:"application/json"}),O=URL.createObjectURL(U),L=document.createElement("a");L.href=O,L.download=`module-config-${new Date().toISOString().slice(0,10)}.json`,L.click(),URL.revokeObjectURL(O)},w=()=>{const P=document.createElement("input");P.type="file",P.accept="application/json",P.onchange=U=>{var L;const O=(L=U.target.files)==null?void 0:L[0];if(O){const K=new FileReader;K.onload=j=>{var te;try{const G=JSON.parse((te=j.target)==null?void 0:te.result),V=qa.importConfig(G.modules||G);alert(V.message),V.success&&c()}catch{alert("")}},K.readAsText(O)}},P.click()},y=()=>{confirm("")&&(qa.resetToDefault(),c())},C=P=>{const U=new Set(o);U.has(P)?U.delete(P):U.add(P),l(U)},T=qa.getStats(),k=[{id:"all",name:"",count:t.length},{id:"core",name:"",count:t.filter(P=>P.category==="core").length},{id:"management",name:"",count:t.filter(P=>P.category==="management").length},{id:"analytics",name:"",count:t.filter(P=>P.category==="analytics").length},{id:"automation",name:"",count:t.filter(P=>P.category==="automation").length}],R=r==="all"?t:t.filter(P=>P.category===r);return u.jsxs("div",{className:"p-4 lg:p-8 pb-32 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl shadow-lg",children:u.jsx(Ui,{size:24,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl lg:text-3xl font-black text-stone-900 tracking-tight",children:""}),u.jsx("p",{className:"text-xs text-stone-500 font-bold uppercase tracking-widest",children:"Module Configuration"})]})]}),u.jsx("p",{className:"text-sm text-stone-600 font-medium mt-4 leading-relaxed",children:""})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-sm",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:""}),u.jsx("p",{className:"text-3xl font-black text-stone-900",children:T.total})]}),u.jsxs("div",{className:"bg-emerald-50 rounded-3xl p-6 border border-emerald-100",children:[u.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-2",children:""}),u.jsx("p",{className:"text-3xl font-black text-emerald-700",children:T.enabled})]}),u.jsxs("div",{className:"bg-stone-50 rounded-3xl p-6 border border-stone-200",children:[u.jsx("p",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest mb-2",children:""}),u.jsx("p",{className:"text-3xl font-black text-stone-600",children:T.disabled})]}),u.jsxs("div",{className:"bg-orange-50 rounded-3xl p-6 border border-orange-100",children:[u.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-2",children:""}),u.jsx("p",{className:"text-3xl font-black text-orange-700",children:T.core})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] border border-stone-200 shadow-sm p-6 mb-8",children:[u.jsxs("h2",{className:"text-sm font-black text-stone-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(Ui,{size:16,className:"text-orange-500"}),""]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:Object.entries(YC).map(([P,U])=>u.jsxs("button",{onClick:()=>p(P),className:"bg-stone-50 hover:bg-orange-50 border border-stone-200 hover:border-orange-200 rounded-2xl p-4 text-left transition-all group",children:[u.jsx("p",{className:"text-sm font-black text-stone-900 mb-1 group-hover:text-orange-600",children:U.name}),u.jsx("p",{className:"text-[10px] text-stone-500 font-medium leading-relaxed",children:U.description})]},P))})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[u.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-3 bg-white border border-stone-200 rounded-2xl text-xs font-black text-stone-700 hover:bg-stone-50 transition-all shadow-sm",children:[u.jsx(Ip,{size:16}),""]}),u.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-3 bg-white border border-stone-200 rounded-2xl text-xs font-black text-stone-700 hover:bg-stone-50 transition-all shadow-sm",children:[u.jsx(nh,{size:16}),""]}),u.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-3 bg-white border border-stone-200 rounded-2xl text-xs font-black text-stone-700 hover:bg-rose-50 hover:border-rose-200 hover:text-rose-600 transition-all shadow-sm",children:[u.jsx(sp,{size:16}),""]})]}),u.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto no-scrollbar pb-2",children:k.map(P=>u.jsxs("button",{onClick:()=>i(P.id),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest whitespace-nowrap transition-all ${r===P.id?"bg-stone-900 text-white shadow-lg":"bg-white text-stone-600 border border-stone-200 hover:bg-stone-50"}`,children:[P.name," (",P.count,")"]},P.id))}),s.show&&u.jsxs("div",{className:"mb-6 bg-amber-50 border border-amber-200 rounded-2xl p-5 flex items-start justify-between gap-4 animate-in slide-in-from-top-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(xh,{size:20,className:"text-amber-600 shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-black text-amber-900 mb-1",children:""}),u.jsx("p",{className:"text-xs text-amber-700 font-medium",children:s.message})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>s.module&&f(s.module),className:"px-3 py-2 bg-amber-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-700 transition-all",children:""}),u.jsx("button",{onClick:()=>a({show:!1,message:"",module:null}),className:"p-2 text-amber-600 hover:bg-amber-100 rounded-xl transition-all",children:u.jsx(ri,{size:16})})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:R.map(P=>{const U=P.icon,O=o.has(P.id),L=P.dependencies.length>0,K=P.dependencies.map(j=>t.find(te=>te.id===j)).filter(Boolean);return u.jsx("div",{className:`bg-white rounded-3xl border-2 shadow-sm transition-all ${P.enabled?"border-emerald-200 bg-emerald-50/30":"border-stone-100 hover:border-stone-200"}`,children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[u.jsx("div",{className:`p-3 rounded-2xl shrink-0 ${P.enabled?"bg-emerald-500 text-white":"bg-stone-100 text-stone-400"}`,children:u.jsx(U,{size:24})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:"text-lg font-black text-stone-900",children:P.name}),P.isCore&&u.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded-lg text-[9px] font-black uppercase tracking-wider",children:""})]}),u.jsx("p",{className:"text-xs text-stone-500 font-medium leading-relaxed mb-2",children:P.description}),u.jsxs("p",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest",children:[P.category==="core"&&"",P.category==="management"&&"",P.category==="analytics"&&"",P.category==="automation"&&""]})]})]}),u.jsx("button",{onClick:()=>d(P.id),disabled:P.isCore,className:`relative w-14 h-7 rounded-full transition-all shrink-0 ${P.enabled?"bg-emerald-500":"bg-stone-300"} ${P.isCore?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${P.enabled?"translate-x-7":"translate-x-0"} flex items-center justify-center`,children:P.enabled?u.jsx(Ic,{size:12,className:"text-emerald-600"}):u.jsx(ri,{size:12,className:"text-stone-400"})})})]}),L&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-stone-100",children:[u.jsxs("button",{onClick:()=>C(P.id),className:"flex items-center gap-2 text-xs font-bold text-stone-600 hover:text-stone-900 transition-colors w-full",children:[O?u.jsx($oe,{size:14}):u.jsx(ch,{size:14})," (",P.dependencies.length,")"]}),O&&u.jsx("div",{className:"mt-3 space-y-2 animate-in slide-in-from-top-2",children:K.map(j=>j&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${j.enabled?"bg-emerald-500":"bg-stone-300"}`}),u.jsx("span",{className:"font-medium text-stone-700",children:j.name}),!j.enabled&&u.jsx("span",{className:"text-[9px] text-rose-600 font-bold",children:"()"})]},j.id))})]})]})},P.id)})})]})},$C=[{title:"",description:" AI ",icon:Ui,color:"from-indigo-600 to-blue-600"},{title:"",description:"",icon:ew,color:"from-blue-600 to-emerald-600",highlightId:"nav-dashboard"},{title:"AI ",description:" AI  AI  80% ",icon:GE,color:"from-orange-600 to-rose-600",highlightId:"nav-projects"},{title:"",description:"",icon:sle,color:"from-teal-600 to-emerald-700",highlightId:"nav-attendance"},{title:"",description:"/ AI ",icon:Ww,color:"from-blue-700 to-slate-900",highlightId:"nav-analytics"},{title:"",description:" Google Drive",icon:d1,color:"from-sky-500 to-indigo-500",highlightId:"cloud-sync-status"},{title:"",description:"",icon:md,color:"from-indigo-600 to-purple-600"}],out=({isOpen:e,onClose:t})=>{const[n,r]=B.useState(0),[i,s]=B.useState(!1);if(B.useEffect(()=>{e?(s(!0),r(0)):s(!1)},[e]),!e)return null;const a=$C[n],o=n===$C.length-1,l=()=>{o?t():r(d=>d+1)},c=()=>{n>0&&r(d=>d-1)};return u.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 transition-all duration-500 ${i?"opacity-100":"opacity-0"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-stone-900/60 backdrop-blur-sm",onClick:t}),u.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-stone-100 flex",children:$C.map((d,f)=>u.jsx("div",{className:`flex-1 transition-all duration-500 ${f<=n?"bg-indigo-600":""}`},f))}),u.jsx("button",{onClick:t,className:"absolute top-6 right-6 p-2 text-stone-400 hover:text-stone-900 hover:bg-stone-50 rounded-xl transition-all z-10",children:u.jsx(ri,{size:20})}),u.jsxs("div",{className:"p-8 sm:p-12 pt-16",children:[u.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${a.color} rounded-3xl flex items-center justify-center text-white mb-8 shadow-lg transform transition-transform duration-500 hover:rotate-6 sm:mx-auto`,children:u.jsx(a.icon,{size:40})}),u.jsxs("div",{className:"sm:text-center space-y-4",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-stone-900 leading-tight",children:a.title}),u.jsx("p",{className:"text-stone-500 text-sm sm:text-base font-bold leading-relaxed",children:a.description})]}),u.jsxs("div",{className:"mt-12 flex items-center justify-between gap-4",children:[u.jsx("button",{onClick:c,disabled:n===0,className:`p-4 rounded-2xl flex items-center justify-center transition-all ${n===0?"text-stone-200":"text-stone-400 hover:bg-stone-50 hover:text-stone-900"}`,children:u.jsx(BW,{size:24})}),u.jsx("div",{className:"flex gap-2",children:$C.map((d,f)=>u.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${f===n?"w-4 bg-indigo-600":"bg-stone-200"}`},f))}),u.jsxs("button",{onClick:l,className:"px-8 py-4 rounded-2xl bg-stone-900 text-white font-black text-sm flex items-center gap-2 hover:bg-indigo-600 hover:scale-105 active:scale-95 transition-all shadow-lg hover:shadow-indigo-200",children:[o?"":"",o?u.jsx(gd,{size:18}):u.jsx(uh,{size:18})]})]})]}),u.jsx("div",{className:"absolute -bottom-12 -left-12 w-32 h-32 bg-indigo-50 rounded-full blur-3xl opacity-50"}),u.jsx("div",{className:"absolute -top-12 -right-12 w-32 h-32 bg-blue-50 rounded-full blur-3xl opacity-50"})]})]})},lut=({logs:e,onClose:t,onProjectClick:n,onMarkAsRead:r,onMarkAllAsRead:i})=>{const[s,a]=B.useState(""),[o,l]=B.useState("all"),c=B.useMemo(()=>e.filter(w=>{const y=w.action.toLowerCase().includes(s.toLowerCase())||w.targetName.toLowerCase().includes(s.toLowerCase())||w.userName.toLowerCase().includes(s.toLowerCase()),C=o==="all"||w.type===o;return y&&C}),[e,s,o]),d=e.filter(w=>!w.isRead).length,f=w=>{switch(w){case"project":return u.jsx(Cf,{size:14});case"customer":return u.jsx(Jp,{size:14});case"team":return u.jsx(Pu,{size:14});default:return u.jsx(M2,{size:14})}},p=w=>{switch(w){case"project":return"bg-blue-50 text-blue-600";case"customer":return"bg-purple-50 text-purple-600";case"team":return"bg-emerald-50 text-emerald-600";default:return"bg-stone-50 text-stone-600"}},m=w=>{if(!w)return"";try{const y=new Date(w);return isNaN(y.getTime())?"":y.toLocaleString("zh-TW",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})||""}catch{return""}};return u.jsxs("div",{className:"flex flex-col h-full bg-white animate-in slide-in-from-right duration-300",children:[u.jsxs("div",{className:"flex flex-col border-b border-stone-100 shrink-0",children:[u.jsxs("div",{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-xl relative",children:[u.jsx(FW,{size:20}),d>0&&u.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-rose-500 text-white text-[8px] font-black flex items-center justify-center rounded-full border-2 border-white",children:d})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-black text-stone-900 uppercase tracking-widest",children:""}),u.jsx("p",{className:"text-[10px] text-stone-400 font-bold tracking-tight",children:""})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[d>0&&u.jsx("button",{onClick:i,className:"p-2 hover:bg-stone-50 rounded-xl text-stone-400 hover:text-orange-600 transition-all group",title:"",children:u.jsx(Voe,{size:18})}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-stone-50 rounded-xl text-stone-400 transition-colors",children:u.jsx(ri,{size:20})})]})]}),u.jsxs("div",{className:"px-6 pb-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center bg-stone-50 rounded-xl border border-stone-100 px-3 py-2 shadow-inner focus-within:ring-2 focus-within:ring-orange-500/10 transition-all",children:[u.jsx(vh,{size:14,className:"text-stone-400 mr-2"}),u.jsx("input",{className:"bg-transparent text-[11px] font-bold outline-none w-full text-stone-900 placeholder:text-stone-300",placeholder:"...",value:s,onChange:w=>a(w.target.value)})]}),u.jsx("div",{className:"flex gap-1.5 overflow-x-auto no-scrollbar pb-1",children:["all","project","customer","team","system"].map(w=>u.jsx("button",{onClick:()=>l(w),className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border transition-all whitespace-nowrap ${o===w?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-400 border-stone-100 hover:border-stone-200"}`,children:w==="all"?"":w==="project"?"":w==="customer"?"":w==="team"?"":""},w))})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-6 bg-stone-50/20",children:c.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-40 py-20",children:[s||o!=="all"?u.jsx(Ple,{size:48,className:"text-stone-300"}):u.jsx(md,{size:48,className:"text-stone-300"}),u.jsx("p",{className:"text-xs font-black text-stone-500 uppercase tracking-widest",children:s||o!=="all"?"":""})]}):c.map(w=>u.jsxs("div",{onClick:()=>{r(w.id),w.type==="project"&&w.targetId&&n(w.targetId)},className:`group relative flex gap-4 animate-in fade-in slide-in-from-bottom-2 cursor-pointer transition-all ${w.isRead?"":"translate-x-1"}`,children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:w.userAvatar,alt:w.userName,className:`w-10 h-10 rounded-2xl border-2 shadow-md z-10 transition-all ${w.isRead?"border-white":"border-orange-500 ring-4 ring-orange-500/10"}`}),!w.isRead&&u.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full border-2 border-white animate-pulse z-20"})]}),u.jsx("div",{className:"w-0.5 flex-1 bg-stone-100 group-last:hidden my-2"})]}),u.jsxs("div",{className:"flex-1 pb-6 group-last:pb-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:`text-xs font-black transition-colors ${w.isRead?"text-stone-900":"text-orange-600"}`,children:w.userName}),u.jsxs("span",{className:"text-[9px] font-bold text-stone-400 flex items-center gap-1",children:[u.jsx(Ru,{size:10}),m(w.timestamp)]})]}),u.jsxs("div",{className:`p-4 rounded-[1.5rem] transition-all border shadow-sm group-hover:shadow-md ${w.isRead?"bg-white/60 border-stone-100 group-hover:bg-white group-hover:border-stone-200":"bg-white border-orange-100"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${p(w.type)}`,children:f(w.type)}),u.jsx("span",{className:"text-[10px] font-black text-stone-500 uppercase tracking-wider",children:w.action})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs font-bold text-stone-800 leading-tight",children:w.targetName}),u.jsxs("div",{className:"flex items-center gap-1.5 pt-2 text-stone-400 group-hover:text-orange-600 transition-colors",children:[u.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:""}),u.jsx(Np,{size:10,className:"transition-transform group-hover:translate-x-1"})]})]})]})]})]},w.id))}),u.jsx("div",{className:"p-4 bg-stone-50 border-t border-stone-100 text-center shrink-0",children:u.jsx("p",{className:"text-[9px] font-black text-stone-400 uppercase tracking-[0.2em]",children:" 100 "})})]})},cut=()=>{const[e,t]=B.useState(null),[n,r]=B.useState("dashboard"),[i,s]=B.useState(!1),[a,o]=B.useState("all"),[l,c]=B.useState("FirstDept"),[d,f]=B.useState([]),[p,m]=B.useState([]),[w,y]=B.useState([]),[C,T]=B.useState([]),[k,R]=B.useState([]),[P,U]=B.useState([]),[O,L]=B.useState([]),[K,j]=B.useState([]),[te,G]=B.useState([]),[V,re]=B.useState([]),[ee,ie]=B.useState([]),[ue,le]=B.useState([]),xe=B.useMemo(()=>{if(!e)return[];const pe=w.find(me=>me.employeeId.toLowerCase()===e.id.toLowerCase()||me.email&&e.email&&me.email.toLowerCase()===e.email.toLowerCase()||me.name&&e.name&&me.name.toLowerCase()===e.name.toLowerCase());return pe&&Array.isArray(pe.accessibleModules)?pe.accessibleModules:op},[e,w]);B.useEffect(()=>{try{const pe=JSON.parse(localStorage.getItem("bt_leads")||"[]");if(!Array.isArray(pe)||pe.length===0){const me=[{id:"L-1",customerName:"",phone:"0912-345-678",address:"",diagnosis:"",photos:["https://images.unsplash.com/photo-1584622650111-993a426fbf0a?auto=format&fit=crop&q=80&w=800"],timestamp:"2026-01-02 09:30",status:"new"},{id:"L-2",customerName:"",phone:"02-2345-6789",address:"",diagnosis:"",photos:["https://images.unsplash.com/photo-1516714435131-44d6b64dc392?auto=format&fit=crop&q=80&w=800"],timestamp:"2026-01-02 10:15",status:"new"}];U(me),localStorage.setItem("bt_leads",JSON.stringify(me))}else U(pe)}catch(pe){console.error("Leads initialization error",pe),U([])}},[]);const[ge,fe]=B.useState(null),[ce,Q]=B.useState(!1),[Y,X]=B.useState(null),[ne,oe]=B.useState(!1),[Ce,ke]=B.useState(null),[Ne,Ue]=B.useState(!1),[Ye,ve]=B.useState(null),[gt,yt]=B.useState(!1),[Fe,Nt]=B.useState(null),[nt,Ct]=B.useState([]),[lt,Qt]=B.useState(!1),[ot,An]=B.useState(!1),[bn,Cn]=B.useState(!1),[Vn,Sn]=B.useState(!1),[tr,xn]=B.useState(null),[Ht,hn]=B.useState(null),[rn,br]=B.useState(!1),[Tn,ut]=B.useState(!1),[yn,un]=B.useState(null),[cn,or]=B.useState(null),[zn,Kn]=B.useState(new Date().toLocaleTimeString()),[Qn,Hn]=B.useState(!0),[kn,kr]=B.useState(!1),[ei,mi]=B.useState(!1),[ii,Ki]=B.useState(!1),[qn,Di]=B.useState(!1),[ea,xi]=B.useState(localStorage.getItem("GEMINI_API_KEY")||""),[Si,Rr]=B.useState(!1),Yr=B.useMemo(()=>Math.random().toString(36).substring(7),[]);B.useEffect(()=>{const pe=()=>{const ae=Date.now(),Qe="bt_sync_lock",Mt=JSON.parse(localStorage.getItem(Qe)||"{}");!Mt.id||ae-Mt.timestamp>8e3||Mt.id===Yr?(localStorage.setItem(Qe,JSON.stringify({id:Yr,timestamp:ae})),Si||Rr(!0)):Si&&Rr(!1)};pe();const me=setInterval(pe,5e3);return window.addEventListener("beforeunload",()=>{JSON.parse(localStorage.getItem("bt_sync_lock")||"{}").id===Yr&&localStorage.removeItem("bt_sync_lock")}),()=>clearInterval(me)},[Yr,Si]);const Ee=()=>{localStorage.setItem("GEMINI_API_KEY",ea),Ki(!1),alert("AI "),window.location.reload()};B.useEffect(()=>{if(e&&!Qn&&!(localStorage.getItem("bt_onboarding_completed")==="true")){const me=setTimeout(()=>Di(!0),1500);return()=>clearTimeout(me)}},[e,Qn]);const _e=()=>{Di(!1),localStorage.setItem("bt_onboarding_completed","true")};B.useEffect(()=>{if(e&&w.length>0){const pe=w.find(me=>me.employeeId.toLowerCase()===e.id.toLowerCase()||me.email&&e.email&&me.email.toLowerCase()===e.email.toLowerCase());if(pe){const me=e.accessibleModules||[],ae=pe.accessibleModules||[],Qe=[...me].sort().join(",")!==[...ae].sort().join(",");(pe.systemRole!==e.role||pe.name!==e.name||pe.avatar!==e.picture||Qe)&&(console.log("[Session] Auto-updating user session from team data..."),t(Gt=>Gt?{...Gt,role:pe.systemRole,name:pe.name,picture:pe.avatar,accessibleModules:pe.accessibleModules}:null))}}},[w,e==null?void 0:e.id,e==null?void 0:e.role,e==null?void 0:e.name,e==null?void 0:e.picture,e==null?void 0:e.accessibleModules]);const Le=mn.useRef(null),Me=mn.useRef(!1),He=mn.useRef(null),Ve=B.useCallback((pe,me)=>{const ae=[...pe];return me.forEach(Qe=>{const Mt=ae.findIndex(Gt=>Gt.id===Qe.id);if(Mt===-1)ae.push(Qe);else{const Gt=ae[Mt],En=Gt.updatedAt?new Date(Gt.updatedAt).getTime():0;if((Qe.updatedAt?new Date(Qe.updatedAt).getTime():0)>En)if("dailyLogs"in Gt||"workflowLogs"in Gt){const Wn=Gt,wn=Qe,Mn=(Xr=[],Pi=[])=>{const oi=new Map;return[...Xr,...Pi].forEach(Lr=>{(Lr.id||Lr.timestamp||Lr.step)&&oi.set(Lr.id||Lr.timestamp+(Lr.step||""),Lr)}),Array.from(oi.values()).sort((Lr,di)=>new Date(di.timestamp||di.date||di.createdAt||0).getTime()-new Date(Lr.timestamp||Lr.date||Lr.createdAt||0).getTime())};"dailyLogs"in Gt?ae[Mt]={...Qe,dailyLogs:Mn(Wn.dailyLogs,wn.dailyLogs),comments:Mn(Wn.comments,wn.comments),files:Mn(Wn.files,wn.files),expenses:Mn(Wn.expenses,wn.expenses),payments:Mn(Wn.payments,wn.payments),checklist:Mn(Wn.checklist,wn.checklist),workAssignments:Mn(Wn.workAssignments,wn.workAssignments)}:"workflowLogs"in Gt&&(ae[Mt]={...Qe,workflowLogs:Mn(Wn.workflowLogs,wn.workflowLogs)})}else ae[Mt]=Qe}}),ae},[]),At=B.useCallback(pe=>{if(!pe||!Array.isArray(pe))return[];let ae=pe.filter(Mt=>Mt&&typeof Mt=="object"&&(Mt.id||Mt.name)).map(Mt=>{let Gt={...Mt};return Gt.status===""&&(Gt.status=hr.INSPECTION),Gt.dailyLogs||(Gt.dailyLogs=[]),Gt.comments||(Gt.comments=[]),Gt.files||(Gt.files=[]),Gt.phases||(Gt.phases=[]),Gt});const Qe=new Map;return ae.forEach(Mt=>{var Gt;if(!Qe.has(Mt.id))Qe.set(Mt.id,Mt);else{const En=Qe.get(Mt.id),Gn=(Xr=[],Pi=[])=>{const oi=new Map;return[...Xr,...Pi].forEach(Lr=>{Lr.id&&oi.set(Lr.id,Lr)}),Array.from(oi.values()).sort((Lr,di)=>new Date(di.timestamp||di.date).getTime()-new Date(Lr.timestamp||Lr.date).getTime())},Wn=En.updatedAt?new Date(En.updatedAt).getTime():0,Mn=(Mt.updatedAt?new Date(Mt.updatedAt).getTime():0)>Wn?{...Mt}:{...En};Mn.dailyLogs=Gn(En.dailyLogs,Mt.dailyLogs),Mn.comments=Gn(En.comments,Mt.comments),Mn.files=Gn(En.files,Mt.files),Mn.expenses=Gn(En.expenses,Mt.expenses),Mn.checklist=Gn(En.checklist,Mt.checklist),Mn.payments=Gn(En.payments,Mt.payments),o3.some(Xr=>Xr.id===Mt.id)&&En.dailyLogs&&En.dailyLogs.length>(((Gt=Mt.dailyLogs)==null?void 0:Gt.length)||0)&&(Mn.dailyLogs=En.dailyLogs),Qe.set(Mt.id,Mn)}}),Array.from(Qe.values())},[]),Tt=B.useCallback(pe=>{if(!pe)return;const me=At(pe.projects||[]);f(ae=>Ve(ae,me)),m(ae=>Ve(ae,pe.customers||[])),y(ae=>Ve(ae,pe.teamMembers||[])),R(ae=>Ve(ae,pe.vendors||[])),pe.inventory&&L(ae=>Ve(ae,pe.inventory||[])),pe.locations&&Ct(ae=>Ve(ae,pe.locations||[])),pe.purchaseOrders&&j(ae=>Ve(ae,pe.purchaseOrders||[])),pe.attendance&&G(ae=>Ve(ae,pe.attendance||[])),pe.payroll&&re(ae=>Ve(ae,pe.payroll||[])),pe.approvalRequests&&ie(ae=>Ve(ae,pe.approvalRequests||[])),pe.approvalTemplates&&le(ae=>Ve(ae,pe.approvalTemplates||[])),T(ae=>{const Qe=[...pe.activityLogs||[],...ae],Mt=new Set;return Qe.filter(Gt=>Mt.has(Gt.id)?!1:(Mt.add(Gt.id),!0)).slice(0,100)})},[Ve,At]),ft=B.useCallback((pe=!1)=>{(pe||confirm(""))&&(t(null),localStorage.removeItem("bt_user"),f([]),m([]),y([]),R([]),U([]),L([]),j([]),T([]),r("dashboard"),console.log("[System] Logout complete, memory cleared."))},[]),vt=(pe,me,ae)=>{if(!e)return;const Qe=e.id,Mt=!!ae,Gt=ae||new Date().toISOString(),En={id:crypto.randomUUID(),employeeId:Qe,name:e.name,type:pe,timestamp:Gt,location:me,departmentId:e.department==="FirstDept"?"DEPT-4":e.department==="ThirdDept"?"DEPT-8":"DEPT-9"};G(wn=>[...wn,En]),Mt||y(wn=>wn.map(Mn=>Mn.id===e.id||Mn.employeeId===e.id||Mn.name===e.name?{...Mn,status:pe==="work-start"?"Available":"OffDuty",currentWorkStatus:pe==="work-start"?"OnDuty":"OffDuty",updatedAt:new Date().toISOString()}:Mn));const Gn=pe==="work-start"?"":"",Wn=new Date(Gt).toLocaleString("zh-TW",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"});alert(`${Mt?" ":Gn+""}
${Mt?""+Gn:""+(pe==="work-start"?"":"")}
${Wn}
${me.address||"GPS "+me.lat.toFixed(4)}`)},bt=pe=>{ie(me=>[pe,...me]),Un("",pe.title,pe.id,"system")},Xt=pe=>{le(me=>me.find(Qe=>Qe.id===pe.id)?me.map(Qe=>Qe.id===pe.id?pe:Qe):[...me,pe]),Un("",pe.name,pe.id,"system")},an=pe=>{if(confirm("")){const me=ue.find(ae=>ae.id===pe);le(ae=>ae.filter(Qe=>Qe.id!==pe)),me&&Un("",me.name,pe,"system")}},on=(pe,me,ae)=>{if(!e)return;ie(Mt=>Mt.map(Gt=>{if(Gt.id!==pe)return Gt;const En=ue.find(Mn=>Mn.id===Gt.templateId);if(!En)return Gt;const Gn={step:Gt.currentStep,role:En.workflow[Gt.currentStep],approverId:e.id,approverName:e.name,status:me,comment:ae,timestamp:new Date().toISOString()},Wn=Gt.currentStep+1,wn=me==="rejected"||Wn>=En.workflow.length;return{...Gt,status:me==="rejected"?"rejected":wn?"approved":"pending",currentStep:wn?Gt.currentStep:Wn,workflowLogs:[...Gt.workflowLogs,Gn],updatedAt:new Date().toISOString(),completedAt:wn?new Date().toISOString():void 0}})),Un(`${me==="approved"?"":""}`,pe,pe,"system")},fn=mn.useRef(!1);B.useEffect(()=>{e&&!Qn&&!fn.current&&xe.includes(ji.ATTENDANCE)&&(r("attendance"),fn.current=!0),e||(fn.current=!1)},[e,Qn,xe]);const vn=B.useCallback(async()=>{try{await Ks.authenticate("none"),br(!0),un(null);const pe=await Ks.getFileMetadata();if(pe){Le.current=pe.modifiedTime;const me=await Ks.loadFromCloud();me&&(Tt(me),or(new Date().toLocaleTimeString()))}}catch{un("")}},[Tt]),On=B.useCallback(async pe=>{console.log(`[System] Initializing context for: ${pe}`);const me=pe==="ThirdDept"?"dept3_":pe==="FourthDept"?"dept4_":"",ae=pe==="ThirdDept"?"life_quality_system_data_dept3.json":pe==="FourthDept"?"life_quality_system_data_dept4.json":"life_quality_system_data.json";Ks.setFilename(ae);try{const Qe=pe==="FirstDept"?o3:[],Mt=pe==="FirstDept"?Act:[];let Gt=await Cr.getItem(`${me}bt_projects`,Qe);if(pe==="FirstDept"){const Bn=["BNI2601001","BNI2601002","BNI2601004","OC2601005","JW2601003"];try{Gt.length>0&&await Cr.setItem(`${me}bt_projects_backup`,Gt)}catch{}try{Gt=JSON.parse(JSON.stringify(Gt))}catch(it){console.error("Deep clone failed",it)}Gt=Gt.map(it=>{if(Bn.includes(it.id)&&it.deletedAt){const{deletedAt:Lt,...sn}=it;return{...sn,updatedAt:new Date().toISOString()}}return it});const Te=o3.filter(it=>Bn.includes(it.id)&&!Gt.some(Lt=>Lt.id===it.id||Lt.name===it.name));Te.length>0&&(Gt=[...Gt,...JSON.parse(JSON.stringify(Te))])}const En=At(Gt);f(En.map(Bn=>({...Bn,expenses:Bn.expenses||[],workAssignments:Bn.workAssignments||[],files:Bn.files||[],phases:Bn.phases||[],dailyLogs:Bn.dailyLogs||[],checklist:Bn.checklist||[],payments:Bn.payments||[]})));const[Gn,Wn,wn,Mn,Xr,Pi,oi,Lr,di,xo,li,ur]=await Promise.all([Cr.getItem(`${me}bt_customers`,[]),Cr.getItem(`${me}bt_team`,Mt),Cr.getItem(`${me}bt_vendors`,[]),Cr.getItem(`${me}bt_leads`,[]),Cr.getItem(`${me}bt_logs`,[]),Cr.getItem(`${me}bt_inventory`,[]),Cr.getItem(`${me}bt_locations`,[{id:"MAIN",name:"",type:"Main",isDefault:!0}]),Cr.getItem(`${me}bt_orders`,[]),Cr.getItem(`${me}bt_attendance`,[]),Cr.getItem(`${me}bt_payroll`,[]),Cr.getItem(`${me}bt_approval_requests`,[]),Cr.getItem(`${me}bt_approval_templates`,[{id:"TPL-LEAVE",name:"",description:"",workflow:["Manager","AdminStaff"],formFields:[{key:"",label:"",type:"select",options:["","","","","","","",""],required:!0},{key:"startDate",label:"",type:"date",required:!0},{key:"endDate",label:"",type:"date",required:!0},{key:"reason",label:"",type:"text",required:!0}],updatedAt:new Date().toISOString()},{id:"TPL-EXPENSE",name:"",description:"",workflow:["Manager","DeptAdmin","AdminStaff"],formFields:[{key:"",label:"",type:"text",required:!0},{key:"",label:"",type:"number",required:!0},{key:"",label:"",type:"date",required:!0},{key:"",label:"",type:"text",required:!1}],updatedAt:new Date().toISOString()}]).then(Bn=>(Bn.find(Te=>Te.id==="TPL-CORRECTION")||Bn.push({id:"TPL-CORRECTION",name:"",description:"",workflow:["Manager","AdminStaff"],formFields:[{key:"date",label:"",type:"date",required:!0},{key:"time",label:"",type:"time",required:!0},{key:"type",label:"",type:"select",options:["",""],required:!0},{key:"reason",label:"",type:"text",required:!0}],updatedAt:new Date().toISOString()}),Bn))]);m(Gn);let Ji=[...Wn];const gr=["","","","","","","",""],Mc=["T-","CEO"],mr=Ji.length;if(Ji=Ji.filter(Bn=>{const Te=gr.includes(Bn.name),it=typeof Bn.id=="string"&&Mc.some(Lt=>Bn.id.startsWith(Lt)&&Bn.id.length<8);return!Te&&!it}),Ji.length<mr){console.log(`[Migration] Purged ${mr-Ji.length} virtual members. FORCE SAVING...`);const Bn=pe==="FirstDept"?"bt_team":pe==="ThirdDept"?"dept3_bt_team":"bt_team";Cr.saveItem(Bn,Ji)}if(Ji.forEach(Bn=>{Bn.salaryType==="monthly"&&Bn.monthlySalary===void 0&&(Bn.monthlySalary=0),(Bn.salaryType==="daily"||Bn.dailyRate>0)&&!Bn.workStartTime&&(console.log(`[Migration] Setting default work hours for daily worker: ${Bn.name}`),Bn.workStartTime="08:00",Bn.workEndTime="17:00")}),!Ji.some(Bn=>Bn.name===""||Bn.employeeId==="JK001")){Ji.push({id:"JK001",employeeId:"JK001",name:"",role:"",systemRole:"DeptAdmin",departmentId:"DEPT-4",departmentIds:["DEPT-4"],phone:"",email:"",status:"Available",activeProjectsCount:0,avatar:"",specialty:[],certifications:[],joinDate:new Date().toISOString().split("T")[0],salaryType:"monthly",monthlySalary:8e4,dailyRate:0,workStartTime:"09:00",workEndTime:"18:00"}),console.log("[Migration] Emergency restored JK001 ");const Bn=pe==="FirstDept"?"bt_team":pe==="ThirdDept"?"dept3_bt_team":"bt_team";Cr.saveItem(Bn,Ji)}y(Ji.map(Bn=>({...Bn,specialty:Bn.specialty||[],certifications:Bn.certifications||[],departmentIds:Bn.departmentIds||[Bn.departmentId]}))),R(wn),U(Mn),L(Pi),Ct(oi),j(Lr),G(di),re(xo),ie(li),le(ur),T(Xr),kr(!0),Hn(!1),console.log("System initialized successfully");try{await Ks.init(Lse),localStorage.getItem("bt_cloud_connected")==="true"&&await vn()}catch{console.warn("Google SDK ")}}catch(Qe){console.error("Initialization failed",Qe),Hn(!1)}},[At,vn]),Pt=mn.useRef({projects:d,customers:p,teamMembers:w,activityLogs:C,vendors:k,leads:P,inventoryItems:O,inventoryLocations:nt,purchaseOrders:K,attendanceRecords:te,payrollRecords:V,approvalRequests:ee,approvalTemplates:ue});mn.useEffect(()=>{Pt.current={projects:d,customers:p,teamMembers:w,activityLogs:C,vendors:k,leads:P,inventoryItems:O,inventoryLocations:nt,purchaseOrders:K,attendanceRecords:te,payrollRecords:V,approvalRequests:ee,approvalTemplates:ue}},[d,p,w,C,k,P,O,nt,K,te,V,ee,ue]);const Un=B.useCallback((pe,me,ae,Qe)=>{if(!e)return;const Mt={id:Date.now().toString(),userId:e.employeeId||"unknown",userName:e.name,userAvatar:e.picture,action:pe,targetId:ae,targetName:me,type:Qe,timestamp:new Date().toISOString(),isRead:!1};T(Gt=>[Mt,...Gt].slice(0,50))},[e]),ir=B.useCallback(async()=>{if(!(!rn||Me.current||(e==null?void 0:e.role)==="Guest")){Me.current=!0,ut(!0);try{yn===""&&(await Ks.authenticate("none"),un(null));const pe=await Ks.getFileMetadata(!0);if(pe&&Le.current&&pe.modifiedTime!==Le.current){console.log("[Sync] Detected newer cloud version, merging before save...");const Qe=await Ks.loadFromCloud(!0);Qe&&(Tt(Qe),Le.current=pe.modifiedTime)}const me=Pt.current;if(me.projects.length===0&&me.teamMembers.length===0){console.warn("[Sync] Aborted save: Local state appears empty. Preventing cloud overwrite.");return}if(await Ks.saveToCloud({projects:me.projects,customers:me.customers,teamMembers:me.teamMembers,vendors:me.vendors,leads:me.leads,inventory:me.inventoryItems,locations:me.inventoryLocations,purchaseOrders:me.purchaseOrders,attendance:me.attendanceRecords,payroll:me.payrollRecords,approvalRequests:me.approvalRequests,approvalTemplates:me.approvalTemplates,activityLogs:me.activityLogs,lastUpdated:new Date().toISOString(),userEmail:e==null?void 0:e.email},!0)){const Qe=await Ks.getFileMetadata(!0);Qe&&(Le.current=Qe.modifiedTime),or(new Date().toLocaleTimeString()),un(null),(e==null?void 0:e.role)==="SyncOnly"&&setTimeout(()=>{alert(" "),ft(!0)},1500)}else{const Qe=Ks.getLastErrorStatus();un(`(${Qe||"?"})`),Tn&&alert(` (${Qe})`)}}catch(pe){console.error("Cloud sync failed:",pe),pe.message==="AUTH_INTERACTION_REQUIRED"?un(""):un(""),Tn&&pe.message!=="AUTH_INTERACTION_REQUIRED"&&alert("")}finally{Me.current=!1,ut(!1)}}},[rn,e==null?void 0:e.email,e==null?void 0:e.role,d,p,w,k,P,O,nt,K,te,V,C,Tt,yn,ft,ee,ue]),vi=async()=>{if((e==null?void 0:e.role)!=="Guest")try{ut(!0),un(null),await Ks.authenticate("consent"),localStorage.setItem("bt_cloud_connected","true"),br(!0);const pe=await Ks.loadFromCloud();if(pe&&pe.projects&&confirm("")){const me=pe.teamMembers||[];f(pe.projects),m(pe.customers||[]),y(me),T(pe.activityLogs||[]),R(pe.vendors||[]),L(pe.inventory||[]),Ct(pe.locations||[]),j(pe.purchaseOrders||[]),G(pe.attendance||[]),re(pe.payroll||[]),or(new Date().toLocaleTimeString()),await Promise.all([Cr.setItem("bt_projects",pe.projects),Cr.setItem("bt_team",me),Cr.setItem("bt_customers",pe.customers||[]),Cr.setItem("bt_vendors",pe.vendors||[]),Cr.setItem("bt_leads",pe.leads||[]),Cr.setItem("bt_inventory",pe.inventory||[]),Cr.setItem("bt_locations",pe.locations||[]),Cr.setItem("bt_orders",pe.purchaseOrders||[]),Cr.setItem("bt_attendance",pe.attendance||[]),Cr.setItem("bt_payroll",pe.payroll||[]),Cr.setItem("bt_approval_requests",pe.approvalRequests||[]),Cr.setItem("bt_approval_templates",pe.approvalTemplates||[]),Cr.setItem("bt_logs",pe.activityLogs||[])]),(e==null?void 0:e.role)==="SyncOnly"&&setTimeout(()=>{alert(" "),ft(!0)},800)}}catch{un("")}finally{ut(!1)}},ca=async()=>{try{ut(!0);const pe=await Ks.loadFromCloud(!1);if(pe){Tt(pe);const me=await Ks.getFileMetadata(!1);me&&(Le.current=me.modifiedTime),alert(" ")}else alert(" ")}catch{alert("")}finally{ut(!1)}};B.useEffect(()=>{!kn||!e||(e.role!=="Guest"&&(async()=>{const me=l==="ThirdDept"?"dept3_":l==="FourthDept"?"dept4_":"";try{await Promise.all([Cr.setItem(`${me}bt_projects`,d),Cr.setItem(`${me}bt_customers`,p),Cr.setItem(`${me}bt_team`,w),Cr.setItem(`${me}bt_vendors`,k),Cr.setItem(`${me}bt_leads`,P),Cr.setItem(`${me}bt_inventory`,O),Cr.setItem(`${me}bt_locations`,nt),Cr.setItem(`${me}bt_orders`,K),Cr.setItem(`${me}bt_attendance`,te),Cr.setItem(`${me}bt_payroll`,V),Cr.setItem(`${me}bt_approval_requests`,ee),Cr.setItem(`${me}bt_approval_templates`,ue),Cr.setItem(`${me}bt_logs`,C.slice(0,50))]),Kn(new Date().toLocaleTimeString())}catch(ae){console.error("Auto-save failed",ae)}})(),rn&&!yn&&e.role!=="Guest"&&Si&&(He.current&&clearTimeout(He.current),He.current=setTimeout(()=>{ir()},1e4)))},[d,p,w,C,k,rn,yn,kn,ir,e==null?void 0:e.role,P,O,nt,K,te,V,l,ee,ue,Si]),B.useEffect(()=>{if(!rn||(e==null?void 0:e.role)==="Guest"||!kn||!Si)return;const pe=setInterval(async()=>{if(!Me.current)try{const me=await Ks.getFileMetadata(!0);if(me&&me.modifiedTime!==Le.current){console.log("[Heartbeat] Cloud data updated by another user or tab, syncing...");const ae=await Ks.loadFromCloud(!0);ae&&(Tt(ae),Le.current=me.modifiedTime,or(new Date().toLocaleTimeString()))}}catch{console.warn("Heartbeat check failed")}},45e3);return()=>clearInterval(pe)},[rn,e==null?void 0:e.role,kn,Tt,Si]);const Dr=mn.useRef(!1);B.useEffect(()=>{if(Dr.current)return;Dr.current=!0;let pe;return(async()=>{pe=setTimeout(()=>{Hn(!1),console.warn("")},5e3);try{const ae=localStorage.getItem("bt_user");if(ae)try{const Qe=JSON.parse(ae);t(Qe);const Mt=Qe.department||"FirstDept";c(Mt),o(Qe.role==="SuperAdmin"||Qe.role==="Guest"?"all":Qe.departmentId||"DEPT-1"),On(Mt)}catch(Qe){console.error("Saved user parse error",Qe),localStorage.removeItem("bt_user"),Hn(!1)}else Hn(!1)}catch{Hn(!1)}})(),()=>clearTimeout(pe)},[On]),B.useEffect(()=>{const pe=()=>ir(),me=()=>ca();return window.addEventListener("TRIGGER_CLOUD_SYNC",pe),window.addEventListener("TRIGGER_CLOUD_RESTORE",me),()=>{window.removeEventListener("TRIGGER_CLOUD_SYNC",pe),window.removeEventListener("TRIGGER_CLOUD_RESTORE",me)}},[ir,ca]);const yr=(pe,me)=>{if((e==null?void 0:e.role)==="Guest")return;const ae=d.find(Qe=>Qe.id===pe);ae&&Un(`${me} `,ae.name,pe,"project"),f(Qe=>Qe.map(Mt=>Mt.id===pe?{...Mt,status:me,statusChangedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:Mt))},Br=pe=>{T(me=>me.map(ae=>ae.id===pe?{...ae,isRead:!0}:ae))};B.useEffect(()=>{const pe=async()=>{if(!rn){alert(" Google Drive ");return}ut(!0);try{console.warn("STARTING FORCE RESTORE FROM CLOUD...");const me=await Ks.loadFromCloud();me?(f(At(me.projects||[])),m(me.customers||[]),y(me.teamMembers||[]),R(me.vendors||[]),L(me.inventory||[]),Ct(me.locations||[]),setTimeout(async()=>{await Promise.all([Cr.setItem("bt_projects",me.projects||[]),Cr.setItem("bt_customers",me.customers||[]),Cr.setItem("bt_team",me.teamMembers||[]),Cr.setItem("bt_vendors",me.vendors||[]),Cr.setItem("bt_leads",me.leads||[]),Cr.setItem("bt_inventory",me.inventory||[]),Cr.setItem("bt_locations",me.locations||[]),Cr.setItem("bt_orders",me.purchaseOrders||[]),Cr.setItem("bt_attendance",me.attendance||[]),Cr.setItem("bt_payroll",me.payroll||[]),Cr.setItem("bt_approval_requests",me.approvalRequests||[]),Cr.setItem("bt_approval_templates",me.approvalTemplates||[])]),alert(` 

`),window.location.reload()},500)):alert("")}catch(me){console.error("Data Restore Failed",me),alert("")}finally{ut(!1)}};return window.addEventListener("TRIGGER_CLOUD_RESTORE",pe),()=>window.removeEventListener("TRIGGER_CLOUD_RESTORE",pe)},[rn,At]);const wi=(pe,me)=>{if(!e||e.role==="Guest")return;const ae=d.find(Mt=>Mt.id===pe),Qe={id:Date.now().toString(),authorName:e.name,authorAvatar:e.picture,authorRole:e.role==="SuperAdmin"?"":"",text:me,timestamp:new Date().toLocaleString("zh-TW",{hour12:!1})||new Date().toISOString()};ae&&Un("",ae.name,pe,"project"),f(Mt=>Mt.map(Gt=>Gt.id===pe?{...Gt,comments:[Qe,...Gt.comments||[]],updatedAt:new Date().toISOString()}:Gt))},Pe=(pe,me)=>{if(!e||e.role==="Guest")return;d.find(Qe=>Qe.id===pe);const ae={id:Date.now().toString(),date:new Date().toISOString(),content:me.content,photoUrls:me.photoUrls,authorId:e.employeeId||"unknown",authorName:e.name,authorAvatar:e.picture};f(Qe=>Qe.map(Mt=>Mt.id===pe?{...Mt,dailyLogs:[ae,...Mt.dailyLogs||[]],updatedAt:new Date().toISOString()}:Mt))},$e=(pe,me)=>{f(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,checklist:me,updatedAt:new Date().toISOString()}:Qe))},Oe=(pe,me)=>{f(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,payments:me,updatedAt:new Date().toISOString()}:Qe))},st=pe=>{const me=P.find(Qe=>Qe.id===pe);if(!me)return;const ae={id:`AI${new Date().toISOString().slice(2,10).replace(/-/g,"")}${Math.floor(100+Math.random()*900)}`,departmentId:a==="all"?"DEPT-1":a,name:`${me.customerName} - `,category:"",source:"AI",client:me.customerName,referrer:"Tiiny Web App",manager:(e==null?void 0:e.name)||"",startDate:new Date().toISOString().split("T")[0],endDate:"",createdDate:new Date().toISOString().split("T")[0],budget:0,spent:0,progress:0,status:hr.NEGOTIATING,tasks:[],phases:[],checklist:[],payments:[],updatedAt:new Date().toISOString(),inspectionData:{diagnosis:me.diagnosis,suggestedFix:"",originalPhotos:me.photos,aiAnalysis:" v8.1 ",timestamp:me.timestamp},financials:{labor:0,material:0,subcontractor:0,other:0}};f([ae,...d]),U(P.map(Qe=>Qe.id===pe?{...Qe,status:"converted"}:Qe)),Un("",ae.name,ae.id,"project"),r("projects"),fe(ae.id)},rt=()=>{const pe=new Date().toISOString().split("T")[0],ae={id:`TEST-${new Date().getFullYear()}${String(new Date().getMonth()+1).padStart(2,"0")}${String(new Date().getDate()).padStart(2,"0")}-${Math.floor(100+Math.random()*900)}`,departmentId:a==="all"?"DEPT-1":a,name:" - ",category:"",source:"",client:" ()",location:" 123  5 ",manager:(e==null?void 0:e.name)||"",startDate:pe,endDate:new Date(Date.now()+864e5*30).toISOString().split("T")[0],createdDate:pe,budget:12e5,spent:0,progress:15,status:hr.CONSTRUCTING,tasks:[{id:"T-1",title:"",completed:!0,priority:"High",dueDate:pe},{id:"T-2",title:"",completed:!0,priority:"Medium",dueDate:pe},{id:"T-3",title:"",completed:!1,priority:"Medium",dueDate:new Date(Date.now()+864e5*5).toISOString().split("T")[0]}],phases:[{id:"P-1",name:"",startDate:pe,endDate:pe,status:"Completed",progress:100},{id:"P-2",name:"",startDate:pe,endDate:new Date(Date.now()+864e5*3).toISOString().split("T")[0],status:"Current",progress:50},{id:"P-3",name:"",startDate:new Date(Date.now()+864e5*4).toISOString().split("T")[0],endDate:new Date(Date.now()+864e5*10).toISOString().split("T")[0],status:"Upcoming",progress:0}],checklist:[{id:"C-1",category:"",task:"",completed:!0},{id:"C-2",category:"",task:"",completed:!1}],payments:[{id:"PY-1",stage:"",amount:36e4,dueDate:pe,status:"Paid",datePaid:pe},{id:"PY-2",stage:"",amount:36e4,dueDate:new Date(Date.now()+864e5*15).toISOString().split("T")[0],status:"Pending"}],updatedAt:new Date().toISOString(),financials:{labor:0,material:0,subcontractor:0,other:0}};f([ae,...d]),Un("",ae.name,ae.id,"project"),fe(ae.id)},Xe=()=>{T(pe=>pe.map(me=>({...me,isRead:!0})))},jt=d.find(pe=>pe.id===ge),[Zt,en]=B.useState(!1),dt=B.useMemo(()=>{const pe=ae=>ae.isPurged||ae.deletedAt&&!Zt?!1:a==="all"?!0:ae.departmentIds&&Array.isArray(ae.departmentIds)&&ae.departmentIds.length>0?ae.departmentIds.includes(a):ae.departmentId===a,me=ae=>{if(ae.isPurged||ae.deletedAt&&!Zt)return!1;if(a==="all")return!0;const Qe=ae.departmentIds&&Array.isArray(ae.departmentIds)&&ae.departmentIds.length>0?ae.departmentIds:[ae.departmentId];return!!(Qe.includes(a)||Qe.includes("DEPT-1")&&(a==="DEPT-4"||a==="DEPT-8"||a==="DEPT-9"))};return{projects:d.filter(pe),customers:p.filter(pe),teamMembers:w.filter(me),vendors:k.filter(pe)}},[d,p,w,k,a]);return Qn?u.jsxs("div",{className:"h-screen w-screen bg-[#1c1917] flex flex-col items-center justify-center space-y-8 animate-in fade-in",children:[u.jsx("div",{className:"relative",children:u.jsx("img",{src:"./pwa-icon.png",alt:"Loading",className:"w-24 h-24 object-contain animate-pulse"})}),u.jsxs("div",{className:"text-center space-y-3",children:[u.jsx("h2",{className:"text-white font-black text-2xl uppercase tracking-[0.2em]",children:"Quality of Life"}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-bounce"}),u.jsx("p",{className:"text-stone-500 text-[10px] font-black uppercase tracking-[0.2em]",children:"Development Corporation"})]}),u.jsx("button",{onClick:()=>Hn(!1),className:"mt-4 text-stone-600 text-[10px] font-bold underline underline-offset-4 hover:text-orange-500 opacity-50 hover:opacity-100 transition-all",children:" ()"})]})]}):e?e.role==="SyncOnly"?u.jsxs("div",{className:"h-screen w-screen bg-stone-950 flex flex-col items-center justify-center p-8 overflow-hidden font-sans relative",children:[u.jsx("div",{className:"absolute inset-0 bg-stone-900/50 backdrop-blur-3xl z-0"}),u.jsxs("div",{className:"relative z-10 w-full max-w-lg bg-white rounded-[3rem] p-12 shadow-[0_50px_100px_-20px_rgba(0,0,0,0.5)] border border-stone-200",children:[u.jsxs("div",{className:"text-center space-y-4 mb-10",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-500 rounded-[2rem] flex items-center justify-center mx-auto shadow-2xl shadow-emerald-500/20 mb-6",children:u.jsx(d1,{size:40,className:"text-white animate-bounce"})}),u.jsx("h1",{className:"text-3xl font-black text-stone-900 tracking-tight",children:""}),u.jsx("p",{className:"text-stone-500 text-sm font-bold uppercase tracking-widest",children:"Initial Cloud Synchronization"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:`p-6 rounded-3xl border transition-all ${rn?"bg-emerald-50 border-emerald-100":"bg-stone-50 border-stone-200"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${rn?"bg-emerald-500 text-white":"bg-stone-200 text-stone-400"}`,children:rn?u.jsx(u1,{size:24}):u.jsx(d3,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-stone-400 mb-1",children:""}),u.jsx("p",{className:`text-sm font-black ${rn?"text-emerald-700":"text-stone-600"}`,children:rn?" Google Drive":""})]})]}),!rn&&u.jsx("button",{onClick:vi,className:"bg-orange-600 hover:bg-orange-500 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl transition-all active:scale-95",children:""})]})}),rn&&u.jsx("div",{className:"p-6 bg-stone-50 rounded-3xl border border-stone-200 space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center border border-stone-200 shadow-sm",children:u.jsx(sp,{size:24,className:`text-stone-400 ${Tn?"animate-spin":""}`})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-stone-400 mb-1",children:""}),u.jsx("p",{className:"text-sm font-black text-stone-900",children:Tn?"...":cn?`: ${cn}`:""})]})]}),u.jsx("button",{disabled:Tn,onClick:ir,className:"p-3 bg-white border border-stone-200 rounded-2xl text-stone-600 hover:text-orange-600 hover:border-orange-200 transition-all shadow-sm disabled:opacity-50",children:u.jsx(Ip,{size:20})})]})}),yn&&u.jsxs("div",{className:"bg-rose-50 border border-rose-100 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-500",children:[u.jsx(xh,{className:"text-rose-500 shrink-0",size:18}),u.jsx("p",{className:"text-rose-600 text-xs font-bold",children:yn})]})]}),u.jsxs("div",{className:"mt-12 space-y-4",children:[u.jsxs("p",{className:"text-center text-[10px] text-stone-400 font-bold leading-relaxed px-6",children:[" ",u.jsx("br",{}),""]}),u.jsxs("button",{onClick:ft,className:"w-full py-5 bg-stone-900 hover:bg-stone-800 text-white rounded-2xl font-black text-xs uppercase tracking-[0.3em] shadow-2xl shadow-stone-950/20 flex items-center justify-center gap-3",children:["",u.jsx(g3,{size:16})]})]})]})]}):u.jsxs("div",{className:"flex h-screen w-screen bg-[#fafaf9] overflow-hidden print:overflow-visible print:h-auto print:block",children:[i&&u.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[100] lg:hidden animate-in fade-in duration-300",onClick:()=>s(!1)}),u.jsx("div",{className:`fixed inset-y-0 left-0 transform ${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static transition-transform duration-500 z-[101] w-64 h-full shrink-0 print:hidden`,children:u.jsx(Oue,{activeTab:n,setActiveTab:pe=>{r(pe),fe(null),s(!1)},user:{...e,accessibleModules:xe},onMenuClose:()=>s(!1),isSyncing:Tn})}),u.jsxs("main",{className:"flex-1 flex flex-col h-full w-full min-0 relative print:h-auto print:overflow-visible print:block",children:[u.jsxs("header",{className:"h-16 shrink-0 bg-white/80 backdrop-blur-xl border-b border-stone-200 px-4 lg:px-8 flex items-center justify-between no-print z-40",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[u.jsx("button",{onClick:()=>s(!0),className:"lg:hidden p-2 text-stone-600 hover:bg-stone-100 rounded-lg",children:u.jsx(vce,{size:24})}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsxs("div",{className:`flex items-center gap-2 px-2 sm:px-3 py-1.5 rounded-2xl shadow-lg ${e.role==="Guest"?"bg-stone-900 text-orange-400":"bg-stone-900 text-white"}`,children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${e.role==="Guest"?"bg-orange-500":"bg-emerald-400"}`}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden sm:inline",children:e.role==="Guest"?"":"V3.0 SYNC-SHIELD"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest sm:hidden",children:"V3.0"})]}),e.role!=="Guest"&&u.jsx("div",{className:"flex items-center",children:yn?u.jsxs("button",{onClick:vi,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 bg-rose-50 text-rose-600 rounded-2xl border border-rose-200 animate-pulse",children:[u.jsx(xh,{size:14}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.1em] hidden sm:inline",children:yn})]}):rn?u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2.5 px-2 sm:px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-2xl border border-emerald-100 shadow-sm",children:[u.jsxs("div",{className:"relative",children:[u.jsx(u1,{size:14,className:"text-emerald-500"}),Tn&&u.jsx(sp,{size:10,className:"absolute -top-1 -right-1 text-emerald-600 animate-spin bg-white rounded-full p-0.5"})]}),u.jsx("div",{className:"flex flex-col",children:u.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest leading-none hidden sm:inline",children:Tn?"...":""})})]}):u.jsx("button",{onClick:vi,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 bg-stone-100 text-stone-400 rounded-2xl border border-stone-200 hover:text-orange-600",children:u.jsx(d3,{size:14})})})]})]}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[u.jsxs("button",{onClick:()=>mi(!0),className:"relative p-2.5 bg-white text-stone-900 rounded-2xl border border-stone-200 shadow-sm hover:ring-2 hover:ring-orange-100 hover:border-orange-200 transition-all active:scale-95 flex items-center justify-center shrink-0",children:[u.jsx(FW,{size:18,className:"text-stone-600"}),C.length>0&&u.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-orange-600 rounded-full border-2 border-white animate-pulse"})]}),u.jsxs("button",{onClick:()=>Ki(!0),className:"hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-2xl border transition-all hover:scale-105 active:scale-95 bg-emerald-50 text-emerald-700 border-emerald-100 shadow-sm",children:[u.jsx(Ui,{size:12,className:"text-emerald-500"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"AI "})]}),u.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-stone-100 px-3 py-1.5 rounded-xl border border-stone-200",children:[u.jsx(Zv,{size:14,className:"text-stone-400"}),u.jsxs("select",{className:"bg-transparent text-[11px] font-black text-stone-900 outline-none",value:a,onChange:pe=>o(pe.target.value),children:[u.jsx("option",{value:"all",children:""}),cR.map(pe=>u.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]}),u.jsx("button",{onClick:ft,className:"p-2 text-stone-400 hover:text-rose-600 transition-colors",children:u.jsx(g3,{size:20})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto touch-scroll",children:jt?u.jsx(hct,{project:jt,user:e,teamMembers:w,onBack:()=>fe(null),onEdit:pe=>{X(pe),Q(!0)},onDelete:pe=>{confirm("")&&(f(me=>me.map(ae=>ae.id===pe?{...ae,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:ae)),fe(null))},onUpdateStatus:pe=>yr(jt.id,pe),onAddComment:pe=>wi(jt.id,pe),onDeleteComment:pe=>f(me=>me.map(ae=>{var Qe;return ae.id===ge?{...ae,comments:(Qe=ae.comments)==null?void 0:Qe.filter(Mt=>Mt.id!==pe),updatedAt:new Date().toISOString()}:ae})),onUpdateFiles:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,files:pe,updatedAt:new Date().toISOString()}:ae)),onUpdatePhases:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,phases:pe,updatedAt:new Date().toISOString()}:ae)),onAddDailyLog:pe=>Pe(ge,pe),onDeleteDailyLog:pe=>f(me=>me.map(ae=>{var Qe;return ae.id===ge?{...ae,dailyLogs:(Qe=ae.dailyLogs)==null?void 0:Qe.filter(Mt=>Mt.id!==pe),updatedAt:new Date().toISOString()}:ae})),onUpdateChecklist:pe=>$e(ge,pe),onUpdatePayments:pe=>Oe(ge,pe),onUpdateTasks:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,tasks:pe,updatedAt:new Date().toISOString()}:ae)),onUpdateProgress:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,progress:pe,updatedAt:new Date().toISOString()}:ae)),onUpdateExpenses:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,expenses:pe,updatedAt:new Date().toISOString()}:ae)),onUpdateWorkAssignments:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,workAssignments:pe,updatedAt:new Date().toISOString()}:ae)),onUpdatePreConstruction:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,preConstruction:pe,updatedAt:new Date().toISOString()}:ae)),onUpdateContractUrl:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,contractUrl:pe,updatedAt:new Date().toISOString()}:ae)),onUpdateDefectRecords:pe=>f(me=>me.map(ae=>ae.id===ge?{...ae,defectRecords:pe,updatedAt:new Date().toISOString()}:ae)),onLossClick:()=>yr(ge,hr.LOST)}):u.jsxs("div",{className:"p-4 lg:p-8 animate-in fade-in duration-500",children:[n==="attendance"&&u.jsx(eut,{currentUser:{...e,accessibleModules:xe},records:te,onRecord:vt}),n==="payroll"&&u.jsx(iut,{records:te,teamMembers:w,currentUser:e,approvalRequests:ee,onCreateApproval:bt}),n==="approvals"&&qa.isModuleEnabled(ji.APPROVALS)&&u.jsx(sut,{requests:ee,templates:ue,teamMembers:w,currentUser:{...e,accessibleModules:xe},onSaveRequest:bt,onSaveTemplate:Xt,onDeleteTemplate:an,onAction:on}),n==="dashboard"&&!rn&&e.role!=="Guest"&&u.jsxs("div",{className:"mx-4 lg:mx-8 mt-6 p-5 bg-orange-600 text-white rounded-[2rem] shadow-2xl flex items-center justify-between gap-6 animate-in slide-in-from-top-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-white/20 p-3 rounded-2xl",children:u.jsx(ap,{size:28})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-black uppercase tracking-[0.1em]",children:""}),u.jsx("p",{className:"text-[11px] opacity-80 font-bold mt-1",children:" Google Drive"})]})]}),u.jsxs("button",{onClick:vi,className:"bg-white text-orange-600 px-8 py-4 rounded-2xl text-[11px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-stone-50 transition-all flex items-center gap-3",children:[u.jsx(md,{size:16,fill:"currentColor"})," "]})]}),n==="dashboard"&&qa.isModuleEnabled(ji.DASHBOARD)&&u.jsx(xRe,{projects:dt.projects,leads:P,cloudError:yn,lastCloudSync:cn,isMasterTab:Si,onRetrySync:ir,onConvertLead:st,onProjectClick:pe=>{fe(pe),r("projects")},onStartTour:()=>Di(!0),currentDept:l}),n==="projects"&&qa.isModuleEnabled(ji.PROJECTS)&&u.jsx(_We,{projects:dt.projects,user:e,onAddClick:()=>{X(null),Q(!0)},onAddTestClick:rt,onEditClick:pe=>{X(pe),Q(!0)},onDeleteClick:pe=>{if(confirm("")){const me=d.find(ae=>ae.id===pe);me&&Un("",me.name,pe,"project"),f(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:Qe))}},onRestoreClick:pe=>{const me=d.find(ae=>ae.id===pe);me&&Un("",me.name,pe,"project"),f(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,deletedAt:void 0,updatedAt:new Date().toISOString()}:Qe)),alert(" ")},onHardDeleteClick:pe=>{if(confirm("")){const me=d.find(ae=>ae.id===pe);me&&(Un("",me.name,pe,"project"),f(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,isPurged:!0,updatedAt:new Date().toISOString()}:Qe)),alert(" "))}},onDetailClick:pe=>fe(pe.id),onLossClick:()=>{},showDeleted:Zt,onToggleDeleted:en,teamMembers:w,attendanceRecords:te}),n==="settings"&&u.jsx(ict,{user:e,projects:d,customers:p,teamMembers:w,onResetData:()=>{confirm("")&&(localStorage.clear(),window.location.reload())},onImportData:(pe,me="overwrite")=>{try{const ae=typeof pe=="string"?JSON.parse(pe):pe;me==="overwrite"?(ae.projects&&f(ae.projects),ae.customers&&m(ae.customers),ae.teamMembers&&y(ae.teamMembers),ae.vendors&&R(ae.vendors),ae.leads&&U(ae.leads),ae.inventory&&L(ae.inventory),ae.locations&&Ct(ae.locations),ae.purchaseOrders&&j(ae.purchaseOrders),ae.attendance&&G(ae.attendance),ae.payroll&&re(ae.payroll)):(ae.projects&&f(Qe=>Ve(Qe,ae.projects)),ae.customers&&m(Qe=>Ve(Qe,ae.customers||[])),ae.teamMembers&&y(Qe=>Ve(Qe,ae.teamMembers||[])),ae.vendors&&R(Qe=>Ve(Qe,ae.vendors||[])),ae.leads&&U(Qe=>Ve(Qe,ae.leads||[])),ae.inventory&&L(Qe=>Ve(Qe,ae.inventory||[])),ae.locations&&Ct(Qe=>Ve(Qe,ae.locations||[])),ae.purchaseOrders&&j(Qe=>Ve(Qe,ae.purchaseOrders||[])),ae.attendance&&G(Qe=>Ve(Qe,ae.attendance||[])),ae.payroll&&re(Qe=>Ve(Qe,ae.payroll||[]))),alert("")}catch(ae){console.error("Import Failed:",ae),alert(`${ae.message||""}`)}},isCloudConnected:rn,onConnectCloud:vi,onDownloadBackup:()=>{Ks.exportAsFile({projects:d,customers:p,teamMembers:w,vendors:k,leads:P,inventory:O,locations:nt,purchaseOrders:K,attendance:te,payroll:V})},onRestoreLocalBackup:async()=>{try{const pe=await Cr.getItem("bt_projects_backup",[]);pe&&pe.length>0?confirm(` ${pe.length} 

()`)&&(f(pe),await Cr.setItem("bt_projects",pe),alert(` 
`),window.location.reload()):alert("")}catch(pe){console.error("Backup recovery failed",pe),alert("")}},onDisconnectCloud:()=>{br(!1),localStorage.removeItem("bt_cloud_connected")},lastSyncTime:cn}),n==="modules"&&u.jsx(aut,{userRole:e.role}),n==="team"&&qa.isModuleEnabled(ji.TEAM)&&u.jsx(ect,{members:dt.teamMembers,departments:cR,projects:dt.projects,currentUserRole:e.role,onAddClick:()=>{ve(null),Ue(!0)},onEditClick:pe=>{ve(pe),Ue(!0)},onDeleteClick:pe=>{if(confirm("")){const me=w.find(ae=>ae.id===pe);me&&Un("",me.name,pe,"team"),y(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:Qe))}}}),n==="customers"&&qa.isModuleEnabled(ji.CUSTOMERS)&&u.jsx(Xlt,{customers:dt.customers,onAddClick:()=>{ke(null),oe(!0)},onEditClick:pe=>{ke(pe),oe(!0)},onDeleteClick:pe=>{if(confirm("")){const me=p.find(ae=>ae.id===pe);me&&Un("",me.name,pe,"customer"),m(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:Qe))}}}),n==="dispatch"&&qa.isModuleEnabled(ji.DISPATCH)&&u.jsx(Ylt,{projects:dt.projects,teamMembers:dt.teamMembers,onProjectsUpdate:f,onAddDispatch:(pe,me)=>f(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,workAssignments:[me,...Qe.workAssignments||[]],updatedAt:new Date().toISOString()}:Qe)),onDeleteDispatch:(pe,me)=>f(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,workAssignments:(Qe.workAssignments||[]).filter(Mt=>Mt.id!==me),updatedAt:new Date().toISOString()}:Qe))}),n==="analytics"&&qa.isModuleEnabled(ji.ANALYTICS)&&u.jsx(tct,{projects:dt.projects}),n==="inventory"&&qa.isModuleEnabled(ji.INVENTORY)&&u.jsx(xct,{items:O,locations:nt,user:e,onAddClick:()=>{hn(null),Qt(!0)},onEditClick:pe=>{hn(pe),Qt(!0)},onDeleteClick:pe=>{if(confirm("")){const me=O.find(ae=>ae.id===pe);me&&Un("",me.name,pe,"system"),L(ae=>ae.map(Qe=>Qe.id===pe?{...Qe,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:Qe))}},onManageLocations:()=>An(!0),onTransferClick:pe=>xn(pe),onScanClick:()=>Cn(!0),onOrdersClick:()=>Sn(!0)}),n==="vendors"&&qa.isModuleEnabled(ji.VENDORS)&&u.jsxs("div",{className:"p-4 lg:p-8 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-black text-stone-900 tracking-tight",children:""}),["SuperAdmin","Admin","DeptAdmin","AdminStaff","Manager"].includes((e==null?void 0:e.role)||"")&&u.jsx("button",{onClick:()=>{Nt(null),yt(!0)},className:"bg-stone-900 text-white px-4 py-2 rounded-xl text-xs font-black shadow-lg shadow-stone-200 active:scale-95 transition-all",children:"+ "})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[k.map(pe=>u.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"bg-stone-100 px-2 py-0.5 rounded text-[8px] font-black text-stone-500 uppercase",children:pe.id}),["SuperAdmin","Admin","DeptAdmin","AdminStaff","Manager"].includes((e==null?void 0:e.role)||"")&&u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[u.jsx("button",{onClick:()=>{Nt(pe),yt(!0)},className:"text-stone-300 hover:text-blue-600 p-1",children:u.jsx(Mo,{size:14})}),u.jsx("button",{onClick:()=>{window.confirm(` ${pe.name} `)&&R(me=>me.map(ae=>ae.id===pe.id?{...ae,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:ae))},className:"text-stone-300 hover:text-rose-500 p-1",children:u.jsx(Ni,{size:14})})]})]}),u.jsx("h3",{className:"text-lg font-black text-stone-900 mb-1",children:pe.name}),u.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase mb-4 tracking-widest",children:pe.type}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-stone-500",children:[u.jsx(Pu,{size:14})," ",pe.contact]}),pe.phone&&u.jsxs("a",{href:`tel:${pe.phone}`,className:"flex items-center gap-2 text-xs font-medium text-emerald-600 hover:text-emerald-700 hover:underline",children:[u.jsx(Zc,{size:14})," ",pe.phone]}),u.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((me,ae)=>u.jsx(Ui,{size:10,className:ae<pe.rating?"text-amber-400":"text-stone-200"},ae))})]})]},pe.id)),k.length===0&&u.jsxs("div",{className:"col-span-full py-20 bg-stone-50 rounded-[2.5rem] border-2 border-dashed border-stone-100 flex flex-col items-center justify-center text-stone-300 gap-4",children:[u.jsx(h1,{size:48}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]})]}),n==="help"&&u.jsx(sct,{onStartTour:()=>Di(!0)})]})}),!ge&&n==="dashboard"&&u.jsx("div",{className:"fixed bottom-8 right-8 z-[45] flex flex-col items-end gap-3 no-print",children:u.jsxs("div",{className:"bg-white/90 backdrop-blur-2xl border border-stone-200 p-4 rounded-[2rem] shadow-2xl flex items-center gap-6 animate-in slide-in-from-right-12",children:[u.jsxs("div",{className:"flex items-center gap-3 border-r border-stone-100 pr-6",children:[u.jsx(Eu,{size:18,className:"text-emerald-500"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest leading-none",children:""}),u.jsx("span",{className:"text-[10px] font-bold text-stone-900",children:""})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(h3,{size:16,className:"text-emerald-500"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] font-black text-stone-400 uppercase tracking-widest leading-none",children:""}),u.jsx("span",{className:"text-[10px] font-bold text-stone-900",children:zn})]})]})]})}),u.jsx("div",{className:"no-print",children:u.jsx(act,{projects:dt.projects,onAddProject:pe=>{X({id:"",name:pe.name||"",status:hr.NEGOTIATING,progress:0,managers:[],customer:pe.client?{name:pe.client,phone:"",id:"temp"}:void 0,budget:pe.budget||0,description:pe.notes||"",location:pe.location?{address:pe.location}:void 0,categories:[],startDate:new Date().toISOString().split("T")[0]}),Q(!0)},onProjectClick:pe=>{fe(pe),r("projects")}})}),ii&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-md animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"px-8 py-6 bg-stone-900 flex justify-between items-center text-white",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-orange-500 rounded-xl",children:u.jsx(Ui,{size:20,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-lg leading-tight",children:"AI "}),u.jsx("p",{className:"text-[10px] text-orange-200 font-bold uppercase tracking-widest",children:"Gemini API Configuration"})]})]}),u.jsx("button",{onClick:()=>Ki(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(ri,{size:24})})]}),u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-[10px] font-black text-stone-400 uppercase tracking-widest flex justify-between",children:[u.jsx("span",{children:"Gemini API Key"}),u.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:[" ",u.jsx(Dm,{size:10})]})]}),u.jsx("input",{type:"password",placeholder:" API ...",className:"w-full bg-stone-50 border border-stone-200 rounded-2xl px-5 py-4 text-sm font-bold text-black outline-none focus:ring-4 focus:ring-orange-500/10 placeholder:text-stone-300 transition-all font-mono",value:ea,onChange:pe=>xi(pe.target.value)}),u.jsx("p",{className:"text-[10px] text-stone-400 font-bold leading-relaxed px-1",children:" (LocalStorage) GitHub AI "})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:()=>{localStorage.removeItem("GEMINI_API_KEY"),xi(""),alert(""),window.location.reload()},className:"flex-1 py-4 border border-stone-200 text-stone-500 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-stone-50 transition-all",children:""}),u.jsx("button",{onClick:Ee,className:"flex-[2] bg-stone-900 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-stone-100 hover:bg-black active:scale-[0.98] transition-all",children:""})]})]})]})})]}),ce&&e.role!=="Guest"&&u.jsx(oct,{onClose:()=>Q(!1),onConfirm:pe=>{const me={BNI:"BNI",:"FPC",:"SE",:"SY",:"CORP",:"NEW",:"OC",:"AB",JW:"JW",:"MIC",AI:"AI"};if(Y)Un("",pe.name,Y.id,"project"),f(ae=>{const Qe=ae.find(Gn=>Gn.id===Y.id);if(!Qe)return ae;let Mt=Qe.id;if(pe.source&&pe.source!==Qe.source){const Gn=me[Qe.source]||"PJ",Wn=me[pe.source]||"PJ";Mt=Qe.id.replace(Gn,Wn)}const Gt=pe.status!==Qe.status?new Date().toISOString():Qe.statusChangedAt||Qe.updatedAt||Qe.createdDate,En=pe.id&&pe.id!==Y.id?pe.id:Mt;if(En===Y.id)return ae.map(Gn=>Gn.id===Y.id?{...Gn,...pe,statusChangedAt:Gt,updatedAt:new Date().toISOString()}:Gn);{const Gn={...Qe,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Wn={...Qe,...pe,id:En,statusChangedAt:Gt,updatedAt:new Date().toISOString()};return[...ae.map(wn=>wn.id===Y.id?Gn:wn),Wn]}});else{const ae=me[pe.source||"BNI"]||"PJ",Qe=pe.startDate?new Date(pe.startDate):new Date,Mt=Qe.getFullYear().toString().slice(-2),Gt=(Qe.getMonth()+1).toString().padStart(2,"0");let En=1;if(d.length>0){const wn=new RegExp(`^${ae}${Mt}`),Mn=d.filter(Xr=>!Xr.isPurged&&wn.test(Xr.id)).map(Xr=>{const Pi=Xr.id.match(/(\d{3})$/);return Pi?parseInt(Pi[1],10):0}).filter(Xr=>!isNaN(Xr)&&Xr>0&&Xr<1e3);Mn.length>0&&(En=Math.max(...Mn)+1)}const Gn=`${ae}${Mt}${Gt}${En.toString().padStart(3,"0")}`,Wn=pe.id||Gn;Un("",pe.name,Wn,"project"),f(wn=>[{...pe,id:Wn,status:hr.NEGOTIATING,statusChangedAt:new Date().toISOString(),progress:0,workAssignments:[],expenses:[],comments:[],files:[],phases:[],updatedAt:new Date().toISOString()},...wn])}Q(!1)},initialData:Y,teamMembers:w}),ne&&(e==null?void 0:e.role)!=="Guest"&&u.jsx(fct,{onClose:()=>oe(!1),onConfirm:pe=>{if(Ce)Un("",pe.name,Ce.id,"customer"),m(me=>me.map(ae=>ae.id===Ce.id?{...ae,...pe,updatedAt:new Date().toISOString()}:ae));else{const me="C"+Date.now().toString().slice(-6);Un("",pe.name,me,"customer"),m(ae=>[{...pe,id:me,createdDate:new Date().toISOString().split("T")[0],updatedAt:new Date().toISOString()},...ae])}oe(!1),ke(null)},initialData:Ce}),Ne&&(e==null?void 0:e.role)!=="Guest"&&u.jsx(pct,{onClose:()=>{Ue(!1),ve(null)},onConfirm:pe=>{if(Ye)Un("",pe.name,Ye.id,"team"),y(me=>me.map(ae=>ae.id===Ye.id?{...ae,...pe,updatedAt:new Date().toISOString()}:ae));else{const me="T"+Date.now().toString().slice(-6);Un("",pe.name,me,"team"),y(ae=>[{...pe,id:me,status:"Available",activeProjectsCount:0,systemRole:pe.systemRole||"Staff",departmentId:pe.departmentId||"DEPT-1",updatedAt:new Date().toISOString()},...ae])}Ue(!1),ve(null)},initialData:Ye,currentUser:e}),lt&&(e==null?void 0:e.role)!=="Guest"&&u.jsx(mct,{onClose:()=>{Qt(!1),hn(null)},onConfirm:pe=>{const me={...pe,updatedAt:new Date().toISOString()};if(Ht)Un("",pe.name||"",Ht.id,"system"),L(ae=>ae.map(Qe=>Qe.id===Ht.id?{...Qe,...me}:Qe));else{const ae="INV"+Date.now().toString().slice(-6);Un("",pe.name||"",ae,"system"),L(Qe=>[{...me,id:ae,status:"Normal"},...Qe])}Qt(!1),hn(null)},initialData:Ht,availableLocationNames:nt.map(pe=>pe.name),relatedPurchaseOrders:K.filter(pe=>pe.items.some(me=>me.itemId===(Ht==null?void 0:Ht.id))),relatedTransferLogs:C.filter(pe=>pe.targetId===(Ht==null?void 0:Ht.id)&&pe.action==="")}),Vn&&(e==null?void 0:e.role)!=="Guest"&&u.jsx(Jct,{onClose:()=>Sn(!1),orders:K,inventoryItems:O,locations:nt,onSaveOrder:pe=>{j(me=>[pe,...me]),Un("",pe.supplier,pe.id,"system")},onUpdateOrder:pe=>{j(me=>me.map(ae=>ae.id===pe.id?pe:ae)),Un("",pe.supplier,pe.id,"system")},onDeleteOrder:pe=>{const me=K.find(ae=>ae.id===pe);j(ae=>ae.filter(Qe=>Qe.id!==pe)),Un("",(me==null?void 0:me.supplier)||"",pe,"system")},onReceiveItems:(pe,me)=>{const ae=K.find(Gt=>Gt.id===pe);if(!ae)return;const Qe=[...ae.items];let Mt=!1;if(me.forEach(Gt=>{var En;if(!Qe[Gt].received){Qe[Gt].received=!0,Mt=!0;const Gn=Qe[Gt].itemId,Wn=Qe[Gt].quantity,wn=ae.targetWarehouseId,Mn=((En=nt.find(Xr=>Xr.id===wn))==null?void 0:En.name)||"";L(Xr=>Xr.map(Pi=>{var oi;if(Pi.id===Gn){const Lr=(oi=Pi.locations)==null?void 0:oi.findIndex(li=>li.name===Mn);let di=[...Pi.locations||[]];Lr!==void 0&&Lr>=0?di[Lr]={...di[Lr],quantity:Number(di[Lr].quantity)+Wn}:di.push({name:Mn,quantity:Wn});const xo=di.reduce((li,ur)=>li+ur.quantity,0);return{...Pi,quantity:xo,locations:di,updatedAt:new Date().toISOString()}}return Pi}))}}),Mt){const Gt=Qe.every(Gn=>Gn.received),En={...ae,items:Qe,status:Gt?"Completed":"Partial"};j(Gn=>Gn.map(Wn=>Wn.id===pe?En:Wn)),Un("",ae.supplier,ae.id,"system")}}}),ot&&u.jsx(vct,{locations:nt,onClose:()=>An(!1),onAdd:pe=>{const me="LOC"+Date.now().toString().slice(-6);Ct(ae=>[...ae,{...pe,id:me}]),Un("",pe.name,me,"system")},onDelete:pe=>{const me=nt.find(ae=>ae.id===pe);me&&(Ct(ae=>ae.filter(Qe=>Qe.id!==pe)),Un("",me.name,pe,"system"))},onUpdate:pe=>{Ct(me=>me.map(ae=>ae.id===pe.id?pe:ae)),Un("",pe.name,pe.id,"system")}}),tr&&u.jsx(wct,{item:tr,allLocations:nt,onClose:()=>xn(null),onConfirm:(pe,me,ae,Qe)=>{L(Mt=>Mt.map(Gt=>{if(Gt.id!==tr.id)return Gt;const En=[...Gt.locations||[]],Gn=En.findIndex(Mn=>Mn.name===pe);Gn>=0&&(En[Gn]={...En[Gn],quantity:Math.max(0,En[Gn].quantity-ae)});const Wn=En.findIndex(Mn=>Mn.name===me);Wn>=0?En[Wn]={...En[Wn],quantity:En[Wn].quantity+ae}:En.push({name:me,quantity:ae});const wn=En.reduce((Mn,Xr)=>Mn+(Xr.quantity||0),0);return Un("",`${Gt.name} (${ae} ${Gt.unit}) from ${pe} to ${me}`,Gt.id,"inventory"),{...Gt,quantity:wn,locations:En,updatedAt:new Date().toISOString()}})),xn(null)}}),bn&&u.jsx(qct,{inventoryItems:O,locations:nt,onClose:()=>Cn(!1),onConfirm:(pe,me)=>{L(ae=>{let Qe=[...ae];const Mt=[];return pe.forEach(Gt=>{const En=Qe.findIndex(Gn=>Gn.id===Gt.inventoryItem.id);if(En>=0){const Gn=Qe[En],Wn=[...Gn.locations||[]],wn=Wn.findIndex(Pi=>Pi.name===Gt.fromLocation);wn>=0&&(Wn[wn]={...Wn[wn],quantity:Math.max(0,Wn[wn].quantity-Gt.quantity)});const Mn=Wn.findIndex(Pi=>Pi.name===me);Mn>=0?Wn[Mn]={...Wn[Mn],quantity:Wn[Mn].quantity+Gt.quantity}:Wn.push({name:me,quantity:Gt.quantity});const Xr=Wn.reduce((Pi,oi)=>Pi+(oi.quantity||0),0);Qe[En]={...Gn,quantity:Xr,locations:Wn,updatedAt:new Date().toISOString()},Mt.push(`${Gn.name} (${Gt.quantity})`)}}),Mt.length>0&&Un("",` ${me}: ${Mt.join(", ")}`,"BATCH_TRANSFER","inventory"),Qe}),Cn(!1)}}),u.jsx(gct,{isOpen:gt,onClose:()=>{yt(!1),Nt(null)},onSave:pe=>{const me={...pe,updatedAt:new Date().toISOString()};Fe?(Un("",pe.name,Fe.id,"vendor"),R(ae=>ae.map(Qe=>Qe.id===pe.id?me:Qe))):(Un("",pe.name,pe.id,"vendor"),R(ae=>[me,...ae])),yt(!1),Nt(null)},vendor:Fe}),ei&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-[110] animate-in fade-in duration-300",onClick:()=>mi(!1)}),u.jsx("div",{className:"fixed top-0 right-0 bottom-0 w-full max-w-[400px] z-[120] shadow-2xl",children:u.jsx(lut,{logs:C,onClose:()=>mi(!1),onProjectClick:pe=>{fe(pe),mi(!1),r("projects")},onMarkAsRead:Br,onMarkAllAsRead:Xe})})]}),u.jsx(out,{isOpen:qn,onClose:_e})]}):u.jsx(Xct,{onLoginSuccess:(pe,me)=>{Hn(!0);const ae={...pe,department:me};t(ae),c(me);const Qe=me==="ThirdDept"?"DEPT-8":me==="FourthDept"?"DEPT-9":"DEPT-4";o(pe.role==="SuperAdmin"?"all":Qe),localStorage.setItem("bt_user",JSON.stringify(ae)),On(me)}})},Vse=document.getElementById("root");if(!Vse)throw new Error("Could not find root element to mount to");class uut extends mn.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){var t;return this.state.hasError?u.jsxs("div",{style:{padding:"20px",background:"#fff",color:"#000",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"sans-serif"},children:[u.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold"},children:" "}),u.jsx("p",{style:{color:"#666",marginBottom:"10px"},children:""}),u.jsx("pre",{style:{background:"#f0f0f0",padding:"15px",borderRadius:"12px",overflow:"auto",maxWidth:"90%",fontSize:"12px",color:"#d00"},children:(t=this.state.error)==null?void 0:t.toString()}),u.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{marginTop:"30px",padding:"14px 28px",background:"#ea580c",color:"#fff",border:"none",borderRadius:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 12px rgba(234, 88, 12, 0.3)"},children:" (Reset & Fix)"})]}):this.props.children}}const dut=coe.createRoot(Vse);dut.render(u.jsx(mn.StrictMode,{children:u.jsx(uut,{children:u.jsx(cut,{})})}));export{ss as _,DA as c,iu as g};
